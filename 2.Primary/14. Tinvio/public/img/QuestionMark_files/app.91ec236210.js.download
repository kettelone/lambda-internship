!function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);h.length;)h.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=i);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.src=function(e){return a.p+""+({33:"prismModule"}[e]||e)+"."+{33:"af2f4b314a76fc985c91"}[e]+".js"}(e);var l=new Error;s=function(t){r.onerror=r.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",l.name="ChunkLoadError",l.type=i,l.request=s,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(t)},a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/js/",a.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([917,22]),n()}(Array(544).concat([function(e,t,n){"use strict";n.r(t),n.d(t,"OS",(function(){return a})),n.d(t,"BROWSER",(function(){return r})),n.d(t,"DEVICE_TYPES",(function(){return l})),n.d(t,"getOS",(function(){return c})),n.d(t,"cmdKey",(function(){return d})),n.d(t,"ctrlOrWinKey",(function(){return u})),n.d(t,"isCmdPressed",(function(){return h})),n.d(t,"getDevice",(function(){return p})),n.d(t,"getBrowser",(function(){return f})),n.d(t,"isiOS",(function(){return g})),n.d(t,"getAppVersion",(function(){return m})),n.d(t,"toURI",(function(){return b})),n.d(t,"getDevModeShortcut",(function(){return S})),n.d(t,"isMobileViewport",(function(){return y})),n.d(t,"getDownloadLink",(function(){return v}));var i=n(545),o=n(547),s=n(548);const a=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),r=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),l=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function c(){return/iPad|iPhone/.test(navigator.userAgent)?a.IOS:/Android/.test(navigator.userAgent)?a.ANDROID:/Macintosh/.test(navigator.userAgent)?a.MAC:/Windows/.test(navigator.userAgent)?a.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?a.LINUX:a.UNKNOWN}function d(e){return c()===a.MAC?e.metaKey:e.ctrlKey}function u(e){return c()===a.MAC?e.ctrlKey:e.metaKey}function h(e){return e.key===(c()===a.MAC?o.Keyboard.Key.Meta:o.Keyboard.Key.Ctrl)}function p(){return/Mobi/.test(navigator.userAgent)?l.MOBILE:l.DESKTOP}function f(){return/Edg/.test(navigator.userAgent)?r.EDGE:/OPR/.test(navigator.userAgent)?r.OPERA:/Firefox/.test(navigator.userAgent)?r.FIREFOX:/Chrome/.test(navigator.userAgent)?r.CHROME:/Safari/.test(navigator.userAgent)?r.SAFARI:r.UNKNOWN}function g(){return navigator.userAgent.match(/ipad|iphone/i)}function m(){if(!i.isWindowsApp)return s.WEBAPP_VERSION;const[,e="unknown"]=navigator.userAgent.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/)||[];return e}function b(e){if(!e||0===e.length)return null;return e.replace(/^[\\/]|[\\/]$/g,"").replace(/\\/g,"/")}function S(){return c()===a.WINDOWS?"ctrl+Alt+L":"⌘⌥L"}function y(){return window.matchMedia("(max-width: 767px)").matches}function v(){const e=c();return e===a.MAC?"https://zpl.io/download-mac":e===a.WINDOWS?"https://zpl.io/download-windows-64":"https://zpl.io/download"}},function(e,t,n){"use strict";n.r(t),n.d(t,"isWindowsApp",(function(){return o})),n.d(t,"supports",(function(){return s})),n.d(t,"featureValue",(function(){return a}));var i=n(546);const o=!!i.default,s={webviews:o&&"webviews"in i.default.features,SPA:o&&"SPA"in i.default.features,xdPlugin:o&&"xdPlugin"in i.default.features,newFigmaSSOFlow:o&&"newFigmaSSOFlow"in i.default.features,newGoogleSSOFlow:o&&"newGoogleSSOFlow"in i.default.features,newSlackIntegrationFlow:o&&"newSlackIntegrationFlow"in i.default.features,newSSOFlow:o&&"newSSOFlow"in i.default.features};function a(e){return o?i.default.features[e]:null}},function(e,t,n){"use strict";var i;n.r(t),"function"==typeof window.require&&(i=window.require("electron")),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZPLProtocol=t.DragDropTargetPosition=t.CrossAxisAlignmentTypes=t.MainAxisAlignmentTypes=t.AppType=t.PlanUpgradeTrigger=t.ActivePlans=t.PLAN_ORDER=t.PlanGroup=t.WorkspacePlanType=t.BillingPeriod=t.AppRoutes=t.SortTypes=t.ProjectViewTypes=t.DialogTypes=t.WorkspaceTabs=t.Keyboard=t.PlatformString=t.PLATFORM=t.RESOURCE_TYPE=t.DENSITY=t.EXEC_ENV=void 0,t.EXEC_ENV={local:"local",development:"development",test:"test",beta:"beta",production:"production"},t.DENSITY=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4}),t.RESOURCE_TYPE=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"}),function(e){e.BASE="base",e.ANDROID="android",e.IOS="ios",e.OSX="osx",e.MACOS="osx",e.WEB="web"}(t.PLATFORM||(t.PLATFORM={})),t.PlatformString=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"}),t.Keyboard=Object.freeze({Key:{Meta:"Meta",Ctrl:"Control",Enter:"Enter",Escape:"Escape",s:"s",v:"v",Tab:"Tab",ArrowRight:"ArrowRight",ArrowLeft:"ArrowLeft"},Code:{Minus:"Minus",Equal:"Equal"}}),function(e){e.PROJECTS="projects",e.STYLEGUIDES="styleguides"}(t.WorkspaceTabs||(t.WorkspaceTabs={})),function(e){e.TRANSFER="transferOwnership",e.ARCHIVE="archive",e.LEAVE="leave",e.DELETE="delete",e.SELECT_PARENT="selectParent",e.REMOVE_PARENT="removeParent",e.CREATE_PROJECT="createProject",e.CREATE_STYLEGUIDE="createStyleguide",e.UPGRADE_PLAN="upgradePlan",e.RESTRICTED_EDITOR_WARNING="restrictedEditorWarning",e.PREVIEW_PROJECT="previewProject",e.PREVIEW_STYLEGUIDE="previewStyleguide",e.PLAN_CHOOSER="planChooser",e.COPY_BARREL="copyBarrel",e.ASYNC_COPY_BARREL="asyncCopyBarrel"}(t.DialogTypes||(t.DialogTypes={})),t.ProjectViewTypes=Object.freeze({DASHBOARD:"dashboard",STYLEGUIDE:"styleguide",SCREEN:"screen"}),function(e){e.NAME="name",e.CREATED="created",e.UPDATED="updated",e.SECTIONS="sections"}(t.SortTypes||(t.SortTypes={})),function(e){e.Workspace="Workspace",e.Project="Project",e.Styleguide="Styleguide",e.ProjectStyleguide="ProjectStyleguide",e.Screen="Screen",e.ScreenVersion="ScreenVersion",e.Notifications="Notifications"}(t.AppRoutes||(t.AppRoutes={})),function(e){e.ANNUALLY="annual",e.MONTHLY="monthly",e.ETERNAL="eternal"}(t.BillingPeriod||(t.BillingPeriod={})),function(e){e.TEAM="team",e.ORGANIZATION="organization"}(t.WorkspacePlanType||(t.WorkspacePlanType={})),function(e){e.FREE="free",e.TEAM="team",e.ORGANIZATION="organization",e.ENTERPRISE="enterprise"}(t.PlanGroup||(t.PlanGroup={})),t.PLAN_ORDER=Object.freeze({free:0,starter:1,growing:2,team:3,organization:4,enterprise:5}),t.ActivePlans=Object.freeze({TEAM_ANNUAL:"team_annual_unit_price_v1",TEAM_MONTHLY:"team_monthly_unit_price_v1",ORGANIZATION_MONTHLY:"organization_monthly_unit_price_v3",ORGANIZATION_ANNUAL:"organization_annual_unit_price_v4"}),function(e){e.VERSION_LIMIT="versionLimit",e.USER_LIMIT="userLimit",e.PROJECT_LIMIT="projectLimit",e.STYLEGUIDE_LIMIT="styleguideLimit",e.VARIANT_GROUP_LIMIT="variantGroupLimit"}(t.PlanUpgradeTrigger||(t.PlanUpgradeTrigger={})),function(e){e.WEB_APP="webApp",e.MAC_APP="macApp",e.WINDOWS_APP="windowsApp"}(t.AppType||(t.AppType={})),function(e){e.center="center",e.min="start",e.max="end",e["space-between"]="space evenly"}(t.MainAxisAlignmentTypes||(t.MainAxisAlignmentTypes={})),function(e){e.center="center",e.min="start",e.max="end",e.stretch="stretch",e.inherit="mixed"}(t.CrossAxisAlignmentTypes||(t.CrossAxisAlignmentTypes={})),function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(t.DragDropTargetPosition||(t.DragDropTargetPosition={})),function(e){e.zplDebug="zpl-debug:",e.zplTest="zpl-test:",e.zplMelon="zpl-melon:",e.zplWatermelon="zpl-watermelon:",e.zplKiwi="zpl-kiwi:",e.zplBeta="zpl-beta:",e.zpl="zpl:"}(t.ZPLProtocol||(t.ZPLProtocol={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ENV",(function(){return i})),n.d(t,"WEB_URL",(function(){return o})),n.d(t,"APP_URL",(function(){return s})),n.d(t,"BASE_URL",(function(){return a})),n.d(t,"IMG_URL",(function(){return r})),n.d(t,"CDN_URL",(function(){return l})),n.d(t,"SCENE_URL",(function(){return c})),n.d(t,"EXTENSIONS_WEB_URL",(function(){return d})),n.d(t,"PUSHER_URL",(function(){return u})),n.d(t,"PUSHER_URL_V2",(function(){return h})),n.d(t,"SHORTLINK_URL",(function(){return p})),n.d(t,"APP_URLS",(function(){return f})),n.d(t,"PUBLIC_API_URL",(function(){return g})),n.d(t,"CLI_CLIENT_ID",(function(){return m})),n.d(t,"ZEM_CLIENT_ID",(function(){return b})),n.d(t,"TRELLO_CLIENT_ID",(function(){return S})),n.d(t,"JIRA_CLIENT_ID",(function(){return y})),n.d(t,"JIRA_ATL_ORIGIN_TOKEN",(function(){return v})),n.d(t,"VSCODE_CLIENT_ID",(function(){return O})),n.d(t,"FIGMA_CLIENT_ID",(function(){return C})),n.d(t,"FIGMA_LOGIN_CLIENT_ID",(function(){return E})),n.d(t,"FIGMA_AUTH_LOGIN_REDIRECT_URI",(function(){return T})),n.d(t,"FIGMA_AUTH_SIGNUP_REDIRECT_URI",(function(){return _})),n.d(t,"FIGMA_AUTH_UNLINK_REDIRECT_URI",(function(){return P})),n.d(t,"EMBED_CLIENT_ID",(function(){return I})),n.d(t,"ZPL_PROTOCOL",(function(){return j})),n.d(t,"INTERCOM_APP_ID",(function(){return D})),n.d(t,"GOOGLE_CLIENT_ID",(function(){return k})),n.d(t,"GOOGLE_AUTH_LOGIN_REDIRECT_URI",(function(){return R})),n.d(t,"GOOGLE_AUTH_SIGNUP_REDIRECT_URI",(function(){return A})),n.d(t,"GOOGLE_AUTH_UNLINK_REDIRECT_URI",(function(){return w})),n.d(t,"GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI",(function(){return N})),n.d(t,"GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI",(function(){return L})),n.d(t,"SLACK_CLIENT_ID",(function(){return M})),n.d(t,"SLACK_SCOPE",(function(){return x})),n.d(t,"SLACK_AUTH_URL",(function(){return U})),n.d(t,"INTEGRATION_JIRA_URL",(function(){return B})),n.d(t,"INTEGRATION_TEAMS_URL",(function(){return V})),n.d(t,"INTEGRATION_TRELLO_URL",(function(){return z})),n.d(t,"FIREBASE_API_KEY",(function(){return F})),n.d(t,"FIREBASE_PROJECT_ID",(function(){return W})),n.d(t,"FIREBASE_APP_ID",(function(){return H})),n.d(t,"FIREBASE_MESSAGING_SENDER_ID",(function(){return G})),n.d(t,"MIXPANEL_MASTER_API_TOKEN",(function(){return $})),n.d(t,"GA_TRACKING_ID",(function(){return q})),n.d(t,"AD_CONVERSION_ID",(function(){return Z})),n.d(t,"SIGN_UP_CONVERSION",(function(){return K})),n.d(t,"ORG_PURCHASE_CONVERSION",(function(){return Y})),n.d(t,"ENT_INQUORY_CONVERSION",(function(){return J})),n.d(t,"TEAM_PURCHASE_CONVERSION",(function(){return X})),n.d(t,"STRIPE_PUBLISHABLE_KEY",(function(){return Q})),n.d(t,"SENTRY_DSN",(function(){return ee})),n.d(t,"SENTRY_ENVIRONMENT",(function(){return te})),n.d(t,"SENTRY_RELEASE",(function(){return ne})),n.d(t,"PUSHER_ACCESS_KEY",(function(){return ie})),n.d(t,"USER_CHANNEL_PREFIX",(function(){return oe})),n.d(t,"PROJECT_CHANNEL_PREFIX",(function(){return se})),n.d(t,"STYLEGUIDE_CHANNEL_PREFIX",(function(){return ae})),n.d(t,"ORGANIZATION_CHANNEL_PREFIX",(function(){return re})),n.d(t,"COOKIE_DOMAIN",(function(){return le})),n.d(t,"SECURE_COOKIE",(function(){return ce})),n.d(t,"S3_BUCKET",(function(){return de})),n.d(t,"WEBAPP_VERSION",(function(){return ue})),n.d(t,"FLAG_REMOVE_TEST_ID",(function(){return he})),n.d(t,"FLAG_USE_CONSOLE_LOGGER",(function(){return pe})),n.d(t,"FLAG_NEW_PUSHER_AUTH",(function(){return fe}));const i="production",o="https://zeplin.io",s="https://app.zeplin.io",a="https://api.zeplin.io",r="https://img.zeplin.io",l="https://cdn.zeplin.io",c="https://scene.zeplin.io",d="https://extensions.zeplin.io",u="https://pusher.zeplin.io/v1/auth",h="https://pusher.zeplin.io/v2/auth",p="https://zpl.io",f="https://app.zeplin.io,https://beta.zeplin.io".split(","),g="https://api.zeplin.dev",m="5dd27af376f8bf5094f6ebe6",b="5bbc983af6c410493afb03f1",S="59dfedff7c722575736b3e8d",y="5dc3d464b94b22000d3834d0",v="eyJpIjoiZThlMzc5Y2FhZjQ4NDhhYzk3ZDgxMGY5ZDhmYTExNTkiLCJwIjoiamlyYS16ZXBsaW4taW50In0",O="5dc51cd876f8bf00163de1e5",C="5f16c22ce92f41f029ff9593",E="BGBq9gsydDcp750jScX7NV",T="https://app.zeplin.io/auth/figma/login",_="https://app.zeplin.io/auth/figma/signup",P="https://app.zeplin.io/auth/figma/unlink",I="603e27cd0d0f5dad87e79642",j="zpl:",D="41ycdg94",k="572614822654-ghfhpjmi208r3tcia7ff0tu8p0fg7vdh.apps.googleusercontent.com",R="https://app.zeplin.io/auth/google/login",A="https://app.zeplin.io/auth/google/signup",w="https://app.zeplin.io/auth/google/unlink",N="https://app.zeplin.io/auth/google/setupsso",L="https://app.zeplin.io/auth/google/removesso",M="2330702581.8730394641",x="incoming-webhook,emoji:read,links:read,links:write",U="https://slack.com/oauth/authorize",B="https://zpl.io/jira",V="https://zpl.io/zeplin-teams-app",z="https://trello.com/power-ups/59e0018ea9b5b298bbe8f8ef",F="AIzaSyAJ7h6d1DnbtYRlODr_FZhw8loCsu7n9H8",W="zeplin-8d650",H="1:290381624317:web:0f6a4fd50c15b00d401f94",G="290381624317",$="26bd4a3dcc47c8a293c60fa00656fb81",q="UA-51352708-8",Z="AW-851228751",K="HZhrCKmI8b0CEM_w8pUD",Y="JA_4CO64gb4CEM_w8pUD",J="XVsoCNjYgb4CEM_w8pUD",X="ds-ICNfigr4CEM_w8pUD",Q="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",ee="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039",te="production",ne="12.43.0",ie="12ddd9afec9f9b421244",oe="private-user@",se="private-project@",ae="private-styleguide@",re="private-organization@",le=".zeplin.io",ce=!0,de="zeplin",ue="12.43.0",he="true",pe="",fe=!0},function(e,t,n){"use strict";n.r(t);var i=n(33),o=n.n(i),s=n(548);const a=new class{constructor(){const e=s.SECURE_COOKIE?"none":"lax";o.a.defaults={domain:s.COOKIE_DOMAIN,expires:365,secure:s.SECURE_COOKIE,sameSite:e}}get(e){return o.a.get(e)}set(e,t,n={}){o.a.set(e,t,n)}remove(e){o.a.remove(e)}},r=localStorage.getItem("userTokenUpgraded"),l=a.get("userToken");!r&&l&&(a.set("userToken",l),localStorage.setItem("userTokenUpgraded","true")),t.default=a},,function(e,t,n){"use strict";n.r(t),n.d(t,"userPrefs",(function(){return b})),n.d(t,"barrelPrefs",(function(){return S})),n.d(t,"extensionPrefs",(function(){return y})),n.d(t,"organizationPrefs",(function(){return v}));var i=n(32),o=n.n(i),s=n(547);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:s.SortTypes.CREATED,styleguidesTabVisited:!1,styleguidesUsed:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,zeplinThreeZeroWhatsNewSeen:!1,noVectorAssetInfoHidden:!1,sourceFileInfoHidden:!1,lastOrganization:"user",pinnedBarrelOnce:!1,dashboardMemberSortKey:{field:"role",reverse:!0},componentVariantsOnboardingDialogSeen:!1,componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0,resolvedDotsTutorialSeen:!1,screenVariantsOnboardingSeen:!1,noScreensDesignToolSelection:"figma",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,densityMismatchWarningHidden:!1,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,shouldPromoteExportDesignTokens:!0,shouldDisplayInvitedUserHintbox:!0,shouldDisplayDashboardOnboardingHintbox:!0,recentlyLoadedBarrels:{projects:[],styleguides:[]},upgradeForMoreRolesHintboxHidden:!1,offerReminderNextDate:null,activitiesSidebarWidth:260,activitiesShowProjectsWithUpdatesOnly:!0},d={assetDensityScalePrefs:null,assetNamingConvention:"default",dashboardSidebarWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,noteStatusFilter:"open",noteColorFilter:null,collapsedSections:{},showOptimizedSVG:!0,showOptimizedPNG:!0,showOptimizedJPG:!0,slackReconnectionAuntieSeen:!1,versionsSidebarWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:null,androidResFolderReminderSeen:!1},u={projectSortType:s.SortTypes.SECTIONS,collapsedSections:{},dialogDismissStates:{}};let h,p,f,g;function m(){h=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"userPrefs",version:1}),p=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"projectPrefs",version:1}),f=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"extensionPrefs",version:1}),g=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"organizationPrefs",version:1})}m();const b={getAll(){var e=c;return h.iterate(((t,n)=>{e[n]=t})).then((()=>e))},get:e=>h.getItem(e).then((t=>null===t?c[e]:t)),set:(e,t)=>h.setItem(e,t),remove:e=>h.removeItem(e)},S={getAll:e=>p.getItem(e).then((e=>r(r(r({},d),e),{},{collapsedSections:e&&"collapsedSections"in e&&e.collapsedSections?e.collapsedSections:{}}))),get:(e,t,n)=>p.getItem(e).then((e=>!e||!(t in e)||n&&!(n in e[t])?n?d[n]:d[t]:e&&"collapsedSections"===t&&"collapsedSections"in e&&!e.collapsedSections?d.collapsedSections:n?e[t][n]:e[t])),set:(e,t,n,i)=>p.getItem(e).then((o=>(o||(o={}),i?(o[t]||(o[t]={}),o[t][n]=i,p.setItem(e,o)):(o[t]=n,p.setItem(e,o)))))},y={get:(e,t,n)=>f.getItem(e).then((e=>e&&t in e?n?e[t][n]:e[t]:null)),set:(e,t,n,i)=>f.getItem(e).then((o=>(o||(o={}),o[t]||(o[t]={}),o[t][n]=i,f.setItem(e,o)))),remove:e=>f.removeItem(e)},v={getAll:e=>g.getItem(e).then((e=>r(r({},u),e))),get:(e,t,n)=>g.getItem(e).then((e=>!e||!(t in e)||n&&!(n in e[t])?n?u[n]:u[t]:n?e[t][n]:e[t])),set:(e,t,n,i)=>g.getItem(e).then((o=>(o||(o={}),void 0===i?(o[t]=n,g.setItem(e,o)):(o[t]||(o[t]={}),o[t][n]=i,g.setItem(e,o)))))};function O(e){return function(...t){return e(...t).catch((()=>(m(),e(...t))))}}S.get=O(S.get),S.set=O(S.set),b.get=O(b.get),b.set=O(b.set),y.get=O(y.get),y.set=O(y.set),v.get=O(v.get),v.set=O(v.set)},,function(e,t,n){"use strict";function i(e){const{email:t,fullName:n}=e;return n||t}function o(e,t){return t?e:""}function s(e,t){return t?e?`${e}, @${t}`:`@${t}`:""}function a(e){const{privacyPreferences:t}=e;return!t||!t.trackingOptOut.value}function r(e){return new Set(e.reduce(((e,{users:t})=>e.concat(t.map((({user:{_id:e}})=>e)))),[])).size}n.r(t),n.d(t,"getUserDisplayName",(function(){return i})),n.d(t,"getHandleText",(function(){return o})),n.d(t,"getHandleTextForSearch",(function(){return s})),n.d(t,"shouldTrackUser",(function(){return a})),n.d(t,"getUniqueMembersCountFromBarrels",(function(){return r}))},,,,,function(e,t){const n=document.querySelectorAll("input[type='text'], input[type='email'], input[type='password'], textarea"),i=document.querySelectorAll(".showPasswordCheckbox");Array.from(n).forEach((e=>{const t=e.closest(".inputArea");t&&(e.addEventListener("focus",(()=>{t.classList.add("focus")})),e.addEventListener("blur",(()=>{t.classList.remove("focus")})),t.classList.toggle("typed",!!e.value.length),e.value&&t.classList.toggle("invalid",!e.validity.valid),e.addEventListener("input",(()=>{t.classList.toggle("typed",!!e.value.length)})))})),Array.from(i).forEach((e=>{e.addEventListener("change",(()=>{e.parentElement.parentElement.querySelector("input").type=e.checked?"text":"password"}))}))},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return a}));var i=n(22);n.d(t,"polyfill",(function(){return i.default}));var o=n(548);function s(e){const t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),s=document.createElement("form"),a=document.createElement("button"),r=document.createElement("div"),l=document.createElement("div");if(e&&e.img){const n=document.createElement("div");n.classList.add("iconContainer"),r.appendChild(n),function(e,t){let n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):(n=document.createElement("img"),n.src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!o.FLAG_REMOVE_TEST_ID&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),r.appendChild(n),i.classList.add("message"),r.appendChild(i),e&&e.input){r.classList.add("inputDialogContainer");const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("input");t.classList.add("inputContainer"),n.classList.add("subtitle"),n.textContent=e.input.title,i.type=e.input.type,t.appendChild(n),t.appendChild(i),s.appendChild(t)}if(e&&e.cancel){const t=document.createElement("button");t.classList.add("cancel"),t.type="submit",t.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&t.addEventListener("click",e.cancel.cb),l.appendChild(t)}return a.classList.add("done"),a.type="submit",a.autofocus=!0,a.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&a.addEventListener("click",e.done.cb),l.appendChild(a),l.classList.add("buttonContainer"),s.appendChild(l),s.setAttribute("method","dialog"),r.appendChild(s),t.appendChild(r),document.querySelector("body").appendChild(t),t}function a(e,t){if(document.querySelector("dialog.generic")&&!e)return;const n=e&&e.title||"",o=e&&e.message||"We're experiencing a problem. Please try again and if the problem persists, contact us at support@zeplin.io.";let a=!1;if(t&&"defer"in t&&(a=t.defer),a)return void sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:o}));const r=s(e);i.default.registerDialog(r),r.querySelector(".title").textContent=n;const l=r.querySelector(".message"),{contentType:c="text"}=t||{};switch(c){case"html":l.innerHTML=o;break;case"text":default:l.textContent=o}t&&t.hideMessage&&r.querySelector(".message").classList.add("hidden"),r.addEventListener("click",(e=>{e.stopPropagation()})),r.addEventListener("close",(()=>{r.remove()})),e||r.classList.add("generic"),r.showModal()}const r=JSON.parse(sessionStorage.getItem("deferredDialog"));r&&(sessionStorage.removeItem("deferredDialog"),a(r))},,function(e,t,n){"use strict";n.r(t),n.d(t,"createError",(function(){return c})),n.d(t,"handleError",(function(){return d}));var i=n(34),o=n(562),s=n(563),a=n(549),r=n(559),l=n(548);function c(e,t={}){return e>=400&&e<500?new o.default(e,t.title,t.message):e>=500&&e<600?new s.default(e):new Error("We're experiencing a problem. Please try again and if the problem persists, contact us at support@zeplin.io.")}function d(e,t){var n={title:e.title,message:e.message};if(l.FLAG_USE_CONSOLE_LOGGER&&console.error(e),e instanceof s.default)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.create(n)):r.create(n);else if(e instanceof o.default)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(d=t.clientErrorHandler[401]))return void d();a.default.remove("userToken"),localStorage.removeItem("user"),i.configureScope((e=>e.setUser(null))),r.create({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&i.captureException(e),t)if("clientErrorHandler"in t){var c=t.clientErrorHandler;if("function"==typeof c)c(e);else if("object"==typeof c){var d;"function"==typeof(d=c[e.status])?d(e):"default"in c&&c.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.create(n);else r.create(n);else if(i.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.FLAG_REMOVE_TEST_ID?null:{testid:"genericErrorDialog"};r.create(e)}}},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem. Please try again and if the problem persists, contact us at support@zeplin.io."}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.default=i},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem. Please try again and if the problem persists, contact us at support@zeplin.io."}}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"show",(function(){return o})),n.d(t,"closeBanner",(function(){return s}));var i=document.getElementById("bannerTemplate");function o(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector(`.${e.group}Banner`))return;t.classList.add(`${e.group}Banner`)}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",(e=>{e.stopPropagation()})),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",(n=>{n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()})),e.bodyCallbacks)for(var o in e.bodyCallbacks)t.querySelector(o).addEventListener("click",e.bodyCallbacks[o]);e.container?e.container.appendChild(t):document.body.appendChild(t)}function s(e){const t=document.querySelector(`.${e}Banner`);t&&t.remove()}},function(e,t,n){"use strict";n.r(t);var i=n(546),o=n(545),s=n(566),a=n(689),r=n(695),l=n(698),c=n(699);n(700);function d({showBadge:e,appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i},{withResetAppZoomFactor:o=!1}={}){return[Object(s.default)(),Object(a.default)(),Object(r.default)(e,o),Object(l.default)(),Object(c.default)({appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i})]}o.isWindowsApp&&(i.default.ipcRenderer.on("get-menu-template-v1",((e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v1",{menuTemplate:d(t)})})),i.default.ipcRenderer.on("get-menu-template-v2",((e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v2",{menuTemplate:d(t,{withResetAppZoomFactor:!0})})})))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(567),o=n.n(i),s=n(681),a=n(682),r=n(683),l=n.n(r),c=n(590),d=n.n(c);const u=/^\/login/;function h(e){const{[`${e}s`]:t}=o.a.RecentlyLoadedBarrelsStore.getState(),n=e===d.a.PROJECT?a.default.OPEN_RECENT_PROJECT_SUBMENU:a.default.OPEN_RECENT_STYLEGUIDE_SUBMENU,i=e===d.a.PROJECT?a.default.OPEN_RECENT_PROJECT:a.default.OPEN_RECENT_STYLEGUIDE;return{label:"Open recent",id:n,enabled:t.length>0,submenu:t.map((({_id:e,name:t})=>({id:`${i}.${e}`,label:t})))}}function p(){const{selectedTab:e}=o.a.SpaceStore.getState(),{barrelId:t,barrelType:n}=o.a.BarrelStore.getState(),i=!t&&"projects"===e||t&&n===d.a.PROJECT,r=!t&&"styleguides"===e||t&&n===d.a.STYLEGUIDE;return u.test(location.pathname)?new s.default({id:a.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:a.default.NEW_PROJECT,enabled:!1,accelerator:"CmdOrCtrl+N"},{label:"Open recent",id:a.default.OPEN_RECENT_PROJECT_SUBMENU,enabled:!1}]}):i?new s.default({id:a.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:a.default.NEW_PROJECT,enabled:l.a.canCreateProject(),accelerator:"CmdOrCtrl+N"},h(d.a.PROJECT)]}):r?new s.default({id:a.default.STYLEGUIDE_SUBMENU,label:"Styleguide",submenu:[{label:"New styleguide",id:a.default.NEW_STYLEGUIDE,enabled:l.a.canCreateStyleguide(),accelerator:"CmdOrCtrl+N"},h(d.a.STYLEGUIDE)]}):new s.default({id:a.default.PROJECT_SUBMENU,label:"Project",enabled:!1})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(8),s=i(n(568)),a=i(n(574)),r=i(n(577)),l=i(n(588)),c=i(n(591)),d=i(n(593)),u=i(n(613)),h=i(n(615)),p=i(n(616)),f=i(n(627)),g=i(n(629)),m=i(n(646)),b=i(n(647)),S=i(n(649)),y=i(n(651)),v=i(n(654)),O=i(n(657)),C=i(n(658)),E=i(n(659)),T=i(n(660)),_=i(n(662)),P=i(n(663)),I=i(n(665)),j=i(n(667)),D=i(n(668)),k=i(n(671)),R=i(n(673)),A=i(n(674)),w=i(n(676)),N=i(n(679));t.default=new class{constructor(){this.dispatcher=new o.Dispatcher}initializeStores(e){e?e(this):(this.ActivitiesViewStore=new s.default(this.dispatcher),this.AppStore=new a.default(this.dispatcher),this.AppsStore=new r.default(this.dispatcher),this.BarrelStore=new l.default(this.dispatcher),this.DashboardStore=new c.default(this.dispatcher),this.DotStatesStore=new A.default(this.dispatcher),this.EmojisStore=new w.default(this.dispatcher),this.ExtensionsStore=new d.default(this.dispatcher),this.MoveResourcesStore=new u.default(this.dispatcher),this.NotificationsStore=new h.default(this.dispatcher),this.OrganizationStore=new p.default(this.dispatcher),this.OrganizationBillingStore=new f.default(this.dispatcher),this.ProjectsDataStore=new g.default(this.dispatcher),this.RecentlyLoadedBarrelsStore=new m.default(this.dispatcher),this.ComponentVariantStore=new b.default(this.dispatcher),this.DotsStore=new S.default(this.dispatcher),this.ScreenStore=new y.default(this.dispatcher),this.SlackPreferencesStore=new v.default(this.dispatcher),this.StyleguideStore=new T.default(this.dispatcher),this.StyleguidesDataStore=new _.default(this.dispatcher),this.SpaceStore=new O.default(this.dispatcher),this.WorkspaceScrollStore=new C.default(this.dispatcher),this.ProjectSelectionStore=new E.default(this.dispatcher),this.SupportButtonStore=new P.default(this.dispatcher),this.TeamsIntegrationStore=new I.default(this.dispatcher),this.UserStore=new k.default(this.dispatcher),this.VersionImportsStore=new j.default(this.dispatcher),this.WebhooksDataStore=new D.default(this.dispatcher),this.AssetsStore=new R.default(this.dispatcher),this.WorkspaceSettingsStore=new N.default(this.dispatcher))}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(569)),a=i(n(570)),r=i(n(571)),l=i(n(572)),c=i(n(573));class d extends o.default{constructor(e){super(e)}getInitialState(){return{loading:!0,selectedOrganizationId:"user",category:a.default.All,barrelSelection:{type:"all"},projectsWithUpdatesOnly:!0,dotsLoaded:!1,selectedEventIds:[],autoSelect:!1}}setLoading(e){return Object.assign(Object.assign({},e),{loading:!0})}resetSelection(e){return Object.assign(Object.assign({},e),{selectedId:void 0,selectedEventIds:[],dotsLoaded:!1})}resetSelectionAndNoteFilters(e){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilter:void 0,color:void 0,memberId:void 0,sectionId:void 0}))}load(e,{data:t}){return Object.assign(Object.assign(Object.assign({},t.selectedOrganizationId===e.selectedOrganizationId?e:this.getInitialState()),t),{loading:!1})}select(e,{activity:t,eventIds:n,options:{reselect:i,autoSelect:o}}){return i?Object.assign(Object.assign({},e),{autoSelect:o}):Object.assign(Object.assign({},e),{selectedId:t._id,selectedEventIds:n,dotsLoaded:!1,autoSelect:o})}setDotsLoaded(e,{activity:t}){return e.selectedId===t._id?Object.assign(Object.assign({},e),{dotsLoaded:!0}):e}selectCategory(e,{category:t}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{category:t}))}selectAllBarrels(e){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{type:"all"}}))}selectBarrel(e,{id:t,isPinned:n,barrelType:i}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{id:t,isPinned:n,type:i}}))}setProjectsWithUpdatesOnly(e,{projectsWithUpdatesOnly:t}){return Object.assign(Object.assign({},e),{projectsWithUpdatesOnly:t})}selectNoteStatusFilter(e,{noteStatusFilter:t}){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilter:t}))}selectColor(e,{color:t}){return this.resetSelection(Object.assign(Object.assign({},e),{color:t}))}selectMember(e,{memberId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{memberId:t}))}selectSection(e,{sectionId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{sectionId:t}))}setSidebarWidth(e,{sidebarWidth:t}){return Object.assign(Object.assign({},e),{sidebarWidth:t})}saveListScrollData(e,{listScrollData:t}){return Object.assign(Object.assign({},e),{listScrollData:t})}checkSelectionOnEventDeleted(e,{nid:t,eventId:n}){const{selectedId:i,selectedEventIds:o}=e;return i===t&&o.includes(n)?this.resetSelection(e):e}reduce(e,t){switch(t.type){case r.default.SET_PAGE:return this.setLoading(e);case s.default.Load:return this.load(e,t);case s.default.Select:return this.select(e,t);case s.default.SetDotsLoaded:return this.setDotsLoaded(e,t);case s.default.SelectCategory:return this.selectCategory(e,t);case s.default.SelectAllBarrels:return this.selectAllBarrels(e);case s.default.SelectBarrel:return this.selectBarrel(e,t);case s.default.SetProjectsWithUpdatesOnly:return this.setProjectsWithUpdatesOnly(e,t);case s.default.SelectNoteStatusFilter:return this.selectNoteStatusFilter(e,t);case s.default.SelectColor:return this.selectColor(e,t);case s.default.SelectMember:return this.selectMember(e,t);case s.default.SelectSection:return this.selectSection(e,t);case s.default.SetSidebarWidth:return this.setSidebarWidth(e,t);case s.default.SaveListScrollData:return this.saveListScrollData(e,t);case l.default.GetNotificationsSuccess:case c.default.MUTE_PROJECT_NOTIFICATIONS:case c.default.MUTE_STYLEGUIDE_NOTIFICATIONS:case c.default.UNMUTE_PROJECT_NOTIFICATIONS:case c.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS:return this.resetSelection(e);case l.default.DeleteEvent:return this.checkSelectionOnEventDeleted(e,t);default:return e}}}t.default=d},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Select="activities/select",e.SetDotsLoaded="activities/setDotsLoaded",e.SelectCategory="activities/selectCategory",e.SelectAllBarrels="activities/selectAllBarrels",e.SelectBarrel="activities/selectBarrel",e.SetProjectsWithUpdatesOnly="activities/setProjectsWithUpdatesOnly",e.Load="activities/load",e.SelectNoteStatusFilter="activities/selectNoteStatusFilter",e.SelectColor="activities/selectColor",e.SelectMember="activities/selectMember",e.SelectSection="activities/selectSection",e.RequestRelatedUsers="activities/requestRelatedUsers",e.SetSidebarWidth="activities/setSidebarWidth",e.SaveListScrollData="activities/saveListScrollData"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.All="All",e.Note="Note",e.Screen="Screen",e.Styleguide="Styleguide",e.Other="Other"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_WORKSPACE_DATA="app/loadWorkspaceData",e.RESET="app/reset",e.HYDRATE_EMBEDDED_DATA="app/hydrateEmbeddedData",e.INIT_RECENTLY_LOADED_BARRELS="app/initRecentlyLoadedBarrels",e.RESET_BACK_BUTTON="app/resetBackButton",e.SET_BACK_BUTTON="app/setBackButton",e.SET_SHORTLINK="app/setShortlink",e.SET_PAGE="app/setPage",e.SSO_TOKEN_EXPIRED="app/ssoTokenExpired",e.UNSET_SSO_TOKEN_EXPIRED="app/unsetSSOTokenExpired",e.LOGIN_SSO="app/loginSSO"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AddNotification="notifications/addNotification",e.GetNotificationsRequested="notifications/getNotificationsRequested",e.GetNotificationsSuccess="notifications/getNotificationsSuccess",e.GetNotificationsFailed="notifications/getNotificationsFailed",e.MarkAllAsRead="notifications/markAllAsRead",e.RestoreReadStatus="notifications/restoreNotificationReadStatus",e.SetReadStatusOffline="notifications/setReadStatusOffline",e.SetReadStatusOfflineByNotifications="notifications/setReadStatusOfflineByNotifications",e.SetEventReadStatus="notifications/setEventReadStatus",e.SetEventReadStatusOffline="notifications/setEventReadStatusOffline",e.DeleteEvent="notifications/deleteEvent"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_USER="user/loadUser",e.UPDATE_USER="user/updateUser",e.SET_SELECTED_VIEW="user/setSelectedView",e.MUTE_PROJECT_NOTIFICATIONS="user/muteProjectNotifications",e.MUTE_STYLEGUIDE_NOTIFICATIONS="user/muteStyleguideNotifications",e.UNMUTE_PROJECT_NOTIFICATIONS="user/unmuteProjectNotifications",e.UNMUTE_STYLEGUIDE_NOTIFICATIONS="user/unmuteStyleguideNotifications",e.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN="user/markZeplinThreeZeroWhatsNewAsSeen",e.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON="user/stopPromotingSpacingSectionDescriptionEditButton",e.HIDE_STYLEGUIDE_TUTORIAL="user/hideStyleguideTutorial",e.HIDE_INVITED_USER_HINTBOX="user/hideInvitedUserHintbox",e.HIDE_DASHBOARD_ONBOARDING_HINTBOX="user/hideDashboardOnboardingHintbox",e.STOP_PROMOTING_EXPORT_DESIGN_TOKENS="user/stopPromotingExportDesignTokens",e.ACQUAINTANCES_REQUESTED="user/acquaintancesRequested",e.SET_ACQUAINTANCES="user/setAcquaintances",e.GET_ACQUAINTANCES_FAILED="user/getAcquaintancesFailed",e.SET_USER_ATTRIBUTE="user/setUserAttribute",e.TERMINATE_SESSION="user/terminateSession"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(571)),a=i(n(575)),r=i(n(576));class l extends o.default{getInitialState(){return{config:null,backButtonLabel:null,backButtonLink:null,page:"workspace",ssoTokenExpired:""}}reset(e){return Object.assign(Object.assign({},this.getInitialState()),{config:e.config})}resetBackButton(e){return Object.assign(Object.assign({},e),{backButtonLabel:null,backButtonLink:null})}setBackButton(e,{label:t,link:n}){return Object.assign(Object.assign({},e),{backButtonLabel:t,backButtonLink:n})}updateForUpdateComponent(e,{coid:t,componentData:n}){if(!("name"in n))return e;const{backButtonLink:i}=e;if(!i)return e;return t!==new URL(i).searchParams.get("coid")?e:Object.assign(Object.assign({},e),{backButtonLabel:n.name})}updateForRemoveComponent(e,{coid:t}){const{backButtonLink:n}=e;if(!n)return e;return t!==new URL(e.backButtonLink).searchParams.get("coid")?e:this.resetBackButton(e)}updateForUpdateScreenName(e,{sid:t,name:n}){const{backButtonLink:i}=e;return i&&i.endsWith(t)?Object.assign(Object.assign({},e),{backButtonLabel:n}):e}updateForRemoveScreen(e,{sid:t}){const{backButtonLink:n}=e;return n&&n.endsWith(t)?this.resetBackButton(e):e}setPage(e,{page:t}){return Object.assign(Object.assign({},e),{page:t})}setConfig(e,{config:t}){return Object.assign(Object.assign({},e),{config:t})}ssoTokenExpired(e,{frequency:t}){return Object.assign(Object.assign({},e),{ssoTokenExpired:t})}unsetSSOTokenExpired(e){return Object.assign(Object.assign({},e),{ssoTokenExpired:""})}reduce(e,t){switch(t.type){case s.default.HYDRATE_EMBEDDED_DATA:return this.setConfig(e,t);case s.default.RESET:return this.reset(e);case s.default.RESET_BACK_BUTTON:return this.resetBackButton(e);case s.default.SET_BACK_BUTTON:return this.setBackButton(e,t);case s.default.SET_PAGE:return this.setPage(e,t);case s.default.SSO_TOKEN_EXPIRED:return this.ssoTokenExpired(e,t);case s.default.UNSET_SSO_TOKEN_EXPIRED:return this.unsetSSOTokenExpired(e);case a.default.UPDATE_COMPONENT:return this.updateForUpdateComponent(e,t);case a.default.REMOVE_COMPONENT:return this.updateForRemoveComponent(e,t);case r.default.UPDATE_NAME:return this.updateForUpdateScreenName(e,t);case r.default.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}t.default=l},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="barrel/reset",e.LOAD="barrel/load",e.SET_ORGANIZATION_ID="barrel/setOrganizationId",e.CHANGE_SELECTED_VIEW="barrel/changeSelectedView",e.ADD_TO_SLACK="barrel/addToSlack",e.AUTHENTICATE_SLACK_INTEGRATION="barrel/authSlack",e.AUTHENTICATE_SLACK_INTEGRATION_FAILED="barrel/authSlackFailed",e.AUTHENTICATED_SLACK_INTEGRATION="barrel/authenticatedSlackIntegration",e.ADD="barrel/add",e.ACTIVATE="barrel/activate",e.ARCHIVE="barrel/archive",e.REMOVE="barrel/remove",e.COPY="barrel/copy",e.UPDATE_NAME="barrel/updateName",e.UPDATE_DESCRIPTION="barrel/updateDescription",e.UPDATE_DENSITY_SCALE="barrel/updateDensityScale",e.UPDATE_THUMBNAIL="barrel/updateThumbnail",e.ADD_INTEGRATION="barrel/addIntegration",e.REMOVE_INTEGRATION="barrel/removeIntegration",e.ADD_MEMBERS="barrel/addMembers",e.UPDATE_USER_ROLE="barrel/updateUserRole",e.UPDATE_USER_DATA="barrel/updateUserData",e.TRANSFER_OWNERSHIP="barrel/transferOwnership",e.OWNERSHIP_TRANSFERRED="barrel/ownershipTransferred",e.REMOVE_MEMBER="barrel/removeMember",e.ADD_COLOR="barrel/addColor",e.ADD_MULTIPLE_COLORS="barrel/addMultipleColors",e.UPDATE_COLOR="barrel/updateColor",e.REMOVE_COLOR="barrel/removeColor",e.REMOVE_ALL_COLORS="barrel/removeAllColors",e.MIGRATE_COLORS="barrel/migrateColors",e.UPDATE_COLOR_ORDER="barrel/updateColorOrder",e.ADD_TEXT_STYLE="barrel/addTextStyle",e.ADD_MULTIPLE_TEXT_STYLES="barrel/addMultipleTextStyles",e.UPDATE_TEXT_STYLE="barrel/updateTextStyle",e.REMOVE_TEXT_STYLE="barrel/removeTextStyle",e.REMOVE_ALL_TEXT_STYLES="barrel/removeAllTextStyles",e.ADD_SPACING_SECTION="barrel/addSpacingSection",e.UPDATE_SPACING_SECTION="barrel/updateSpacingSection",e.REMOVE_SPACING_SECTION="barrel/removeSpacingSection",e.ADD_SPACING_TOKEN="barrel/addSpacingToken",e.UPDATE_SPACING_TOKEN="barrel/updateSpacingToken",e.REMOVE_SPACING_TOKEN="barrel/removeSpacingToken",e.UPDATE_REM_PREFERENCES="barrel/updateRemPreferences",e.ADD_COMPONENT="barrel/addComponent",e.UPDATE_COMPONENT="barrel/updateComponent",e.REMOVE_COMPONENT="barrel/removeComponent",e.SET_COMPONENT_SNAPSHOT="barrel/setComponentSnapshot",e.ADD_COMPONENT_VERSION="barrel/addComponentVersion",e.UPDATE_COMPONENTS_ORDER="barrel/updateComponentsOrder",e.ADD_COMPONENT_SECTION="barrel/addComponentSection",e.UPDATE_COMPONENT_SECTION="barrel/updateComponentSection",e.MERGE_COMPONENT_SECTION="barrel/mergeComponentSection",e.REMOVE_COMPONENT_SECTION="barrel/removeComponentSection",e.REMOVE_COMPONENT_SECTIONS="barrel/removeComponentSections",e.UPDATE_COMPONENT_SECTIONS_ORDER="barrel/updateComponentSectionsOrder",e.COPY_COMPONENT_SECTION_WEB_LINK="barrel/copyComponentSectionWebLink",e.COPY_COMPONENT_SECTION_APP_URI="barrel/copyComponentSectionAppURI",e.FETCH_COMPONENT_SECTION_SHORT_LINK="barrel/fetchComponentSectionShortLink",e.GO_TO_DASHBOARD="barrel/goToDashboard",e.GO_TO_STYLEGUIDE="barrel/goToStyleguide",e.SET_ASSET_EXPORT_TARGET="barrel/setAssetExportTarget",e.CHANGE_ASSET_NAME="barrel/changeAssetName",e.CHANGE_ASSET_DENSITY_SCALE_PREF="barrel/changeAssetDensityScalePref",e.CHANGE_ASSET_NAMING_CONVENTION="barrel/changeAssetNamingConvention",e.TOGGLE_SVG_OPTIMIZATION="barrel/toggleSVGOptimization",e.TOGGLE_PNG_OPTIMIZATION="barrel/togglePNGOptimization",e.TOGGLE_JPG_OPTIMIZATION="barrel/toggleJPGOptimization",e.CHANGE_EXPORT_TARGET="barrel/changeExportTarget",e.OPEN_EXPORT_TARGET="barrel/openExportTarget",e.DOWNLOAD_ASSET="barrel/downloadAsset",e.DOWNLOAD_MULTIPLE_ASSET="barrel/downloadMultipleAsset",e.EXPORT_CODE="barrel/exportCode",e.COPY_CODE="barrel/copyCode",e.HIDE_NO_VECTOR_ASSET_INFO="barrel/hideNoVectorAssetInfo",e.HIDE_DENSITY_MISMATCH_WARNING="barrel/hideDensityMismatchWarning",e.HIDE_SOURCE_FILE_INFO="barrel/hideSourceFileInfo",e.DISMISS_FLOW_LINK_INFO="barrel/dismissFlowLinkInfo",e.DISMISS_NO_RESOURCE_INFO="barrel/dismissNoResourceInfo",e.HIDE_SLACK_RECONNECTION_AUNTIE="barrel/hideSlaclReconnectionAuntie",e.OPEN_JUMP_TO_POPUP="barrel/openJumpToPopup",e.CLOSE_JUMP_TO_POPUP="barrel/closeJumpToPopup",e.TOGGLE_SCENE="barrel/toggleScene",e.JOIN="barrel/join",e.STOP_JOIN_LOADING="barrel/stopLoadingJoin",e.MOVE_RESOURCES_REQUEST="barrel/moveResourcesRequest",e.MOVE_RESOURCES_SUCCESS="barrel/moveResourcesSuccess",e.MOVE_RESOURCES_FAIL="barrel/movesResourcesFail",e.ATTACH_JIRA_ISSUE="barrel/attachJiraIssue",e.REMOVE_JIRA_ISSUE_ATTACHMENT="barrel/removeJiraIssueAttachment",e.ENABLE_DEV_MODE="barrel/enableDevMode",e.DISABLE_DEV_MODE="barrel/disableDevMode",e.SET_LOCAL_CONNECTED_COMPONENTS="barrel/setLocalConnectedComponents",e.RELOAD_LOCAL_CONNECTED_COMPONENTS="barrel/reloadLocalConnectedComponents",e.UPDATE_CONNECTED_COMPONENTS="barrel/updateConnectedComponents",e.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE="barrel/setConnectedComponentsLocalWorkspace",e.GET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/getConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/setConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE="barrel/setConnectedComponentsEditorPreference",e.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER="barrel/selectConnectedComponentsWorkspaceFolder",e.OPEN_COMPONENT_FILE_IN_EDITOR="barrel/openComponentFileInEditor",e.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH="barrel/setConnectedComponentsWorkspacePath",e.UPDATE_WORKFLOW_STATUS="barrel/updateWorkflowStatus",e.UPDATE_WORKFLOW_STATUSES="barrel/updateWorkflowStatuses",e.DELETE_WORKFLOW_STATUS="barrel/deleteWorkflowStatus",e.DELETE_WORKFLOW_STATUSES="barrel/deleteWorkflowStatuses",e.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED="barrel/highlightedConnectToCodeButtonViewed",e.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN="barrel/markConnectedComponentsOnboardingDialogAsSeen"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN_SCREEN="screen/openScreen",e.SELECT_LAYER="screen/selectLayer",e.DESELECT_LAYER="screen/deselectLayer",e.ENTER_LAYER="screen/enterLayer",e.LEAVE_LAYER="screen/leaveLayer",e.ENABLE_PERCENTAGE_MODE="screen/enablePercentageMode",e.DISABLE_PERCENTAGE_MODE="screen/disablePercentageMode",e.ADD_SCREEN="screen/addScreen",e.ADD_SCREEN_TILES="screen/addScreenTiles",e.UPDATE_DESCRIPTION="screen/updateDescription",e.UPDATE_NAME="screen/updateName",e.REMOVE_SCREEN="screen/removeScreen",e.OPEN_TAG_MANAGER="screen/openTagManager",e.CLOSE_TAG_MANAGER="screen/closeTagManager",e.UPDATE_TAGS="screen/updateTags",e.OPEN_SOURCE_FILE="screen/openSourceFile",e.OPEN_SOURCE_FOLDER="screen/openSourceFolder",e.OPEN_POPOUT="screen/openPopout",e.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX="screen/hideComponentVariantsOnboardingHintbox",e.HIDE_IMAGE_PROCESSING_HINTBOX="screen/hideImageProcessingHintbox",e.SET_DOTS="screen/setDots",e.SELECT_DOT="screen/selectDot",e.SAVE_NOTE="screen/saveNote",e.CLOSE_DOT_POPUP="screen/closeDotPopup",e.CHANGE_DOT_FILTER="screen/changeDotFilter",e.DOTS_FLASHED="screen/dotsFlashed",e.UNHIGHLIGHT_COMMENT="screen/unhighlightComment",e.ADD_DOT="screen/addDot",e.UPDATE_DOT="screen/updateDot",e.UPDATE_DOT_COLOR="screen/updateDotColor",e.UPDATE_DOT_POSITION="screen/updateDotPosition",e.UPDATE_DOT_STATUS="screen/updateDotStatus",e.REMOVE_DOT="screen/removeDot",e.CREATE_COMMENT="screen/createComment",e.ADD_COMMENT="screen/addComment",e.UPDATE_COMMENT="screen/updateComment",e.REMOVE_COMMENT="screen/removeComment",e.OPEN_DOT_MENU="screen/openDotMenu",e.CLOSE_DOT_MENU="screen/closeDotMenu",e.CHANGE_ZOOM_LEVEL="screen/changeZoomLevel",e.ZOOM_IN="screen/zoomIn",e.ZOOM_OUT="screen/zoomOut",e.RESET_ZOOM="screen/resetZoom",e.ZOOM_APPLIED="screen/zoomApplied",e.START_GESTURE="screen/startGesture",e.ZOOM_WITH_GESTURE="screen/zoomWithGesture",e.ZOOM_WITH_WHEEL="screen/zoomWithWheel",e.CHANGE_SCROLL_POSITION="screen/changeScrollPosition",e.TOGGLE_LAYOUT_GRID="screen/toggleLayoutGrid",e.ENABLE_NOTE_MODE="screen/enableNoteMode",e.DISABLE_NOTE_MODE="screen/disableNoteMode",e.CREATE_NOTE="screen/createNote",e.SHOW_NOTES="screen/showNotes",e.HIDE_NOTES="screen/hideNotes",e.CHANGE_NOTE_STATUS_FILTER="screen/changeNoteStatusFilter",e.CHANGE_NOTE_COLOR_FILTER="screen/changeNoteColorFilter",e.SHOW_FLOW_LINKS="screen/showFlowLinks",e.HIDE_FLOW_LINKS="screen/hideFlowLinks",e.CHANGE_SIDEBAR_TAB="screen/changeSidebarTab",e.CHANGE_SCREEN_SIDEBAR_WIDTH="screen/changeScreenSidebarWidth",e.GET_VERSIONS="screen/getVersions",e.SET_VERSIONS="screen/setVersions",e.SET_VERSION_ID="screen/setVersionId",e.SET_SNAPSHOT="screen/setSnapshot",e.SHOW_VERSIONS="screen/showVersions",e.HIDE_VERSIONS="screen/hideVersions",e.TOGGLE_VERSIONS="screen/toggleVersions",e.ENABLE_VERSIONS_COMPACT_MODE="screen/enableVersionsCompactMode",e.DISABLE_VERSIONS_COMPACT_MODE="screen/disableVersionsCompactMode",e.SHOW_VERSIONS_AUNTIE="screen/showVersionsAuntie",e.HIDE_VERSIONS_AUNTIE="screen/hideVersionsAuntie",e.CHANGE_VERSIONS_SIDEBAR_WIDTH="screen/changeVersionsSidebarWidth",e.ADD_VERSION="screen/addVersion",e.UPDATE_COMMIT_COLOR="screen/updateCommitColor",e.UPDATE_COMMIT_MESSAGE="screen/updateCommitMessage",e.REMOVE_VERSION="screen/removeVersion",e.SET_SOURCE_FILE="screen/setSourceFile",e.REMOVE_SCREEN_VARIANT="screen/removeScreenVariant",e.ADD_SCREEN_VARIANT="screen/addScreenVariant",e.RENAME_SCREEN_VARIANT="screen/renameScreenVariant",e.REORDER_SCREEN_VARIANT="screen/reorderScreenVariant",e.SELECT_SCREEN_VARIANT="screen/selectScreenVariant"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(578),a=n(579),r=n.n(a),l=n(581);function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loadingConnectedAppsData:!0,loadingDeveloperData:!1,loadingApplication:!1,revokingAuthorizedApplication:!1,deletingPersonalAccessToken:!1,creatingAccessToken:!1,creatingApplication:!1,updatingApplication:!1,deletingApplication:!1,authorizedApplications:[],ownedApplications:[],personalAccessTokens:[],fetchedApplicationIds:[],officialApps:l.OFFICIAL_APPS.reduce(((e,t)=>u(u({},e),{},{[t._id]:u(u({},t),{},{token:null,status:l.appStatus.UNCONNECTED})})),{})}}loadConnectedAppsData(e,{authorizedApplications:t,officialApps:n}){return u(u({},e),{},{authorizedApplications:t.map((e=>new r.a(e))),officialApps:n,loadingConnectedAppsData:!1})}loadDeveloperDataRequest(e){return u(u({},e),{},{loadingDeveloperData:!0})}loadDeveloperData(e,{ownedApplications:t,personalAccessTokens:n}){return u(u({},e),{},{ownedApplications:t.map((e=>new r.a(e))),personalAccessTokens:n,loadingDeveloperData:!1})}getApplicationRequest(e){return u(u({},e),{},{loadingApplication:!0})}loadApplication(e,{application:t}){const{ownedApplications:n,fetchedApplicationIds:i}=e;return u(u({},e),{},{ownedApplications:n.map((e=>t._id===e._id?new r.a(t):e)),fetchedApplicationIds:[...i,t._id],loadingApplication:!1})}revokeAuthorizedApplicationSuccess(e,{authorizedApplication:t}){return u(u({},e),{},{authorizedApplications:e.authorizedApplications.filter((({_id:e})=>t._id!==e)),revokingAuthorizedApplication:!1})}revokeAuthorizedApplicationFailure(e){return u(u({},e),{},{revokingAuthorizedApplication:!1})}deletePersonalAccessTokenRequest(e){return u(u({},e),{},{deletingPersonalAccessToken:!0})}deletePersonalAccessTokenSuccess(e,{personalAccessToken:t}){return u(u({},e),{},{personalAccessTokens:e.personalAccessTokens.filter((({_id:e})=>t._id!==e)),deletingPersonalAccessToken:!1})}deletePersonalAccessTokenFailure(e){return u(u({},e),{},{deletingPersonalAccessToken:!1})}createPersonalAccessTokenRequest(e){return u(u({},e),{},{creatingAccessToken:!0})}createPersonalAccessTokenSuccess(e,{personalAccessToken:t}){return u(u({},e),{},{personalAccessTokens:[t,...e.personalAccessTokens],creatingAccessToken:!1})}createPersonalAccessTokenFailure(e){return u(u({},e),{},{creatingAccessToken:!1})}createApplicationRequest(e){return u(u({},e),{},{creatingApplication:!0})}createApplicationSuccess(e,{application:t}){return u(u({},e),{},{ownedApplications:[t,...e.ownedApplications],creatingApplication:!1})}createApplicationFailure(e){return u(u({},e),{},{creatingApplication:!1})}updateApplicationRequest(e){return u(u({},e),{},{updatingApplication:!0})}updateApplicationSuccess(e,{appId:t,application:n}){return u(u({},e),{},{ownedApplications:e.ownedApplications.map((e=>e._id===t?new r.a(u({_id:t},n)):e)),updatingApplication:!1})}updateApplicationFailure(e){return u(u({},e),{},{updatingApplication:!1})}deleteApplicationRequest(e){return u(u({},e),{},{deletingApplication:!0})}deleteApplicationSuccess(e,{application:{_id:t}}){let{ownedApplications:n}=e;return u(u({},c(e,["ownedApplications"])),{},{ownedApplications:n.filter((e=>e._id!==t)),deletingApplication:!1})}deleteApplicationFailure(e){return u(u({},e),{},{deletingApplication:!1})}renamePersonalAccessToken(e,{tokenId:t,name:n}){return u(u({},e),{},{personalAccessTokens:e.personalAccessTokens.map((e=>e._id===t?u(u({},e),{},{name:n}):e))})}setRevokingAuthorizedApplication(e){return u(u({},e),{},{revokingAuthorizedApplication:!0})}setOfficialAppConnecting(e,{appId:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:null,status:l.appStatus.CONNECTING})})})}connectOfficalAppSuccess(e,{appId:t,token:n}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:n,status:l.appStatus.CONNECTED})})})}connectOfficialAppFailure(e,{appId:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:null,status:l.appStatus.UNCONNECTED})})})}revokeOfficialApp(e,{authorizedApplication:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t._id]:u(u({},e.officialApps[t._id]),{},{token:null,status:l.appStatus.UNCONNECTED})}),revokingAuthorizedApplication:!1})}reduce(e,t){switch(t.type){case s.default.GET_CONNECTED_APPS_DATA_SUCCESS:return this.loadConnectedAppsData(e,t);case s.default.GET_DEVELOPER_DATA_REQUEST:return this.loadDeveloperDataRequest(e,t);case s.default.GET_DEVELOPER_DATA_SUCCESS:return this.loadDeveloperData(e,t);case s.default.GET_APPLICATION_REQUEST:return this.getApplicationRequest(e,t);case s.default.GET_APPLICATION_SUCCESS:return this.loadApplication(e,t);case s.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:return this.setRevokingAuthorizedApplication(e);case s.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:return l.OFFICIAL_APPS.some((({_id:e})=>t.authorizedApplication._id===e))?this.revokeOfficialApp(e,t):this.revokeAuthorizedApplicationSuccess(e,t);case s.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE:return this.revokeAuthorizedApplicationFailure(e,t);case s.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.deletePersonalAccessTokenRequest(e);case s.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.deletePersonalAccessTokenSuccess(e,t);case s.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.deletePersonalAccessTokenFailure(e,t);case s.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.createPersonalAccessTokenRequest(e,t);case s.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.createPersonalAccessTokenSuccess(e,t);case s.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.createPersonalAccessTokenFailure(e,t);case s.default.CREATE_APPLICATION_REQUEST:return this.createApplicationRequest(e,t);case s.default.CREATE_APPLICATION_SUCCESS:return this.createApplicationSuccess(e,t);case s.default.CREATE_APPLICATION_FAILURE:return this.createApplicationFailure(e,t);case s.default.UPDATE_APPLICATION_REQUEST:return this.updateApplicationRequest(e,t);case s.default.UPDATE_APPLICATION_SUCCESS:return this.updateApplicationSuccess(e,t);case s.default.UPDATE_APPLICATION_FAILURE:return this.updateApplicationFailure(e,t);case s.default.DELETE_APPLICATION_REQUEST:return this.deleteApplicationRequest(e,t);case s.default.DELETE_APPLICATION_SUCCESS:return this.deleteApplicationSuccess(e,t);case s.default.DELETE_APPLICATION_FAILURE:return this.deleteApplicationFailure(e,t);case s.default.RENAME_PERSONAL_ACCESS_TOKEN:return this.renamePersonalAccessToken(e,t);case s.default.CONNECT_OFFICIAL_APP_REQUEST:return this.setOfficialAppConnecting(e,t);case s.default.CONNECT_OFFICIAL_APP_SUCCESS:return this.connectOfficalAppSuccess(e,t);case s.default.CONNECT_OFFICIAL_APP_FAILURE:return this.connectOfficialAppFailure(e,t);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={GET_CONNECTED_APPS_DATA_REQUEST:"getConnectedAppsDataRequest",GET_CONNECTED_APPS_DATA_SUCCESS:"getConnectedAppsDataSuccess",GET_DEVELOPER_DATA_REQUEST:"getDeveloperDataRequest",GET_DEVELOPER_DATA_SUCCESS:"getDeveloperDataSuccess",GET_APPLICATION_REQUEST:"getApplicationRequest",GET_APPLICATION_SUCCESS:"getApplicationSuccess",CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:"createPersonalAccessTokenRequest",CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:"createPersonalAccessTokenSuccess",CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:"createPersonalAccessTokenFailure",CREATE_APPLICATION_REQUEST:"createApplicationRequest",CREATE_APPLICATION_SUCCESS:"createApplicationSuccess",CREATE_APPLICATION_FAILURE:"createApplicationFailure",UPDATE_APPLICATION_REQUEST:"updateApplicationRequest",UPDATE_APPLICATION_SUCCESS:"updateApplicationSuccess",UPDATE_APPLICATION_FAILURE:"updateApplicationFailure",DELETE_APPLICATION_REQUEST:"deleteApplicationRequest",DELETE_APPLICATION_SUCCESS:"deleteApplicationSuccess",DELETE_APPLICATION_FAILURE:"deleteApplicationFailure",DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:"deletePersonalAccessTokenRequest",DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:"deletePersonalAccessTokenSuccess",DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:"deletePersonalAccessTokenFailure",REVOKE_AUTHORIZED_APPLICATION_REQUEST:"revokeAuthorizedApplicationRequest",REVOKE_AUTHORIZED_APPLICATION_SUCCESS:"revokeAuthorizedApplicationSuccess",REVOKE_AUTHORIZED_APPLICATION_FAILURE:"revokeAuthorizedApplicationFailure",RENAME_PERSONAL_ACCESS_TOKEN:"renamePersonalAccessToken",CONNECT_OFFICIAL_APP_REQUEST:"connectOfficialAppRequest",CONNECT_OFFICIAL_APP_SUCCESS:"connectOfficialAppSuccess",CONNECT_OFFICIAL_APP_FAILURE:"connectOfficialAppFailure"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{_id:t,name:n,description:i,logo:o,owner:s,website:a,secret:r,redirectURIs:l,numberOfUsers:c,created:d,updated:u,authorizedAt:h}=e;this.id=t,this._id=t,this.name=n,this.description=i,this.logo=o,this.owner=s,this.website=a,this.secret=r,this.redirectURIs=l,this.numberOfUsers=c,this.created=d,this.updated=u,this.authorizedAt=h}addRedirectURI(e){var t;null===(t=this.redirectURIs)||void 0===t||t.push(e)}removeRedirectURI(e){var t;null===(t=this.redirectURIs)||void 0===t||t.filter((t=>e!==t))}}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{toObject(){return{}}serialize(){return{model:this.constructor.name,data:this.toObject()}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"OFFICIAL_APPS",(function(){return s})),n.d(t,"appStatus",(function(){return a}));var i=n(548),o=n(582);const s=[{_id:i.CLI_CLIENT_ID,name:"CLI",emoji:"🧩",description:"Connect components in Zeplin to components in code using Zeplin CLI."},{_id:i.ZEM_CLIENT_ID,name:"zem",logo:Object(o.imageUrl)("img/ntf/icExtension.svg"),description:"Create, test and publish Zeplin extensions with no build configuration."}],a=Object.freeze({CONNECTED:"connected",CONNECTING:"connecting",UNCONNECTED:"unconnected"})},function(e,t,n){"use strict";n.r(t),n.d(t,"imageUrl",(function(){return a})),n.d(t,"emotarUrl",(function(){return l})),n.d(t,"srcset",(function(){return r})),n.d(t,"cropImage",(function(){return c})),n.d(t,"getResizedImageSources",(function(){return d})),n.d(t,"isLight",(function(){return h})),n.d(t,"getImageProperties",(function(){return f})),n.d(t,"getDominantColorOfImage",(function(){return g}));var i=n(583),o=n(584),s=n.n(o);function a(e){return new URL(e,location.origin).href}function r(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map((e=>`${n[1]}@${e}.${n[2]} ${e}`)).join(", ")}function l(e){if("random"===e)return a("/img/emotars/icRandom.svg");return a(`/img/emotars/emotar${Object(i.uppercaseFirst)(e.replace(/_\w/g,(e=>e.charAt(1).toUpperCase())))}.png`)}function c(e,t){return new Promise((n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const o=i.getContext("2d");o.webkitImageSmoothingEnabled=!0,o.mozImageSmoothingEnabled=!0,o.msImageSmoothingEnabled=!0,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="medium";const s=document.createElement("img");let a,r,l;s.crossOrigin="anonymous";let c=1,d=0,u=0;s.addEventListener("load",(e=>{s.width<=i.width?(a=s.width,d=(i.width-s.width)/2):(c=i.width/s.width,a=i.width),t.height||(i.height=i.width*s.height/s.width),l=c*s.height,l<=i.height?(r=s.height,u=(i.height-l)/2):(r=i.height/c,l=i.height),o.drawImage(s,0,0,s.width,r,d,u,a,l),i.toBlob((e=>{n(URL.createObjectURL(e))}))})),s.addEventListener("error",(t=>{n(e)})),s.src=e}))}function d(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let o=`?w=${t}`,s="?w="+2*t;return n&&(o+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,s+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${o}`,srcset:`${i}${s} 2x`}}const u=200;function h(e){for(let t=0;t<e.length;t+=4){const n=e[t+0],i=e[t+1],o=e[t+2];if(e[t+3]>=55&&(n<u||i<u||o<u))return!1}return!0}const p={};function f(e){return new Promise(((t,n)=>{const i="string"==typeof e?e:e.src;if(i in p)t(p[i]);else{const o="string"==typeof e?document.createElement("img"):e;o.crossOrigin="anonymous",o.addEventListener("load",(function e(){o.removeEventListener("load",e);const n=document.createElement("canvas"),s=n.getContext("2d");n.width=o.width,n.height=o.height,s.drawImage(o,0,0);const a=h(s.getImageData(0,0,n.width,n.height).data)?"light":"dark",r={size:{width:o.width,height:o.height},lightness:a};p[i]=r,t(r)})),o.addEventListener("error",(function e(t){o.removeEventListener("error",e),n(t)})),"string"==typeof e&&(o.src=e)}}))}function g(e){if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");let i;t.height=e.naturalHeight||e.offsetHeight||e.height,t.width=e.naturalWidth||e.offsetWidth||e.width,n.drawImage(e,0,0);try{i=n.getImageData(0,0,t.width,t.height).data}catch(l){return null}const o=i.length,a={};for(let c=0;c<o;c+=4){const e=i[c],t=i[c+1],n=i[c+2];if(0===i[c+3])continue;if(e===t&&t===n)continue;const o="#"+[e,t,n].map(s.a.componentToHex).join("");a[o]?a[o]++:a[o]=1}const r=Object.keys(a);return r.length?r.reduce(((e,t)=>a[e]>a[t]?e:t)):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluralize",(function(){return s})),n.d(t,"lowercaseFirst",(function(){return a})),n.d(t,"uppercaseFirst",(function(){return r})),n.d(t,"toCamelCase",(function(){return l})),n.d(t,"getRandomString",(function(){return c})),n.d(t,"anyWordStartsWith",(function(){return d})),n.d(t,"getFirstWhitespaceIndex",(function(){return u})),n.d(t,"getFilenameWithoutExtensionFromPath",(function(){return h})),n.d(t,"getFileExtensionFromPath",(function(){return p})),n.d(t,"isLetter",(function(){return f})),n.d(t,"normalizeAndLowerCase",(function(){return g}));const i=/\W/,o=/[\W_]/;function s(e,t,{suffix:n="s",one:i="1"}={}){return`${1===e?i:e} ${t}${1!==e?n:""}`}function a(e){return e.charAt(0).toLowerCase()+e.substring(1)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e,t="_"){return e.replace(new RegExp(`(${t}\\w)`,"g"),(e=>e[1].toUpperCase()))}function c(e=1/0){return Math.random().toString(36).substr(2,e)}function d(e,t){return e.split(o).some((e=>e.startsWith(t)))}function u(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}function h(e){const t=e.split("/").pop(),n=t.lastIndexOf(".");return-1===n?t:t.substring(0,n)}function p(e){const t=e.split("/").pop(),n=t.lastIndexOf(".");return-1===n?null:t.substring(n+1)}function f(e){return/[\x41-\x5A\x61-\x7A\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/.test(e)}function g(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(585)),s=n(586),a=n(587),r=i(n(580)),l=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase",base:"kebabCase"}),c=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function d(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function u(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function h(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Color extends r.default{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,sourceId:o,r:s,g:a,b:r,a:l=1}=e;var c;this.id=t||n,this.sourceId=o,this.r=d(s),this.g=d(a),this.b=d(r),this.a=(c=l,Math.max(0,Math.min(c,1))),this.name=i}static get NAMED_COLORS(){return a.CSS_NAMED_COLORS}static fromHex(e){let t=e.replace("#","");3!==t.length&&4!==t.length||(t=t.replace(/(.)/g,"$1$1"));const n=parseInt(t,16);let i=8*(t.length/2-1);const o=n>>i&255;i-=8;const s=n>>i&255;i-=8;const a=n>>i&255;i-=8;return new Color({r:o,g:s,b:a,a:i<0?1:(n>>i&255)/255})}static fromHSLA(e,t,n,i=1){let o,s,a;if(0===t)o=n,s=n,a=n;else{const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i;o=h(r,i,e+1/3),s=h(r,i,e),a=h(r,i,e-1/3)}return o*=255,s*=255,a*=255,new Color({r:o,g:s,b:a,a:i})}formatName(e){return o.default(this.name,l[e])}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,sourceId:this.sourceId,name:this.name}}equals(e){const t=new Color(e);return this.sourceId&&t.sourceId?this.sourceId===t.sourceId:this.r===t.r&&this.g===t.g&&this.b===t.b&&c.format(this.a)===c.format(t.a)}blend(e){const t=new Color(e);return new Color({r:u(this.r,this.a,t.r,t.a),g:u(this.g,this.a,t.g,t.a),b:u(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&(t=t.blend(n),1===t.a))break;return t}static componentToHex(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}hexBase(){return Color.componentToHex(this.r)+Color.componentToHex(this.g)+Color.componentToHex(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=Color.componentToHex(Math.trunc(n+n/255));t=e?i+t:t+i}return`#${t}`}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e}, ${c.format(this.a)}`:`rgb ${e}`}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${c.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),o=Math.min(e,t,n),s=(i+o)/2;let a,r;if(i===o)a=0,r=0;else{const l=i-o;switch(r=s>.5?l/(2-i-o):l/(i+o),i){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:r,l:s}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${c.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"web":return this.toCSS(t);case"base":case"ios":case"osx":default:return this.toRGBABase()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,i=-1;for(let r=0;r<a.colorNames.length;r++){const c=new Color(a.colorNames[r]);if(this.r===c.r&&this.g===c.g&&this.b===c.b)return o.default(c.name,l[e]);const d=this._toHSL();s.keysOf(d).forEach((e=>d[e]*=255));const u=c._toHSL();s.keysOf(u).forEach((e=>u[e]*=255)),t=Math.pow(this.r-c.r,2)+Math.pow(this.g-c.g,2)+Math.pow(this.b-c.b,2)+2*(Math.pow(d.h-u.h,2)+Math.pow(d.s-u.s,2)+Math.pow(d.l-u.l,2)),(i<0||t<i)&&(i=t,n=r)}return o.default(a.colorNames[n].name,l[e])}}t.default=Color},function(e,t,n){"use strict";n.r(t);var i=n(583);var o=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.default=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.uppercaseFirst).join("");return"camelCase"===t?Object(i.lowercaseFirst)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}((n=e.match(o))?n.map((function(e){return e.toLowerCase()})):["invalid","name"],t);var n}},function(e,t,n){"use strict";function i(e){return null!=e}function o(e){return Object.keys(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEmptyProperties=t.isAllPropertiesFilled=t.entriesOf=t.keysOf=t.exists=void 0,t.exists=i,t.keysOf=o,t.entriesOf=function(e){return Object.entries(e)},t.isAllPropertiesFilled=function(e){return o(e).every((t=>e[t]))},t.deleteEmptyProperties=function(e){o(e).forEach((t=>{i(e[t])||delete e[t]}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"CSS_NAMED_COLORS",(function(){return i})),n.d(t,"colorNames",(function(){return o}));var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),o=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(11)),a=o(n(571)),r=o(n(575)),l=o(n(589)),c=o(n(576)),d=n(547),u=o(n(590));class h extends s.default{getInitialState(){return{loading:!0,loadingJoin:!1,initingNewlyIntegratedSlackChannel:!1,organizationId:null,barrelType:u.default.PROJECT,barrelId:null,selectedView:d.ProjectViewTypes.DASHBOARD,assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,showOptimizedPNG:!0,showOptimizedJPG:!0,noVectorAssetInfoHidden:!1,densityMismatchWarningHidden:!1,noResourceInfoDismissed:!1,sourceFileInfoHidden:!1,flowLinkInfoDismissed:!1,showSlackReconnectionAuntie:!1,jumpToPopupOpen:!1,linkingProjectToStyleguide:"",movingResourcesToStyleguide:"",connectedComponentsDevModeEnabled:!1,connectedComponentsLocalWorkspace:null,componentVariantsOnboardingHintboxSeen:!1,connectedComponentsEditorInfo:{},screenVersionsLastSeen:null,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0}}reset(){return this.getInitialState()}load({barrel:e}){return Object.assign(Object.assign(Object.assign({},this.getInitialState()),{loading:!1}),e)}authenticatingSlackIntegration(e,{bid:t}){return e.barrelId!==t?e:Object.assign(Object.assign({},e),{initingNewlyIntegratedSlackChannel:!0})}authenticatedSlackIntegration(e,{bid:t}){return e.barrelId===t&&e.initingNewlyIntegratedSlackChannel?Object.assign(Object.assign({},e),{initingNewlyIntegratedSlackChannel:!1}):e}updateForArchive(e,{bid:t}){return t===e.barrelId?this.reset():e}updateForRemoveMember(e,{bid:t,shouldRemoveBarrel:n}){return t===e.barrelId&&n?this.reset():e}updateForRemove(e,{bid:t}){return t===e.barrelId?this.reset():e}setOrganizationId(e,{oid:t}){return Object.assign(Object.assign({},e),{organizationId:t})}changeSelectedView(e,t){return Object.assign(Object.assign({},e),{selectedView:t})}setAssetExportTarget(e,{assetExportTarget:t}){return Object.assign(Object.assign({},e),{assetExportTarget:t})}changeAssetName(e){return Object.assign({},e)}changeAssetDensityScalePref(e,{format:t,assetDensityScalePrefsOfFormat:n}){const i=Object.assign(Object.assign({},e.assetDensityScalePrefs),{[t]:n});return Object.assign(Object.assign({},e),{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,{assetNamingConvention:t}){return Object.assign(Object.assign({},e),{assetNamingConvention:t})}toggleSVGOptimization(e,{showOptimizedSVG:t}){return Object.assign(Object.assign({},e),{showOptimizedSVG:t})}togglePNGOptimization(e,{showOptimizedPNG:t}){return Object.assign(Object.assign({},e),{showOptimizedPNG:t})}toggleJPGOptimization(e,{showOptimizedJPG:t}){return Object.assign(Object.assign({},e),{showOptimizedJPG:t})}dismissNoResourceInfo(e){return Object.assign(Object.assign({},e),{noResourceInfoDismissed:!0})}hideNoVectorAssetInfo(e){return Object.assign(Object.assign({},e),{noVectorAssetInfoHidden:!0})}hideDensityMismatchWarning(e){return Object.assign(Object.assign({},e),{densityMismatchWarningHidden:!0})}hideSourceFileInfo(e){return Object.assign(Object.assign({},e),{sourceFileInfoHidden:!0})}dismissFlowLinkInfo(e){return Object.assign(Object.assign({},e),{flowLinkInfoDismissed:!0})}hideSlackReconnectionAuntie(e){return Object.assign(Object.assign({},e),{showSlackReconnectionAuntie:!1})}hideComponentVariantsOnboardingHintbox(e){return Object.assign(Object.assign({},e),{componentVariantsOnboardingHintboxSeen:!0})}openJumpToPopup(e){return Object.assign(Object.assign({},e),{jumpToPopupOpen:!0})}closeJumpToPopup(e){return Object.assign(Object.assign({},e),{jumpToPopupOpen:!1})}join(e){return Object.assign(Object.assign({},e),{loadingJoin:!0})}stopLoadingJoin(e){return Object.assign(Object.assign({},e),{loadingJoin:!1})}moveResourcesRequest(e,{targetStyleguideId:t}){return Object.assign(Object.assign({},e),{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return Object.assign(Object.assign({},e),{movingResourcesToStyleguide:""})}moveResourcesFail(e){return Object.assign(Object.assign({},e),{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return Object.assign(Object.assign({},e),{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideReset(e){return Object.assign(Object.assign({},e),{linkingProjectToStyleguide:""})}updateForOpenScreen(e,{screenVersionsLastSeen:t}){return Object.assign(Object.assign({},this.updateScreenVersionsLastSeen(e,t)),{jumpToPopupOpen:!1,selectedView:d.ProjectViewTypes.SCREEN})}updateForRemoveScreen(e,{removingCurrentScreen:t}){const{selectedView:n}=e;return n===d.ProjectViewTypes.SCREEN&&t?this.changeSelectedView(e,d.ProjectViewTypes.DASHBOARD):e}enableDevMode(e){return Object.assign(Object.assign({},e),{connectedComponentsDevModeEnabled:!0})}disableDevMode(e){return Object.assign(Object.assign({},e),{connectedComponentsDevModeEnabled:!1})}setConnectedComponentsLocalWorkspace(e,{workspace:t}){return Object.assign(Object.assign({},e),{connectedComponentsLocalWorkspace:t})}setConnectedComponentsEditorInfo(e,{editorInfo:t}){return Object.assign(Object.assign({},e),{connectedComponentsEditorInfo:t})}setConnectedComponentsEditorPreference(e,{extension:t,editor:n}){const{connectedComponentsEditorInfo:o}=e,{defaultEditorPreferences:s}=o,a=i(o,["defaultEditorPreferences"]),r=s,l=t,c=(r[l],i(r,["symbol"==typeof l?l:l+""]));return n&&(c[t]=n),Object.assign(Object.assign({},e),{connectedComponentsEditorInfo:Object.assign(Object.assign({},a),{defaultEditorPreferences:c})})}setConnectedComponentsWorkspacePath(e,{workspacePath:t}){const{connectedComponentsEditorInfo:n}=e;return Object.assign(Object.assign({},e),{connectedComponentsEditorInfo:Object.assign(Object.assign({},n),{workspacePath:t})})}updateScreenVersionsLastSeen(e,{sid:t,date:n}){return t?Object.assign(Object.assign({},e),{screenVersionsLastSeen:Object.assign(Object.assign({},e.screenVersionsLastSeen),{[t]:n})}):e}highlightedConnectToCodeButtonViewed(e){return Object.assign(Object.assign({},e),{numberOfHighlightedConnectToCodeButtonViews:e.numberOfHighlightedConnectToCodeButtonViews+1})}markConnectedComponentsOnboardingDialogAsSeen(e){return Object.assign(Object.assign({},e),{connectedComponentsOnboardingDialogSeen:!0})}reduce(e,t){switch(t.type){case a.default.RESET:case r.default.RESET:return this.reset();case r.default.AUTHENTICATE_SLACK_INTEGRATION:return this.authenticatingSlackIntegration(e,t);case r.default.AUTHENTICATE_SLACK_INTEGRATION_FAILED:case r.default.AUTHENTICATED_SLACK_INTEGRATION:return this.authenticatedSlackIntegration(e,t);case r.default.ARCHIVE:return this.updateForArchive(e,t);case r.default.REMOVE_MEMBER:return this.updateForRemoveMember(e,t);case r.default.REMOVE:return this.updateForRemove(e,t);case r.default.LOAD:return this.load(t);case r.default.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t);case r.default.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case r.default.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t);case r.default.CHANGE_ASSET_NAME:return this.changeAssetName(e);case r.default.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t);case r.default.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t);case r.default.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t);case r.default.TOGGLE_PNG_OPTIMIZATION:return this.togglePNGOptimization(e,t);case r.default.TOGGLE_JPG_OPTIMIZATION:return this.toggleJPGOptimization(e,t);case r.default.HIDE_NO_VECTOR_ASSET_INFO:return this.hideNoVectorAssetInfo(e);case r.default.HIDE_DENSITY_MISMATCH_WARNING:return this.hideDensityMismatchWarning(e);case r.default.HIDE_SOURCE_FILE_INFO:return this.hideSourceFileInfo(e);case r.default.DISMISS_FLOW_LINK_INFO:return this.dismissFlowLinkInfo(e);case r.default.DISMISS_NO_RESOURCE_INFO:return this.dismissNoResourceInfo(e);case r.default.HIDE_SLACK_RECONNECTION_AUNTIE:return this.hideSlackReconnectionAuntie(e);case r.default.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case r.default.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case r.default.JOIN:return this.join(e);case r.default.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case r.default.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case r.default.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case r.default.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case r.default.ENABLE_DEV_MODE:return this.enableDevMode(e);case r.default.DISABLE_DEV_MODE:return this.disableDevMode(e);case l.default.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case l.default.LINK_PROJECT_SUCCESS:case l.default.UNLINK_PROJECT:return this.linkProjectToStyleguideReset(e);case c.default.OPEN_SCREEN:return this.updateForOpenScreen(e,t);case c.default.ADD_VERSION:case c.default.SHOW_VERSIONS:case c.default.TOGGLE_VERSIONS:return this.updateScreenVersionsLastSeen(e,t.screenVersionsLastSeen);case c.default.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case r.default.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:return this.setConnectedComponentsLocalWorkspace(e,t);case r.default.SET_CONNECTED_COMPONENTS_EDITOR_INFO:return this.setConnectedComponentsEditorInfo(e,t);case r.default.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:return this.setConnectedComponentsEditorPreference(e,t);case r.default.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:return this.setConnectedComponentsWorkspacePath(e,t);case r.default.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:return this.highlightedConnectToCodeButtonViewed(e);case r.default.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:return this.markConnectedComponentsOnboardingDialogAsSeen(e);default:return e}}}t.default=h},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LINK_PROJECT="project/linkProject",e.LINK_PROJECT_REQUEST="project/linkProjectRequest",e.LINK_PROJECT_SUCCESS="project/linkProjectSuccess",e.UNLINK_PROJECT="project/unlinkProject"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROJECT="project",e.STYLEGUIDE="styleguide"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(592)),a=i(n(571)),r=i(n(575)),l=i(n(590)),c=i(n(576)),d=n(547);class u extends o.default{getInitialState(){return{sortType:d.SortTypes.SECTIONS,filterValue:"",fixedThumbnailSize:!1,screenVariantsOnboardingSeen:!1,sidebarWidth:280,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],collapsedSections:{},highlightedSection:null,highlightedScreens:[]}}reset(){return this.getInitialState()}changeSelectedView(e,{viewUpdate:{sids:t,seid:n,filterValue:i,tags:o,jiraIssues:s,untagged:a,sectionsToExpand:r}}){const l=Object.assign(Object.assign({},e),{tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]});let c=l;return o&&(c=this.changeTagFilter(l,{tags:o,untagged:!1})),a&&(c=this.changeTagFilter(l,{tags:[],untagged:!0})),t?Object.assign(Object.assign({},c),{highlightedScreens:this.highlightScreens(e,t).highlightedScreens,collapsedSections:this.expandSections(e,r).collapsedSections}):n?Object.assign(Object.assign({},c),{highlightedSection:this.highlightSection(e,n).highlightedSection,collapsedSections:this.expandSections(e,r).collapsedSections}):e.filterValue!==i?this.changeFilterValue(e,i):s?this.changeJiraIssueFilter(e,s):c}changeSortType(e,{sortType:t}){return Object.assign(Object.assign({},e),{sortType:t,highlightedScreens:[]})}changeFilterValue(e,t){return Object.assign(Object.assign({},e),{filterValue:t,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],highlightedScreens:[]})}changeTagFilter(e,t){return Object.assign(Object.assign({},e),{tagFilter:t,filterValue:"",highlightedScreens:[]})}changeJiraIssueFilter(e,t){return Object.assign(Object.assign({},e),{jiraIssueFilter:t,filterValue:"",tagFilter:{tags:[],untagged:!1},highlightedScreens:[]})}convertTagToSection(e,{section:{name:t}}){const{tags:n,untagged:i}=e.tagFilter,o=n.filter((e=>e!==t));return Object.assign(Object.assign({},e),{tagFilter:{tags:o,untagged:i}})}toggleFixedThumbnailSize(e){return Object.assign(Object.assign({},e),{fixedThumbnailSize:!e.fixedThumbnailSize})}hideScreenVariantsOnboardingSeen(e){return Object.assign(Object.assign({},e),{screenVariantsOnboardingSeen:!0})}changeSidebarWidth(e,{sidebarWidth:t}){return Object.assign(Object.assign({},e),{sidebarWidth:t})}expandSections(e,t){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!1]))))})}collapseSections(e,{seids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!0]))))})}highlightScreens(e,t){return Object.assign(Object.assign({},e),{highlightedScreens:[...t]})}unhighlightScreen(e,{sid:t}){return Object.assign(Object.assign({},e),{highlightedScreens:e.highlightedScreens.filter((e=>e!==t))})}highlightSection(e,t){return Object.assign(Object.assign({},e),{highlightedSection:t})}unhighlightSection(e){return Object.assign(Object.assign({},e),{highlightedSection:null})}highlightUpdatedSection(e,{seid:t,highlight:n,sectionData:i}){if(!n)return e;const o=i._id||t;return Object.assign(Object.assign({},e),{highlightedSection:o})}updateForOpenScreen(e,{screenId:t,shouldResetDashboardFilters:n}){let i={};return n&&(i={tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]}),Object.assign(Object.assign(Object.assign({},e),i),{highlightedScreens:[t]})}load(e,{barrel:{barrelType:t},dashboard:n={},data:{project:i}}){return t===l.default.STYLEGUIDE||i.partial?e:Object.assign(Object.assign({},e),n)}reduce(e,t){switch(t.type){case r.default.LOAD:return this.load(e,t);case a.default.RESET:case r.default.RESET:return this.reset();case r.default.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t);case s.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t);case s.default.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case s.default.CONVERT_TAG_TO_SECTION:return this.convertTagToSection(e,t);case s.default.TOGGLE_FIXED_THUMBNAIL_SIZE:return this.toggleFixedThumbnailSize(e);case s.default.HIDE_SCREEN_VARIANTS_ONBOARDING:return this.hideScreenVariantsOnboardingSeen(e);case s.default.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t);case s.default.EXPAND_SECTIONS:return this.expandSections(e,t.seids);case s.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case s.default.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t);case s.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t.seid);case s.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case s.default.UPDATE_SECTION:return this.highlightUpdatedSection(e,t);case c.default.OPEN_SCREEN:return this.updateForOpenScreen(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHANGE_SORT_TYPE="dashboard/changeSortType",e.CHANGE_TAG_FILTER="dashboard/changeTagFilter",e.TOGGLE_FIXED_THUMBNAIL_SIZE="dashboard/toggleFixedThumbnailSize",e.CHANGE_SIDEBAR_WIDTH="dashboard/changeSidebarWidth",e.EXPAND_SECTIONS="dashboard/expandSections",e.COLLAPSE_SECTIONS="dashboard/collapseSections",e.DOWNLOAD_SCREENS="dashboard/downloadScreens",e.UNHIGHLIGHT_SCREEN="dashboard/unhighlightScreen",e.HIGHLIGHT_SECTION="dashboard/highlightSection",e.UNHIGHLIGHT_SECTION="dashboard/unhighlightSection",e.CREATE_SECTION="dashboard/createSection",e.CONVERT_TAG_TO_SECTION="dashboard/convertTagToSection",e.ADD_SECTION="dashboard/addSection",e.UPDATE_SECTION="dashboard/updateSection",e.RENAME_SECTION="dashboard/renameSection",e.UPDATE_SECTION_DESCRIPTION="dashboard/updateSectionDescription",e.UPDATE_SECTION_ORDER="dashboard/updateSectionOrder",e.REMOVE_SECTION="dashboard/removeSection",e.UPDATE_SCREEN_ORDER="dashboard/updateScreenOrder",e.UPDATE_SCREEN_ORDER_V2="dashboard/updateScreenOrderV2",e.CREATE_VARIANT_GROUP="dashboard/createVariantGroup",e.ADD_SCREENS_TO_VARIANT_GROUP="dashboard/addScreensToVariantGroup",e.UPDATE_VARIANT_GROUP="dashboard/updateVariantGroup",e.DELETE_VARIANT_GROUP="dashboard/deleteVariantGroup",e.RENAME_VARIANT_GROUP="dashboard/renameVariantGroup",e.DELETE_VARIANT_GROUP_REQUEST="dashboard/deleteVariantGroupRequest",e.HIDE_SCREEN_VARIANTS_ONBOARDING="dashboard/hideScreenVariantsOnboarding",e.DETACH_VARIANT_GROUP="dashboard/detachVariantGroup"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(575),a=n.n(s),r=n(594),l=n(595);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a{getInitialState(){return{loading:!0,dialogOpen:!1,extensionId:null,extensions:[],enabledExtensions:[]}}reset(e){return e.extensions.forEach((e=>{e.terminate()})),this.getInitialState()}loadExtensions(e,{extensions:t,enabledExtensions:n}){return e.extensions.forEach((e=>{e.terminate()})),{loading:!1,enabledExtensions:n,extensions:t}}reload(e){const t=e.extensions.filter((e=>e.local));return t.length?(t.forEach((e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()})),d({},e)):e}openSettings(e,{extensionId:t}){return d(d({},e),{},{dialogOpen:!0,extensionId:t})}closeSettings(e){return d(d({},e),{},{dialogOpen:!1,extensionId:null})}add(e,{extension:t,local:n,openSettings:i}){const{extensions:o,enabledExtensions:s}=e,a=o.find((e=>t.id===e.id));let r=e;return i&&(r=this.openSettings(r,{extensionId:t.id})),a?(n&&a.reload(),this.enable(r,{eid:a.id})):d(d({},r),{},{enabledExtensions:s.concat(t.id),extensions:o.concat(t)})}enable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.concat(t)})}updateOption(e,{eid:t,name:n,value:i}){const o=e.extensions.map((e=>{if(e.id!==t)return e;const o=new l.WebappExtension(d({},e));return o.setOption(n,i),o}));return d(d({},e),{},{extensions:o})}disable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.filter((e=>e!==t))})}remove(e,{eid:t}){const{extensions:n,enabledExtensions:i}=e;return d(d({},e),{},{enabledExtensions:i.filter((e=>e!==t)),extensions:n.filter((e=>e.id!==t))})}reduce(e,t){switch(t.type){case a.a.RESET:return this.reset(e);case r.default.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case r.default.RELOAD:return this.reload(e);case r.default.OPEN_SETTINGS:return this.openSettings(e,t);case r.default.CLOSE_SETTINGS:return this.closeSettings(e);case r.default.ADD:return this.add(e,t);case r.default.ENABLE:return this.enable(e,t);case r.default.UPDATE_OPTION:return this.updateOption(e,t);case r.default.DISABLE:return this.disable(e,t);case r.default.REMOVE:return this.remove(e,t);default:return e}}}t.default=h},function(e,t,n){"use strict";n.r(t);t.default={INIT:"extensions/init",LOAD_EXTENSIONS:"extensions/loadExtensions",LOAD:"extensions/load",RELOAD:"extensions/reload",OPEN_SETTINGS:"extensions/openSettings",CLOSE_SETTINGS:"extensions/closeSettings",ADD:"extensions/add",ENABLE:"extensions/enable",UPDATE_OPTION:"extensions/updateOption",DISABLE:"extensions/disable",REMOVE:"extensions/remove"}},function(e,t,n){"use strict";n.r(t),n.d(t,"WebappExtension",(function(){return d}));var i=n(34),o=n(596),s=n(597),a=n(590),r=n.n(a),l=n(598);const c=["load","layer","screen","component","comment","colors","textStyles","spacing","exportColors","exportTextStyles","exportSpacing","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class d{constructor(e){var t,n,o;o=(e,t={})=>{this.local?(console.error(`Zeplin extension error (${this.name}):`,e),console.error("Data:",t)):i.withScope((n=>{n.setExtra("extension",{name:this.name,id:this._id}),Object.entries(t).forEach((([e,t])=>n.setExtra(e,t))),i.captureException(e)}))},(n="workerLogger")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o;const{_id:s,name:a,description:l,manifestURL:c,default:d,users:u,manifest:h,local:p,options:f={},storage:g,supervisor:m,barrelType:b=r.a.PROJECT,loaded:S=!1,methods:y=[]}=e;this._id=s,this.name=a,this.description=l,this.manifestURL=c,this.default=d,this.users=u,this.manifest=h,this.local=p,this.options=f,this.storage=g,this.supervisor=m,this.barrelType=b,this.loaded=S,this.methods=y}static async loadManifest(e){const t=await fetch(e);if(!t.ok)throw new Error(`Cannot load extension manifest: ${e}`);return t.json()}static async createLocal(e){const t=e.endsWith("manifest.json")?e:`${e.replace(/\/$/,"")}/manifest.json`,n=await d.loadManifest(t),{name:i,description:o}=n;return new d({_id:i,name:i,description:o,manifestURL:t,manifest:n,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0})}initWorker(e){return this.supervisor=new o.default(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger,methods:c}),this.supervisor.load(e)}async initOptions(e,t,n){const i=Object.fromEntries(n.map((({id:e,default:t})=>[e,t])));this.storage=s.default.create(e,t,i),this.options=await this.storage.getAll()}async load(e,t=r.a.PROJECT){this.barrelType=t;try{this.local||(this.manifest=await d.loadManifest(this.manifestURL)),await this.initOptions(this._id,e,this.optionsSchema);const t=new URL(this.manifest.moduleURL,this.manifestURL).toString(),n=await this.initWorker(t);this.loaded=!0,this.methods=n}catch(n){}return this}reload(){if(!this.loaded)return;const e=new URL(this.manifest.moduleURL,this.manifestURL).toString();return this.supervisor.load(e)}get id(){return this._id}get optionsSchema(){return this.manifest&&this.manifest.options||[]}get author(){const{user:e={displayName:"Anonymous"}}=this.users.find((({role:e})=>"owner"===e));return{displayName:e.displayName,url:this.manifest&&this.manifest.author&&this.manifest.author.url}}get repository(){return this.manifest&&this.manifest.repository}terminate(){this.supervisor&&this.supervisor.terminate(),this.local&&s.default.clear(this._id)}setOption(e,t){this.options[e]=t,this.storage.set(e,t)}getOption(e){return this.options[e]}getContext(e){const t=this.barrelType===r.a.PROJECT,n={options:this.options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this.options}}}hasMethod(e){return this.methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this.supervisor.colors(this.getContext(e)):this.supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map((e=>Object(l.serializeData)(e,"Color"))))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this.supervisor.textStyles(this.getContext(e)):this.supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map((e=>Object(l.serializeData)(e,"Font"))))}styleguideSpacings(e){return this.supervisor.spacing(this.getContext(e))}layer(e,t,n){const i=Object(l.findLayerIndexPath)(n.snapshot,t.id);return i?this.supervisor.layer(this.getContext(e),i,Object(l.serializeVersion)(n)):Promise.resolve(null)}screen(e,t,n){return this.supervisor.screen(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeScreen)(n))}component(e,t,n,i){if(i){const o=Object(l.serializeVariantSection)(i),s=o.data.components.findIndex((e=>e.id===n._id));return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),s,o)}return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeComponent)(n))}comment(e,t){return this.supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this.supervisor.exportColors(this.getContext(e)):this.supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map((e=>Object(l.serializeData)(e,"Color"))))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this.supervisor.exportTextStyles(this.getContext(e)):this.supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map((e=>Object(l.serializeData)(e,"Font"))))}exportStyleguideSpacings(e){return this.supervisor.exportSpacing(this.getContext(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));let i=0;class o{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach((e=>{Object.defineProperty(this,e,{value(...t){return this.invoke(e,t)}})}))}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",(e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}}))}invoke(e,t){return new Promise(((n,i)=>{const o=this.constructor.getInvocationId();this.callbacks[o]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:o,name:e,args:t}})})).catch((n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n}))}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";n.r(t);var i=n(551);const o={create:function(e,t,n={}){return{get:o=>i.extensionPrefs.get(e,t,o).then((function(e){return null==e?n[o]:e})),getAll:()=>i.extensionPrefs.get(e,t).then((function(e){return Object.assign({},n,e)})),set:(n,o)=>i.extensionPrefs.set(e,t,n,o)}},clear:function(e){return i.extensionPrefs.remove(e)}};t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"serializeData",(function(){return d})),n.d(t,"serializeScreen",(function(){return u})),n.d(t,"serializeComponent",(function(){return h})),n.d(t,"serializeVersion",(function(){return p})),n.d(t,"serializeVariantSection",(function(){return f})),n.d(t,"transformBarrelToObject",(function(){return b})),n.d(t,"findLayerIndexPath",(function(){return g}));var i=n(599),o=n(590),s=n.n(o),a=n(610);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return{model:t,data:e}}function u(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function h(e){const{_id:t,name:n,description:i,latestVersion:o,variant:s}=e;return{model:"Component",data:{id:t,name:n,description:i,latestVersion:o,properties:s&&s.values.map((({propertyId:e,value:t})=>({id:e,value:t})))}}}function p(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=t.snapshot.layers||[];return t.snapshot.layers=n.map((e=>new i.default(e).toObject())),{model:"Version",data:t}}function f(e){const t=e.variant.properties.map((({_id:e,name:t,values:n})=>({id:e,name:t,values:n}))),n=Object(a.collectComponents)([e]).map((e=>h(e).data));return{model:"ComponentVariant",data:{name:e.name,propertyDescriptors:t,components:n}}}function g(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,o]of e.layers.entries()){if(o._id===t)return n.concat(i);const e=g(o,t,n.concat(i));if(e)return e}return null}function m(e,t){let n=t[e],i=n.toObject();const o=i;for(;n;){const e=t[n.parent],o=e?e.toObject():null;n=e,i.parent=o,i=o}return o}function b(e,t,n,i){const o=e.toObject();return o.remPreferences=l(l({},n[0].remPreferences),{},{rootFontSize:n[0].remPreferences.remRootFontSize}),t===s.a.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?o.styleguide=m(e.styleguideLink.styleguide._id,i):t===s.a.STYLEGUIDE&&e.parent&&(o.parent=m(e.parent,i)),o}},function(e,t,n){"use strict";n.r(t);var i=n(600),o=n(601),s=n(602),a=n(603),r=n(606),l=n.n(r),c=n(580),d=n.n(c),u=n(608),h=n(609),p=n.n(h);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new o.default(t.blur)),t.layout&&(t.layout=new p.a(t.layout)),t.borders=t.borders.map((e=>new s.default(e,t.rect.width,t.rect.height))),t.fills=t.fills.map((e=>new a.default(e,t.rect.width,t.rect.height))),t.shadows=t.shadows.map((e=>new u.default(e))),t.textStyles=(t.textStyles||[]).map((e=>{const n=parseInt(e.range.location,10);let i=parseInt(e.range.length,10);1===t.textStyles.length&&0===i&&t.content&&(i=t.content.length);return{range:{start:n,end:n+i},font:new l.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sourceId:t.textStyleSourceId},e.style))}})),t.layers=(t.layers||[]).map((e=>new Layer(e))),t.asset?t.assets=t.asset.contents.map((({densityScale:e,format:t})=>({densityScale:e,format:t}))):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:()=>t.type,set(e){if(-1===m.indexOf(e))throw new TypeError(`Unknown layer type: '${e}'. Possible values: ${JSON.stringify(m)}`);t.type=e}},name:{get:()=>t.name,set(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:()=>t.rotation,set(e){t.rotation=e}},opacity:{get:()=>t.opacity,set(e){if(e<0||e>1)throw new RangeError(`Invalid opacity value: '${e}'. Valid range: [0, 1]`);t.opacity=e}},blendMode:{get:()=>t.blendMode,set(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError(`Unknown blend mode: '${e}'. Possible values: ${JSON.stringify(i.BLEND_MODES)}`);t.blendMode=e}},borderRadius:{get:()=>t.borderRadius,set(e){if(e<0)throw new RangeError(`Invalid radius value: '${e}'. Valid range: [0, ∞)`);t.borderRadius=e}},blur:{get:()=>t.blur,set(e){t.blur=new o.default(e)}},absoluteRect:{get:()=>t.absoluteRect,set(e){t.absoluteRect=e}},rect:{get:()=>t.rect,set(e){t.rect=e}},content:{get:()=>"text"===t.type&&t.content||"",set(e){"text"===t.type&&(t.content=e)}},textStyles:{get:()=>t.textStyles},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId},textStyleSourceId:{value:t.textStyleSourceId},layout:{get:()=>t.layout,set(e){t.layout=new p.a(e)}},layoutGrow:{value:t.layoutGrow},layoutAlignment:{value:t.layoutAlignment},styleName:{value:t.styleName},interactionLevel:{value:t.interactionLevel},parent:{value:t.parent},constraints:{value:t.constraints}})}Layer.prototype=Object.create(d.a.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toJSON=function(e){return"parent"===e?"[Parent]":this},Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map((e=>e.toObject())),fills:this.fills.map((e=>e.toObject())),shadows:this.shadows.map((e=>e.toObject())),textStyles:this.textStyles.map((e=>{var{range:t}=e;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}})),assets:this.assets,layers:this.layers.map((e=>e.toObject())),componentName:this.componentName,styleName:this.styleName,sourceId:this.sourceId,interactionLevel:this.interactionLevel,layoutGrow:this.layoutGrow,layoutAlignment:this.layoutAlignment,constraints:this.constraints};return this.blur&&(e.blur=this.blur.toObject()),this.layout&&(e.layout=this.layout.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some((e=>"gradient"===e.type))},Layer.prototype.hasBlendMode=function(){return this.fills.some((e=>e.blendMode&&"normal"!==e.blendMode))},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach((i=>{var o=t.find((e=>e.font.equals(i.font))),s=i.range.end-i.range.start;o||(o={font:i.font,totalLength:0},t.push(o)),o.totalLength+=s,o.totalLength>n&&(n=o.totalLength,e=o)})),e&&e.font}},t.default=Layer},function(e,t,n){"use strict";n.r(t),n.d(t,"BLEND_MODES",(function(){return i}));var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";n.r(t);var i=n(580),o=n.n(i),s=["gaussian","background"];function a(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}a.prototype=Object.create(o.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(603),o=n(580),s=n.n(o);function a(e,t,n){var o=Object.assign({},e);o.fill=new i.default({fillType:o.fillType,color:o.color,gradient:o.gradient,opacity:o.opacity,blendMode:o.blendMode},t,n),delete o.fillType,delete o.color,delete o.gradient,delete o.opacity,delete o.blendMode,Object.defineProperties(this,{position:{get:function(){return o.position},set:function(e){o.position=e}},thickness:{get:function(){return o.thickness},set:function(e){o.thickness=e}},fill:{get:function(){return o.fill},set:function(e){o.fill=e}}})}a.prototype=Object.create(s.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(600),o=n(584),s=n.n(o),a=n(604),r=n(580),l=n.n(r),c=["color","gradient"];function d(e,t,n){var o=Object.assign({},e);if(o.type=o.fillType,delete o.fillType,"color"===o.type)o.color=new s.a(o.color),delete o.gradient;else{if("gradient"!==o.type)throw new TypeError("Unknown fill type: '"+o.type+"'. Possible values: "+JSON.stringify(c));o.gradient=new a.default(o.gradient,t,n),delete o.color}Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===c.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(c));o.type=e}},color:{get:function(){return o.color},set:function(e){o.type="color",o.color=new s.a(e),delete o.gradient}},gradient:{get:function(){return o.gradient},set:function(e){o.type="gradient",o.gradient=new a.default(e,t,n),delete o.color}},opacity:{get:function(){return o.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");o.opacity=e}},blendMode:{get:function(){return o.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));o.blendMode=e}},fill:{get:function(){return"color"===o.type?this.color:this.gradient},set:function(){}}})}d.prototype=Object.create(l.a.prototype),d.prototype.constructor=d,d.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(605),o=n(580),s=n.n(o),a=["linear","radial","angular"];function r(e,t,n){var o=Object.assign({},e);o.colorStops=o.colorStops.map((function(e){return new i.default(e)})),Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(a));o.type=e},enumerable:!0},from:{get:function(){return o.from},set:function(e){o.from=e},enumerable:!0},to:{get:function(){return o.to},set:function(e){o.to=e},enumerable:!0},angle:{get:function(){return o.angle},set:function(e){o.angle=e},enumerable:!0},scale:{get:function(){return o.scale},set:function(e){o.scale=e},enumerable:!0},colorStops:{value:o.colorStops,enumerable:!0}})}r.prototype=Object.create(s.a.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map((function(e){return e.toObject()}))};return void 0!==this.angle&&(e.angle=this.angle),e},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(584),o=n.n(i),s=n(580),a=n.n(s);function r(e){var t=Object.assign({},e);t.color=new o.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new o.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}r.prototype=Object.create(a.a.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(607),s=i(n(584)),a=i(n(580)),r=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),l=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,c=/(italic|oblique)/gi,d=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function u(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const h=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),p=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const f=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),g=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function m(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,p.EXTRA_LIGHT.toString()).replace(/heavy/i,p.EXTRA_BOLD.toString()):e}(e);const n=t.match(l);let i;if(n){const e=n[n.length-1];t=u(t,e),i=function(e){return/black|heavy|900/gi.test(e)?p.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?p.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?p.SEMI_BOLD:/bold|700/gi.test(e)?p.BOLD:/medium|500/gi.test(e)?p.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?p.EXTRA_LIGHT:/light|300/gi.test(e)?p.LIGHT:/thin|hairline|100/gi.test(e)?p.THIN:p.REGULAR}(e.toLowerCase())}else i=p.REGULAR;const o=t.match(c);let s;o?(s=o[o.length-1],t=u(t,s),s=s.toLowerCase()):s="normal";const a=t.match(d);let r;if(a){const e=a[a.length-1];t=u(t,e),r=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?g.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?g.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?g.SEMI_CONDENSED:/condensed/i.test(e)?g.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?g.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?g.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?g.SEMI_EXPANDED:/expanded/i.test(e)?g.EXPANDED:g.NORMAL}(e.toLowerCase())}else r=g.NORMAL;return{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:s,weight:i,stretch:r}}class Font extends a.default{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:o,fontFace:a,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:h,color:f}=e;let b,S,y,v;this.id=t||n,this.sourceId=i,this.name=o,this.fontFace=a,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=f&&new s.default(f),h?(this.fontVariationSettings=h,b=a,({style:S,weight:y,stretch:v}=function(e){const t=r.WEIGHT in e?e[r.WEIGHT]:p.REGULAR,n=r.WIDTH in e?e[r.WIDTH]:g.NORMAL;let i;return i=r.SLANT in e?`oblique ${e[r.SLANT]}deg`:e[r.ITALIC]?"italic":"normal",{style:i,weight:t,stretch:n}}(h))):({family:b,style:S,weight:y,stretch:v}=m(a)),this.fontFamily=b,this.fontStyle=S,this.fontWeight=y,this.fontStretch=v}get weightText(){var e;return null!==(e=h[this.fontWeight])&&void 0!==e?e:String(this.fontWeight)}get stretchText(){var e;return null!==(e=f[this.fontStretch])&&void 0!==e?e:String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every((([t,n])=>o.isAlmostEqual(e[t],n)))}equals(e){const t=this.fontFamily===e.fontFamily&&o.isAlmostEqual(this.fontSize,e.fontSize)&&o.isAlmostEqual(this.lineHeight,e.lineHeight)&&o.isAlmostEqual(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&o.isAlmostEqual(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||o.isAlmostEqual(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||o.isAlmostEqual(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}t.default=Font},function(e,t,n){"use strict";n.r(t),n.d(t,"clamp",(function(){return i})),n.d(t,"round",(function(){return o})),n.d(t,"toPercentage",(function(){return s})),n.d(t,"percentageLength",(function(){return a})),n.d(t,"isAlmostEqual",(function(){return r})),n.d(t,"toRemSize",(function(){return l})),n.d(t,"mod",(function(){return c}));function i(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function s(e,t){return 100*e/t+"%"}function a(e,t){return`${o(100*e/t,1)}%`}function r(e,t,n=1e-4){return e===t||Math.abs(e-t)<n}function l(e,t){return o(e/t,3)+"rem"}function c(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";n.r(t);var i=n(584),o=n.n(i),s=n(580),a=n.n(s),r=["outer","inner"];function l(e){var t=Object.assign({},e);t.color=new o.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(r));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new o.a(e)}}})}l.prototype=Object.create(a.a.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.default=l},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDistribution=t.LayoutAlignment=t.LayoutSizingMode=t.LayoutDirection=void 0;const o=i(n(580));!function(e){e.ROW="row",e.COLUMN="column"}(t.LayoutDirection||(t.LayoutDirection={})),function(e){e.FIXED="fixed",e.AUTO="auto"}(t.LayoutSizingMode||(t.LayoutSizingMode={})),function(e){e.MIN="min",e.CENTER="center",e.MAX="max",e.STRETCH="stretch",e.INHERIT="inherit"}(t.LayoutAlignment||(t.LayoutAlignment={})),function(e){e.CENTER="center",e.MAX="max",e.MIN="min",e.SPACE_BETWEEN="space-between"}(t.LayoutDistribution||(t.LayoutDistribution={}));class s extends o.default{constructor({direction:e,padding:t,gap:n,sizingMode:i,itemAlignment:o,distribution:s,alignment:a}){super(),this.direction=e,this.padding=t,this.gap=n,this.sizingMode=i,this.alignment=a,this.itemAlignment=o,this.distribution=s}toObject(){return{direction:this.direction,padding:this.padding,gap:this.gap,sizingMode:this.sizingMode,alignment:this.alignment,itemAlignment:this.itemAlignment,distribution:this.distribution}}}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"isThereAnyMentionedUser",(function(){return c})),n.d(t,"validateId",(function(){return d})),n.d(t,"isOrganizationProject",(function(){return h})),n.d(t,"getDeveloperString",(function(){return m})),n.d(t,"getPlatformString",(function(){return S})),n.d(t,"normalizeObjCColor",(function(){return p})),n.d(t,"normalizeSwiftColor",(function(){return f})),n.d(t,"alphaFormatter",(function(){return C})),n.d(t,"formatTime",(function(){return P})),n.d(t,"formatTimeWithGenericOptions",(function(){return I})),n.d(t,"getUserRoleString",(function(){return D})),n.d(t,"getRoleIconName",(function(){return k})),n.d(t,"getDensityScale",(function(){return A})),n.d(t,"getMostConformingTextStyle",(function(){return w})),n.d(t,"debounce",(function(){return y})),n.d(t,"debouncePromise",(function(){return O})),n.d(t,"stopPropagation",(function(){return N})),n.d(t,"preventDefault",(function(){return L})),n.d(t,"collectComponents",(function(){return M})),n.d(t,"formatCurrency",(function(){return T})),n.d(t,"formatList",(function(){return _})),n.d(t,"calculateOverlayIcon",(function(){return B})),n.d(t,"pipe",(function(){return V})),n.d(t,"getStateUpdateFunction",(function(){return z})),n.d(t,"throttle",(function(){return v}));var i=n(34),o=n(583),s=n(611);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){const n=e.filter((({user:{username:e}})=>e&&e!==Zeplin.user.username)).map((({user:{username:e}})=>e)).join("|");return new RegExp(`@(?:${n})\\b`,"gi").test(t)}function d(e,t="object"){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||(i.withScope((n=>{n.setExtra("id",e),i.captureException(new Error(`Invalid ${t} id`))})),!1)}n.d(t,"fontSort",(function(){return s.fontSort})),n.d(t,"permissions",(function(){return s.permissions})),n.d(t,"getDensityScaleRepresentation",(function(){return s.getDensityScaleRepresentation})),n.d(t,"filterOut",(function(){return s.filterOut}));const u=["king","queen","rook","knight","pawn"];function h(e){return!e.users.length||u.includes(e.users[0].role)}function p(e){return(e=Math.round(e))?255===e?"1.0f ":`${e}.0f / 255.0f `:"0.0f "}function f(e){return(e=Math.round(e))?255===e?"1.0, ":`${e}.0 / 255.0, `:"0.0, "}const g={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function m(e){return g[e]}const b=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});function S(e){return b[e]}function y(e,t){let n;return function(...i){const o=this;n?cancelAnimationFrame(n):t&&e.apply(o,i),n=requestAnimationFrame((function(){t||e.apply(o,i),n=null}))}}function v(e,t){let n=!1;return function(...i){n||(e.apply(this,i),n=!0,setTimeout((()=>{n=!1}),t))}}function O(e,t=1e3){let n=null,i=null;return function(...o){return clearTimeout(n),n=setTimeout((()=>{const t=e(...o);i(t),i=null}),t),new Promise((e=>{i=e}))}}var C=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function T(e){return E.format(e)}function _(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function P(e,t){var n=new Intl.DateTimeFormat("en",t),{timeZone:i}=n.resolvedOptions();return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function I(e){return P(e,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}var j={king:"Owner",queen:"Admin",rook:"Editor",knight:"Developer",pawn:"Reviewer",owner:"Owner",admin:"Admin",user:"Member"};function D(e){return j[e]||""}function k(e){return`ic${Object(o.uppercaseFirst)(e)}`}const R=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function A(e){return R[e]}function w(e,t){const n=e.reduce(((e,n)=>{const{id:i,name:o,textStyles:s,isMember:a,isOrganizationBarrel:l}=n,c=function(e,t){return e.reduce(((e,n)=>{if(t.sourceId&&n.sourceId&&t.sourceId===n.sourceId)return{textStyle:n,score:1e3};if(!t.conforms(n))return e;const i=Object.keys(n).filter((e=>void 0!==n[e])).length;return i>e.score?{textStyle:n,score:i}:e}),{textStyle:null,score:0})}(s,t);return c.score>e.score?r({styleguideId:i,styleguideName:o,isMember:a,isOrganizationBarrel:l},c):e}),{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:o,textStyle:s,isMember:a,isOrganizationBarrel:l}=n;return r({styleguideId:i,styleguideName:o,isMember:a,isOrganizationBarrel:l},s)}function N(e){e.stopPropagation()}function L(e){e.preventDefault()}function M(e=[]){return[].concat(...e.map((e=>e.components.concat(M(e.componentSections)))))}const x=document.createElement("canvas");function U(e){return e/2*window.devicePixelRatio}function B(){x.width=16*window.devicePixelRatio,x.height=x.width;const e=x.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(U(16),U(16),U(13),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(U(16),U(16),U(2),0,6.28,!1),e.fill(),x.toDataURL()}function V(...e){return e.reduce(((e,t)=>n=>t(e(n))),(e=>e))}function z(e){return t=>Object.keys(e).reduce(((n,i)=>(t[i]===e[i]||(n||(n={}),n[i]=e[i]),n)),null)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=t.getDensityScaleRepresentation=t.fontSort=t.filterOut=void 0;const o=i(n(612));t.filterOut=function(e,t){const n=Object.assign({},e);return delete n[t],n},t.fontSort=function(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1};const s=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});t.getDensityScaleRepresentation=function(e,t){return t?"android"===e?s[t]:`${t}x`:"unknown"};const a=["user","admin","owner","pawn","knight","rook","queen","king"],r=e=>t=>((e,t)=>{if(!e)return!1;const n="string"==typeof e?e:e.role;return t.includes(n)})(t,e),l={isSuperior(e,t,n){const i=a.indexOf(e.role),o=a.indexOf(t.role);return n&&i===o||i>o},canTransferOwnership:r(o.default.canTransferOwnership),canReceiveOwnership:r(o.default.canReceiveOwnership),canLeaveProject:r(o.default.canLeaveProject),canCreateProject:r(o.default.canCreateProject),canUpdateProject:r(o.default.canUpdateProject),canCreateProjectSection:r(o.default.canCreateProjectSection),canChangeProjectAccesibility:r(o.default.canChangeProjectAccesibility),canChangeProjectStatus:r(o.default.canChangeProjectStatus),canDeleteProject:r(o.default.canDeleteProject),canCreateStyleguide:r(o.default.canCreateStyleguide),canDeleteStyleguide:r(o.default.canDeleteStyleguide),canLeaveStyleguide:r(o.default.canLeaveStyleguide),canUpdateStyleguide:r(o.default.canUpdateStyleguide),canChangeStyleguideStatus:r(o.default.canChangeStyleguideStatus),canManageScreens:r(o.default.canManageScreens),canMoveScreens:r(o.default.canMoveScreens),canRemoveVersions:r(o.default.canRemoveVersions),canManageColors:r(o.default.canManageColors),canManageTextStyles:r(o.default.canManageTextStyles),canManageSpacings:r(o.default.canManageSpacings),canRemoveNotes:r(o.default.canRemoveNotes),canRemoveExtensions:r(o.default.canRemoveExtensions),canManageRemSettings:r(o.default.canManageRemSettings),canManageWorkflowStatuses:r(o.default.canManageWorkflowStatuses),canMoveResources:r(o.default.canMoveResources),canManageWebhooks:r(o.default.canManageWebhooks),canChangePlan:r(o.default.canChangePlan),canCopyBarrel:r(o.default.canCopyBarrel),canSeeOthersEmail:r(o.default.canSeeOthersEmail)};t.permissions=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Object.freeze({canTransferOwnership:["king","queen","owner","admin"],canReceiveOwnership:["king","queen","owner","rook"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canCreateProjectSection:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canRemoveVersions:["king","queen","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canManageSpacings:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canManageRemSettings:["king","queen","rook","knight","owner","admin","user"],canManageWorkflowStatuses:["king","queen","rook","owner","admin","user"],canCopyBarrel:["king","queen","owner","rook"],canMoveResources:["king","queen","rook","owner","admin","user"],canManageWebhooks:["king","queen","owner","admin"],canChangePlan:["king","queen","owner","admin"],canSeeOthersEmail:["king","queen","owner","admin"]})},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(614);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{open:!1,targetNode:null,resourceId:null,resourceType:null}}open(e,{targetNode:t,resourceId:n,resourceType:i}){return r(r({},e),{},{open:!0,targetNode:t,resourceId:n,resourceType:i})}close(e){return r(r({},e),{},{open:!1,targetNode:null,resourceId:null,resourceType:null})}reduce(e,t){switch(t.type){case s.default.OPEN:return this.open(e,t);case s.default.CLOSE:return this.close(e);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={OPEN:"moveResources/open",CLOSE:"moveResources/close",MOVE:"moveResources/move"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(572)),a=i(n(569));class r extends o.default{constructor(e){super(e)}getInitialState(){return{notifications:[],loading:null,error:null}}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}getNotificationsSuccess(e,{notifications:t}){return Object.assign({},e,{notifications:t,loading:!1})}getNotificationsFailed(e,{error:t}){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,{notification:t}){var n;const i=e.notifications.find((({_id:e})=>e===t._id)),o=[Object.assign(Object.assign({},t),{events:[...t.events,...null!==(n=null==i?void 0:i.events)&&void 0!==n?n:[]]}),...e.notifications.filter((({_id:e})=>e!==t._id))];return Object.assign(Object.assign({},e),{notifications:o})}setReadStatus(e,t,n){let i=e;for(const{_id:o,events:s}of t)i=this.setEventReadStatus(i,o,s.map((e=>e._id)),n);return i}setReadStatusById(e,{nids:t,markedAsRead:n}){const i=e.notifications.map((e=>t.includes(e._id)?Object.assign(Object.assign({},e),{events:e.events.map((e=>Object.assign(Object.assign({},e),{markedAsRead:n})))}):e));return Object.assign(Object.assign({},e),{notifications:i})}restoreReadStatus(e,{notifications:t}){const n=e.notifications.map((e=>{const n=t.find((({_id:t})=>t===e._id));return n?Object.assign(Object.assign({},e),{events:e.events.map((e=>{const t=n.events.find((({_id:t})=>t===e._id));return t?Object.assign(Object.assign({},e),{markedAsRead:t.markedAsRead}):e}))}):e}));return Object.assign(Object.assign({},e),{notifications:n})}setEventReadStatus(e,t,n,i){const o=e.notifications.map((e=>{if(t!==e._id)return e;const o=e.events.map((e=>n.includes(e._id)?Object.assign(Object.assign({},e),{markedAsRead:i}):e));return Object.assign(Object.assign({},e),{events:o})}));return Object.assign(Object.assign({},e),{notifications:o})}deleteEvent(e,{nid:t,eventId:n}){const i=e.notifications.map((e=>{if(t!==e._id)return e;const i=e.events.filter((({_id:e})=>e!==n));return Object.assign(Object.assign({},e),{events:i})})).filter((({events:{length:e}})=>e));return Object.assign(Object.assign({},e),{notifications:i})}selectNotification(e,{activity:t,eventIds:n,options:{autoSelect:i}}){return i?e:this.setEventReadStatus(e,t._id,n,!0)}reduce(e,t){switch(t.type){case s.default.GetNotificationsRequested:return this.getNotificationsRequested(e);case s.default.GetNotificationsSuccess:return this.getNotificationsSuccess(e,t);case s.default.GetNotificationsFailed:return this.getNotificationsFailed(e,t);case s.default.AddNotification:return this.addNotification(e,t);case s.default.MarkAllAsRead:return this.setReadStatus(e,t.notifications,!0);case s.default.SetReadStatusOfflineByNotifications:return this.setReadStatus(e,t.notifications,t.markedAsRead);case s.default.RestoreReadStatus:return this.restoreReadStatus(e,t);case s.default.SetReadStatusOffline:return this.setReadStatusById(e,t);case s.default.SetEventReadStatus:return this.setEventReadStatus(e,t.notification._id,t.eventIds,t.markedAsRead);case s.default.SetEventReadStatusOffline:return this.setEventReadStatus(e,t.nid,t.eventIds,t.markedAsRead);case s.default.DeleteEvent:return this.deleteEvent(e,t);case a.default.Select:return this.selectNotification(e,t);default:return e}}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(617)),a=i(n(618)),r=i(n(619)),l=i(n(620)),c=i(n(571)),d=i(n(575)),u=i(n(621)),h=i(n(622)),p=i(n(590)),f=n(624),g=i(n(623)),m=n(626),b=n(586);let S=0;class y extends o.default{getInitialState(){return{loading:!0,loadingProfiles:!0,loadingBarrels:!0,loadingOrganization:!0,error:null,organizations:[],organizationProfiles:{},organizationProjects:{},organizationStyleguides:{},focusedBarrels:{},dialogDismissStates:{}}}reset(){return this.getInitialState()}load(e,{data:{organization:t,organizations:n,organizationProfiles:i,organizationProjects:o,organizationStyleguides:s},barrel:{organizationId:a}}){let r=Object.assign(Object.assign({},e),{loading:!1});return n&&(r=this.getOrganizationsSuccess(r,n)),t&&(r=this.addOrganization(r,t)),i&&(r=this.getOrganizationMemberProfilesSuccess(r,i)),o&&(r=this.loadOrganizationProjects(r,{projects:o,oid:a})),s&&(r=this.loadOrganizationStyleguides(r,{styleguides:s,oid:a})),r}addOrganization(e,t){const n=e.organizations.find((({_id:e})=>e===t._id)),i=n?new u.default(Object.assign(Object.assign({},n),t)):new u.default(t);return Object.assign(Object.assign({},e),{organizations:e.organizations.filter((({_id:e})=>e!==t._id)).concat(i),loadingOrganization:!1})}addOrganizationWorkflowStatus(e,{oid:t,workflowStatusData:n}){var i;const o=e.organizations.find((({_id:e})=>e===t)),s=null!==(i=o.workflowStatuses.find((({_id:e})=>e===n._id&&e.startsWith("newWorkflowStatusId"))))&&void 0!==i?i:{},a=o.workflowStatuses.map((e=>e._id===s._id?new h.default(n):e));return s._id||a.push(new h.default(n)),Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{workflowStatuses:a})):e))})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),n)):e)),loadingOrganization:!1})}updateOrganizationProfile(e,{id:t,organizationProfile:n}){const i=e.organizationProfiles[t];if(!i)return e;const o=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:o})})}updateOrganizationSubscription(e,{oid:t,plan:n}){const i=e.organizations.find((({_id:e})=>e===t));return i?this.updateOrganization(e,i._id,{paymentPlan:n}):e}updateOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:o}){const s=new h.default(Object.assign(Object.assign({},o),i));return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{workflowStatuses:e.workflowStatuses.map((e=>e._id===n?s:e))})):e))})}removeOrganization(e,{id:t}){return Object.assign({},e,{organizations:e.organizations.filter((e=>e._id!==t))})}deleteOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n}){return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{workflowStatuses:e.workflowStatuses.filter((({_id:e})=>e!==n))})):e))})}getOrganizationsSuccess(e,t){return Object.assign(Object.assign({},e),{organizations:t.map((e=>new u.default(e))),loading:!1})}getOrganizationSuccess(e,{organization:t}){if(!t)return Object.assign(Object.assign({},e),{loadingOrganization:!1});return e.organizations.find((({_id:e})=>e===t._id))?this.updateOrganization(e,t._id,t):this.addOrganization(e,t)}getOrganizationSectionsSuccess(e,{sections:t,oid:n}){const i=e.organizations.find((({_id:e})=>e===n));return i?this.updateOrganization(e,i._id,{sections:t}):e}organizationMembersRequested(e,{oid:t}){const n=e.organizations.find((({_id:e})=>e===t));return n?this.updateOrganization(e,n._id,{membersLoading:!0,membersError:null,members:null}):e}getOrganizationMembersSuccess(e,{organizationMembers:t}){const{_id:n,members:i}=t||{},o=e.organizations.find((({_id:e})=>e===n));return o?this.updateOrganization(e,o._id,{membersLoading:!1,members:i}):e}getOrganizationMembersFailed(e,{oid:t,error:n}){const i=e.organizations.find((({_id:e})=>e===t));return i?this.updateOrganization(e,i._id,{membersLoading:!1,membersError:n}):e}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return Object.assign(Object.assign({},e),{organizationProfiles:Object.assign(Object.assign({},e.organizationProfiles),{[n]:t})})}addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i,index:o}){const s=e.organizations.find((({_id:e})=>e===n));if(!(null==s?void 0:s.sections))return e;const a=i?s.sections.find((e=>e._id===i)):s.sections[0];return!a||a.projects.includes(t)?e:Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===n?new u.default(Object.assign(Object.assign({},e),{sections:e.sections.map((e=>{if(e._id===a._id){const n=[...e.projects];return o?n.splice(o,0,t):n.push(t),new g.default(Object.assign(Object.assign({},e),{projects:n}))}return e}))})):e))})}addBarrel(e,{barrel:{_id:t},oid:n,oseid:i,index:o,barrelType:s}){if(!n)return e;const{organizationProjects:a,organizationStyleguides:r}=e;let l=e;if(s===p.default.PROJECT){l=this.addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i,index:o});const s=a[n];if(s&&!s.includes(t))return Object.assign(Object.assign({},l),{organizationProjects:Object.assign(Object.assign({},a),{[n]:[...s,t]})})}else{const i=r[n];if(i&&!i.includes(t)){const s=[...i];return o?s.splice(o,0,t):s.push(t),Object.assign(Object.assign({},e),{organizationStyleguides:Object.assign(Object.assign({},r),{[n]:s})})}}return l}removeProjectFromOrganizationSection(e,{pid:t,oid:n,oseid:i}){const o=e.organizations.find((({_id:e})=>e===n)),{sectionIds:s,sections:a}=Object.assign({},o)||{};if(!a)return e;const r=a.find((e=>e._id===i));return r?(f.arrayRemove(r.projects,(e=>e===t)),this.sortAndPurgeEmptySections(e,{oid:n,sections:a,sectionIds:s})):e}removeBarrel(e,{bid:t,oid:n,oseid:i}){if(!n)return e;const{organizationProjects:o,organizationStyleguides:s}=e;let a=e;i&&(a=this.removeProjectFromOrganizationSection(e,{oid:n,pid:t,oseid:i}));const r=o[n];if(null==r?void 0:r.includes(t))return Object.assign(Object.assign({},a),{organizationProjects:Object.assign(Object.assign({},o),{[n]:r.filter((e=>e!==t))})});const l=s[n];return(null==l?void 0:l.includes(t))?Object.assign(Object.assign({},a),{organizationStyleguides:Object.assign(Object.assign({},s),{[n]:l.filter((e=>e!==t))})}):a}loadOrganizationProjects(e,{projects:t,oid:n}){return Object.assign(Object.assign({},e),{organizationProjects:Object.assign(Object.assign({},e.organizationProjects),{[n]:t.map((e=>e._id))}),loadingBarrels:!1})}transferOrganizationProject(e,{bid:t,targetId:n,toOrganization:i,oid:o,oseid:s}){if(!i&&"user"===o)return e;const a=this.removeBarrel(e,{bid:t,oid:o,oseid:s}),r="user"===o?a:this.removeBarrelFromFocus(a,{bid:t,oid:o});return this.addBarrel(r,{barrel:{_id:t},oid:i?n:"user",barrelType:p.default.PROJECT})}loadOrganizationStyleguides(e,{styleguides:t,oid:n}){return Object.assign(Object.assign({},e),{organizationStyleguides:Object.assign(Object.assign({},e.organizationStyleguides),{[n]:t.map((e=>e._id))}),loadingBarrels:!1})}transferOrganizationStyleguide(e,{affectedIds:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const{organizationStyleguides:s}=e,a=s[o],r=i?n:"user",l=s[r];return Object.assign(Object.assign({},e),{organizationStyleguides:{[o]:a.filter((e=>!t.includes(e))),[r]:l&&[...l,...t]}})}setWorkspaceLoading(e,{updateState:{selectedOrganizationId:t}}){if(!t)return e;const{organizationProjects:n,organizationStyleguides:i}=e,o=!n[t]||!i[t];let s=!1;if("user"!==t){const n=e.organizations.find((({_id:e})=>e===t));s=!n||!n.complete}return Object.assign(Object.assign({},e),{loadingBarrels:o,loadingOrganization:s})}getFocusedBarrelsSuccess(e,{focusedBarrels:t,oid:n}){return t?Object.assign(Object.assign({},e),{focusedBarrels:Object.assign(Object.assign({},e.focusedBarrels),{[n]:t})}):e}addBarrelToFocus(e,{oid:t,bid:n,barrelType:i,shouldPopOldestBarrel:o}){const s=e.focusedBarrels[t];if(!s)return e;const a=s.filter((({unpinned:e})=>!e));return a.some((({barrelId:e})=>e===n))?e:(o&&a.shift(),Object.assign(Object.assign({},e),{focusedBarrels:Object.assign(Object.assign({},e.focusedBarrels),{[t]:[...a,{barrelType:i,barrelId:n}]})}))}removeBarrelFromFocus(e,{oid:t,bid:n,poppedBarrel:i}){const o=e.focusedBarrels[t];if(!o)return e;const s=o.slice();return i&&s.unshift(i),Object.assign(Object.assign({},e),{focusedBarrels:Object.assign(Object.assign({},e.focusedBarrels),{[t]:s.filter((({barrelId:e})=>e!==n))})})}unpinBarrelFromFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return Object.assign(Object.assign({},e),{focusedBarrels:Object.assign(Object.assign({},e.focusedBarrels),{[t]:i.map((e=>e.barrelId===n?Object.assign(Object.assign({},e),{unpinned:!0}):e))})})}removeArchivedBarrelFromFocus(e,{bid:t}){return Object.keys(e.focusedBarrels).reduce(((e,n)=>this.removeBarrelFromFocus(e,{oid:n,bid:t})),e)}repinBarrelToFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return Object.assign(Object.assign({},e),{focusedBarrels:{[t]:i.map((e=>e.barrelId===n?Object.assign(Object.assign({},e),{unpinned:!1}):e))}})}removeUnjoinedBarrels(e,{oid:t,remainingProjects:n,remainingStyleguides:i}){const o=this.updateMemberAccessibility(e,{oid:t,restricted:!0});return Object.assign(Object.assign({},o),{organizationProjects:Object.assign(Object.assign({},o.organizationProjects),{[t]:n}),organizationStyleguides:Object.assign(Object.assign({},o.organizationStyleguides),{[t]:i})})}updateMemberAccessibility(e,{oid:t,restricted:n=!1}){return Object.assign(Object.assign({},e),{organizationProfiles:Object.assign(Object.assign({},e.organizationProfiles),{[t]:Object.assign(Object.assign({},e.organizationProfiles[t]),{restricted:n})})})}updateMemberTags(e,{oid:t,mid:n,operation:i,tags:o}){var s;const a=e.organizations.find((({_id:e})=>e===t));if(!a)return e;const r=null===(s=a.members)||void 0===s?void 0:s.find((({user:{_id:e}})=>e===n));if(!r)return e;let l=[];return"add"===i?l=r.tags.concat(o):"remove"===i&&(l=r.tags.filter((e=>!o.includes(e)))),Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>{if(e._id!==t)return e;const i=(e.members||[]).map((e=>e.user._id!==n?e:Object.assign(Object.assign({},e),{tags:l})));return new u.default(Object.assign(Object.assign({},e),{members:i}))}))})}updateMemberData(e,{uid:t,userData:n}){return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>{if(!e.members)return e;const i=e.members.map((e=>e.user._id!==t?e:Object.assign(Object.assign({},e),{user:Object.assign(Object.assign({},e.user),n)})));return new u.default(Object.assign(Object.assign({},e),{members:i}))}))})}sortAndPurgeEmptySections(e,{oid:t,sections:n,sectionIds:i}){const o=e.organizationProjects[t],s=e.organizationProfiles[t],a=i.map(((e,t)=>{const i=n.find((t=>t._id===e));return i&&s.restricted&&t>0&&!i.projects.some((e=>o.includes(e)))?null:i})).filter(b.exists);return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sections:a,sectionIds:i})):e))})}addProjectSection(e,{oid:t,index:n,sectionData:i,dialogDismissParams:o}){var s;const a=e.organizations.find((({_id:e})=>e===t)),{sectionIds:r,sections:l}=Object.assign({},a)||{};if(!r)return e;null===(s=i.projects)||void 0===s||s.forEach((e=>{const t=l.find((t=>t.projects.includes(e)));t&&f.arrayRemove(t.projects,(t=>t===e))}));const c=new g.default(i);c._id||(c._id=m.TEMPORARY_PROJECT_SECTION_ID,c.newSection=!Object.prototype.hasOwnProperty.call(i,"newSection")||i.newSection,c.key="newProjectSection-"+S++),c._id!==m.TEMPORARY_PROJECT_SECTION_ID&&r.includes(c._id)||r.splice(n,0,c._id),l.push(c);const d=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(d,{oid:t,sections:l,sectionIds:r})}addProjectSectionId(e,{oid:t,index:n,oseid:i}){const o=e.organizations.find((({_id:e})=>e===t)),{sectionIds:s}=Object.assign({},o)||{};return s.splice(n,0,i),Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sectionIds:s})):e))})}updateProjectSection(e,{oid:t,oseid:n,sectionData:i}){const o=e.organizations.find((({_id:e})=>e===t)),{sections:s,sectionIds:a}=Object.assign({},o)||{};if(!s)return e;return Object.assign({},s.find((e=>e._id===n)))?Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sections:s.map((e=>e._id===n?new g.default(Object.assign(Object.assign({},e),i)):e)),sectionIds:a.map((e=>e===n&&i._id&&i._id!==e?i._id:e))})):e))}):e}removeProjectSection(e,{oid:t,oseid:n}){const i=e.organizations.find((({_id:e})=>e===t)),{sectionIds:o,sections:s}=Object.assign({},i)||{};if(!o)return e;const a=Object.assign({},s[0]),r=s.find((({_id:e})=>e===n));return r&&a.projects.push(...r.projects),Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sections:s.map(((e,t)=>0===t?a:e._id===n?null:e)).filter(b.exists),sectionIds:o.filter((e=>e!==n))})):e))})}updateProjectSectionOrder(e,{oid:t,oseid:n,index:i,dialogDismissParams:o}){const s=e.organizations.find((({_id:e})=>e===t)),{sectionIds:a,sections:r}=Object.assign({},s);if(!a)return e;const l=a.indexOf(n);if(l<0)return e;a.splice(l,1),a.splice(i,0,n);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:r,sectionIds:a})}updateProjectOrder(e,{oid:t,oseid:n,index:i,projects:o,dialogDismissParams:s}){const a=e.organizations.find((({_id:e})=>e===t)),r=e.organizationProjects[t],l=e.organizationProfiles[t],{sections:c,sectionIds:d}=Object.assign({},a);if(!r||!l||!c)return e;o.forEach((e=>{const t=c.find((t=>t.projects.includes(e)));t&&f.arrayRemove(t.projects,(t=>t===e))}));const u=c.find((e=>e._id===n));if(!u)return e;u.projects.splice(i,0,...o);const h=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:s});return this.sortAndPurgeEmptySections(h,{oid:t,sections:c,sectionIds:d})}addSectionLink(e,{oid:t,oseid:n,linkData:i}){const o=e.organizations.find((({_id:e})=>e===t));if(!o.sections)return e;const s=o.sections.find((({_id:e})=>e===n));if(!s)return e;const a=new g.default(Object.assign(Object.assign({},s),{links:[...s.links,i]})),r=o.sections.map((e=>e._id===n?a:e));return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sections:r})):e))})}updateSectionLink(e,{oid:t,oseid:n,oselid:i,linkData:o}){const s=e.organizations.find((({_id:e})=>e===t));if(!s.sections)return e;const a=s.sections.find((({_id:e})=>e===n));if(!a)return e;const r=a.links.map((e=>e._id===i?o:e)),l=new g.default(Object.assign(Object.assign({},a),{links:r})),c=s.sections.map((e=>e._id===n?l:e));return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sections:c})):e))})}removeSectionLink(e,{oid:t,oseid:n,oselid:i}){const o=e.organizations.find((({_id:e})=>e===t));if(!o.sections)return e;const s=o.sections.find((({_id:e})=>e===n));if(!s)return e;const a=s.links.filter((e=>e._id!==i)),r=new g.default(Object.assign(Object.assign({},s),{links:a})),l=o.sections.map((e=>e._id===n?r:e));return Object.assign(Object.assign({},e),{organizations:e.organizations.map((e=>e._id===t?new u.default(Object.assign(Object.assign({},e),{sections:l})):e))})}updateDialogDismissStates(e,{oid:t,dialogDismissParams:n}){return n?Object.assign(Object.assign({},e),{dialogDismissStates:Object.assign(Object.assign({},e.dialogDismissStates),{[t]:Object.assign(Object.assign({},e.dialogDismissStates[t]),n)})}):e}loadWorkspaceData(e,t){const n=this.getOrganizationsSuccess(e,t.organizations),i=t.organizationProfiles?this.getOrganizationMemberProfilesSuccess(n,t.organizationProfiles):n,o=this.getOrganizationSuccess(i,t),s=this.getFocusedBarrelsSuccess(o,t),a=this.loadOrganizationProjects(s,t),r=this.updateDialogDismissStates(a,t);return this.loadOrganizationStyleguides(r,t)}hydrateEmbeddedData(e,{organization:t,projects:n,oid:i,styleguides:o,focusedBarrels:s,organizationProfiles:a}){let r=e;return t&&(r=this.addOrganization(e,t)),n&&i&&(r=this.loadOrganizationProjects(r,{projects:n,oid:i})),o&&i&&(r=this.loadOrganizationStyleguides(r,{styleguides:o,oid:i})),s&&i&&(r=this.getFocusedBarrelsSuccess(r,{focusedBarrels:s,oid:i})),a&&(r=this.getOrganizationMemberProfilesSuccess(r,a)),r}reduce(e,t){switch(t.type){case l.default.UPDATE_PAGE_STATE:return this.setWorkspaceLoading(e,t);case d.default.LOAD:return this.load(e,t);case d.default.ADD:return this.addBarrel(e,t);case d.default.REMOVE:return this.removeBarrel(e,t);case d.default.REMOVE_MEMBER:return t.shouldRemoveBarrel?this.removeBarrel(e,t):e;case d.default.ARCHIVE:return this.removeArchivedBarrelFromFocus(e,t);case a.default.GET_PROJECTS_SUCCESS:return this.loadOrganizationProjects(e,t);case r.default.GET_STYLEGUIDES_SUCCESS:return this.loadOrganizationStyleguides(e,t);case a.default.TRANSFER_OWNERSHIP:case r.default.TRANSFER_OWNERSHIP:case d.default.OWNERSHIP_TRANSFERRED:return t.affectedIds?this.transferOrganizationStyleguide(e,t):this.transferOrganizationProject(e,t);case s.default.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case s.default.ADD_ORGANIZATION_WORKFLOW_STATUS:return this.addOrganizationWorkflowStatus(e,t);case s.default.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case s.default.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t);case s.default.UPDATE_ORGANIZATION_SUBSCRIPTION:return this.updateOrganizationSubscription(e,t);case s.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:return this.updateOrganizationWorkflowStatus(e,t);case s.default.REMOVE_ORGANIZATION:return this.removeOrganization(e,t);case s.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.deleteOrganizationWorkflowStatus(e,t);case s.default.GET_ORGANIZATION_SECTIONS_SUCCESS:return this.getOrganizationSectionsSuccess(e,t);case s.default.ORGANIZATION_MEMBERS_REQUESTED:return this.organizationMembersRequested(e,t);case s.default.GET_ORGANIZATION_MEMBERS_SUCCESS:return this.getOrganizationMembersSuccess(e,t);case s.default.GET_ORGANIZATION_MEMBERS_FAILED:return this.getOrganizationMembersFailed(e,t);case s.default.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case s.default.ADD_BARREL_TO_FOCUS:return this.addBarrelToFocus(e,t);case s.default.UNPIN_BARREL_FROM_FOCUS:return this.unpinBarrelFromFocus(e,t);case s.default.REMOVE_BARREL_FROM_FOCUS:return this.removeBarrelFromFocus(e,t);case s.default.REPIN_BARREL_TO_FOCUS:return this.repinBarrelToFocus(e,t);case s.default.REMOVE_UNJOINED_BARRELS:return this.removeUnjoinedBarrels(e,t);case s.default.GET_BARRELS:return this.updateMemberAccessibility(e,t);case s.default.UPDATE_MEMBER_TAGS:return this.updateMemberTags(e,t);case d.default.UPDATE_USER_DATA:return this.updateMemberData(e,t);case s.default.ADD_PROJECT_SECTION:return this.addProjectSection(e,t);case s.default.UPDATE_PROJECT_SECTION:return this.updateProjectSection(e,t);case s.default.REMOVE_PROJECT_SECTION:return this.removeProjectSection(e,t);case s.default.UPDATE_PROJECT_SECTION_ORDER:return this.updateProjectSectionOrder(e,t);case s.default.UPDATE_PROJECT_ORDER:return this.updateProjectOrder(e,t);case s.default.ADD_SECTION_LINK:return this.addSectionLink(e,t);case s.default.UPDATE_SECTION_LINK:return this.updateSectionLink(e,t);case s.default.REMOVE_SECTION_LINK:return this.removeSectionLink(e,t);case c.default.LOAD_WORKSPACE_DATA:return this.loadWorkspaceData(e,t);case c.default.RESET:return this.reset();case c.default.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=y},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_BARRELS="organizaton/getBarrels",e.REQUEST_INVITE="requestInvite",e.ADD_ORGANIZATION="addOrganization",e.ADD_ORGANIZATION_WORKFLOW_STATUS="addOrganizationWorkflowStatus",e.UPDATE_ORGANIZATION="updateOrganization",e.UPDATE_ORGANIZATION_PROFILE="updateOrganizationProfile",e.UPDATE_ORGANIZATION_SUBSCRIPTION="updateOrganizationSubscription",e.UPDATE_ORGANIZATION_WORKFLOW_STATUS="updateOrganizationWorkflowStatus",e.REMOVE_ORGANIZATION="removeOrganization",e.DELETE_ORGANIZATION_WORKFLOW_STATUS="deleteOrganizationWorkflowStatus",e.GET_ORGANIZATION_SECTIONS_SUCCESS="getOrganizationSectionsSuccess",e.ORGANIZATION_MEMBERS_REQUESTED="organizationMembersRequested",e.GET_ORGANIZATION_MEMBERS_SUCCESS="getOrganizationMembersSuccess",e.GET_ORGANIZATION_MEMBERS_FAILED="getOrganizationMembersFailed",e.ADD_ORGANIZATION_MEMBER_PROFILE="addOrganizationMemberProfile",e.ADD_BARREL_TO_FOCUS="addBarrelToFocus",e.ADD_BARREL_TO_FOCUS_SUCCESS="addBarrelToFocusSuccess",e.REMOVE_BARREL_FROM_FOCUS="removeBarrelFromFocus",e.UNPIN_BARREL_FROM_FOCUS="unpinBarrelFromFocus",e.UNPIN_BARREL_FROM_FOCUS_SUCCESS="unpinBarrelFromFocusSuccess",e.REPIN_BARREL_TO_FOCUS="repinBarrelToFocus",e.HIT_PIN_LIMIT="hitPinLimit",e.REMOVE_UNJOINED_BARRELS="organization/removeUnjoinedBarrels",e.UPDATE_MEMBER_TAGS="organization/updateMemberTags",e.ADD_PROJECT_SECTION="addProjectSection",e.ADD_PROJECT_SECTION_ID="addProjectSectionId",e.UPDATE_PROJECT_SECTION="updateProjectSection",e.REMOVE_PROJECT_SECTION="removeProjectSection",e.UPDATE_PROJECT_SECTION_ORDER="updateProjectSectionOrder",e.UPDATE_PROJECT_ORDER="updateProjectOrder",e.ADD_SECTION_LINK="createSectionLink",e.UPDATE_SECTION_LINK="updateSectionLink",e.REMOVE_SECTION_LINK="removeSectionLink"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_PROJECTS_SUCCESS="projects/getProjectsSuccess",e.REQUEST_PROJECT="projects/requestProject",e.GET_PROJECT_REQUESTED="projects/getProjectRequested",e.GET_PROJECT_SUCCESS="projects/getProjectSuccess",e.GET_PROJECT_FAILED="projects/getProjectFailed",e.UPDATE_PROJECT="projects/updateProject",e.TRANSFER_OWNERSHIP="projects/transferOwnerShip",e.CREATE_PROJECT="projects/createProject",e.INIT_TRANSFER_OWNERSHIP="projects/initTransferOwnerShip",e.INVITE_USER="projects/inviteUser"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_STYLEGUIDES_SUCCESS="styleguides/getStyleguidesSuccess",e.GET_STYLEGUIDE_REQUESTED="styleguides/getStyleguideRequested",e.GET_STYLEGUIDE_SUCCESS="styleguides/getStyleguideSuccess",e.GET_STYLEGUIDE_FAILED="styleguides/getStyleguideFailed",e.UPDATE_STYLEGUIDE="styleguides/updateStyleguide",e.TRANSFER_OWNERSHIP="styleguides/transferOwnership",e.SELECT_PARENT="styleguides/selectParent",e.REMOVE_PARENT="styleguides/removeParent",e.SELECT_PARENT_REQUEST="styleguides/selectParentRequest",e.SELECT_PARENT_SUCCESS="styleguides/selectParentSuccess",e.SELECT_PARENT_FAILED="styleguides/selectParentFailed",e.CREATE_STYLEGUIDE="styleguides/createStyleguide",e.INIT_TRANSFER_OWNERSHIP="styleguides/initTransferOwnership",e.INVITE_USER="styleguides/inviteUser"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_PAGE_STATE="space/updatePageState",e.CHANGE_SELECTED_TAB="space/changeSelectedTab",e.CHANGE_SELECTED_ORGANIZATION="space/changeSelectedOrganization",e.CHANGE_FILTER_VALUE="space/changeFilterValue",e.CHANGE_PROJECT_SELECTED_SORT_TYPE="space/changeProjectSelectedSortType",e.TOGGLE_ARCHIVED_PROJECTS="space/toggleArchivedProjects",e.CHANGE_WORKFLOW_STATUS_FILTER="space/changeWorkflowStatusFilter",e.UNHIGHLIGHT_BARREL="space/unhighlightBarrel",e.HIGHLIGHT_SECTION="space/highlightSection",e.UNHIGHLIGHT_SECTION="space/unhighlightSection",e.EXPAND_SECTIONS="space/expandSections",e.COLLAPSE_SECTIONS="space/collapseSections",e.SET_STYLEGUIDES_TAB_VISITED="space/setStyleguidesTabVisited",e.OPEN_DIALOG="space/openDialog",e.CLOSE_DIALOG="space/closeDialog",e.HIDE_LOADING="space/hideLoading",e.TRACK_BARREL_CLICK="space/trackBarrelClick",e.TOGGLE_PROJECT_SELECTION="space/toggleProjectSelection",e.CLEAR_PROJECT_SELECTION="space/clearProjectSelection",e.SELECT_PROJECTS="space/selectProjects",e.DESELECT_PROJECTS="space/deselectProjects",e.POSTPONE_OFFER_REMINDER="space/postponeOfferReminder",e.SCROLLED_TO_PROJECT="space/scrolledToProject"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580)),s=i(n(622)),a=i(n(623));class r extends o.default{constructor(e){super();const{_id:t,name:n,status:i,domain:o,logo:r,paymentPlan:l,reservedSeatCount:c,subscriptionStatus:d,subscriptionCancelAt:u,sso:h,membersLoading:p,membersError:f,members:g,workflowStatuses:m=[],sectionIds:b=[],sections:S=[],complete:y=!1,created:v,recentlyUpgradedFromUserPlan:O,minRoleForMemberManagement:C,projectLimit:E,styleguideLimit:T}=e;this.id=t,this._id=t,this.name=n,this.status=i,this.domain=o,this.logo=r,this.paymentPlan=l,this.reservedSeatCount=c,this.subscriptionStatus=d,this.subscriptionCancelAt=u,this.sso=h,this.membersLoading=p,this.membersError=f,this.members=g,this.workflowStatuses=m.map((e=>new s.default(e))),this.sectionIds=b,this.sections=S.map((e=>new a.default(e))),this.complete=y,this.created=v,this.recentlyUpgradedFromUserPlan=O,this.minRoleForMemberManagement=C,this.projectLimit=E,this.styleguideLimit=T}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580)),s=i(n(584)),a=n(583),r="New Status";class l extends o.default{constructor(e){super();const{_id:t=`newWorkflowStatusId-${a.getRandomString()}`,name:n,color:i=new s.default({name:"yellow",r:254,g:207,b:51})}=e;this._id=t,this.name=n,this.color=new s.default(i)}static generateNew(e){if(!e||!e.startsWith(r))return new l({name:r});const t=parseInt(e.substring(r.length),10)||0;return new l({name:`New Status ${t+1}`})}}t.default=l,l.All=new l({_id:"All",name:"All",color:new s.default({name:"karl",r:237,g:236,b:237})}),l.NoStatus=new l({_id:"No Status",name:"No Status",color:new s.default({name:"clooney",r:193,g:190,b:193})})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{_id:t,key:n,name:i,description:o,links:s=[],projects:a,newSection:r}=e;this._id=t,this.key=null!=n?n:t,this.name=i,this.description=o,this.links=s,this.projects=a,this.newSection=r}}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"sortArrayOfObjectsByPropertyName",(function(){return o})),n.d(t,"removeDuplicatesFromArrayOfObjects",(function(){return s})),n.d(t,"joinDOMElements",(function(){return a})),n.d(t,"populateArrayOfConstantIncrements",(function(){return r})),n.d(t,"arrayEqual",(function(){return l})),n.d(t,"normalizeArray",(function(){return c})),n.d(t,"groupBy",(function(){return d}));var i=n(625);function o(e,t){return e.sort(((e,n)=>e[t]-n[t]))}function s(e,t){return e.reduce((({memory:e,result:n},i)=>(e[i[t]]||(n.push(i),e[i[t]]=!0),{memory:e,result:n})),{memory:{},result:[]}).result}function a(e,t){return e.reduce(((e,n,i)=>(i>0&&e.push(t),e.push(n),e)),[])}function r(e,t,n,{excludeStart:i=!1,excludeEnd:o=!1}={}){if(n<=0)throw new RangeError(`Invalid number of steps: ${n}. Steps must be a positive number`);if(e>=t)return[];const s=i?[]:[e],a=(t-e)/n;for(let r=1;r<n;r++)s.push(e+r*a);return o?s:s.concat(t)}function l(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function c(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function d(e,t){return e.reduce(((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e)),{})}n.d(t,"union",(function(){return i.union})),n.d(t,"intersection",(function(){return i.intersection})),n.d(t,"difference",(function(){return i.difference})),n.d(t,"arrayRemove",(function(){return i.arrayRemove}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemove=t.difference=t.intersection=t.union=void 0,t.union=function(e,t){return[...new Set([...e,...t])]},t.intersection=function(e,t){return e.filter((e=>t.includes(e)))},t.difference=function(e,t){return e.filter((e=>!t.includes(e)))},t.arrayRemove=function(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}},function(e,t,n){"use strict";n.r(t),n.d(t,"TEMPORARY_COMPONENT_SECTION_ID",(function(){return i})),n.d(t,"TEMPORARY_PROJECT_SECTION_ID",(function(){return o}));const i="newComponentSection",o="newProjectSection"},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(628));class a extends o.default{constructor(e){super(e)}getInitialState(){return{newReservedSeatCount:0,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1,isCancelScheduledSeatsUpdatePending:!1}}reset(){return this.getInitialState()}updateSeatsRequest(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!0})}updateSeatsSuccess(e,{reservedSeatCount:t}){return Object.assign(Object.assign({},e),{newReservedSeatCount:t,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1})}updateSeatsFailure(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!1})}getScheduledSeatsUpdateSuccess(e,{scheduledSeatsUpdate:t}){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t})}cancelScheduledSeatsUpdateRequest(e){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:null,isCancelScheduledSeatsUpdatePending:!0})}cancelScheduledSeatsUpdateSuccess(e){return Object.assign(Object.assign({},e),{isCancelScheduledSeatsUpdatePending:!1})}cancelScheduledSeatsUpdateFailure(e,{cancelledScheduledSeatsUpdate:t}){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t,isCancelScheduledSeatsUpdatePending:!1})}reduce(e,t){switch(t.type){case s.default.RESET:return this.reset();case s.default.UPDATE_SEATS_REQUEST:return this.updateSeatsRequest(e);case s.default.UPDATE_SEATS_SUCCESS:return this.updateSeatsSuccess(e,t);case s.default.UPDATE_SEATS_FAILURE:return this.updateSeatsFailure(e);case s.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.getScheduledSeatsUpdateSuccess(e,t);case s.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:return this.cancelScheduledSeatsUpdateRequest(e);case s.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.cancelScheduledSeatsUpdateSuccess(e);case s.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE:return this.cancelScheduledSeatsUpdateFailure(e,t);default:return e}}}t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="organizationBilling/reset",e.UPDATE_SEATS_REQUEST="organizationBilling/updateSeatsRequest",e.UPDATE_SEATS_SUCCESS="organizationBilling/updateSeatsSuccess",e.UPDATE_SEATS_FAILURE="organizationBilling/updateSeatsFailure",e.GET_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/getScheduledSeatsUpdateRequest",e.GET_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/getScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/cancelScheduledSeatsUpdateRequest",e.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/cancelScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE="organizationBilling/cancelScheduledSeatsUpdateFailure"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(11)),a=o(n(630)),r=o(n(590)),l=o(n(639)),c=o(n(618)),d=o(n(589)),u=o(n(575)),h=o(n(642)),p=o(n(592)),f=o(n(576)),g=o(n(643)),m=o(n(617)),b=o(n(571)),S=o(n(644)),y=n(624),v=o(n(645));class O extends s.default{constructor(e){super(e),this.reducer=new h.default({barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject",loadingBarrelsPropertyName:"loadingProjects"},{deleteBarrel:this.remove})}getInitialState(){return{loadingProject:!0,loadingProjects:!0,projects:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==r.default.PROJECT?e:this.reducer.addBarrel(e,{barrel:t})}activate(e,{bid:t}){return this.reducer.updateBarrelValue(e,{bid:t,key:"status",value:"active"})}archive(e,{bid:t}){return this.reducer.updateBarrelValue(e,{bid:t,key:"status",value:"archived"})}remove(e,{bid:t}){const n=e.projects,o=t,s=(n[o],i(n,["symbol"==typeof o?o:o+""]));return Object.assign(Object.assign({},e),{projects:Object.assign({},s)})}linkProjectToStyleguide(e,{project:{_id:t,remPreferences:n},styleguide:i}){return this.reducer.updateBarrel(e,{bid:t,data:{styleguideLink:{styleguide:i,status:"active"},remPreferences:new l.default(Object.assign(Object.assign({},n),{status:"linked"}))}})}unlinkProjectFromStyleguide(e,{pid:t}){return this.reducer.updateBarrelValue(e,{bid:t,key:"styleguideLink",value:null})}updateUserData(e,{bid:t,uid:n,userData:o}){const s=e.projects[t];if(!s)return e;const r=s.users.map((({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:Object.assign(Object.assign({},t),o)}));let{screens:l}=s;return l&&(l=s.screens.map((e=>{let{dots:t}=e;t&&(t=t.map((e=>{const t=e.comments.map((e=>e.author&&e.author._id===n?Object.assign(Object.assign({},e),{author:Object.assign(Object.assign({},e.author),o)}):e));return e.creator&&e.creator._id===n?Object.assign(Object.assign({},e),{comments:t,creator:Object.assign(Object.assign({},e.creator),o)}):Object.assign(Object.assign({},e),{comments:t})})));const s=e.versions.map((e=>{var{creator:t,commit:s}=e,a=i(e,["creator","commit"]);const r=t&&t._id===n?Object.assign(Object.assign({},t),{userData:o}):t,l=s.author&&s.author._id===n?Object.assign(Object.assign({},s),{author:Object.assign(Object.assign({},s.author),{userData:o})}):s;return Object.assign(Object.assign({},a),{creator:r,commit:l})}));return Object.assign(Object.assign({},e),{versions:s,dots:t})}))),this.reducer.updateBarrel(e,{bid:t,data:new a.default(Object.assign(Object.assign({},s),{screens:l,users:r}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:o,users:s,oid:a}){if(!e.projects[t])return e;if(o||"user"!==a){const o=this.reducer.deleteWorkflowStatus(e,{bid:t});return s?this.reducer.updateBarrelValue(o,{bid:t,key:"users",value:e=>e.users.map((e=>{if(e.user._id===n||e.user._id===i){const t=s.find((t=>e.user._id===t.user._id));e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}))}):o}return this.reducer.updateBarrelValue(e,{bid:t,key:"users",value:e=>e.users.map((e=>{if(s){if(e.user._id===n||e.user._id===i){const t=s.find((t=>e.user._id===t.user._id));e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e}))})}load(e,{data:{project:t,organizationProjects:n}}){let i=e;return n&&(i=this.reducer.getBarrelsSuccess(i,{projects:n})),t&&(i=this.reducer.getBarrelSuccess(i,{barrel:t})),i}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o}){if(o!==r.default.PROJECT)return e;const s=v.default(t);return this.reducer.updateBarrelValue(e,{bid:i,key:s,value:e=>e[s].filter((e=>!n.includes(e)))})}addSection(e,{pid:t,section:n,index:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value({sections:e}){if(!e||0===i)return e;const t=e[i-1];return t.screens=t.screens.filter((e=>!n.screens.includes(e))),e.splice(i,0,n),e}})}createSection(e,{pid:t,section:n}){const{_id:i,name:o}=n;return this.renameSection(e,{pid:t,seid:i,name:o})}updateSection(e,{pid:t,seid:n,sectionData:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value:({sections:e})=>e?e.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),i))):e})}renameSection(e,{pid:t,seid:n,name:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value:({sections:e})=>e?e.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),{name:i}))):e})}updateSectionDescription(e,{pid:t,seid:n,description:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value:({sections:e})=>e?e.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),{description:i}))):e})}updateSectionOrder(e,{pid:t,seid:n,index:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value({sections:e}){if(!e)return e;const t=y.arrayRemove(e,n);return t?(e.splice(i,0,t),e):e}})}removeSection(e,{pid:t,seid:n}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value({sections:e}){if(!e)return e;const t=e.findIndex((e=>e._id===n));if(t<1)return e;const i=e[t];return e[t-1].screens.push(...i.screens),e.filter((e=>e._id!==n))}})}updateScreenOrder(e,{pid:t,screens:n,targetSectionId:i,targetIndex:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"sections",value({sections:e}){if(!e)return e;n.forEach((t=>{const n=e.find((e=>e.screens.includes(t)));n&&y.arrayRemove(n.screens,(e=>e===t))}));const t=e.find((e=>e._id===i));return t?(t.screens.splice(o,0,...n),e):void 0}})}updateScreenOrderV2(e,{pid:t,items:n,targetSectionId:i,targetIndex:o}){const s=e.projects[t];if(!s)return e;const{variantGroups:a}=s,r=[];return n.forEach((({_id:e,type:t})=>{if("screen"===t)r.push(e);else if("variantGroup"===t){const t=a.find((({_id:t})=>t===e));r.push(...t.screens.map((({id:e})=>e)))}})),this.updateScreenOrder(e,{pid:t,screens:r,targetSectionId:i,targetIndex:o})}createVariantGroup(e,{pid:t,vgid:n,screens:i,variantGroupName:o,shouldOrder:s}){if(!e.projects[t])return e;const a=this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value({variantGroups:e}){const t={_id:n,name:o,screens:i};return e?[...e,t]:[t]}});return s?this.orderVariantGroupScreens(a,{pid:t,vgid:n}):a}addScreensToVariantGroup(e,{pid:t,vgid:n,screens:i,shouldOrder:o}){if(!e.projects[t])return e;const s=this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;let t=e.map((e=>{const{_id:t,screens:o}=e;return t!==n?e:Object.assign(Object.assign({},e),{screens:o.concat(i)})}));return t=t.map((e=>{const{_id:t,screens:o}=e;if(t!==n)return e;const[{requestId:s}]=i,a=o.filter((e=>s&&e.requestId===s)),r=o.filter((e=>!a.includes(e)));return a.sort(((e,t)=>e.index-t.index)),e.screens=r.concat(a),e})),t}});return o?this.orderVariantGroupScreens(s,{pid:t,vgid:n}):s}orderVariantGroupScreens(e,{pid:t,vgid:n}){const i=e.projects[t];if(!i||!i.sections||!i.variantGroups)return e;const o=i.variantGroups.find((({_id:e})=>e===n));if(!o)return e;const s=o.screens.map((({id:e})=>e)),[a]=s,r=i.sections.find((e=>e.screens.includes(a)));if(!r)return e;let l,c=0;for(let d=0;d<r.screens.length;d++){const e=r.screens[d];if(a===e){l=d;break}s.includes(e)&&(c+=1)}return l?this.updateScreenOrderV2(e,{pid:t,items:[{_id:n,type:"variantGroup"}],targetSectionId:r._id,targetIndex:l-c}):e}updateVariantGroup(e,{pid:t,vgid:n,variantGroupData:i}){if(!e.projects[t])return e;const o=this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value:({variantGroups:e})=>e?e.map((e=>{const{_id:t}=e;return t!==n?e:Object.assign(Object.assign({},e),i)})):e});return this.orderVariantGroupScreens(o,{pid:t,vgid:i._id})}renameVariantGroup(e,{pid:t,vgid:n,name:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value:({variantGroups:e})=>e?e.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),{name:i}))):e})}deleteVariantGroup(e,{pid:t,vgid:n,screens:i,syncWithApi:o}){const s=e.projects[t];if(!s||!s.variantGroups)return e;const a=s.variantGroups.find((({_id:e})=>e===n));if(!a)return e;let r;i?r=i.map((({id:e})=>e)):o&&(r=a.screens.map((({id:e})=>e)));const l=this.detachVariantGroup(e,{pid:t,vgid:n});return r?this.removeScreens(l,{pid:t,screenIds:r}):l}detachVariantGroup(e,{pid:t,vgid:n}){return e.projects[t]?this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value:({variantGroups:e})=>e?e.filter((e=>e._id!==n)):e}):e}addScreen(e,{pid:t,seid:n,index:i,screen:o}){const s=e.projects[t];if(!s||!s.screens)return e;if(s.screens.find((e=>e._id===o._id)))return e;let a=this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>[...e,o]});if(o.variantGroup){const e=s.variantGroups.find((({_id:e})=>e===o.variantGroup._id));a=e?this.addScreensToVariantGroup(a,{pid:t,vgid:e._id,screens:o.variantGroup.screens,shouldOrder:!1}):this.createVariantGroup(a,{pid:t,vgid:o.variantGroup._id,screens:o.variantGroup.screens,variantGroupName:o.variantGroup.name,shouldOrder:!1})}return this.reducer.updateBarrelValue(a,{bid:t,key:"sections",value({sections:e,screens:t}){if(!e)return e;const s=n?e.find((e=>e._id===n)):e[0],a=void 0===i?s.screens.length:i;if(s.screens.splice(a,0,o._id),o.requestId){const e=t.filter((e=>e.requestId===o.requestId&&s.screens.includes(e._id)));e.forEach((e=>{const t=s.screens.indexOf(e._id);s.screens.splice(t,1)})),e.sort(((e,t)=>e.index-t.index)),s.screens=s.screens.concat(e.map((e=>e._id)))}return[...e]}})}addScreenTiles(e,{pid:t,sid:n,vid:i,tileInfo:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>{if(e._id===n){const t=e.versions.map((e=>e._id===i?Object.assign(Object.assign({},e),{snapshot:Object.assign(Object.assign({},e.snapshot),{tileInfo:o})}):e));return Object.assign(Object.assign({},e),{versions:t})}return e})):e})}removeScreen(e,{pid:t,sid:n,vgid:i}){let o=this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.filter((e=>e._id!==n)):e});return o=this.reducer.updateBarrelValue(o,{bid:t,key:"sections",value:({sections:e})=>e?e.map((e=>(e.screens.includes(n)&&(e.screens=e.screens.filter((e=>e!==n))),e))):e}),i&&(o=this.removeScreenVariant(o,{pid:t,vgid:i,svid:n})),o}removeScreens(e,{pid:t,screenIds:n}){const i=this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.filter((e=>!n.includes(e._id))):e});return this.reducer.updateBarrelValue(i,{bid:t,key:"sections",value:({sections:e})=>e?e.map((e=>(n.forEach((t=>{e.screens.includes(t)&&(e.screens=e.screens.filter((e=>e!==t)))})),e))):e})}updateScreenDescription(e,{pid:t,sid:n,description:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n?Object.assign(Object.assign({},e),{description:i}):e)):e})}updateScreenName(e,{pid:t,sid:n,name:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n?Object.assign(Object.assign({},e),{name:i}):e)):e})}updateTags(e,{pid:t,updates:n}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?(n.forEach((({_id:t,operation:n,tags:i})=>{const o=e.find((e=>e._id===t));o&&"add"===n?o.tags=(o.tags||[]).concat(i):o&&(o.tags=o.tags.filter((e=>!i.includes(e))))})),e):e})}setDots(e,{pid:t,sid:n,dots:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value(e){var t;return null!==(t=e.screens)&&void 0!==t||(e.screens=[]),e.screens.find((({_id:e})=>e===n))||e.screens.push({_id:n}),e.screens.map((e=>(e._id===n&&(e.dots=i),e)))}})}addDot(e,{pid:t,sid:n,dot:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>{var t,o;if(e._id!==n)return e;return(null===(t=e.dots)||void 0===t?void 0:t.find((e=>e._id===i._id)))||(e.dots=(null!==(o=e.dots)&&void 0!==o?o:[]).concat(i)),e})):e})}updateDot(e,{pid:t,sid:n,did:i,dotData:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?(e.dots=e.dots.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),o))),e):e)):e})}updateDotColor(e,{pid:t,sid:n,did:i,color:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?(e.dots=e.dots.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{color:o}))),e):e)):e})}updateDotPosition(e,{pid:t,sid:n,did:i,x:o,y:s}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?(e.dots=e.dots.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{x:o,y:s}))),e):e)):e})}updateDotStatus(e,{pid:t,sid:n,did:i,status:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?(e.dots=e.dots.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{status:o}))),e):e)):e})}removeDot(e,{pid:t,sid:n,did:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?(e.dots=e.dots.filter((({_id:e})=>e!==i)),e):e)):e})}addComment(e,{pid:t,sid:n,did:i,comment:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?Object.assign(Object.assign({},e),{dots:e.dots.map((e=>{if(e._id!==i)return e;return e.comments.find((e=>e._id===o._id))?e:Object.assign(Object.assign({},e),{comments:[...e.comments,o]})}))}):e)):e})}updateComment(e,{pid:t,sid:n,did:i,cmid:o,commentData:s}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?Object.assign(Object.assign({},e),{dots:e.dots.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{comments:e.comments.map((e=>e._id!==o?e:Object.assign(Object.assign({},e),s)))})))}):e)):e})}removeComment(e,{pid:t,sid:n,did:i,cmid:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>e._id===n&&e.dots?Object.assign(Object.assign({},e),{dots:e.dots.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{comments:e.comments.filter((e=>e._id!==o))})))}):e)):e})}setVersions(e,{pid:t,sid:n,versions:i,totalVersionCount:o,allowedVersionCount:s}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>(e._id===n&&(e.versions=i,e.totalVersionCount=o,e.allowedVersionCount=s),e))):e})}setSnapshot(e,{pid:t,sid:n,vid:i,snapshot:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find((e=>e._id===n));if(!t)return e;const s=t.versions.find((e=>e._id===i));return s&&Object.assign(s.snapshot,o),e}})}addVersion(e,{pid:t,sid:n,version:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find((e=>e._id===n));if(!t)return e;return t.versions.some((e=>e._id===i._id))||(t.updated=(new Date).toISOString(),t.versions.unshift(i),t.totalVersionCount&&t.totalVersionCount++,t.versions.length>t.allowedVersionCount&&t.versions.pop()),e}})}updateCommitColor(e,{pid:t,sid:n,vid:i,color:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>(e._id!==n||(e.versions=e.versions.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{commit:Object.assign(Object.assign({},e.commit),{color:o})})))),e))):e})}updateCommitMessage(e,{pid:t,sid:n,vid:i,message:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>(e._id!==n||(e.versions=e.versions.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{commit:Object.assign(Object.assign({},e.commit),{message:o})})))),e))):e})}removeVersion(e,{pid:t,sid:n,vid:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"screens",value:({screens:e})=>e?e.map((e=>(e._id!==n||(e.versions=e.versions.filter((({_id:e})=>e!==i))),e))):e})}removeScreenVariant(e,{pid:t,vgid:n,svid:i}){const o=e.projects[t];if(!o||!o.sections)return e;let s,a;const r=this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find((({_id:e})=>n===e));return t?2===t.screens.length?e.filter((e=>e._id!==n)):(s=t.screens[0].id,a=t.screens.length-1,t.screens=t.screens.filter((({id:e})=>i!==e)),e):e}});if(!s)return r;const l=o.sections.find((e=>e.screens.includes(s)));if(!l)return r;const c=l.screens.findIndex((e=>e===s));return this.updateScreenOrder(r,{pid:t,screens:[i],targetSectionId:l._id,targetIndex:c+a})}addScreenVariant(e,{pid:t,vgid:n,screenVariant:i,index:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find((({_id:e})=>n===e));return t?(t.screens.splice(o,0,i),e):e}})}renameScreenVariant(e,{pid:t,vgid:n,svid:i,name:o}){return this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find((({_id:e})=>e===n));return t?(t.screens=t.screens.map((e=>(e.id===i&&(e.variantName=o),e))),e):e}})}reorderScreenVariant(e,{pid:t,vgid:n,svid:i,index:o}){const s=this.reducer.updateBarrelValue(e,{bid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find((({_id:e})=>e===n));if(!t)return e;const s=y.arrayRemove(t.screens,(e=>e.id===i));return s?(t.screens.splice(o,0,s),e):e}});return this.orderVariantGroupScreens(s,{pid:t,vgid:n})}hydrateEmbeddedData(e,{project:t,projects:n}){let i=e;return n&&(i=this.reducer.getBarrelsSuccess(i,{projects:n})),t&&(i=this.reducer.getBarrelSuccess(i,{barrel:t})),i}deleteWorkflowStatuses(e,{statusDeletedBarrels:t}){const n=Object.assign({},e);return t.reduce(((e,{bid:t})=>this.reducer.deleteWorkflowStatus(e,{bid:t})),n)}updateWorkflowStatuses(e,{statusUpdatedBarrels:t,workflowStatus:n}){const i=Object.assign({},e);return t.reduce(((e,{bid:t})=>this.reducer.updateWorkflowStatus(e,{bid:t,workflowStatus:n})),i)}reduce(e,t){switch(t.type){case c.default.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case c.default.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case c.default.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,{barrel:t.project});case c.default.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case c.default.UPDATE_PROJECT:return this.reducer.updateBarrel(e,{bid:t.pid,data:t.data});case u.default.UPDATE_NAME:return this.reducer.updateName(e,t);case u.default.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case u.default.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case u.default.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case u.default.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case u.default.AUTHENTICATED_SLACK_INTEGRATION:return this.reducer.addIntegration(e,Object.assign(Object.assign({},t),{intype:"slacks"}));case u.default.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case u.default.ADD_MEMBERS:return this.reducer.addMembers(e,t);case u.default.ADD_COLOR:return this.reducer.addColor(e,t);case u.default.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case u.default.UPDATE_COLOR:return this.reducer.updateColor(e,t);case u.default.REMOVE_COLOR:return this.reducer.removeColor(e,t);case u.default.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case u.default.MIGRATE_COLORS:return this.reducer.migrateColors(e,t);case u.default.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case u.default.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case u.default.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case u.default.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case u.default.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case u.default.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case u.default.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case u.default.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case u.default.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case u.default.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case u.default.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case u.default.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case u.default.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case u.default.ADD_COMPONENT:return this.reducer.addComponent(e,t);case u.default.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case u.default.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case u.default.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case u.default.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case u.default.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case u.default.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case u.default.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case u.default.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case u.default.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case u.default.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case u.default.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case u.default.ATTACH_JIRA_ISSUE:return this.reducer.attachJiraIssue(e,t);case u.default.REMOVE_JIRA_ISSUE_ATTACHMENT:return this.reducer.removeJiraIssueAttachment(e,t);case u.default.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case u.default.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case u.default.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case u.default.UPDATE_WORKFLOW_STATUSES:return this.updateWorkflowStatuses(e,t);case u.default.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case u.default.DELETE_WORKFLOW_STATUSES:return this.deleteWorkflowStatuses(e,t);case u.default.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case u.default.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case u.default.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case u.default.ADD:return this.add(e,t);case u.default.ACTIVATE:return this.activate(e,t);case u.default.ARCHIVE:return this.archive(e,t);case u.default.REMOVE:return this.remove(e,t);case d.default.LINK_PROJECT_SUCCESS:case d.default.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case d.default.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case u.default.UPDATE_USER_DATA:return this.updateUserData(e,t);case c.default.TRANSFER_OWNERSHIP:case u.default.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case u.default.LOAD:return this.load(e,t);case u.default.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case m.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case m.default.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case p.default.ADD_SECTION:case p.default.CONVERT_TAG_TO_SECTION:return this.addSection(e,t);case p.default.UPDATE_SECTION:return this.updateSection(e,t);case p.default.CREATE_SECTION:return this.createSection(e,t);case p.default.RENAME_SECTION:return this.renameSection(e,t);case p.default.UPDATE_SECTION_DESCRIPTION:return this.updateSectionDescription(e,t);case p.default.UPDATE_SECTION_ORDER:return this.updateSectionOrder(e,t);case p.default.REMOVE_SECTION:return this.removeSection(e,t);case p.default.UPDATE_SCREEN_ORDER:return this.updateScreenOrder(e,t);case p.default.UPDATE_SCREEN_ORDER_V2:return this.updateScreenOrderV2(e,t);case p.default.CREATE_VARIANT_GROUP:return this.createVariantGroup(e,t);case p.default.ADD_SCREENS_TO_VARIANT_GROUP:return this.addScreensToVariantGroup(e,t);case p.default.UPDATE_VARIANT_GROUP:return this.updateVariantGroup(e,t);case p.default.RENAME_VARIANT_GROUP:return this.renameVariantGroup(e,t);case p.default.DELETE_VARIANT_GROUP:return this.deleteVariantGroup(e,t);case p.default.DETACH_VARIANT_GROUP:return this.detachVariantGroup(e,t);case f.default.ADD_SCREEN:return this.addScreen(e,t);case f.default.ADD_SCREEN_TILES:return this.addScreenTiles(e,t);case f.default.UPDATE_DESCRIPTION:return this.updateScreenDescription(e,t);case f.default.UPDATE_NAME:return this.updateScreenName(e,t);case f.default.REMOVE_SCREEN:return this.removeScreen(e,t);case f.default.UPDATE_TAGS:return this.updateTags(e,t);case f.default.SET_DOTS:return this.setDots(e,t);case f.default.CREATE_NOTE:case f.default.ADD_DOT:return this.addDot(e,t);case f.default.UPDATE_DOT:return this.updateDot(e,t);case f.default.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case f.default.UPDATE_DOT_POSITION:return this.updateDotPosition(e,t);case f.default.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case f.default.REMOVE_DOT:return this.removeDot(e,t);case f.default.CREATE_COMMENT:case f.default.ADD_COMMENT:return this.addComment(e,t);case f.default.UPDATE_COMMENT:return this.updateComment(e,t);case f.default.REMOVE_COMMENT:return this.removeComment(e,t);case f.default.SET_VERSIONS:return this.setVersions(e,t);case f.default.SET_SNAPSHOT:return this.setSnapshot(e,t);case f.default.ADD_VERSION:return this.addVersion(e,t);case f.default.UPDATE_COMMIT_COLOR:return this.updateCommitColor(e,t);case f.default.UPDATE_COMMIT_MESSAGE:return this.updateCommitMessage(e,t);case f.default.REMOVE_VERSION:return this.removeVersion(e,t);case f.default.REMOVE_SCREEN_VARIANT:return this.removeScreenVariant(e,t);case f.default.ADD_SCREEN_VARIANT:return this.addScreenVariant(e,t);case f.default.RENAME_SCREEN_VARIANT:return this.renameScreenVariant(e,t);case f.default.REORDER_SCREEN_VARIANT:return this.reorderScreenVariant(e,t);case b.default.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case b.default.RESET:return this.reset();case b.default.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);case g.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case g.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case g.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case g.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case g.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case g.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case g.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case g.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case g.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);case S.default.SET_VERSION_ASSETS:return this.setSnapshot(e,Object.assign(Object.assign({},t),{snapshot:{assets:t.assets}}));default:return e}}}t.default=O},function(e,t,n){"use strict";var i,o,s=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return a(t,e),t},l=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},c=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=r(n(610)),h=n(631),p=n(633),f=n(634),g=d(n(584)),m=d(n(606)),b=d(n(580)),S=d(n(622)),y=d(n(635)),v=d(n(639)),O=d(n(640)),C=n(547);function E(e,t){let n,i;if(e)switch(t){case C.PLATFORM.ANDROID:n="dp",i="sp";break;case C.PLATFORM.IOS:case C.PLATFORM.OSX:n="pt",i="pt";break;case C.PLATFORM.WEB:default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function T(e,t){return`${e} - ${t}`}function _(e){const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){const n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?` ${t[n]}`:"")}return t[e]}function P(e,t,n){let i;for(const o of e){if(i=o.components.find((e=>e[t]===n)),i)return i;if(i=P(o.componentSections,t,n),i)return i}return null}function I(e,t=[]){return e.map((e=>{const{components:n,componentSections:i}=e,o=c(e,["components","componentSections"]),s=[...t,e._id],a=Object.assign(Object.assign({},o),{idPath:s});return a.components=n.map((e=>Object.assign(Object.assign({},e),{idPath:[...s,e._id]}))),a.componentSections=I(i,s),a}))}class j extends b.default{constructor({_id:e,partial:t,complete:n,type:s,name:a,description:r,created:c,updated:d,status:p,users:b,integration:C,extensions:E,colors:P,densityScale:j,textStyles:D,thumbnail:k,icon:R,public:A,sections:w,screens:N,variantGroups:L,workflowStatus:M,styleguideLink:x,componentSections:U,parent:B,ancestors:V,connectedComponents:z,localConnectedComponents:F,linkedProjects:W,spacingSections:H,maxUserLimit:G,remPreferences:$}){var q;if(super(),i.set(this,(e=>{let t;for(let n=0;n<this.colors.length;n++){const i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return null!=t||(t=e.generateName(this.type)),l(this,o).call(this,T(t,Math.round(100*e.a).toString()))})),o.set(this,(e=>{let t=e,n=1;for(;this.findColorByName(t);)n++,t=T(e,_(n));return t})),this._id=e,this.id=e,this.partial=t,this.complete=n,this.type=s,this.name=a,this.description=r,this.created=c,this.updated=d,this.status=p,this.extensions=E,this.thumbnail=k,this.icon=R,this.public=A,this.spacingSections=H,this.maxUserLimit=G,this.densityScale=j,this.status=null!=p?p:"active",this.users=b.map((e=>new O.default(e))).sort(f.sortBy.role),this.extensions=null!=E?E:[],this.integration=new y.default(C),this.colors=null!==(q=null==P?void 0:P.map((e=>new g.default(e))))&&void 0!==q?q:[],D?(this.textStyles=D.map((e=>new m.default(e))).sort(u.fontSort),function(e,t){if(!e.length)return;const n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach((e=>{e.scaledFontSize=e.fontSize/t}));else{let o,s;n<14?(o=24,s=14):i>36?(o=36,s=24):(o=Math.min(36,n),s=Math.max(14,i));const a=n===i?0:(o-s)/(n-i);e[0].scaledFontSize=Math.round(o);for(let n=1;n<e.length;n++){const i=e[n-1].fontSize/t,o=e[n].fontSize/t;e[n].scaledFontSize=Math.round(e[n-1].scaledFontSize-(i-o)*a)}}}(this.textStyles,this.densityScale)):this.textStyles=[],N){this.screens=[...N],this.screens.forEach((e=>{var t,n,i,o,s,a;e.versions||(null!==(t=e.description)&&void 0!==t||(e.description=""),null!==(n=e.tags)&&void 0!==n||(e.tags=[]),e.latestVersion&&(null!==(i=(s=e.latestVersion).commit)&&void 0!==i||(s.commit={message:"",color:h.getColorValueByName("yellow"),author:e.latestVersion.creator}),null!==(o=(a=e.latestVersion.snapshot).componentNames)&&void 0!==o||(a.componentNames=[]),e.versions=[e.latestVersion],delete e.latestVersion))}));const e=N.map((e=>e._id));this.sections=null==w?void 0:w.map((t=>Object.assign(Object.assign({},t),{screens:t.screens.filter((t=>e.includes(t)))}))),this.variantGroups=L}this.workflowStatus=M?new S.default(M):S.default.NoStatus,this.styleguideLink=x,U&&(this.componentSections=I(U)),this.parent=B,this.ancestors=V,this.linkedProjects=W,this.connectedComponents=z,this.localConnectedComponents=F,this.remPreferences=$?new v.default($):{}}get slackTeamId(){var e,t;if(null===(t=null===(e=this.integration)||void 0===e?void 0:e.slacks)||void 0===t?void 0:t.length)return this.integration.slacks[0].teamId}get dimensionSuffix(){return E(this.densityScale,this.type).dimensionSuffix}get textDimensionSuffix(){return E(this.densityScale,this.type).textDimensionSuffix}get tags(){return p.extractTagsFromScreens(this.screens)}toObject(){var e,t;return{type:this.type,name:this.name,colors:null===(e=this.colors)||void 0===e?void 0:e.map((e=>e.toObject())),textStyles:null===(t=this.textStyles)||void 0===t?void 0:t.map((e=>e.toObject())),spacingSections:this.spacingSections,density:u.getDensityScaleRepresentation(this.type,this.densityScale)}}findTextStyleById(e){return this.textStyles.find((t=>t.id===e))}findTextStyleByName(e){return this.textStyles.find((t=>t.name===e))}getTextStyleName(){if(!this.textStyles.length)return"Text Style";let e="Text Style",t=1;for(;this.findTextStyleByName(e);)t++,e=`Text Style ${t}`;return e}findSpacingSectionById(e){var t,n;return null!==(n=null===(t=this.spacingSections)||void 0===t?void 0:t.find((({_id:t})=>t===e)))&&void 0!==n?n:{}}findSpacingTokenInsideSectionById(e,t){var n,i;const o=null===(n=this.spacingSections)||void 0===n?void 0:n.find((({_id:t})=>t===e));return null!==(i=null==o?void 0:o.spacingTokens.find((({_id:e})=>e===t)))&&void 0!==i?i:{}}findUser(e){return this.users.find((t=>t.user._id===e))}findOwner(){return this.users.find((e=>"owner"===e.role))}findColorById(e){var t;return null===(t=this.colors)||void 0===t?void 0:t.find((t=>t.id===e))}findColorByName(e){var t;return null===(t=this.colors)||void 0===t?void 0:t.find((t=>t.name===e))}findColorEqual(e){var t;return null===(t=this.colors)||void 0===t?void 0:t.find((t=>e.equals(t)))}findColorByHexAndAlpha({alpha:e,hex:t}){var n;return null===(n=this.colors)||void 0===n?void 0:n.find((n=>{const i=void 0===e||n.a===e;return(void 0===t||n.hexBase()===t.toLowerCase())&&i}))}checkDuplicateColorHex(e,t){const n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null}checkDuplicateColorAlpha(e,t){const n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null}checkDuplicateColorName(e,t){const n=this.findColorByName(e);return n&&n.id!==t.id?n:null}getColorName(e){return e.a<1?l(this,i).call(this,e):l(this,o).call(this,e.generateName(this.type))}findScreen(e){return this.screens.find((t=>t._id===e))}findScreenByName(e){return this.screens.find((t=>t.name===e))}findVersion(e,t){const n=this.findScreen(e);return n?n.versions.find((e=>e._id===t)):null}findSection(e){return e?this.sections.find((t=>t._id===e)):null}isDefaultSection(e){return 0===this.sections.findIndex((t=>t._id===e))}findScreenSection(e){return this.sections.find((t=>t.screens.includes(e)))}findVariantGroup(e){return this.variantGroups.find((t=>t._id===e))}findComponentById(e){return P(this.componentSections,"_id",e)}findComponentByName(e){return P(this.componentSections,"name",e)}findComponentSection(e){if(!e.length)return this;let t=this;for(const n of e)if(t=t.componentSections.find((e=>e._id===n)),!t)return null;return t}}t.default=j,i=new WeakMap,o=new WeakMap},function(e,t,n){"use strict";n.r(t),n.d(t,"colorNames",(function(){return c})),n.d(t,"reactions",(function(){return d})),n.d(t,"getColorName",(function(){return u})),n.d(t,"getColorValueByName",(function(){return h})),n.d(t,"isMentioned",(function(){return p})),n.d(t,"hasImage",(function(){return f})),n.d(t,"checkFilter",(function(){return g})),n.d(t,"isDraft",(function(){return m})),n.d(t,"getRandomPlaceholder",(function(){return b}));var i=n(632),o=n(584),s=n.n(o);const a={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},r={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}},l=["It’s a dangerous business, Frodo.","Call me Ishmael.","Cool cool cool.","Streets ahead.","It’s okay to be sleepy in the afternoon.","I’m not superstitious, but I am a little stitious.","You’re a wizard, Harry.","They’re taking the hobbits to Isengard.","Mama mia, let me go!","When Paris has to pee, Paris has to pee!","I have a bad feeling about this.","It’s a trap!","Ten thousand thundering typhoons!","Billions of blue blistering barnacles!","Who ordered the carrot juice?","I like Kaş.","Did I stutter?","We’re gonna need a bigger boat.","Yip yip!"],c=Object.freeze(Object.keys(r)),d={thumbsUp:"👍",raisedHands:"🙌",starryEyes:"🤩"};function u(e){const t="string"==typeof e?e:new s.a(e).hexBase();return a[t]}function h(e){return r[e]}function p(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.mentionRegexFn)(t.username);return e.comments.some((e=>n.test(e.note)||e.author&&e.author._id===t._id))}function f(e){return/!\[.*\]\(.+\)/.test(e)}function g(e,t,n,i){return(!n||u(e.color)===n)&&("mentioned"===t?p(e,i):t===(e.status||"open"))}function m(e){return e&&e.startsWith("newDot")}function b(){return Math.floor(100*Math.random())>2?"Type something":l[Math.floor(Math.random()*l.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupMentionKeywords=t.userRegexFn=t.mentionRegexFn=void 0;const i=n(586),o=["everyone","project","organization"];t.groupMentionKeywords=o,t.mentionRegexFn=function(e){const t=[...o,e].join("|");return new RegExp(`@(?:${t})\\b`)},t.userRegexFn=function(e=[]){const t=e.map((({user:{username:e}})=>e)).filter(i.exists),n=[...o,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}},function(e,t,n){"use strict";n.r(t),n.d(t,"extractTagsFromScreens",(function(){return o}));var i=n(634);function o(e){if(!e)return null;var t=new Set(e.reduce((function(e,t){return e.concat(t.tags||[])}),[])),n=[];return t.forEach((function(e){n.push(e)})),n.sort(i.sortBy.naturally)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSortByDate=t.sortBy=void 0;const i={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},o={role:(e,t)=>e.role!==t.role?i[t.role]-i[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date:a,created:s((({created:e})=>e)),updated:s((({updated:e})=>e)),authorized:s((({authorizedAt:e})=>e)),naturally:(e,t)=>c(e,t,(e=>e)),name:(e,t)=>c(e,t,(({name:e})=>e))};function s(e){return(t,n)=>a(t,n,e)}function a(e,t,n){const i=n(e),o=n(t);return new Date(o).getTime()-new Date(i).getTime()}t.sortBy=o,t.createSortByDate=s;const r={};function l(e,t,n){return r[e]?(r[e][t]=n,n):(r[e]={[t]:n},n)}function c(e,t,n){const i=n(e),o=n(t);if(r[i]&&o in r[i])return r[i][o];const s=i.toLowerCase().match(/\D+|\d+/g),a=o.toLowerCase().match(/\D+|\d+/g),c=Math.min(s.length,a.length),d=new Intl.Collator;for(let r=0;r<c;r++){if(s[r]===a[r])continue;const e=parseInt(s[r],10),t=parseInt(a[r],10);return isNaN(e)||isNaN(t)?l(i,o,d.compare(s[r],a[r])):l(i,o,e-t)}return l(i,o,s.length-a.length)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580)),s=i(n(636)),a=i(n(637));class r extends o.default{constructor(e){var t;super();const{slacks:n,jira:i}=null!=e?e:{};this.slacks=null!==(t=null==n?void 0:n.map((e=>new s.default(e))))&&void 0!==t?t:[],i&&(this.jira=new a.default(i))}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{_id:t,teamName:n,teamId:i,scope:o,incomingWebHook:s}=e;this._id=t,this.id=t,this.teamName=n,this.teamId=i,this.scope=o,this.incomingWebHook=s}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(638)),s=i(n(580));class a extends s.default{constructor(e){super();const{_id:t,attachments:n}=e;this.id=t,this._id=t,n&&(this.attachments=n.map((e=>new o.default(e))))}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{_id:t,deploymentUrl:n,type:i,itemId:o,issueKey:s,issueUrl:a}=e;this.id=t,this._id=t,this.deploymentUrl=n,this.type=i,this.itemId=o,this.issueKey=s,this.issueUrl=a}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{status:t,remRootFontSize:n,useForFontSizes:i,useForMeasurements:o}=e;this.status=t,this.remRootFontSize=n,this.useForFontSizes=i,this.useForMeasurements=o}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580)),s=i(n(641));class a extends o.default{constructor(e){super();const{role:t,user:n}=e;this.role=t,this.user=new s.default(n)}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{_id:t,paymentPlan:n,email:i,status:o,username:s,fullName:a,bio:r,subscriptionStatus:l,subscriptionCancelAt:c,emotar:d,avatar:u,lastSeen:h,offers:p}=e;this.id=t,this._id=t,this.paymentPlan=n,this.email=i,this.status=o,this.username=s,this.fullName=a,this.bio=r,this.subscriptionStatus=l,this.subscriptionCancelAt=c,this.emotar=d,this.avatar=u,this.lastSeen=h,this.offers=p}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(624),s=i(n(630)),a=i(n(584)),r=i(n(606)),l=i(n(639)),c=i(n(622)),d=n(626),u=n(583);let h=0;t.default=class{constructor(e,t){this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.loadingBarrelsPropertyName=e.loadingBarrelsPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t}){const n=t.map((e=>new s.default(e)));return Object.assign(Object.assign({},e),{[this.loadingBarrelsPropertyName]:!1,[this.barrelsPropertyName]:Object.assign(Object.assign({},e[this.barrelsPropertyName]),o.normalizeArray(n,"_id"))})}getBarrelRequested(e){return Object.assign(Object.assign({},e),{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{barrel:t}){const n=this.updateBarrel(e,{bid:t._id,data:Object.assign(Object.assign({},t),{complete:!t.partial}),upsert:!0});return Object.assign(Object.assign({},n),{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return Object.assign(Object.assign({},e),{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{barrel:t}){return Object.assign(Object.assign({},e),{[this.barrelsPropertyName]:Object.assign(Object.assign({},e[this.barrelsPropertyName]),{[t._id]:new s.default(t)})})}updateBarrel(e,{bid:t,data:n,upsert:i}){const{[this.barrelsPropertyName]:o}=e,a=o[t];return a||i?Object.assign(Object.assign({},e),{[this.barrelsPropertyName]:Object.assign(Object.assign({},o),{[t]:new s.default(Object.assign(Object.assign({},a),"function"==typeof n?n(a):n))})}):e}updateName(e,{bid:t,name:n}){return this.updateBarrel(e,{bid:t,data:{name:n}})}updateDescription(e,{bid:t,description:n}){return this.updateBarrel(e,{bid:t,data:{description:n}})}updateDensityScale(e,{bid:t,densityScale:n}){return this.updateBarrel(e,{bid:t,data:{densityScale:n}})}updateThumbnail(e,{bid:t,thumbnail:n}){return this.updateBarrel(e,{bid:t,data:{thumbnail:n}})}addIntegration(e,{bid:t,intype:n,integration:i}){return this.updateBarrelValue(e,{bid:t,key:"integration",value:({integration:e})=>{if(e)return e[n].find((e=>e._id===i._id))?Object.assign({},e):Object.assign(Object.assign({},e),{[n]:[...e[n],i]})}})}removeIntegration(e,{bid:t,intype:n,inid:i}){return this.updateBarrelValue(e,{bid:t,key:"integration",value:({integration:e})=>{if(e)return Object.assign(Object.assign({},e),{[n]:e[n].filter((({_id:e})=>e!==i))})}})}toggleScene(e,{bid:t,accessibility:n}){return this.updateBarrel(e,{bid:t,data:{public:n}})}addMembers(e,{bid:t,members:n}){return this.updateBarrelValue(e,{bid:t,key:"users",value:e=>{const t=n.filter((t=>!e.users.some((e=>e.user._id===t.user._id))));return[...e.users,...t]}})}updateUserRole(e,{bid:t,uid:n,role:i}){return this.updateBarrelValue(e,{bid:t,key:"users",value:({users:e})=>e.map((e=>e.user._id!==n?e:Object.assign(Object.assign({},e),{role:i})))})}removeMember(e,{bid:t,mid:n,currentUserId:i,shouldRemoveBarrel:o}){return o?this.deleteBarrel(e,{bid:t}):this.updateBarrel(e,{bid:t,data:e=>Object.assign(Object.assign({},e),{users:e.users.filter((({user:e})=>e._id!==n)),partial:n===i,complete:e.complete&&n!==i})})}addColor(e,{bid:t,color:n}){return this.updateBarrelValue(e,{bid:t,key:"colors",value:({colors:e})=>[...e,new a.default(n)]})}addMultipleColors(e,{bid:t,colors:n}){return n.reduce(((e,n)=>this.addColor(e,{bid:t,color:n})),e)}updateColor(e,{bid:t,cid:n,colorData:i}){return this.updateBarrelValue(e,{bid:t,key:"colors",value:({colors:e})=>e.map((e=>e.id!==n?e:new a.default(Object.assign(Object.assign({},e),i))))})}removeColor(e,{bid:t,cid:n}){return this.updateBarrelValue(e,{bid:t,key:"colors",value:({colors:e})=>e.filter((({id:e})=>e!==n))})}removeAllColors(e,{bid:t}){return this.updateBarrelValue(e,{bid:t,key:"colors",value:[]})}migrateColors(e,{bid:t,colorsToUpdate:n,colorsToAdd:i}){return this.updateBarrelValue(e,{bid:t,key:"colors",value:({colors:e})=>[...e.map((e=>{const t=n[e.id];return t?new a.default(Object.assign(Object.assign({},e),t)):e})),...i.map((e=>new a.default(e)))]})}updateColorOrder(e,{bid:t,cid:n,to:i}){return this.updateBarrelValue(e,{bid:t,key:"colors",value:({colors:e})=>{const t=o.arrayRemove(e,(e=>e.id===n));return t?(e.splice(i,0,t),e):e}})}addTextStyle(e,{bid:t,textStyle:n}){return this.updateBarrelValue(e,{bid:t,key:"textStyles",value:({textStyles:e})=>[...e,new r.default(n)]})}addMultipleTextStyles(e,{bid:t,textStyles:n}){return n.reduce(((e,n)=>this.addTextStyle(e,{bid:t,textStyle:n})),e)}updateTextStyle(e,{bid:t,tsid:n,textStyleData:i}){return this.updateBarrelValue(e,{bid:t,key:"textStyles",value:({textStyles:e})=>e.map((e=>e.id!==n?e:new r.default(Object.assign(Object.assign({},e),i))))})}removeTextStyle(e,{bid:t,tsid:n}){return this.updateBarrelValue(e,{bid:t,key:"textStyles",value:({textStyles:e})=>e.filter((({id:e})=>e!==n))})}removeAllTextStyles(e,{bid:t}){return this.updateBarrelValue(e,{bid:t,key:"textStyles",value:[]})}addSpacingSection(e,{bid:t,spacingSection:n}){return this.updateBarrelValue(e,{bid:t,key:"spacingSections",value:({spacingSections:e})=>{var t;return[...e,Object.assign(Object.assign({},n),{spacingTokens:null!==(t=n.spacingTokens)&&void 0!==t?t:[]})]}})}updateSpacingSection(e,{bid:t,ssid:n,updatedSpacingSection:i}){return this.updateBarrelValue(e,{bid:t,key:"spacingSections",value:({spacingSections:e})=>e.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),i)))})}removeSpacingSection(e,{bid:t,ssid:n}){return this.updateBarrelValue(e,{bid:t,key:"spacingSections",value:({spacingSections:e})=>e.filter((({_id:e})=>e!==n))})}addSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,spacingToken:s}){return this.updateBarrelValue(e,{bid:t,key:"spacingSections",value:({spacingSections:e})=>e.map((e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:a}=e,r=o.sortArrayOfObjectsByPropertyName([...a,s],"value");let l=1===r.length?r[0]._id:t;return i&&(l=s._id),Object.assign(Object.assign({},e),{baseTokenId:l,spacingTokens:r})}))})}updateSpacingToken(e,{bid:t,ssid:n,sptid:i,updatedSpacingToken:s,oldSpacingToken:a}){return this.updateBarrelValue(e,{bid:t,key:"spacingSections",value:({spacingSections:e})=>e.map((e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:r}=e,l=r.filter((({_id:e})=>e!==i)),c=Object.assign(Object.assign({},a),s),d=t===i?c._id:t;return Object.assign(Object.assign({},e),{baseTokenId:d,spacingTokens:o.sortArrayOfObjectsByPropertyName([...l,c],"value")})}))})}removeSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,sptid:o}){return this.updateBarrelValue(e,{bid:t,key:"spacingSections",value:({spacingSections:e})=>e.map((e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:s}=e,a=s.filter((({_id:e})=>e!==o));let r=t;return i&&(r=a.length&&a[0]._id||null),Object.assign(Object.assign({},e),{baseTokenId:r,spacingTokens:a})}))})}updateRemPreferences(e,{bid:t,updatedRemPreferences:n}){return this.updateBarrelValue(e,{bid:t,key:"remPreferences",value:({remPreferences:e})=>new l.default(Object.assign(Object.assign({},e),n))})}addComponent(e,{bid:t,csids:n,component:i}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;if(e.findComponentById(i._id))return e.componentSections;const t=e.findComponentSection(n);if(!t)return e.componentSections;const{index:o}=i;if(void 0===o?t.components.push(i):t.components.splice(o,0,i),i.requestId){const e=t.components.filter((e=>e.requestId===i.requestId)),n=t.components.filter((t=>!e.includes(t)));e.sort(((e,t)=>e.index-t.index)),t.components=n.concat(e)}return[...e.componentSections]}})}updateComponent(e,{bid:t,csids:n,coid:i,componentData:o}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const s=t.components.find((e=>e._id===i));return s?(Object.assign(s,o),[...e.componentSections]):e.componentSections}})}setComponentSnapshot(e,{bid:t,csids:n,coid:i,vid:o,snapshot:s}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=t.components.find((e=>e._id===i));return a&&a.latestVersion._id===o?(Object.assign(a.latestVersion.snapshot,s),[...e.componentSections]):e.componentSections}})}removeComponent(e,{bid:t,csids:n,coid:i}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(o.arrayRemove(t.components,i),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{bid:t,csids:n,coid:i,componentVersion:o}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const s=t.components.find((({_id:e})=>e===i));return s&&s.latestVersion._id!==o._id?(s.latestVersion=o,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{bid:t,csids:n,componentSection:i,isCreateGroup:s}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;if(e.componentSections.find((e=>e._id===i._id)))return e.componentSections;const a=Object.assign({},i);return a._id||(a._id=d.TEMPORARY_COMPONENT_SECTION_ID,a.newSection=!0,a.key="newComponentSection-"+h++),i.components?a.components=i.components.map((t=>{const n=e.findComponentSection(t.csid),i=o.arrayRemove(n.components,t.coid);return!s&&i.variant&&delete i.variant,i})):a.components=[],i.componentSections||(a.componentSections=[]),void 0===i.index?t.componentSections.push(a):t.componentSections.splice(i.index,0,a),[...e.componentSections]}})}updateComponentSection(e,{bid:t,csids:n,componentSectionData:i}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object.assign(t,i),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{bid:t,csids:n,tcsids:i,flatten:s}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=[...n],a=t.pop(),r=e.findComponentSection(t);if(!r)return e.componentSections;const l=e.findComponentSection(i);if(!l)return e.componentSections;const c=o.arrayRemove(r.componentSections,a);if(!c)return e.componentSections;const[d]=n,[u]=i;return d!==u&&this.removeVariantFromComponents(c),s?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]}})}removeComponentSection(e,{bid:t,csids:n}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=n.pop(),i=e.findComponentSection(n);return i?(o.arrayRemove(i.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(e.componentSections)return n.forEach((t=>o.arrayRemove(e.componentSections,t))),[...e.componentSections]}})}updateComponentsOrder(e,{bid:t,components:n}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(e.componentSections)return n.forEach((t=>{const{coid:n,csid:i,tcsid:s,to:a}=t,r=e.findComponentSection(i),l=e.findComponentSection(s);if(!r||!l)return e.componentSections;const c=o.arrayRemove(r.components,n);if(!c)return e.componentSections;const d=void 0===a?l.components.length:a,[u]=i,[h]=s;c.variant&&u!==h&&delete c.variant,l.components.splice(d,0,c)})),[...e.componentSections]}})}updateComponentSectionsOrder(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(e.componentSections)return n.forEach((t=>{const{csid:n,tcsid:i,to:s}=t,a=e.findComponentSection(n.slice(0,-1)),r=i?e.findComponentSection(i):e,l=o.arrayRemove(a.componentSections,n[n.length-1]);r.componentSections.splice(s,0,l)})),[...e.componentSections]}})}attachJiraIssue(e,{bid:t,jira:n}){return this.updateBarrelValue(e,{bid:t,key:"integration",value:({integration:e})=>(null==e?void 0:e.jira)?Object.assign(Object.assign({},e),{jira:Object.assign(Object.assign({},e.jira),{attachments:[...e.jira.attachments,...n.attachments.filter((t=>!e.jira.attachments.find((e=>e.id===t.id))))]})}):Object.assign(Object.assign({},e),{jira:n})})}removeJiraIssueAttachment(e,{bid:t,aid:n}){return this.updateBarrelValue(e,{bid:t,key:"integration",value:({integration:e})=>{var t;return(null===(t=null==e?void 0:e.jira)||void 0===t?void 0:t.attachments)?Object.assign(Object.assign({},e),{jira:Object.assign(Object.assign({},e.jira),{attachments:e.jira.attachments.filter((e=>e.id!==n))})}):e}})}setLocalConnectedComponents(e,{bid:t,localConnectedComponents:n}){return this.updateBarrelValue(e,{bid:t,key:"localConnectedComponents",value:()=>n})}updateConnectedComponents(e,{bid:t,connectedComponents:n}){return this.updateBarrelValue(e,{bid:t,key:"connectedComponents",value:()=>n})}updateWorkflowStatus(e,{bid:t,workflowStatus:n}){return this.updateBarrelValue(e,{bid:t,key:"workflowStatus",value:n})}deleteWorkflowStatus(e,{bid:t}){return this.updateBarrelValue(e,{bid:t,key:"workflowStatus",value:c.default.NoStatus})}onOrganizationWorkflowStatusDelete(e,{workflowStatusId:t}){const n=e[this.barrelsPropertyName];return Object.values(n).filter((e=>e.workflowStatus._id===t)).reduce(((e,t)=>this.deleteWorkflowStatus(e,{bid:t.id})),e)}removeUnjoinedBarrels(e,t){const n=e[this.barrelsPropertyName],i=t[`remaining${u.uppercaseFirst(this.barrelsPropertyName)}`];return Object.assign(Object.assign({},e),{[this.barrelsPropertyName]:Object.fromEntries(Object.entries(n).filter((([e])=>i.includes(e))))})}flattenComponents(e){return e.components.concat(...e.componentSections.map((e=>this.flattenComponents(e))))}updateBarrelValue(e,{bid:t,key:n,value:i}){return this.updateBarrel(e,{bid:t,data:e=>new s.default(Object.assign(Object.assign({},e),{[n]:"function"==typeof i?i(e):i}))})}addComponentVariantProperty(e,{bid:t,csid:n,componentVariantProperty:i}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{var t;if(!e.componentSections)return;const o=e.findComponentSection([n]);return(null===(t=null==o?void 0:o.variant)||void 0===t?void 0:t.properties)?(o.variant.properties.push(i),[...e.componentSections]):e.componentSections}})}updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:o}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{var t;if(!e.componentSections)return;const s=e.findComponentSection([n]);if(!(null===(t=null==s?void 0:s.variant)||void 0===t?void 0:t.properties))return e.componentSections;const a=s.variant.properties.find((({_id:e})=>e===i));return a?(Object.assign(a,o),[...e.componentSections]):e.componentSections}})}updateComponentVariantPropertyName(e,{bid:t,csid:n,vpid:i,name:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{name:o}})}updateComponentVariantPropertyValues(e,{bid:t,csid:n,vpid:i,values:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{values:o}})}updateComponentVariantPropertiesOrder(e,{bid:t,csid:n,properties:i}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!(null==t?void 0:t.variant))return e.componentSections;for(let n=0;n<i.length;n++){const{_id:e,to:s}=i[n],a=o.arrayRemove(t.variant.properties,(t=>t._id===e));t.variant.properties.splice(s,0,a)}return[...e.componentSections]}})}setComponentVariantData(e,{bid:t,csid:n,name:i,sectionVariant:o,components:s}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(i&&(t.name=i),o&&(t.variant=o),s&&s.forEach((({_id:t,variant:n})=>{const i=e.findComponentById(t);i&&(i.variant=n)})),[...e.componentSections]):e.componentSections}})}removeVariantPropertyFromComponents(e,t){e.components.forEach((e=>{e.variant&&(e.variant.values=e.variant.values.filter((e=>e.propertyId!==t)))})),e.componentSections.forEach((e=>this.removeVariantPropertyFromComponents(e,t)))}removeComponentVariantProperty(e,{bid:t,csid:n,vpid:i}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties=t.variant.properties.filter((({_id:e})=>e!==i)),this.removeVariantPropertyFromComponents(t,i),[...e.componentSections]):e.componentSections}})}removeVariantFromComponents(e){e.components.forEach((e=>{delete e.variant})),e.componentSections.forEach((e=>this.removeVariantFromComponents(e)))}removeComponentVariantData(e,{bid:t,csid:n}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(delete t.variant,this.removeVariantFromComponents(t),[...e.componentSections]):e.componentSections}})}groupComponentsByVariantProperty(e,{bid:t,csid:n,components:i,componentSections:o}){return this.updateBarrelValue(e,{bid:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t)return e.componentSections;const s=this.flattenComponents(t);return o.forEach((e=>{e.components=e.components.map((({_id:e})=>s.find((({_id:t})=>t===e))))})),t.componentSections=o,t.components=i.map((({_id:e})=>s.find((({_id:t})=>t===e)))),[...e.componentSections]}})}}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_STATE="styleguide/updateState",e.CHANGE_LEFT_SIDEBAR_WIDTH="styleguide/changeLeftSidebarWidth",e.CHANGE_RIGHT_SIDEBAR_WIDTH="styleguide/changeRightSidebarWidth",e.CHANGE_SORT_TYPE="styleguide/changeSortType",e.CHANGE_COMPONENT_FILTER_VALUE="styleguide/changeComponentFilterValue",e.CHANGE_SELECTED_NAVIGATOR_ID="styleguide/changeSelectedNavigatorId",e.HIGHLIGHT_COLORS="styleguide/highlightColors",e.UNHIGHLIGHT_COLOR="styleguide/unhighlightColor",e.HIGHLIGHT_TEXT_STYLES="styleguide/highlightTextStyles",e.UNHIGHLIGHT_TEXT_STYLE="styleguide/unhighlightTextStyle",e.HIGHLIGHT_SPACING_TOKENS="styleguide/highlightSpacingTokens",e.UNHIGHLIGHT_SPACING_TOKEN="styleguide/unhighlightSpacingToken",e.SECTION_SCROLLED="styleguide/sectionScrolled",e.CHANGE_SELECTION="styleguide/changeSelection",e.COMPONENT_SEEDS_READY="styleguide/componentSeedsReady",e.EXPAND_SECTIONS="styleguide/expandSections",e.COLLAPSE_SECTIONS="styleguide/collapseSections",e.COLLAPSE_ALL_SECTIONS="styleguide/collapseAllSections",e.HIDE_SUGGESTED_COLORS="styleguide/hideSuggestedColors",e.HIDE_SUGGESTED_TEXT_STYLES="stylegudie/hideSuggestedTextStyles",e.OPEN_MOVE_RESOURCES_POPUP="styleguide/openMoveResourcesPopup",e.CLOSE_MOVE_RESOURCES_POPUP="styleguide/closeMoveResourcesPopup",e.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE="styleguide/selectMoveResourcesTargetStyleguide",e.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE="styleguide/deselectMoveResourcesTargetStyleguide",e.CONVERT_SECTION_TO_VARIANT_SECTION="styleguide/convertSectionToVariantSection",e.CONVERT_VARIANT_SECTION_TO_SECTION="styleguide/convertVariantSectionToSection",e.CREATE_COMPONENT_VARIANT_PROPERTY="styleguide/createComponentVariantProperty",e.ADD_COMPONENT_VARIANT_PROPERTY="styleguide/addComponentVariantProperty",e.UPDATE_COMPONENT_VARIANT_PROPERTY="styleguide/updateComponentVariantProperty",e.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME="styleguide/updateComponentVariantPropertyName",e.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES="styleguide/updateComponentVariantPropertyValues",e.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER="styleguide/updateComponentVariantPropertiesOrder",e.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE="styleguide/updateComponentVariantPropertyValue",e.SET_COMPONENT_VARIANT_DATA="styleguide/setComponentVariantData",e.REMOVE_COMPONENT_VARIANT_PROPERTY="styleguide/removeComponentVariantProperty",e.REMOVE_COMPONENT_VARIANT_DATA="styleguide/removeComponentVariantData",e.CREATE_COMPONENT_SECTION_VARIANT_GROUPS="styleguide/createComponentSectionVariantGroups",e.GROUP_COMPONENTS_BY_VARIANT_PROPERTY="styleguide/groupComponentsByVariantProperty",e.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG="styleguide/hideComponentVariantsOnboardingDialog"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SET_VERSION_ASSETS="assets/setVersionAssets",e.SET_COMPONENT_ASSETS="assets/setComponentAssets",e.UPDATE_VERSION_ASSET_OPTIMIZED_CONTENTS="assets/updateVersionAssetOptimizedContents",e.PROCESS_VERSION_ASSET_CONTENT_REQUEST="assets/processVersionAssetContentRequest",e.PROCESS_VERSION_ASSET_CONTENT_FAILURE="assets/processVersionAssetContentFailure",e.UPDATE_COMPONENT_VERSION_ASSET_OPTIMIZED_CONTENTS="assets/updateComponentVersionAssetOptimizedContents",e.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST="assets/processComponentVersionAssetContentRequest",e.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_FAILURE="assets/processComponentVersionAssetContentFailure"}(i||(i={})),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(547),o={[i.RESOURCE_TYPE.COLORS]:"colors",[i.RESOURCE_TYPE.TEXT_STYLES]:"textStyles",[i.RESOURCE_TYPE.COMPONENTS]:"componentSections"};t.default=function(e){return o[e]}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(571)),a=i(n(575)),r=i(n(590));class l extends o.default{getInitialState(){return{projects:[],styleguides:[]}}init({projects:e,styleguides:t}){return{projects:e,styleguides:t}}update(e,{barrel:{barrelType:t},data:n}){const{_id:i,name:o}=n[t],s=t===r.default.PROJECT?"projects":"styleguides",a=e[s].filter((({_id:e})=>e!==i)),l=[{_id:i,name:o},...a].slice(0,10);return Object.assign(Object.assign({},e),{[s]:l})}reduce(e,t){switch(t.type){case a.default.LOAD:return this.update(e,t);case s.default.INIT_RECENTLY_LOADED_BARRELS:return this.init(t);default:return e}}}t.default=l},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(648)),a=i(n(575)),r=i(n(571)),l=i(n(576));class c extends o.default{constructor(e){super(e)}getInitialState(){return{componentVariantViewVisible:!1,selectedLayer:null,destinationLayer:null,selectedComponentVariantId:null,sourceLayerId:null}}open(e,{coid:t,sourceLayerId:n}){return Object.assign(Object.assign({},e),{componentVariantViewVisible:!0,selectedComponentVariantId:t,sourceLayerId:n})}close(){return this.getInitialState()}selectLayer(e,{layer:t}){return Object.assign(Object.assign({},e),{selectedLayer:t,destinationLayer:t})}enterLayer(e,{layer:t}){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:null}):e}deselectLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{selectedLayer:null,destinationLayer:null}):e}changeComponentVariant(e,{coid:t}){return Object.assign(Object.assign({},e),{selectedComponentVariantId:t,selectedLayer:null,destinationLayer:null})}resetComponentVariant(e,{coid:t}){return e.selectedComponentVariantId!==t?e:Object.assign(Object.assign({},e),{selectedComponentVariantId:null,selectedLayer:null,destinationLayer:null})}reduce(e,t){switch(t.type){case r.default.RESET:case a.default.RESET:case a.default.LOAD:case a.default.CHANGE_SELECTED_VIEW:return this.getInitialState();case s.default.OPEN:return this.open(e,t);case s.default.CLOSE:return this.close();case s.default.SELECT_LAYER:return this.selectLayer(e,t);case s.default.ENTER_LAYER:return this.enterLayer(e,t);case s.default.LEAVE_LAYER:return this.leaveLayer(e);case s.default.DESELECT_LAYER:return this.deselectLayer(e);case s.default.CHANGE_VARIANT:return this.changeComponentVariant(e,t);case a.default.REMOVE_COMPONENT:return this.resetComponentVariant(e,t);case l.default.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="componentVariant/open",e.CLOSE="componentVariant/close",e.SELECT_LAYER="componentVariant/selectLayer",e.ENTER_LAYER="componentVariant/enterLayer",e.LEAVE_LAYER="componentVariant/leaveLayer",e.DESELECT_LAYER="componentVariant/deselectLayer",e.CHANGE_VARIANT="componentVariant/changeVariant"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(576)),a=i(n(575)),r=n(631),l=i(n(650));class c extends o.default{getInitialState(){return{loadingDots:!0,statusFilter:l.default.Open,colorFilter:null,lastNoteColorUsed:"yellow",flash:!1,dotId:null,highlightedDots:[],highlightedComments:[],savedNotes:{}}}reset(e){const{savedNotes:t}=e;return Object.assign(Object.assign({},this.getInitialState()),{savedNotes:t})}load(e,{dots:t={}}){const{savedNotes:n}=e;return Object.assign(Object.assign(Object.assign({},this.getInitialState()),t),{savedNotes:n})}setDots(e,{dotId:t,statusFilter:n,colorFilter:i}){return Object.assign(Object.assign({},e),{loadingDots:!1,dotId:t,statusFilter:n,colorFilter:i})}createNote(e,{dot:{_id:t}}){return Object.assign(Object.assign({},e),{dotId:t,statusFilter:l.default.Open,colorFilter:null})}updateDot(e,{did:t,dotData:{_id:n}}){return e.dotId!==t&&t===n?e:Object.assign(Object.assign({},e),{dotId:n})}updateDotStatus(e,{did:t,status:n,statusFilter:i}){const o=i||e.statusFilter;return e.dotId===t&&o!==n?Object.assign(Object.assign({},e),{statusFilter:o,dotId:null}):i?Object.assign(Object.assign({},e),{statusFilter:o}):e}updateLastNoteColorUsed(e,{colorName:t}){return Object.assign(Object.assign({},e),{lastNoteColorUsed:t})}saveNote(e,t,n,i){const{savedNotes:o}=e,s=r.isDraft(n)?"newDot":n;return Object.assign(Object.assign({},e),{savedNotes:Object.assign(Object.assign({},o),{[t]:Object.assign(Object.assign({},o[t]),{[s]:i})})})}removeDot(e,{sid:t,did:n,note:i}){let{savedNotes:o}=e;return r.isDraft(n)&&(o=Object.assign(Object.assign({},o),{[t]:Object.assign(Object.assign({},o[t]),{newDot:i})})),e.dotId!==n?r.isDraft(n)?Object.assign(Object.assign({},e),{savedNotes:o}):e:Object.assign(Object.assign({},e),{savedNotes:o,dotId:null})}changeDotFilter(e,{status:t,color:n,dotId:i}){return Object.assign(Object.assign({},e),{colorFilter:n,statusFilter:t,dotId:i})}flash(e,{flash:t}){return Object.assign(Object.assign({},e),{flash:t})}dotsFlashed(e){return Object.assign(Object.assign({},e),{flash:!1})}selectDot(e,{dotId:t,commentId:n}){if(e.dotId===t)return e;let i=[];return Array.isArray(n)?i=n:n&&(i=[n]),Object.assign(Object.assign({},e),{dotId:t,highlightedComments:i,highlightedDots:e.highlightedDots.filter((e=>e!==t))})}deselectDot(e){return Object.assign(Object.assign({},e),{dotId:null})}unhighlightComment(e,{cmid:t}){return Object.assign(Object.assign({},e),{highlightedComments:e.highlightedComments.filter((e=>e!==t))})}reduce(e,t){switch(t.type){case a.default.CHANGE_SELECTED_VIEW:case a.default.RESET:return this.reset(e);case a.default.LOAD:return this.load(e,t);case s.default.SET_DOTS:return this.setDots(e,t);case s.default.CREATE_NOTE:return this.createNote(e,t);case s.default.UPDATE_DOT:return this.updateDot(e,t);case s.default.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case s.default.UPDATE_DOT_COLOR:return this.updateLastNoteColorUsed(e,t);case s.default.SAVE_NOTE:return this.saveNote(e,t.sid,t.did,t.note);case s.default.ADD_DOT:return this.saveNote(e,t.sid,t.dot._id,"");case s.default.CREATE_COMMENT:return this.saveNote(e,t.sid,t.did,"");case s.default.REMOVE_DOT:return this.removeDot(e,t);case s.default.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t);case s.default.ENABLE_NOTE_MODE:return this.flash(e,t);case s.default.DOTS_FLASHED:return this.dotsFlashed(e);case s.default.OPEN_SCREEN:case s.default.SELECT_DOT:return this.selectDot(e,t);case s.default.SELECT_LAYER:case s.default.CLOSE_DOT_POPUP:case s.default.OPEN_DOT_MENU:case s.default.DESELECT_LAYER:case s.default.SHOW_FLOW_LINKS:return this.deselectDot(e);case s.default.UNHIGHLIGHT_COMMENT:return this.unhighlightComment(e,t);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Open="open",e.Mentioned="mentioned",e.Resolved="resolved"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(n(11)),c=r(n(571)),d=r(n(575)),u=r(n(576)),h=r(n(648)),p=r(n(652)),f=s(n(653)),g=n(544),m=n(547);class b extends l.default{getInitialState(){return{loadingSnapshot:!0,processingSnapshotTiles:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,notesVisible:!0,noteMode:!1,tagManagerScreenIds:[],layoutGridEnabled:!1,scrollTop:0,scrollLeft:0,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,screenSidebarWidth:260,selectedSidebarTab:p.default[0].id,sourceFiles:{},componentVariantsOnboardingHintboxSeen:!1,imageProcessingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:g.isMobileViewport(),hasNewVersions:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,versionsSidebarWidth:280}}reset(){return this.getInitialState()}load({screen:e={}}){return Object.assign(Object.assign({},this.getInitialState()),e)}openScreen(e,t){var{shouldResetDashboardFilters:n,barrelId:i,dotId:o,commentId:s}=t,r=a(t,["shouldResetDashboardFilters","barrelId","dotId","commentId"]);return Object.assign(Object.assign(Object.assign({},e),r),{selectedLayer:null,destinationLayer:null,noteMode:!1})}closeScreen(e){return Object.assign(Object.assign({},e),{loadingSnapshot:!0,processingSnapshotTiles:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,noteMode:!1,tagManagerScreenIds:[],layoutGridEnabled:!1,scrollTop:0,scrollLeft:0,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,selectedSidebarTab:p.default[0].id,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:!1,hasNewVersions:!1,showVersionsAuntie:!1})}changeZoomLevel(e,t,n=!1){const i=Math.max(f.ZOOM_LEVEL_MIN,Math.min(t,f.ZOOM_LEVEL_MAX));return Object.assign(Object.assign({},e),{zoomLevel:i,animateZooming:n})}zoomIn(e){var t;const n=null!==(t=f.default.find((t=>t>e.zoomLevel)))&&void 0!==t?t:f.ZOOM_LEVEL_MAX;return this.changeZoomLevel(e,n,!0)}zoomOut(e){var t;const n=null!==(t=[...f.default].reverse().find((t=>t<e.zoomLevel)))&&void 0!==t?t:f.ZOOM_LEVEL_MIN;return this.changeZoomLevel(e,n,!0)}resetZoom(e){return this.changeZoomLevel(e,f.ZOOM_LEVEL_DEFAULT,!0)}zoomApplied(e){return e.animateZooming?Object.assign(Object.assign({},e),{animateZooming:!1}):e}startGesture(e){return Object.assign(Object.assign({},e),{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,{scale:t}){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,{deltaY:t}){return this.changeZoomLevel(e,e.zoomLevel-t/100)}changeScrollPosition(e,{scrollTop:t,scrollLeft:n}){return Object.assign(Object.assign({},e),{scrollTop:t,scrollLeft:n})}openTagManager(e,{sids:t}){return Object.assign(Object.assign({},e),{tagManagerScreenIds:t})}closeTagManager(e){return Object.assign(Object.assign({},e),{tagManagerScreenIds:[]})}toggleLayoutGrid(e){return Object.assign(Object.assign({},e),{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return Object.assign(Object.assign({},e),{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return Object.assign(Object.assign({},e),{noteMode:!1})}showNotes(e){return Object.assign(Object.assign({},e),{notesVisible:!0,noteMode:!1})}hideNotes(e){return Object.assign(Object.assign({},e),{notesVisible:!1,noteMode:!1})}selectLayer(e,{layer:t,shouldIncrementNumberOfLayerComponentViews:n}){const i=e.numberOfLayerComponentViews+(n?1:0);return Object.assign(Object.assign({},e),{selectedLayer:t,destinationLayer:t,numberOfLayerComponentViews:i})}deselectLayer(e){return Object.assign(Object.assign({},e),{selectedLayer:null,destinationLayer:null})}enterLayer(e,{layer:t}){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:null}):e}enablePercentageMode(e){return Object.assign(Object.assign({},e),{percentageMode:!0})}disablePercentageMode(e){return Object.assign(Object.assign({},e),{percentageMode:!1})}showFlowLinks(e){return Object.assign(Object.assign({},e),{flowLinksVisible:!0})}hideFlowLinks(e){return Object.assign(Object.assign({},e),{flowLinksVisible:!1})}changeSidebarTab(e,{selectedSidebarTab:t}){return Object.assign(Object.assign({},e),{selectedSidebarTab:t})}changeScreenSidebarWidth(e,{screenSidebarWidth:t}){return Object.assign(Object.assign({},e),{screenSidebarWidth:t})}setSnapshot(e,{sid:t,snapshot:n}){return t!==e.screenId?e:Object.assign(Object.assign({},e),{loadingSnapshot:!1,processingSnapshotTiles:n.tileInfo&&"processing"===n.tileInfo.status})}addScreenTiles(e,{sid:t}){return t!==e.screenId?e:Object.assign(Object.assign({},e),{processingSnapshotTiles:!1})}setVersionId(e,{versionId:t,latestVersionSelected:n}){return Object.assign(Object.assign({},e),{versionId:t,latestVersionSelected:n,selectedLayer:null,destinationLayer:null})}setVersions(e,{sid:t,versionId:n}){return t!==e.screenId?e:Object.assign(Object.assign({},e),{versionId:n,loadingVersions:!1})}addVersion(e,{sid:t,versionId:n,latestVersionSelected:i,hasNewVersions:o}){return t!==e.screenId?e:Object.assign(Object.assign({},e),{versionId:n,latestVersionSelected:i,hasNewVersions:o,loadingSnapshot:!0,processingSnapshotTiles:!1})}showVersions(e,{loadingVersions:t}){return Object.assign(Object.assign({},e),{loadingVersions:t,versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return Object.assign(Object.assign({},e),{versionsVisible:!1,versionsCompactMode:!1})}toggleVersions(e,t){return e.versionsVisible?this.hideVersions(e):this.showVersions(e,t)}enableVersionsCompactMode(e){return Object.assign(Object.assign({},e),{versionsCompactMode:!0})}disableVersionsCompactMode(e){return Object.assign(Object.assign({},e),{versionsCompactMode:!1})}showVersionsAuntie(e){return Object.assign(Object.assign({},e),{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return Object.assign(Object.assign({},e),{showVersionsAuntie:!1})}changeVersionsSidebarWidth(e,{versionsSidebarWidth:t}){return Object.assign(Object.assign({},e),{versionsSidebarWidth:t})}removeVersion(e,{sid:t,versionId:n,removingCurrentVersion:i}){return t===e.screenId&&i?Object.assign(Object.assign({},e),{versionId:n,latestVersionSelected:!0}):e}setSourceFile(e,{versionId:t,sourceFile:n}){return Object.assign(Object.assign({},e),{sourceFiles:Object.assign(Object.assign({},e.sourceFiles),{[t]:n})})}updateForRemoveScreen(e,{removingCurrentScreen:t}){return t?this.closeScreen(e):e}hideComponentVariantsOnboardingHintbox(e){return Object.assign(Object.assign({},e),{componentVariantsOnboardingHintboxSeen:!0})}hideImageProcessingHintbox(e){return Object.assign(Object.assign({},e),{imageProcessingHintboxSeen:!0})}setComponentVariantViewAsSeen(e){return Object.assign(Object.assign({},e),{componentVariantViewSeen:!0})}reduce(e,t){switch(t.type){case c.default.RESET:case d.default.RESET:return this.reset();case d.default.LOAD:return this.load(t);case d.default.CHANGE_SELECTED_VIEW:return t.selectedView===m.ProjectViewTypes.SCREEN?e:this.closeScreen(e);case u.default.OPEN_SCREEN:return this.openScreen(e,t);case u.default.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case u.default.ZOOM_IN:return this.zoomIn(e);case u.default.ZOOM_OUT:return this.zoomOut(e);case u.default.RESET_ZOOM:return this.resetZoom(e);case u.default.START_GESTURE:return this.startGesture(e);case u.default.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t);case u.default.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t);case u.default.ZOOM_APPLIED:return this.zoomApplied(e);case u.default.CHANGE_SCROLL_POSITION:return this.changeScrollPosition(e,t);case u.default.OPEN_TAG_MANAGER:return this.openTagManager(e,t);case u.default.CLOSE_TAG_MANAGER:return this.closeTagManager(e);case u.default.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case u.default.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case u.default.DISABLE_NOTE_MODE:return this.disableNoteMode(e);case u.default.SHOW_NOTES:case u.default.SELECT_DOT:case u.default.CREATE_NOTE:return this.showNotes(e);case u.default.HIDE_NOTES:return this.hideNotes(e);case u.default.SELECT_LAYER:return this.selectLayer(e,t);case u.default.DESELECT_LAYER:return this.deselectLayer(e);case u.default.ENTER_LAYER:return this.enterLayer(e,t);case u.default.LEAVE_LAYER:return this.leaveLayer(e);case u.default.ENABLE_PERCENTAGE_MODE:return this.enablePercentageMode(e);case u.default.DISABLE_PERCENTAGE_MODE:return this.disablePercentageMode(e);case u.default.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case u.default.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case u.default.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t);case u.default.CHANGE_SCREEN_SIDEBAR_WIDTH:return this.changeScreenSidebarWidth(e,t);case u.default.SET_SNAPSHOT:return this.setSnapshot(e,t);case u.default.SET_VERSION_ID:return this.setVersionId(e,t);case u.default.SET_VERSIONS:return this.setVersions(e,t);case u.default.ADD_VERSION:return this.addVersion(e,t);case u.default.ADD_SCREEN_TILES:return this.addScreenTiles(e,t);case u.default.SHOW_VERSIONS:return this.showVersions(e,t);case u.default.HIDE_VERSIONS:return this.hideVersions(e);case u.default.TOGGLE_VERSIONS:return this.toggleVersions(e,t);case u.default.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case u.default.ENABLE_VERSIONS_COMPACT_MODE:return this.enableVersionsCompactMode(e);case u.default.DISABLE_VERSIONS_COMPACT_MODE:return this.disableVersionsCompactMode(e);case u.default.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case u.default.CHANGE_VERSIONS_SIDEBAR_WIDTH:return this.changeVersionsSidebarWidth(e,t);case u.default.REMOVE_VERSION:return this.removeVersion(e,t);case u.default.SET_SOURCE_FILE:return this.setSourceFile(e,t);case u.default.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case u.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:return this.hideComponentVariantsOnboardingHintbox(e);case u.default.HIDE_IMAGE_PROCESSING_HINTBOX:return this.hideImageProcessingHintbox(e);case h.default.OPEN:return this.setComponentVariantViewAsSeen(e);case h.default.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZOOM_LEVEL_MAX=t.ZOOM_LEVEL_MIN=t.ZOOM_LEVEL_DEFAULT=void 0;const i=[.25,.5,.75,1,1.5,2,2.5,3,4,5];t.ZOOM_LEVEL_DEFAULT=1;const o=i[0];t.ZOOM_LEVEL_MIN=o;const s=i[i.length-1];t.ZOOM_LEVEL_MAX=s,t.default=i},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(11)),l=a(n(655)),c=a(n(575)),d=s(n(656)),u=n(610);function h(e,t,n,i){return n?Object.assign(Object.assign({},e),{[t]:d.getEventsOfGroup(i,t)}):u.filterOut(e,t)}function p(e,t,n,i){var o;const s=d.getGroupOfEvent(i,t);let a=null!==(o=e[s])&&void 0!==o?o:[];return n&&!a.includes(t)?Object.assign(Object.assign({},e),{[s]:a.concat(t)}):!n&&a.includes(t)?(a=a.filter((e=>e!==t)),0===a.length?u.filterOut(e,s):Object.assign(Object.assign({},e),{[s]:a})):e}class f extends r.default{getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[],barrelType:null}}load(e,t,n,i){return Object.assign(Object.assign({},e),{barrelType:i,eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:d.groupEvents(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?Object.assign(Object.assign({},e),{open:!0,inid:t,channelName:n}):e}authenticatedSlackIntegration(e,{integration:t,events:n,barrelType:i,openPreferences:o}){const s=this.load(e,t._id,n,i);return o?this.open(s,t._id,t.incomingWebHook.channel):s}close(e){return Object.assign(Object.assign({},e),{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,{eventGroup:t,checked:n}){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[e.inid]:h(e.eventGroupsByInid[e.inid],t,n,e.barrelType)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,{inid:t,eventGroup:n}){return e.inid===t?Object.assign(Object.assign({},e),{loading:e.loading.filter((e=>e!==n))}):e}eventGroupUpdateFailed(e,{inid:t,eventGroup:n}){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:h(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n],e.barrelType)}),loading:e.inid===t?e.loading.filter((e=>e!==n)):e.loading})}eventUpdated(e,{inid:t,event:n,enabled:i}){return e.eventGroupsByInid[t]?Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:p(e.eventGroupsByInid[t],n,i,e.barrelType)})}):e}reduce(e,t){switch(t.type){case l.default.LOAD:return this.load(e,t.inid,t.events,t.barrelType);case l.default.OPEN:return this.open(e,t.inid,t.channelName);case l.default.CLOSE:return this.close(e);case l.default.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t);case l.default.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t);case l.default.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t);case l.default.EVENT_UPDATED:return this.eventUpdated(e,t);case c.default.AUTHENTICATED_SLACK_INTEGRATION:return this.authenticatedSlackIntegration(e,t);default:return e}}}t.default=f},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INIT="slackPreferences/init",e.LOAD="slackPreferences/load",e.OPEN="slackPreferences/open",e.CLOSE="slackPreferences/close",e.UPDATE_EVENT_GROUP="slackPreferences/updateEventGroup",e.EVENT_GROUP_UPDATED="slackPreferences/eventGroupUpdated",e.EVENT_GROUP_UPDATE_FAILED="slackPreferences/eventGroupUpdateFailed",e.EVENT_UPDATED="slackPreferences/eventUpdated"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eventGroupsByBarrelType=t.groupEvents=t.getGroupOfEvent=t.getEventsOfGroup=void 0;const o=i(n(590)),s={[o.default.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["project.spacingtoken.created","project.spacingtoken.updated","project.spacingtoken.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[o.default.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["styleguide.spacingtoken.created","styleguide.spacingtoken.updated","styleguide.spacingtoken.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function a(e){return Object.keys(s[e]).reduce(((t,n)=>s[e][n].events.reduce(((e,t)=>(e[t]=n,e)),t)),{})}t.eventGroupsByBarrelType=s;const r={project:a(o.default.PROJECT),styleguide:a(o.default.STYLEGUIDE)};function l(e,t){return r[e][t]}t.groupEvents=function(e,t){return t.reduce(((t,n)=>{var i;const o=l(e,n);return o&&(null!==(i=t[o])&&void 0!==i?i:t[o]=[]).push(n),t}),{})},t.getEventsOfGroup=function(e,t){return s[e][t].events},t.getGroupOfEvent=l},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(620)),a=i(n(571)),r=i(n(617)),l=i(n(619)),c=i(n(618)),d=i(n(575)),u=i(n(622)),h=n(547);class p extends o.default{getInitialState(){return{loading:!0,selectedTab:h.WorkspaceTabs.PROJECTS,selectedOrganizationId:"user",selectedProjectSortType:h.SortTypes.CREATED,showArchivedProjects:!1,pinnedBarrelOnce:!1,selectedWorkflowStatusFilter:u.default.All._id,filterValue:"",highlightedBarrels:[],highlightedSection:null,collapsedSections:{},styleguidesTabVisited:!1,visibleDialogType:null,visibleDialogParams:{},offerReminderNextDate:null}}reset(){return this.getInitialState()}updatePageState(e,{updateState:t}){return Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})}changeProjectSelectedSortType(e,t){return Object.assign(Object.assign({},e),{selectedProjectSortType:t})}toggleArchivedProjects(e){return Object.assign(Object.assign({},e),{showArchivedProjects:!e.showArchivedProjects})}setPinnedBarrelOnce(e){return e.pinnedBarrelOnce?e:Object.assign(Object.assign({},e),{pinnedBarrelOnce:!0})}updateForUnpinBarrel(e,{bid:t}){return this.unhighlightBarrel(e,{bid:t})}changeWorkflowStatusFilter(e,{workflowStatusFilter:t}){return Object.assign(Object.assign({},e),{selectedWorkflowStatusFilter:t})}changeWorkflowStatusFilterOnDelete(e,{oldWorkflowStatusData:t}){return e.selectedWorkflowStatusFilter===t._id?this.changeWorkflowStatusFilter(e,{workflowStatusFilter:u.default.All._id}):e}unhighlightBarrel(e,{bid:t}){return Object.assign(Object.assign({},e),{highlightedBarrels:e.highlightedBarrels.filter((e=>e!==t))})}highlightSection(e,{oseid:t}){const{collapsedSections:n}=e;return n[t]&&(n[t]=!1),Object.assign(Object.assign({},e),{collapsedSections:n,highlightedSection:t})}unhighlightSection(e){return Object.assign(Object.assign({},e),{highlightedSection:null})}expandHighlightedSections(e,{organization:t}){if(!t)return e;const{sections:n}=t,{highlightedBarrels:i,selectedTab:o}=e;if(!n||!i.length||o!==h.WorkspaceTabs.PROJECTS)return e;const s=n.filter((e=>"default"!==e.name&&e.projects.some((e=>i.includes(e))))).map((e=>e._id));return this.expandSections(e,{oseids:s})}expandSections(e,{oseids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!1]))))})}collapseSections(e,{oseids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!0]))))})}setStyleguidesTabVisited(e){return Object.assign(Object.assign({},e),{styleguidesTabVisited:!0})}showLoading(e){return Object.assign(Object.assign({},e),{loading:!0})}hideLoading(e){return Object.assign(Object.assign({},e),{loading:!1})}openDialog(e,{dialogType:t,dialogParams:n}){return Object.assign(Object.assign({},e),{visibleDialogType:t,visibleDialogParams:n})}closeDialog(e){return Object.assign(Object.assign({},e),{visibleDialogType:null,visibleDialogParams:{}})}closePreviewDialog(e,{bid:t}){const{previewBarrelId:n}=e.visibleDialogParams;return n===t?this.closeDialog(e):e}resetSortTypeAndFilters(e,{syncWithApi:t}){let n=e;return t&&(e.selectedProjectSortType!==h.SortTypes.SECTIONS&&(n=this.changeProjectSelectedSortType(n,h.SortTypes.SECTIONS)),e.selectedWorkflowStatusFilter!==u.default.All._id&&(n=this.changeWorkflowStatusFilter(n,{workflowStatusFilter:u.default.All._id}))),n}resetUIInteractions(e,t){return this.resetSortTypeAndFilters(e,t)}highlightCopiedBarrel(e,{barrel:t,addedWithCopy:n}){return n?Object.assign(Object.assign({},this.closeDialog(e)),{highlightedBarrels:[t._id,...e.highlightedBarrels]}):e}postponeOfferReminder(e,{nextDate:t}){return Object.assign(Object.assign({},e),{offerReminderNextDate:t})}changeFilterValue(e,{filterValue:t}){return Object.assign(Object.assign({},e),{filterValue:t})}reduce(e,t){switch(t.type){case s.default.UPDATE_PAGE_STATE:return this.updatePageState(e,t);case s.default.CHANGE_PROJECT_SELECTED_SORT_TYPE:return this.changeProjectSelectedSortType(e,t.sortType);case s.default.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t);case s.default.TOGGLE_ARCHIVED_PROJECTS:return this.toggleArchivedProjects(e);case s.default.CHANGE_WORKFLOW_STATUS_FILTER:return this.changeWorkflowStatusFilter(e,t);case s.default.UNHIGHLIGHT_BARREL:return this.unhighlightBarrel(e,t);case s.default.EXPAND_SECTIONS:return this.expandSections(e,t);case s.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case s.default.SET_STYLEGUIDES_TAB_VISITED:return this.setStyleguidesTabVisited(e);case s.default.OPEN_DIALOG:return this.openDialog(e,t);case s.default.CLOSE_DIALOG:return this.closeDialog(e);case s.default.HIDE_LOADING:return this.hideLoading(e);case s.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t);case s.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case s.default.POSTPONE_OFFER_REMINDER:return this.postponeOfferReminder(e,t);case d.default.ADD:return this.highlightCopiedBarrel(e,t);case r.default.ADD_BARREL_TO_FOCUS_SUCCESS:return this.setPinnedBarrelOnce(e);case r.default.REMOVE_BARREL_FROM_FOCUS:return this.updateForUnpinBarrel(e,t);case r.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.changeWorkflowStatusFilterOnDelete(e,t);case r.default.ADD_PROJECT_SECTION:case r.default.UPDATE_PROJECT_ORDER:return this.resetUIInteractions(e,t);case c.default.CREATE_PROJECT:case l.default.CREATE_STYLEGUIDE:return this.showLoading(e);case d.default.ARCHIVE:case d.default.REMOVE:return this.closePreviewDialog(e,t);case a.default.LOAD_WORKSPACE_DATA:return this.expandHighlightedSections(e,t);case a.default.RESET:return this.reset();default:return e}}}t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(620));class a extends o.default{getInitialState(){return{scrollToHighlightedBarrel:!1}}scrolledToProject(){return{scrollToHighlightedBarrel:!1}}scrollToHighlightedBarrel({updateState:{scrollToHighlightedBarrel:e}}){return{scrollToHighlightedBarrel:!!e}}reduce(e,t){switch(t.type){case s.default.SCROLLED_TO_PROJECT:return this.scrolledToProject();case s.default.UPDATE_PAGE_STATE:return this.scrollToHighlightedBarrel(t);default:return e}}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(571)),a=i(n(620)),r=i(n(575));class l extends o.default{getInitialState(){return{selectedProjects:[]}}toggleProjectSelection(e,{pid:t}){const n=new Set(e.selectedProjects);return n.has(t)?n.delete(t):n.add(t),Object.assign(Object.assign({},e),{selectedProjects:Array.from(n)})}clearProjectSelection(e){return Object.assign(Object.assign({},e),{selectedProjects:[]})}selectProjects(e,{projectIds:t}){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.concat(t.filter((t=>e.selectedProjects.indexOf(t)<0)))})}deselectProjects(e,{projectIds:t}){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.filter((e=>!t.includes(e)))})}reduce(e,t){switch(t.type){case a.default.TOGGLE_PROJECT_SELECTION:return this.toggleProjectSelection(e,t);case a.default.CLEAR_PROJECT_SELECTION:case r.default.DELETE_WORKFLOW_STATUSES:case r.default.UPDATE_WORKFLOW_STATUSES:case s.default.SET_PAGE:return this.clearProjectSelection(e);case a.default.SELECT_PROJECTS:return this.selectProjects(e,t);case a.default.DESELECT_PROJECTS:return this.deselectProjects(e,t);default:return e}}}t.default=l},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(643)),a=i(n(571)),r=i(n(575)),l=i(n(661)),c=n(547);class d extends o.default{getInitialState(){return{sortType:c.SortTypes.SECTIONS,filterValue:"",leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,collapsedSections:{},highlightedColors:[],highlightedTextStyles:[],highlightedSpacingTokens:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1},componentVariantsOnboardingDialogSeen:!1,convertedAnySectionIntoVariant:!1}}reset(){return this.getInitialState()}load({styleguide:e={}}){return Object.assign(Object.assign({},this.getInitialState()),e)}updateState(e,{update:t}){return Object.assign(Object.assign({},e),t)}changeSortType(e,{sortType:t}){return Object.assign(Object.assign({},e),{sortType:t})}changeComponentFilterValue(e,{filterValue:t}){return Object.assign(Object.assign({},e),{filterValue:t})}changeLeftSidebarWidth(e,{leftSidebarWidth:t}){return Object.assign(Object.assign({},e),{leftSidebarWidth:t})}changeRightSidebarWidth(e,{rightSidebarWidth:t}){return Object.assign(Object.assign({},e),{rightSidebarWidth:t})}changeSelectedNavigatorId(e,{selectedStyleguideSection:t,selectedNavigatorId:n}){return Object.assign(Object.assign({},e),{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,{cids:t}){return Object.assign(Object.assign({},e),{highlightedColors:[...t]})}unhighlightColor(e,{cid:t}){return Object.assign(Object.assign({},e),{highlightedColors:e.highlightedColors.filter((e=>e!==t))})}highlightTextStyles(e,{tsids:t}){return Object.assign(Object.assign({},e),{highlightedTextStyles:[...t]})}unhighlightTextStyle(e,{tsid:t}){return Object.assign(Object.assign({},e),{highlightedTextStyles:e.highlightedTextStyles.filter((e=>e!==t))})}highlightSpacingTokens(e,{sptids:t}){return Object.assign(Object.assign({},e),{highlightedSpacingTokens:[...t]})}unhighlightSpacingToken(e,{sptid:t}){return Object.assign(Object.assign({},e),{highlightedSpacingTokens:e.highlightedSpacingTokens.filter((e=>e!==t))})}sectionScrolled(e){return Object.assign(Object.assign({},e),{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n,collapsedSections:i}){return Object.assign(Object.assign({},e),{selectionComponentId:t,selection:n,collapsedSections:null!=i?i:e.collapsedSections})}updateForChangeSelectedView(e,{selectedView:t}){return t===c.ProjectViewTypes.STYLEGUIDE?e:Object.assign(Object.assign({},e),{selectionComponentId:null,selection:null,convertedAnySectionIntoVariant:!1})}componentSeedsReady(e){return Object.assign({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?Object.assign(Object.assign({},e),{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{resources:t,resourceType:n,targetNode:i}){return Object.assign(Object.assign({},e),{moveResourcesPopup:{resources:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return Object.assign(Object.assign({},e),{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return Object.assign(Object.assign({},e),{moveResourcesPopup:Object.assign(Object.assign({},n),{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return Object.assign(Object.assign({},e),{moveResourcesPopup:Object.assign(Object.assign({},t),{targetStyleguide:null})})}expandSections(e,{seids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!1]))))})}collapseSections(e,{seids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!0]))))})}collapseAllSections(e,{seids:t}){return Object.assign(Object.assign({},e),{selectedNavigatorId:null,selectionComponentId:null,collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map((e=>[e,!0]))))})}setSuggestedResources(e){return Object.assign(Object.assign({},e),{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}hideComponentVariantsOnboardingDialog(e){return Object.assign(Object.assign({},e),{componentVariantsOnboardingDialogSeen:!0})}convertedAnySectionIntoVariant(e,{userConvertedSectionIntoVariant:t}){return e.convertedAnySectionIntoVariant||!t?e:Object.assign(Object.assign({},e),{convertedAnySectionIntoVariant:!0})}reduce(e,t){switch(t.type){case a.default.RESET:return this.reset();case r.default.LOAD:return this.load(t);case r.default.CHANGE_SELECTED_VIEW:return this.updateForChangeSelectedView(e,t);case s.default.UPDATE_STATE:return this.updateState(e,t);case s.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t);case s.default.CHANGE_COMPONENT_FILTER_VALUE:return this.changeComponentFilterValue(e,t);case s.default.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t);case s.default.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t);case s.default.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t);case s.default.HIGHLIGHT_COLORS:return this.highlightColors(e,t);case s.default.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t);case s.default.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t);case s.default.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t);case s.default.HIGHLIGHT_SPACING_TOKENS:return this.highlightSpacingTokens(e,t);case s.default.UNHIGHLIGHT_SPACING_TOKEN:return this.unhighlightSpacingToken(e,t);case s.default.SECTION_SCROLLED:return this.sectionScrolled(e);case s.default.CHANGE_SELECTION:return this.changeSelection(e,t);case s.default.COMPONENT_SEEDS_READY:return this.componentSeedsReady(e);case s.default.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case s.default.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case s.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case s.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case s.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:return this.hideComponentVariantsOnboardingDialog(e);case s.default.EXPAND_SECTIONS:return this.expandSections(e,t);case s.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case s.default.COLLAPSE_ALL_SECTIONS:return this.collapseAllSections(e,t);case r.default.REMOVE_COMPONENT:return this.removeComponent(e,t);case r.default.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case r.default.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case l.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);case s.default.SET_COMPONENT_VARIANT_DATA:return this.convertedAnySectionIntoVariant(e,t);default:return e}}}t.default=d},function(e,t,n){"use strict";n.r(t);t.default={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans",HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX:"hideMultipleColorsSupportedHintBox",HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX:"hideExportToStyleguideHintBox",SHOW_XD_PLUGIN_RELEASED_MESSAGE:"showXdPluginReleasedMessage",HIDE_XD_PLUGIN_RELEASED_MESSAGE:"hideXdPluginReleasedMessage"}},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(11)),a=o(n(619)),r=o(n(575)),l=o(n(589)),c=o(n(643)),d=o(n(617)),u=o(n(571)),h=o(n(630)),p=o(n(590)),f=o(n(642)),g=o(n(645));class m extends s.default{constructor(e){super(e),this.reducer=new f.default({barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide",loadingBarrelsPropertyName:"loadingStyleguides"},{deleteBarrel:this.remove})}getInitialState(){return{loadingStyleguide:!0,loadingStyleguides:!0,loadingSelectParent:!1,styleguides:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==p.default.STYLEGUIDE?e:this.reducer.addBarrel(e,{barrel:t})}updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:o}){if(n!==p.default.STYLEGUIDE)return e;const{styleguides:s}=e,a=s[t],r=Object.fromEntries(i.map((e=>{const n=s[e];return n.status=o,n.parent&&(n.ancestors=n.ancestors.filter((e=>!a.ancestors.includes(e))),t===e&&(n.parent=null)),[e,n]})));return Object.assign(Object.assign({},e),{styleguides:Object.assign(Object.assign({},s),r)})}activateStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"active"})}archiveStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"archived"})}remove(e,{bid:t}){const n=e.styleguides,o=t,s=n[o],a=i(n,["symbol"==typeof o?o:o+""]);return Object.values(a).forEach((e=>{e.parent===t&&(e.parent=s.parent),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter((e=>e!==t)))})),Object.assign(Object.assign({},e),{styleguides:Object.assign({},a)})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,styleguides:i}){const o=this.reducer.updateBarrelValue(e,{bid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),s=i.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t._id]:new h.default(Object.assign(Object.assign({},t),{complete:!0}))})),{});return Object.assign(Object.assign({},o),{loadingSelectParent:!1,styleguides:Object.assign(Object.assign({},o.styleguides),s)})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n}){return this.reducer.updateBarrelValue(e,{bid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter((e=>e._id!==t))})}updateUserData(e,{bid:t,uid:n,userData:i}){return this.reducer.updateBarrelValue(e,{bid:t,key:"users",value:({users:e})=>e.map((({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:Object.assign(Object.assign({},t),i)}))})}transferOwnership(e,{bid:t,affectedIds:n,fromUserId:i,targetId:o,toOrganization:s,users:a,oid:r}){const l=e.styleguides[t];if(!l)return e;const c=n.map((t=>e.styleguides[t]));if(s||"user"!==r){const n=c.reduce(((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter((e=>e!==n.parent)),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter((e=>e!==l.parent))),e[n._id]=n,e)),{});return Object.assign(Object.assign({},e),{styleguides:Object.assign(Object.assign({},e.styleguides),n)})}const d=c.reduce(((e,t)=>this.reducer.updateBarrelValue(e,{bid:t._id,key:"ancestors",value:({ancestors:e})=>e.filter((e=>!l.ancestors.includes(e)))})),e),u=this.reducer.updateBarrelValue(d,{bid:l._id,key:"parent",value:null});return c.reduce(((e,t)=>this.reducer.updateBarrelValue(e,{bid:t._id,key:"users",value:e=>e.users.map((e=>{if(a){if(e.user._id===i||e.user._id===o){const t=a.find((t=>e.user._id===t.user._id));e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===o&&(e.role="owner"),e.user._id===i&&(e.role="admin"),e}))})),u)}load(e,{barrel:{barrelType:t},data:{project:n,styleguide:i,organizationStyleguides:o,linkedStyleguides:s,ancestors:a}}){if(t===p.default.STYLEGUIDE){if(i.partial)return this.reducer.getBarrelSuccess(e,{barrel:i});let t=e;return o&&(t=this.reducer.getBarrelsSuccess(e,{styleguides:o})),a.reduce(((e,t)=>this.reducer.getBarrelSuccess(e,{barrel:t})),this.reducer.getBarrelSuccess(t,{barrel:i}))}if(n.partial)return e;const r=o?this.reducer.getBarrelsSuccess(e,{styleguides:o}):e;return s.reduce(((e,t)=>this.reducer.getBarrelSuccess(e,{barrel:t})),r)}moveResourcesSuccess(e,{bid:t,barrelType:n,targetStyleguideId:i,resourceType:o,resources:s}){const a=g.default(o);let r=e;n===p.default.STYLEGUIDE&&(r=this.reducer.updateBarrelValue(e,{bid:t,key:a,value:e=>e[a].filter((e=>!s.includes(e)))}));const l=e.styleguides[i];return(null==l?void 0:l.complete)?this.reducer.updateBarrelValue(r,{bid:i,key:a,value:e=>e[a].concat(s)}):r}selectParent(e,{stid:t,parent:n}){const i=e.styleguides[t],o=[...e.styleguides[n].ancestors,n];return i.parent=n,i.ancestors=o,Object.values(e.styleguides).forEach((e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...o,...e.ancestors.slice(n)])})),Object.assign(Object.assign({},e),{styleguides:Object.assign({},e.styleguides)})}removeParent(e,{stid:t}){const n=e.styleguides[t];return n.ancestors=[],n.parent=null,Object.values(e.styleguides).forEach((e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))})),Object.assign(Object.assign({},e),{styleguides:Object.assign({},e.styleguides)})}selectParentRequest(e){return Object.assign(Object.assign({},e),{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,styleguides:i}){const o=this.selectParent(e,{stid:t,parent:n}),s=i.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t._id]:new h.default(Object.assign(Object.assign({},t),{complete:!0}))})),{});return Object.assign(Object.assign({},o),{loadingSelectParent:!1,styleguides:Object.assign(Object.assign({},o.styleguides),s)})}selectParentFailed(e){return Object.assign(Object.assign({},e),{loadingSelectParent:!1})}hydrateEmbeddedData(e,{styleguides:t,project:n,linkedStyleguides:i,styleguide:o,ancestors:s}){let a=e;return t&&(a=this.reducer.getBarrelsSuccess(e,{styleguides:t})),n?n.partial?a:i.reduce(((e,t)=>this.reducer.getBarrelSuccess(e,{barrel:t})),a):o?o.partial?this.reducer.getBarrelSuccess(a,{barrel:o}):s.reduce(((e,t)=>this.reducer.getBarrelSuccess(e,{barrel:t})),this.reducer.getBarrelSuccess(a,{barrel:o})):a}reduce(e,t){switch(t.type){case a.default.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case a.default.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case a.default.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,{barrel:t.styleguide});case a.default.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case a.default.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,{bid:t.stid,data:t.data});case r.default.UPDATE_NAME:return this.reducer.updateName(e,t);case r.default.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case r.default.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case r.default.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case r.default.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case r.default.AUTHENTICATED_SLACK_INTEGRATION:return this.reducer.addIntegration(e,Object.assign(Object.assign({},t),{intype:"slacks"}));case r.default.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case r.default.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case r.default.ADD_MEMBERS:return this.reducer.addMembers(e,t);case r.default.ADD_COLOR:return this.reducer.addColor(e,t);case r.default.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case r.default.UPDATE_COLOR:return this.reducer.updateColor(e,t);case r.default.REMOVE_COLOR:return this.reducer.removeColor(e,t);case r.default.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case r.default.MIGRATE_COLORS:return this.reducer.migrateColors(e,t);case r.default.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case r.default.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case r.default.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case r.default.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case r.default.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case r.default.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case r.default.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case r.default.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case r.default.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case r.default.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case r.default.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case r.default.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case r.default.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case r.default.ADD_COMPONENT:return this.reducer.addComponent(e,t);case r.default.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case r.default.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case r.default.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case r.default.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case r.default.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case r.default.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case r.default.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case r.default.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case r.default.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case r.default.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case r.default.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case r.default.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case r.default.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case r.default.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case r.default.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case r.default.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case r.default.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case r.default.ADD:return this.add(e,t);case r.default.ACTIVATE:return this.activateStyleguide(e,t);case r.default.ARCHIVE:return this.archiveStyleguide(e,t);case r.default.REMOVE:return this.remove(e,t);case l.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.default.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case r.default.UPDATE_USER_DATA:return this.updateUserData(e,t);case a.default.TRANSFER_OWNERSHIP:case r.default.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case r.default.LOAD:return this.load(e,t);case r.default.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case d.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case d.default.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case a.default.SELECT_PARENT:return this.selectParent(e,t);case a.default.REMOVE_PARENT:return this.removeParent(e,t);case a.default.SELECT_PARENT_REQUEST:return this.selectParentRequest(e);case a.default.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case a.default.SELECT_PARENT_FAILED:return this.selectParentFailed(e);case c.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case c.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case c.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case c.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case c.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);case u.default.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case u.default.RESET:return this.reset();case u.default.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(664);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{overridingCategory:null}}setOverridingCategory(e,t){return r(r({},e),{},{overridingCategory:t})}reduce(e,t){switch(t.type){case s.default.SET_OVERRIDING_CATEGORY:return this.setOverridingCategory(e,t.overridingCategory);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={SET_OVERRIDING_CATEGORY:"supportButton/setOverridingCategory"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(666)),a=i(n(575));class r extends o.default{constructor(e){super(e)}getInitialState(){return{channels:[],loading:!0}}reset(){return this.getInitialState()}setTeamsIntegration(e,{channels:t}){return Object.assign(Object.assign({},e),{channels:t,loading:!1})}reduce(e,t){switch(t.type){case a.default.RESET:return this.reset();case s.default.SET_TEAMS_INTEGRATION:return this.setTeamsIntegration(e,t);default:return e}}}t.default=r},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_TEAMS_INTEGRATION="teamsIntegration/getTeamsIntegration",e.SET_TEAMS_INTEGRATION="teamsIntegration/setTeamsIntegration"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(661),a=n(576),r=n.n(a),l=n(575),c=n.n(l),d=n(583),u=n(643),h=n.n(u),p=n(584),f=n.n(p),g=n(606),m=n.n(g);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return Object.keys(e).reduce(((t,n)=>{const{colors:i=[],textStyles:o=[]}=e[n];return S(S({},t),{},{[n]:{colors:i.map((e=>new f.a(S({_id:Object(d.getRandomString)()},e)))),textStyles:o.map((e=>new m.a(S({_id:Object(d.getRandomString)()},e))))}})}),{})}class O extends o.a{getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1,multipleColorsSupportedHintBoxVisible:!1,exportToStyleguideHintBoxVisible:!1,xdPluginReleasedMessageVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:s,textStyles:a}}=n;if(!s.length)return e;const r=new f.a(i);return S(S({},e),{},{suggestedResourcesByBarrel:S(S({},n),{},{[o]:{textStyles:a,colors:s.filter((e=>e.id!==r.id))}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:s}}=n;return s.length?i.reduce(((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:o})),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:s,textStyles:a}}=n;if(!a.length)return e;const r=new m.a(i);return S(S({},e),{},{suggestedResourcesByBarrel:S(S({},n),{},{[o]:{colors:s,textStyles:a.filter((e=>e.id!==r.id))}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:o}=t;if(!n[o])return e;const{[o]:{textStyles:s}}=n;return s.length?i.reduce(((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:o})),e):e}changeHintBoxVisibilities(e,t){const{colorsToAdd:n,hasLinkedStyleguideColor:i}=t,o=n.length>0;return S(S({},e),{},{multipleColorsSupportedHintBoxVisible:o,exportToStyleguideHintBoxVisible:i})}hideMultipleColorsSupportedHintBox(e){return S(S({},e),{},{multipleColorsSupportedHintBoxVisible:!1,listVisible:!1})}hideExportToStyleguideHintBox(e){return S(S({},e),{},{exportToStyleguideHintBoxVisible:!1,listVisible:!1})}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return S(S({},e),{},{suggestedResourcesByBarrel:S(S({},i),{},{[n]:S(S({},o),{},{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return S(S({},e),{},{suggestedResourcesByBarrel:S(S({},i),{},{[n]:S(S({},o),{},{textStyles:[]})})})}showXdPluginReleasedMessage(e){return S(S({},e),{},{xdPluginReleasedMessageVisible:!0})}hideXdPluginReleasedMessage(e){return S(S({},e),{},{xdPluginReleasedMessageVisible:!1})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return S(S({},e),{},{suggestedResourcesByBarrel:v(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case r.a.OPEN_SCREEN:return this.hideImportsList(e);case c.a.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case c.a.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case c.a.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case c.a.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case c.a.MIGRATE_COLORS:return this.changeHintBoxVisibilities(e,t);case h.a.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case h.a.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case s.default.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case s.default.SHOW_IMPORTS_LIST:return this.showImportsList(e);case s.default.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case s.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case s.default.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case s.default.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);case s.default.HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX:return this.hideMultipleColorsSupportedHintBox(e);case s.default.HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX:return this.hideExportToStyleguideHintBox(e);case s.default.SHOW_XD_PLUGIN_RELEASED_MESSAGE:return this.showXdPluginReleasedMessage(e);case s.default.HIDE_XD_PLUGIN_RELEASED_MESSAGE:return this.hideXdPluginReleasedMessage(e);default:return e}}}t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(669),a=n(670),r=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.a{getInitialState(){return{isGetWebhooksPending:!0,isGetWebhookPending:!1,isCreateWebhookPending:!1,isUpdateWebhookPending:!1,isDeleteWebhookPending:!1,webhooks:[]}}getWebhooksSuccess(e,{webhooks:t}){return c(c({},e),{},{webhooks:t.map((e=>new r.a(e))),isGetWebhooksPending:!1})}getWebhookRequest(e){return c(c({},e),{},{isGetWebhookPending:!0})}getWebhookSuccess(e,{webhook:t}){const{webhooks:n}=e;return c(c({},e),{},{webhooks:n.map((e=>e._id===t._id?new r.a(c(c({},t),{},{complete:!0})):e)),isGetWebhookPending:!1})}getWebhookFailure(e){return c(c({},e),{},{isGetWebhookPending:!1})}createWebhookRequest(e){return c(c({},e),{},{isCreateWebhookPending:!0})}createWebhookSuccess(e,{webhook:t}){return c(c({},e),{},{webhooks:e.webhooks.filter((({_id:e})=>e!==t._id)).concat(new r.a(t)),isCreateWebhookPending:!1})}createWebhookFailure(e){return c(c({},e),{},{isCreateWebhookPending:!1})}updateWebhookRequest(e){return c(c({},e),{},{isUpdateWebhookPending:!0})}updateWebhookSuccess(e,{webhook:t}){return c(c({},e),{},{webhooks:e.webhooks.map((e=>e._id===t._id?new r.a(t):e)),isUpdateWebhookPending:!1})}updateWebhookFailure(e){return c(c({},e),{},{isUpdateWebhookPending:!1})}deleteWebhookRequest(e){return c(c({},e),{},{isDeleteWebhookPending:!0})}deleteWebhookSuccess(e,{webhookId:t}){return c(c({},e),{},{webhooks:e.webhooks.filter((({_id:e})=>e!==t)),isDeleteWebhookPending:!1})}deleteWebhookFailure(e){return c(c({},e),{},{isDeleteWebhookPending:!1})}reduce(e,t){switch(t.type){case s.default.GET_WEBHOOKS_SUCCESS:return this.getWebhooksSuccess(e,t);case s.default.GET_WEBHOOK_REQUEST:return this.getWebhookRequest(e,t);case s.default.GET_WEBHOOK_SUCCESS:return this.getWebhookSuccess(e,t);case s.default.GET_WEBHOOK_FAILURE:return this.getWebhookFailure(e,t);case s.default.CREATE_WEBHOOK_REQUEST:return this.createWebhookRequest(e,t);case s.default.CREATE_WEBHOOK_SUCCESS:return this.createWebhookSuccess(e,t);case s.default.CREATE_WEBHOOK_FAILURE:return this.createWebhookFailure(e,t);case s.default.UPDATE_WEBHOOK_REQUEST:return this.updateWebhookRequest(e,t);case s.default.UPDATE_WEBHOOK_SUCCESS:return this.updateWebhookSuccess(e,t);case s.default.UPDATE_WEBHOOK_FAILURE:return this.updateWebhookFailure(e,t);case s.default.DELETE_WEBHOOK_REQUEST:return this.deleteWebhookRequest(e,t);case s.default.DELETE_WEBHOOK_SUCCESS:return this.deleteWebhookSuccess(e,t);case s.default.DELETE_WEBHOOK_FAILURE:return this.deleteWebhookFailure(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";n.r(t);t.default={GET_WEBHOOKS_REQUEST:"getWebhooksRequest",GET_WEBHOOKS_SUCCESS:"getWebhooksSuccess",GET_WEBHOOK_REQUEST:"getWebhookRequest",GET_WEBHOOK_SUCCESS:"getWebhookSuccess",GET_WEBHOOK_FAILURE:"getWebhookFailure",CREATE_WEBHOOK_REQUEST:"createWebhookRequest",CREATE_WEBHOOK_SUCCESS:"createWebhookSuccess",CREATE_WEBHOOK_FAILURE:"createWebhookFailure",UPDATE_WEBHOOK_REQUEST:"updateWebhookRequest",UPDATE_WEBHOOK_SUCCESS:"updateWebhookSuccess",UPDATE_WEBHOOK_FAILURE:"updateWebhookFailure",DELETE_WEBHOOK_REQUEST:"deleteWebhookRequest",DELETE_WEBHOOK_SUCCESS:"deleteWebhookSuccess",DELETE_WEBHOOK_FAILURE:"deleteWebhookFailure"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(580));class s extends o.default{constructor(e){super();const{_id:t,url:n,status:i,urlHealth:o,subscriptions:s,subscribedAllEvents:a,createdBy:r,updatedBy:l,created:c,updated:d,oauthApp:u,complete:h}=e;this.id=t,this._id=t,this.url=n,this.status=i,this.urlHealth=o,this.subscriptions=s,this.subscribedAllEvents=a,this.createdBy=r,this.updatedBy=l,this.created=c,this.updated=d,this.oauthApp=u,this.complete=h}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(573)),a=i(n(571)),r=n(672),l=n(624);class c extends o.default{getInitialState(){return{loading:!0,userId:null,username:null,fullName:null,email:null,avatar:null,emotar:null,verified:null,registeredAt:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,notificationSettings:null,zeplinThreeZeroWhatsNewSeen:!0,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,shouldPromoteExportDesignTokens:!0,shouldDisplayInvitedUserHintbox:!0,shouldDisplayDashboardOnboardingHintbox:!0,selectedView:r.USER_MENU,acquaintancesLoading:!1,acquaintancesError:null,acquaintances:null,offers:[],profession:null}}loadUser(e,{user:t}){if(!t)return e;const{_id:n,username:i,fullName:o,email:s,status:a,avatar:r,emotar:l,registeredAt:c,emailNotifications:d,notificationSettings:u,billing:h,paymentPlan:p,offers:f,profession:g}=t;return Object.assign(Object.assign({},e),{userId:n,username:i,fullName:o,email:s,verified:"verified"===a,avatar:r,emotar:l,registeredAt:c,isEmailNotificationEnabled:d,notificationSettings:u,billing:h,paymentPlan:p,offers:f,profession:g,loading:!1})}updateUser(e,{user:t}){return Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})}updateUserAttribute(e,{name:t,value:n}){return Object.assign({},e,{[t]:n})}setSelectedView(e,{selectedView:t}){return Object.assign({},e,{selectedView:t})}muteProjectNotifications(e,{pid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=l.union(n.mutedProjects,[t]);return Object.assign(Object.assign({},e),{notificationSettings:Object.assign(Object.assign({},n),{mutedProjects:i})})}muteStyleguideNotifications(e,{stid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=l.union(n.mutedStyleguides,[t]);return Object.assign(Object.assign({},e),{notificationSettings:Object.assign(Object.assign({},n),{mutedStyleguides:i})})}unmuteProjectNotifications(e,{pid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=l.difference(n.mutedProjects,[t]);return Object.assign(Object.assign({},e),{notificationSettings:Object.assign(Object.assign({},n),{mutedProjects:i})})}unmuteStyleguideNotifications(e,{stid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=l.difference(n.mutedStyleguides,[t]);return Object.assign(Object.assign({},e),{notificationSettings:Object.assign(Object.assign({},n),{mutedStyleguides:i})})}markZeplinThreeZeroWhatsNewAsSeen(e){return Object.assign(Object.assign({},e),{zeplinThreeZeroWhatsNewSeen:!0})}stopPromotingSpacingSectionDescriptionEditButton(e){return Object.assign(Object.assign({},e),{shouldPromoteSpacingSectionDescriptionEditButton:!1})}hideStyleguideTutorial(e){return Object.assign(Object.assign({},e),{shouldDisplayStyleguideTutorial:!1})}stopPromotingExportDesignTokens(e){return Object.assign(Object.assign({},e),{shouldPromoteExportDesignTokens:!1})}hideInvitedUserHintbox(e){return Object.assign(Object.assign({},e),{shouldDisplayInvitedUserHintbox:!1})}hideDashboardOnboardingHintbox(e){return Object.assign(Object.assign({},e),{shouldDisplayDashboardOnboardingHintbox:!1})}acquaintancesRequested(e){return Object.assign(Object.assign({},e),{acquaintancesLoading:!0,acquaintancesError:null,acquaintances:null})}setAcquaintances(e,{acquaintances:t}){return Object.assign(Object.assign({},e),{acquaintancesLoading:!1,acquaintances:t})}getAcquaintancesFailed(e,{error:t}){return Object.assign(Object.assign({},e),{acquaintancesLoading:!1,acquaintancesError:t})}reduce(e,t){switch(t.type){case a.default.HYDRATE_EMBEDDED_DATA:case s.default.LOAD_USER:return this.loadUser(e,t);case s.default.UPDATE_USER:return this.updateUser(e,t);case s.default.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t);case s.default.SET_SELECTED_VIEW:return this.setSelectedView(e,t);case s.default.MUTE_PROJECT_NOTIFICATIONS:return this.muteProjectNotifications(e,t);case s.default.MUTE_STYLEGUIDE_NOTIFICATIONS:return this.muteStyleguideNotifications(e,t);case s.default.UNMUTE_PROJECT_NOTIFICATIONS:return this.unmuteProjectNotifications(e,t);case s.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS:return this.unmuteStyleguideNotifications(e,t);case s.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:return this.markZeplinThreeZeroWhatsNewAsSeen(e);case s.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:return this.stopPromotingSpacingSectionDescriptionEditButton(e);case s.default.HIDE_STYLEGUIDE_TUTORIAL:return this.hideStyleguideTutorial(e);case s.default.STOP_PROMOTING_EXPORT_DESIGN_TOKENS:return this.stopPromotingExportDesignTokens(e);case s.default.HIDE_INVITED_USER_HINTBOX:return this.hideInvitedUserHintbox(e);case s.default.HIDE_DASHBOARD_ONBOARDING_HINTBOX:return this.hideDashboardOnboardingHintbox(e);case s.default.ACQUAINTANCES_REQUESTED:return this.acquaintancesRequested(e);case s.default.SET_ACQUAINTANCES:return this.setAcquaintances(e,t);case s.default.GET_ACQUAINTANCES_FAILED:return this.getAcquaintancesFailed(e,t);default:return e}}}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_MENU=t.EMOTARS=void 0,t.EMOTARS="emotars",t.USER_MENU="userMenu"},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(644)),a=i(n(575)),r=i(n(571));class l extends o.default{constructor(e){super(e)}getInitialState(){return{versionsAssets:{},componentsAssets:{}}}reset(){return this.getInitialState()}setVersionAssets(e,{vid:t,assets:n}){return Object.assign(Object.assign({},e),{versionsAssets:Object.assign(Object.assign({},e.versionsAssets),{[t]:n})})}setComponentAssets(e,{coid:t,assets:n}){return Object.assign(Object.assign({},e),{componentsAssets:Object.assign(Object.assign({},e.componentsAssets),{[t]:n})})}updateVersionAssetOptimizedContents(e,{vid:t,assets:n}){const i=e.versionsAssets[t];return i&&i.length?Object.assign(Object.assign({},e),{versionsAssets:Object.assign(Object.assign({},e.versionsAssets),{[t]:i.map((e=>{const t=n.find((({_id:t})=>t===e._id));return t?Object.assign(Object.assign({},e),{contents:e.contents.map((e=>{const n=t.contents.find((({_id:t,originalContentId:n})=>e._id===n||t));return n?Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),n)}):e}))}):e}))})}):e}updateVersionAssetOptimizedContent(e,{vid:t,vaid:n,vacid:i,patch:o}){const s=e.versionsAssets[t];return s&&s.length?Object.assign(Object.assign({},e),{versionsAssets:Object.assign(Object.assign({},e.versionsAssets),{[t]:s.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),{contents:e.contents.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),o)})))})))})}):e}processVersionAssetContentRequest(e,{vid:t,vaid:n,vacid:i}){return this.updateVersionAssetOptimizedContent(e,{vid:t,vaid:n,vacid:i,patch:{status:"processing"}})}processVersionAssetContentFailure(e,{vid:t,vaid:n,vacid:i}){return this.updateVersionAssetOptimizedContent(e,{vid:t,vaid:n,vacid:i,patch:{status:"error"}})}updateComponentVersionAssetOptimizedContents(e,{coid:t,assets:n}){const i=e.componentsAssets[t];return i&&i.length?Object.assign(Object.assign({},e),{componentsAssets:Object.assign(Object.assign({},e.componentsAssets),{[t]:i.map((e=>{const t=n.find((({_id:t})=>t===e._id));return t?Object.assign(Object.assign({},e),{contents:e.contents.map((e=>{const n=t.contents.find((({_id:t,originalContentId:n})=>e._id===n||t));return n?Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),n)}):e}))}):e}))})}):e}updateComponentVersionAssetOptimizedContent(e,{coid:t,vaid:n,vacid:i,patch:o}){const s=e.componentsAssets[t];return s&&s.length?Object.assign(Object.assign({},e),{componentsAssets:Object.assign(Object.assign({},e.componentsAssets),{[t]:s.map((e=>e._id!==n?e:Object.assign(Object.assign({},e),{contents:e.contents.map((e=>e._id!==i?e:Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),o)})))})))})}):e}processComponentVersionAssetContentRequest(e,{coid:t,vaid:n,vacid:i}){return this.updateComponentVersionAssetOptimizedContent(e,{coid:t,vaid:n,vacid:i,patch:{status:"processing"}})}processComponentVersionAssetContentFailure(e,{coid:t,vaid:n,vacid:i}){return this.updateComponentVersionAssetOptimizedContent(e,{coid:t,vaid:n,vacid:i,patch:{status:"error"}})}reduce(e,t){switch(t.type){case r.default.RESET:case a.default.RESET:return this.reset();case s.default.SET_VERSION_ASSETS:return this.setVersionAssets(e,t);case s.default.SET_COMPONENT_ASSETS:return this.setComponentAssets(e,t);case s.default.UPDATE_VERSION_ASSET_OPTIMIZED_CONTENTS:return this.updateVersionAssetOptimizedContents(e,t);case s.default.PROCESS_VERSION_ASSET_CONTENT_REQUEST:return this.processVersionAssetContentRequest(e,t);case s.default.PROCESS_VERSION_ASSET_CONTENT_FAILURE:return this.processVersionAssetContentFailure(e,t);case s.default.UPDATE_COMPONENT_VERSION_ASSET_OPTIMIZED_CONTENTS:return this.updateComponentVersionAssetOptimizedContents(e,t);case s.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST:return this.processComponentVersionAssetContentRequest(e,t);case s.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_FAILURE:return this.processComponentVersionAssetContentFailure(e,t);default:return e}}}t.default=l},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(11)),a=o(n(675)),r=o(n(576)),l=n(624),c=n(586),d={getIdsFromParameters:e=>e.projects.flatMap((({screens:e})=>e)).flatMap((({dots:e})=>e)),updateDotState(e,t,n){const{_id:o,name:s,color:a,status:r}=n,l=null!=o?o:t,d={_id:l,status:r,name:s,color:a};if(!c.isAllPropertiesFilled(d)&&!e.dots[t])return e;c.deleteEmptyProperties(d);const u=e.dots,h=t,p=u[h],f=i(u,["symbol"==typeof h?h:h+""]);f[l]=Object.assign(Object.assign({},p),d);const g=e.errorDotIds.filter((e=>e!==l));return Object.assign(Object.assign({},e),{errorDotIds:g,dots:f})}};class u extends s.default{constructor(e){super(e)}getInitialState(){return{loadingDotIds:[],errorDotIds:[],dots:{}}}requestDotStates(e,{parameters:t}){const n=d.getIdsFromParameters(t),i=l.union(e.loadingDotIds,n),o=l.difference(e.errorDotIds,n);return Object.assign(Object.assign({},e),{errorDotIds:o,loadingDotIds:i})}addDotStates(e,{parameters:t,response:n}){const i=d.getIdsFromParameters(t),o=n.projects.flatMap((({screens:e})=>e)).flatMap((({dots:e})=>e)),s=o.map((({_id:e})=>e)),a=l.difference(i,s),r=l.difference(e.loadingDotIds,i),c=l.union(e.errorDotIds,a);return Object.assign(Object.assign({},e),{loadingDotIds:r,errorDotIds:c,dots:Object.assign(Object.assign({},e.dots),Object.fromEntries(o.map((e=>[e._id,e]))))})}dotStatesError(e,{parameters:t}){const n=d.getIdsFromParameters(t),i=l.difference(e.loadingDotIds,n);return Object.assign(Object.assign({},e),{loadingDotIds:i})}addDotState(e,{dot:t}){return d.updateDotState(e,t._id,t)}updateDotState(e,{did:t,dotData:n}){return d.updateDotState(e,t,n)}updateDotColor(e,{did:t,color:n}){return d.updateDotState(e,t,{color:n})}updateDotStatus(e,{did:t,status:n}){return d.updateDotState(e,t,{status:n})}reduce(e,t){switch(t.type){case a.default.RequestDotStates:return this.requestDotStates(e,t);case a.default.AddDotStates:return this.addDotStates(e,t);case a.default.DotStatesError:return this.dotStatesError(e,t);case r.default.ADD_DOT:return this.addDotState(e,t);case r.default.UPDATE_DOT:return this.updateDotState(e,t);case r.default.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case r.default.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RequestDotStates="dotStates/request",e.AddDotStates="dotStates/add",e.DotStatesError="dotStates/error"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(677)),a=n(586),r=i(n(678)),l=n(610),c=i(n(575)),d="alias:";class u extends o.default{constructor(e){super(e)}getInitialState(){return{errorProjectIds:[],loadingProjectIds:[],projectsEmojis:{}}}requestEmojis(e,{pid:t}){const n=e.errorProjectIds.filter((e=>e!==t)),i=[...e.loadingProjectIds,t];return Object.assign(Object.assign({},e),{errorProjectIds:n,loadingProjectIds:i})}addEmojis(e,{pid:t,response:n}){const i=e.loadingProjectIds.filter((e=>e!==t)),o={},s=[];a.entriesOf(n.emoji).forEach((([e,t])=>{const n=e.replace(/_/g," ");if(t.startsWith(d)){const e=t.substring(d.length);o[n]=e}else r.default.some((({aliases:e})=>e.includes(n)))||s.push({emoji:t,aliases:[n]})}));const l={};return a.entriesOf(o).forEach((([e,t])=>{var n;const i=r.default.findIndex((({aliases:e})=>e.includes(t)));if(i>=0)l[i]=[...null!==(n=l[i])&&void 0!==n?n:[],e];else{const n=s.find((({aliases:e})=>e.includes(t)));null==n||n.aliases.push(e)}})),Object.assign(Object.assign({},e),{loadingProjectIds:i,projectsEmojis:Object.assign(Object.assign({},e.projectsEmojis),{[t]:{defaultEmojiAliases:l,customEmojis:s}})})}emojisError(e,{pid:t}){const n=[...e.errorProjectIds,t],i=e.loadingProjectIds.filter((e=>e!==t));return Object.assign(Object.assign({},e),{errorProjectIds:n,loadingProjectIds:i})}removeIntegration(e,{bid:t,isLastSlackIntegration:n}){if(!n)return this.requestEmojis(e,{pid:t});const{projectsEmojis:i}=e,o=l.filterOut(i,t);return Object.assign(Object.assign({},e),{projectsEmojis:o})}reduce(e,t){switch(t.type){case s.default.RequestEmojis:return this.requestEmojis(e,t);case s.default.AddEmojis:return this.addEmojis(e,t);case s.default.EmojisError:return this.emojisError(e,t);case c.default.REMOVE_INTEGRATION:return this.removeIntegration(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RequestEmojis="emojis/request",e.AddEmojis="emojis/add",e.EmojisError="emojis/error"}(i||(i={})),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(680)),a={enabled:!0,role:"pawn",restricted:!0};class r extends o.default{constructor(e){super(e)}getInitialState(){return{isSCIMSettingsPending:!0,isSCIMTokensPending:!0,isSCIMTokenCreatePending:!1,isSCIMTokenDeletePending:!1,scimSettingsData:a,scimTokens:[],newSCIMTokenGenerated:!1}}getSCIMSettingsSuccess(e,t){return Object.assign(Object.assign({},e),{scimSettingsData:t,isSCIMSettingsPending:!1})}getSCIMSettingsFailure(e){return Object.assign(Object.assign({},e),{isSCIMSettingsPending:!1})}getSCIMTokensSuccess(e,t){return Object.assign(Object.assign({},e),{scimTokens:t,isSCIMTokensPending:!1})}getSCIMTokensFailure(e){return Object.assign(Object.assign({},e),{isSCIMTokensPending:!1})}createSCIMTokenRequest(e){return Object.assign(Object.assign({},e),{newSCIMTokenGenerated:!1,isSCIMTokenCreatePending:!0})}createSCIMTokenSuccess(e,t){return Object.assign(Object.assign({},e),{newSCIMTokenGenerated:!0,isSCIMTokenCreatePending:!1,scimTokens:[t,...e.scimTokens]})}createSCIMTokenFailure(e){return Object.assign(Object.assign({},e),{isSCIMTokenCreatePending:!1,newSCIMTokenGenerated:!1})}deleteSCIMTokenRequest(e){return Object.assign(Object.assign({},e),{isSCIMTokenDeletePending:!0})}deleteSCIMTokenSuccess(e,t){return Object.assign(Object.assign({},e),{scimTokens:e.scimTokens.filter((({accessTokenId:e})=>e!==t)),scimSettingsData:a,isSCIMTokenDeletePending:!1})}deleteSCIMTokenFailure(e){return Object.assign(Object.assign({},e),{isSCIMTokenDeletePending:!1})}updateSCIMRole(e,t){const n=Object.assign({},e.scimSettingsData,{role:t});return Object.assign(Object.assign({},e),{scimSettingsData:n})}updateSCIMAccessibility(e,t){const n=Object.assign({},e.scimSettingsData,{restricted:t});return Object.assign(Object.assign({},e),{scimSettingsData:n})}updateSCIMStatus(e,t){const n=Object.assign({},e.scimSettingsData,{enabled:t});return Object.assign(Object.assign({},e),{scimSettingsData:n})}reduce(e,t){switch(t.type){case s.default.GET_SCIM_SETTINGS_SUCCESS:return this.getSCIMSettingsSuccess(e,t.SCIMSettings);case s.default.GET_SCIM_SETTINGS_FAILURE:return this.getSCIMSettingsFailure(e);case s.default.GET_SCIM_TOKENS_SUCCESS:return this.getSCIMTokensSuccess(e,t.scimTokens);case s.default.GET_SCIM_TOKENS_FAILURE:return this.getSCIMTokensFailure(e);case s.default.CREATE_SCIM_TOKEN_REQUEST:return this.createSCIMTokenRequest(e);case s.default.CREATE_SCIM_TOKEN_SUCCESS:return this.createSCIMTokenSuccess(e,t.newToken);case s.default.CREATE_SCIM_TOKEN_FAILURE:return this.createSCIMTokenFailure(e);case s.default.DELETE_SCIM_TOKEN_REQUEST:return this.deleteSCIMTokenRequest(e);case s.default.DELETE_SCIM_TOKEN_SUCCESS:return this.deleteSCIMTokenSuccess(e,t.accessTokenId);case s.default.UPDATE_SCIM_ROLE:return this.updateSCIMRole(e,t.role);case s.default.UPDATE_SCIM_ACCESSIBILITY:return this.updateSCIMAccessibility(e,t.restricted);case s.default.UPDATE_SCIM_STATUS:return this.updateSCIMStatus(e,t.enabled);default:return e}}}t.default=r},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_SCIM_SETTINGS_REQUEST="workspaceSettings/getSCIMSettingsRequest",e.GET_SCIM_SETTINGS_SUCCESS="workspaceSettings/getSCIMSettingsSuccess",e.GET_SCIM_SETTINGS_FAILURE="workspaceSettings/getSCIMSettingsFailure",e.GET_SCIM_TOKENS_REQUEST="workspaceSettings/getSCIMTokensRequest",e.GET_SCIM_TOKENS_SUCCESS="workspaceSettings/getSCIMTokensSuccess",e.GET_SCIM_TOKENS_FAILURE="workspaceSettings/getSCIMTokensFailure",e.CREATE_SCIM_TOKEN_REQUEST="workspaceSettings/createSCIMTokenRequest",e.CREATE_SCIM_TOKEN_SUCCESS="workspaceSettings/createSCIMTokenSuccess",e.CREATE_SCIM_TOKEN_FAILURE="workspaceSettings/createSCIMTokenFailure",e.DELETE_SCIM_TOKEN_REQUEST="workspaceSettings/deleteSCIMTokenRequest",e.DELETE_SCIM_TOKEN_SUCCESS="workspaceSettings/deleteSCIMTokenSuccess",e.DELETE_SCIM_TOKEN_FAILURE="workspaceSettings/deleteSCIMTokenFailure",e.UPDATE_SCIM_ROLE="workspaceSettings/updateSCIMRoleRequest",e.UPDATE_SCIM_ACCESSIBILITY="workspaceSettings/updateSCIMAccessibilityRequest",e.UPDATE_SCIM_STATUS="workspaceSettings/updateSCIMStatusRequest"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e){const{id:t,label:n,accelerator:o,type:s,enabled:a,checked:r,visible:l,role:c,submenu:d}=e;this.id=t,this.label=n,this.accelerator=o,this.type=s,this.enabled=a,this.checked=r,this.visible=l,this.role=c,this.submenu=d?d.map((e=>new i(e))):null}}},function(e,t,n){"use strict";n.r(t);t.default={PROJECT_SUBMENU:"PROJECT",NEW_PROJECT:"NEW_PROJECT",OPEN_RECENT_PROJECT_SUBMENU:"OPEN_RECENT_PROJECT_SUBMENU",OPEN_RECENT_PROJECT:"OPEN_RECENT_PROJECT",STYLEGUIDE_SUBMENU:"STYLEGUIDE",NEW_STYLEGUIDE:"NEW_STYLEGUIDE",OPEN_RECENT_STYLEGUIDE_SUBMENU:"OPEN_RECENT_STYLEGUIDE_SUBMENU",OPEN_RECENT_STYLEGUIDE:"OPEN_RECENT_STYLEGUIDE",EDIT_SUBMENU:"EDIT",DELETE_PROJECT:"DELETE_PROJECT",DELETE_STYLEGUIDE:"DELETE_STYLEGUIDE",LEAVE_PROJECT:"LEAVE_PROJECT",LEAVE_STYLEGUIDE:"LEAVE_STYLEGUIDE",RENAME_SCREEN:"RENAME_SCREEN",DELETE_SCREEN:"DELETE_SCREEN",SET_AS_THUMBNAIL:"SET_AS_THUMBNAIL",ADD_TAG:"ADD_TAG",MANAGE_TAGS:"MANAGE_TAGS",VIEW_SUBMENU:"VIEW",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",ACTUAL_SIZE:"ACTUAL_SIZE",RESET_APP_ZOOM_FACTOR:"RESET_APP_ZOOM_FACTOR",OPEN_POPOUT:"OPEN_POPOUT",WORKSPACE:"WORKSPACE",DASHBOARD:"DASHBOARD",STYLEGUIDE:"STYLEGUIDE",JUMP_TO_SCREEN:"JUMP_TO_SCREEN",EXPAND_ALL_SECTIONS:"EXPAND_ALL_SECTIONS",COLLAPSE_ALL_SECTIONS:"COLLAPSE_ALL_SECTIONS",SHOW_VERSIONS:"SHOW_VERSIONS",HIDE_VERSIONS:"HIDE_VERSIONS",SHOW_BADGE:"SHOW_BADGE",TOGGLE_FULL_SCREEN:"TOGGLE_FULL_SCREEN",RELOAD:"RELOAD",RELOAD_IGNORING_CACHE:"RELOAD_IGNORING_CACHE",TOGGLE_DEV_TOOLS:"TOGGLE_DEV_TOOLS",TOGGLE_DEV_TOOLS_HOST:"TOGGLE_DEV_TOOLS_HOST",WINDOW_SUBMENU:"WINDOW",MINIMIZE:"MINIMIZE",CLOSE:"CLOSE",HELP_SUBMENU:"HELP",CHECK_FOR_UPDATES:"CHECK_FOR_UPDATES",CHECK_FOR_PLUGIN_UPDATES:"CHECK_FOR_PLUGIN_UPDATES",INSTALL_UPDATES_AUTOMATICALLY:"INSTALL_UPDATES_AUTOMATICALLY",INSTALL_FIGMA_PLUGIN:"INSTALL_FIGMA_PLUGIN",INSTALL_PHOTOSHOP_PLUGIN:"INSTALL_PHOTOSHOP_PLUGIN",SHOW_LOGS_IN_EXPLORER:"SHOW_LOGS_IN_EXPLORER",RESET_SUGGESTED_COLORS:"RESET_SUGGESTED_COLORS",RESET_SUGGESTED_TEXT_STYLES:"RESET_SUGGESTED_TEXT_STYLES",CLEAR_CACHE_AND_RESTART:"CLEAR_CACHE_AND_RESTART",RESET_ZEPLIN:"RESET_ZEPLIN",OPEN_HELP_CENTER:"OPEN_HELP_CENTER",ABOUT_ZEPLIN:"ABOUT_ZEPLIN"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(684)),a=n(610),r=i(n(590)),l={[r.default.PROJECT]:a.permissions.canCreateProject,[r.default.STYLEGUIDE]:a.permissions.canCreateStyleguide};function c(e){const{barrelId:t}=o.default.BarrelStore.getState(),{selectedOrganizationId:n}=o.default.SpaceStore.getState(),{organizations:i,organizationProfiles:a}=o.default.OrganizationStore.getState(),r=t?s.default.findBarrelOrganizationId(t):n;if("user"===r)return!0;const c=i.find((e=>e._id===r)),d=a[r];return c&&"suspended"!==c.status&&d&&l[e](d)}t.default={canCreateProject:function(){return c(r.default.PROJECT)},canCreateStyleguide:function(){return c(r.default.STYLEGUIDE)}}},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(567)),a=o(n(685)),r=o(n(590)),l=n(686),c=n(610),d=n(624),u=o(n(688));function h({bid:e}={}){let t=e;if(t||({barrelId:t}=s.default.BarrelStore.getState()),!t)return null;const{projects:n}=s.default.ProjectsDataStore.getState();if(n&&t in n)return n[t];const{styleguides:i}=s.default.StyleguidesDataStore.getState();return i&&t in i?i[t]:null}function p({pid:e}={}){let t=e;if(!t){const{barrelId:e,barrelType:n}=s.default.BarrelStore.getState();n===r.default.PROJECT&&(t=e)}if(!t)return null;const{projects:n}=s.default.ProjectsDataStore.getState();return n&&t in n?n[t]:null}function f({bid:e,uid:t}={}){const n=h({bid:e});if(!n)return null;let i=t;if(i||({userId:i}=s.default.UserStore.getState()),c.isOrganizationProject(n)){const{members:e}=a.default.getOrganization()||{};if(null==e?void 0:e.length)return e.find((({user:e})=>e._id===i))}return n.users.find((({user:e})=>e._id===i))}function g(e){const{organizationId:t="user",barrelType:n=r.default.PROJECT}=s.default.BarrelStore.getState(),i=f(),o=n===r.default.PROJECT?"projects":"styleguides";return"user"!==t&&i?l.urlResolve(`workspace-${o}`,{url:{oid:t},query:e}):l.urlResolve(o,{query:e})}function m(e,t){return e.some((({user:{_id:e}})=>e===t._id))}function b(e,t){let n;if("linked"===e.status){const e=t.find((e=>"linked"!==e.remPreferences.status));n=e&&e.remPreferences}return n||e}function S(e,t){let n;return"linked"!==e.status&&(n=t.find((e=>"linked"!==e.remPreferences.status&&"web"===e.type))),n&&{name:n.name,remPreferences:n.remPreferences}}t.default={hasProject:function(e){const{projects:t}=s.default.ProjectsDataStore.getState();return t&&e in t},hasStyleguide:function(e){const{styleguides:t}=s.default.StyleguidesDataStore.getState();return t&&e in t},getBarrel:h,getProject:p,findUser:f,isUserRestricted:function(){var e;return"pawn"===(null===(e=f())||void 0===e?void 0:e.role)},getVariantGroupOfScreen:function(e){const{variantGroups:t=[]}=p()||{};return t.find((({screens:t})=>t.some((({id:t})=>t===e))))},findBarrelOrganizationId:function(e){if(!h({bid:e}))return null;const{organizationProjects:t,organizationStyleguides:n}=s.default.OrganizationStore.getState();for(const[i,o]of Object.entries(t))if(o.includes(e))return i;for(const[i,o]of Object.entries(n))if(o.includes(e))return i;return null},getWorkspaceURL:g,getStyleguidesData:function({barrelStore:e,styleguidesDataStore:t,projectsDataStore:n}){const o=e.getState(),{loading:s}=o,a=i(o,["loading"]);if(s)return[];const{styleguides:l}=t.getState(),u=h(),p=f(),{barrelId:g,barrelType:y}=a;if(u.partial||!p)return[];const{name:v,type:O,colors:C,textStyles:E,spacingSections:T,remPreferences:_,componentSections:P,connectedComponents:I,localConnectedComponents:j,users:D,dimensionSuffix:k,densityScale:R}=u,A=y===r.default.STYLEGUIDE?v:"Local Styleguide",w=function(e,t){if(t===r.default.STYLEGUIDE)return[...e.ancestors].reverse();if(!e.styleguideLink)return[];const{styleguide:n,status:i}=e.styleguideLink;if("active"===i){const e=[...n.ancestors].reverse();return[n._id,...e]}return[]}(u,y).map((e=>l[e])).filter(Boolean);return[{id:g,name:A,type:O,colors:C,textStyles:E,spacingSections:T.map((e=>Object.assign(Object.assign({},e),{spacingTokens:d.sortArrayOfObjectsByPropertyName(e.spacingTokens,"value")}))),remPreferences:b(_,w),parentStyleguideToInheritRemPreferences:S(_,w),componentSections:P,connectedComponents:I,localConnectedComponents:j,isMember:m(D,p.user),isOrganizationBarrel:c.isOrganizationProject(u),dimensionSuffix:k,densityScale:R},...w.map(((e,t)=>({id:e._id,name:e.name,type:e.type,colors:e.colors,textStyles:e.textStyles,spacingSections:e.spacingSections.map((e=>Object.assign(Object.assign({},e),{spacingTokens:d.sortArrayOfObjectsByPropertyName(e.spacingTokens,"value")}))),remPreferences:b(e.remPreferences,w.slice(t+1)),componentSections:e.componentSections,connectedComponents:e.connectedComponents,localConnectedComponents:e.localConnectedComponents,isMember:m(e.users,p.user),isOrganizationBarrel:c.isOrganizationProject(e),dimensionSuffix:e.dimensionSuffix,densityScale:e.densityScale})))]},navigateToWorkspace:function(e){const t=g(e);setTimeout((()=>u.default.history.push(t)),4)},canUploadDesigns:function({uid:e,pid:t}){const n=p({pid:t});if(!n)return null;const i=n.users.find((({user:t})=>t._id===e));if(!i)return!1;if(c.isOrganizationProject(n))return["king","queen","rook"].includes(i.role);const o=n.users.find((e=>"owner"===e.role));return!!o&&("free"!==o.user.paymentPlan||"owner"===i.role)},navigateToBarrel:function(e,t){const n=l.urlResolve(e,{url:{bid:t}});u.default.history.push(n)},reloadCurrentPage:function(){const{href:e}=window.location;setTimeout((()=>{u.default.history.replace(e)}),4)}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=n(586);function a(e,{pid:t}={}){let n=null!=e?e:o.default.BarrelStore.getState().organizationId;if(!n&&t&&(n=function(e){const{organizationProjects:t}=o.default.OrganizationStore.getState();for(const[n,i]of Object.entries(t))if(i.includes(e))return n;return null}(t)),!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return i.find((e=>e._id===n))}function r(e){var t;const n=null!=e?e:o.default.BarrelStore.getState().organizationId;if(!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return null===(t=i.find((({_id:e})=>e===n)))||void 0===t?void 0:t.members}function l(e){return a(null!=e?e:o.default.SpaceStore.getState().selectedOrganizationId).sections.filter((({type:e})=>"individual"!==e)).map((({_id:e})=>e))}function c(e){const{organizationProjects:t}=o.default.OrganizationStore.getState(),{projects:n}=o.default.ProjectsDataStore.getState(),i=t[e];return null==i?void 0:i.map((e=>n[e]))}function d(e){const{organizations:t,organizationProjects:n}=o.default.OrganizationStore.getState();for(const[i,o]of Object.entries(n))if(o.includes(e)){const n=t.find((e=>e._id===i));if(n&&n.sections){const t=n.sections.find((t=>t.projects.find((t=>t===e))));if(t)return t}}return null}function u({itemIds:e,visibleItems:t,visibleTargetIndex:n,firstDroppableIndex:i=0}){let o;return t.length<=i?e.length:n===i?(o=t[n],e.indexOf(o._id)):(o=t[n-1],e.indexOf(o._id)+1)}function h(e,t){const{showArchivedProjects:n}=o.default.SpaceStore.getState(),i=a(e).sections.find((e=>e._id===t)),r=c(e);return i.projects.map((e=>r.find((t=>t._id===e&&(n||"archived"!==t.status))))).filter(s.exists)}t.default={getOrganization:a,getOrganizationMembers:r,getOrganizationMember:function(e,t){const n=r(e);return n?n.find((({user:e})=>e._id===t)):null},getOrganizationProjectsWithLookup:function({oid:e,archivedProjectsVisible:t}){const{organizationProjects:n}=o.default.OrganizationStore.getState(),{projects:i}=o.default.ProjectsDataStore.getState(),s=n[e];if(s)return s.reduce(((e,n)=>t||"archived"!==i[n].status?(e.projects.push(i[n]),e.lookup[n]=i[n],e):e),{projects:[],lookup:{}})},getOrganizationProjects:c,getOrganizationStyleguides:function(e){const{organizationStyleguides:t}=o.default.OrganizationStore.getState(),{styleguides:n}=o.default.StyleguidesDataStore.getState(),i=t[e];return null==i?void 0:i.map((e=>n[e]))},getOrganizationWorkflowStatus:function(e,t){const{organizations:n}=o.default.OrganizationStore.getState(),{workflowStatuses:i}=n.find((({id:t})=>t===e))||{};return null==i?void 0:i.find((({_id:e})=>e===t))},getOrganizationProfile:function(e){const{organizationProfiles:t}=o.default.OrganizationStore.getState();return t[e]},getCollapsableSectionIds:l,getCollapsedSectionIds:function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter((e=>t[e]))},getExpandedSectionIds:function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter((e=>!t[e]))},findSectionIndicesOfProjects:function(e,t){const{sections:n}=a(e);return t.map((e=>{const t=n.find((t=>t.projects.includes(e))),i=t.projects.findIndex((t=>t===e));return{pid:e,oseid:t._id,index:i}}))},findProjectOrganizationSection:d,findProjectOrganizationSectionId:function(e){var t;const n=d(e);return null!==(t=null==n?void 0:n._id)&&void 0!==t?t:null},getVisibleProjectsOfSection:h,whereToDropSectionInWorkspace:function({oid:e,index:t}){const{sections:n,sectionIds:i}=a(e);return u({itemIds:i,visibleItems:n,visibleTargetIndex:t,firstDroppableIndex:1})},whereToDropProjectInSection:function({oid:e,oseid:t,index:n}){const i=a(e).sections.find((e=>e._id===t)),o=h(e,t),s=void 0===n?o.length:n;return u({itemIds:i.projects,visibleItems:o,visibleTargetIndex:s})},hasArchivedProjects:function(e){const t=c(e);return!!t&&t.some((e=>"archived"===e.status))},isOrganizationFrozen:function(){const e=a();return!!e&&"frozen"===e.status}}},function(e,t,n){"use strict";n.r(t),n.d(t,"parseUrlPath",(function(){return l})),n.d(t,"getTagQueryParams",(function(){return c})),n.d(t,"getExtensionWebsiteUrl",(function(){return d})),n.d(t,"isValidUrl",(function(){return u})),n.d(t,"parseAppURI",(function(){return s})),n.d(t,"convertURItoWebURL",(function(){return a}));var i=n(548),o=n(687);function s(e){if(e.pathname.startsWith("//projects"))return function(e){const t=e.searchParams.getAll("pid"),n=e.searchParams.get("wid")||e.searchParams.get("oid"),i=e.searchParams.get("seid");return{urlSlug:n?"workspace-projects":"projects",query:i?{seid:i}:{pid:t},url:n?{oid:n}:{}}}(e);if(e.pathname.startsWith("//styleguides"))return function(e){const t=e.searchParams.getAll("stid"),n=e.searchParams.get("wid")||e.searchParams.get("oid");return{urlSlug:n?"workspace-styleguides":"styleguides",url:n?{oid:n}:{},query:{stid:t}}}(e);const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return t||n?e.pathname.startsWith("//screen")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("sid"),i=e.searchParams.get("vid");return{urlSlug:i?"project-screen-version":"project-screen",url:{pid:t,sid:n,vid:i}}}(e):e.pathname.startsWith("//dot")?function(e){return{urlSlug:"project-screen",url:{pid:e.searchParams.get("pid"),sid:e.searchParams.get("sid")},query:{did:e.searchParams.getAll("did"),cmid:e.searchParams.getAll("cmid")}}}(e):e.pathname.startsWith("//styleguide")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide":"project-styleguide",url:{bid:t||n},query:{cid:e.searchParams.getAll("cid"),tsid:e.searchParams.getAll("tsid"),sptid:e.searchParams.getAll("sptid"),coid:e.searchParams.getAll("coid")}}}(e):e.pathname.startsWith("//colors")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide-colors":"project-styleguide-colors",url:{bid:t||n},query:{cid:e.searchParams.getAll("cid")}}}(e):e.pathname.startsWith("//textStyles")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide-textstyles":"project-styleguide-textstyles",url:{bid:t||n},query:{tsid:e.searchParams.getAll("tsid")}}}(e):e.pathname.startsWith("//spacing")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide-spacing":"project-styleguide-spacing",url:{bid:t||n},query:{sptid:e.searchParams.getAll("sptid")}}}(e):e.pathname.startsWith("//components")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid"),i=e.searchParams.getAll("coid"),o=e.searchParams.getAll("cseid"),s=e.searchParams.getAll("seid");return{urlSlug:n?"styleguide-components":"project-styleguide-components",url:{bid:t||n},query:{coid:i,seid:[...new Set([...s,...o])]}}}(e):function(e){return{urlSlug:"project-dashboard",url:{pid:e.searchParams.get("pid")},query:{sid:e.searchParams.getAll("sid"),seid:e.searchParams.getAll("seid")}}}(e):null}function a(e){if(e.protocol!==i.ZPL_PROTOCOL)return;const{urlSlug:t,url:n={},query:a={}}=s(e)||{};return t?Object(o.urlResolve)(t,{url:n,query:a}):void 0}n.d(t,"joinUrlParams",(function(){return o.joinUrlParams})),n.d(t,"parseUrlParams",(function(){return o.parseUrlParams})),n.d(t,"urlResolve",(function(){return o.urlResolve})),n.d(t,"getAppRouteFromPathname",(function(){return o.getAppRouteFromPathname}));const r=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function l(e){var t=e.match(r);if(!t)return null;var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}function c(e){const{tags:t,untagged:n}=e;return n?{untagged:"true"}:{tag:t}}function d({eid:e,organizationId:t}={}){return e?`${i.EXTENSIONS_WEB_URL}/${e}`:t&&"user"!==t?`${i.EXTENSIONS_WEB_URL}?oid=${t}`:i.EXTENSIONS_WEB_URL}const u=e=>{try{return!!new URL(e)}catch(t){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppRouteFromPathname=t.joinUrlParams=t.urlResolve=t.parseUrlParams=void 0;const i=n(547),o={authFigma:"/auth/figma",authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",redeemSlackCode:"/redeem-slack-code",login:"/login","login-sso":"/login/sso",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing","profile-developer":"/profile/developer","profile-connected-apps":"/profile/connected-apps",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-spacing":"/project/:bid/styleguide/spacing","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-spacing":"/styleguide/:bid/spacing","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",signupComplete:"/signup/complete",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","workspace-create":"/workspace/create","workspace-members":"/workspace/:oid/members","workspace-profile":"/workspace/:oid/profile","workspace-profile-billing":"/workspace/:oid/profile/billing","workspace-profile-authentication":"/workspace/:oid/profile/authentication","workspace-profile-developer":"/workspace/:oid/profile/developer","workspace-profile-scim":"/workspace/:oid/profile/scim","workspace-projects":"/workspace/:oid/projects","workspace-styleguides":"/workspace/:oid/styleguides",authSamlResult:"/auth/saml/result",activities:"/notifications","workspace-activities":"/notifications/:oid","grant-token":"/grant-token/:redeemerId"};function s(e){if(!Object.keys(e))return"";const t=[];return Object.keys(e).forEach((n=>{e[n]&&(Array.isArray(e[n])?e[n].forEach((e=>{t.push([n,e])})):t.push([n,e[n]]))})),t.map((e=>e.map(encodeURIComponent).join("="))).join("&")}function a(e){return 0===Object.keys(e).length}t.joinUrlParams=s,t.urlResolve=function(e,{origin:t=location.origin,url:n={},query:i={},hash:r={}}={}){const l=new URL((c=o[e],d=n,Object.entries(d).reduce(((e,[t,n])=>e.replace(new RegExp(`:${t}`),n)),c)),t);var c,d;return i&&!a(i)&&(l.search=s(i)),r&&!a(r)&&(l.hash=s(r)),l.toString()},t.parseUrlParams=function(e){const t=("?"===e[0]?e.substring(1):e).split("&").map((e=>e.split("=").map((e=>e.replace(/\+/g,"%20"))).map(decodeURIComponent))),n=Array.from(new Set(t.map((e=>e[0])))).reduce(((e,t)=>(e[t]=[],e)),{});return t.forEach((e=>{const t=n[e[0]];t&&e[1]&&t.push(e[1])})),n},t.getAppRouteFromPathname=function(e){let t=null;return/^(?:\/workspace\/([\da-f]{24}))?\/(projects|styleguides)?$/i.test(e)?t=i.AppRoutes.Workspace:/\/project\/([\da-f]{24})(?:\/(dashboard))?$/i.test(e)?t=i.AppRoutes.Project:/\/styleguide\/([\da-f]{24})/i.test(e)?t=i.AppRoutes.Styleguide:/\/project\/([\da-f]{24})\/styleguide/i.test(e)?t=i.AppRoutes.ProjectStyleguide:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.Screen:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})\/version\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.ScreenVersion:/^\/notifications(?:\/)?([\da-f]{24})?$/i.test(e)&&(t=i.AppRoutes.Notifications),t}},function(e,t,n){"use strict";var i,o,s,a,r,l,c,d,u,h,p,f,g,m,b,S,y,v,O,C,E,T,_,P,I=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},j=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const D=n(686),k=n(544);class R{constructor(e,t){i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,(e=>{if("#"!==j(this,i).href&&(!j(this,o).match(j(this,i).href)||k.cmdKey(e)))return;if(e.preventDefault(),j(this,i).href===window.location.href)return;if(j(this,o).shouldPreventNavigation(j(this,i).href,e))return;const t={};"flowNav"in j(this,i).dataset&&(t.flowNavigation=!0);const n=location.href;switch(this.navigationOperation){case"replace":j(this,o).history.replace(j(this,i).href,t);break;case"pop":j(this,o).history.pop();break;case"push":default:j(this,o).history.push(j(this,i).href,t)}"back"in j(this,i).dataset&&(j(this,i).dataset.back&&j(this,o).onSetBackButton?j(this,o).onSetBackButton(j(this,i).dataset.back,n):j(this,o).onResetBackButton&&j(this,o).onResetBackButton())})),I(this,i,e),I(this,o,t),j(this,i).routerLink&&j(this,i).removeEventListener("click",j(j(this,i).routerLink,s)),I(this,s,j(this,a).bind(this)),j(this,i).routerLink=this,j(this,i).addEventListener("click",j(this,s))}get element(){return j(this,i)}get navigationOperation(){return j(this,i).dataset.navOp}}i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap;class A{constructor(e){r.set(this,void 0),l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),u.set(this,void 0),h.set(this,{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}),this.attach=e=>{const t=j(this,c);return j(this,l)[t]=e,I(this,c,+j(this,c)+1),t},this.detach=e=>{delete j(this,l)[e]},this.push=(e,{state:t,flowNavigation:n}={})=>{n?j(this,d).push({url:location.href,state:j(this,r).state}):j(this,d).length=0,j(this,r).pushState(t,"",e),j(this,p).call(this,{action:j(this,h).PUSH_STATE,state:t,url:e})},this.replace=(e,{state:t,flowNavigation:n}={})=>{n?j(this,d).push({url:location.href,state:j(this,r).state}):j(this,d).length=0,j(this,r).replaceState(t,"",e),j(this,p).call(this,{action:j(this,h).REPLACE_STATE,state:t,url:e})},this.pop=()=>{if(!j(this,d).length)return;const{state:e,url:t}=j(this,d).pop();j(this,r).pushState(e,"",t),j(this,p).call(this,{action:j(this,h).PUSH_STATE,state:e,url:window.location.toString()})},p.set(this,(e=>{Object.keys(j(this,l)).forEach((t=>{j(this,l)[t](e)}),this)})),f.set(this,(e=>{j(this,u).onResetBackButton&&j(this,u).onResetBackButton(),j(this,p).call(this,{action:j(this,h).POP_STATE,state:e.state,url:window.location.toString()})})),I(this,r,window.history),I(this,l,{}),I(this,c,0),I(this,d,[]),I(this,u,e),window.addEventListener("popstate",j(this,f).bind(this))}}r=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap;g=new WeakMap,m=new WeakMap,b=new WeakMap,S=new WeakMap,y=new WeakMap,v=new WeakMap,O=new WeakMap,C=new WeakMap,E=new WeakMap,T=new WeakMap,_=new WeakMap,P=new WeakMap;const w=new class{constructor(){g.set(this,void 0),m.set(this,void 0),b.set(this,void 0),S.set(this,void 0),y.set(this,void 0),this.match=e=>!!j(this,E).call(this,j(this,C).call(this,e)).length,this.route=(e,t,{unshift:n}={unshift:!1})=>(j(this,O).call(this,{regex:e,handler:t},{unshift:n}),this),this.start=e=>(j(this,P).call(this,e),j(this,T).call(this,window.location.href),this),this.reload=()=>j(this,T).call(this,window.location.href,{reload:!0}),this.addPrevention=(e,t)=>j(this,m).push({regex:e,handler:t}),this.shouldPreventNavigation=(e,t)=>{const n=j(this,C).call(this,e);return j(this,m).find((({regex:e,handler:i})=>e.test(n.pathname)&&i({url:n,match:n.pathname.match(e).slice(1),query:D.parseUrlParams(n.search),ev:t})))},v.set(this,(e=>new R(e,this))),O.set(this,((e,{unshift:t})=>{t?j(this,g).unshift(e):j(this,g).push(e)})),C.set(this,(e=>"string"==typeof e?new URL(e,window.location.origin):e)),E.set(this,(e=>j(this,g).filter((t=>t.regex.test(e.pathname))))),T.set(this,((e,{reload:t=!1}={})=>{const n=j(this,C).call(this,e),i=j(this,E).call(this,n);if(i.length)return i.reduce(((e,i)=>e.then((()=>i.handler({url:n,match:n.pathname.match(i.regex).slice(1),query:D.parseUrlParams(n.search),reload:t})))),Promise.resolve());location.assign(n.toString())})),_.set(this,(e=>e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(((e,t)=>e.concat(j(this,_).call(this,t))),[]))),P.set(this,(e=>{const t=e.querySelectorAll('[data-link-type="inApp"]');Array.from(t).forEach((e=>{j(this,v).call(this,e)}));new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type){const t=e.target;"inApp"===t.dataset.linkType&&j(this,v).call(this,t)}else"childList"===e.type&&Array.from(e.addedNodes).forEach((e=>{j(this,_).call(this,e).forEach((e=>{j(this,v).call(this,e)}))}))}))})).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})})),I(this,g,[]),I(this,m,[]),I(this,b,new A(this)),I(this,S,null),I(this,y,null),j(this,b).attach((e=>{j(this,T).call(this,e.url)}))}get history(){return j(this,b)}set onSetBackButton(e){I(this,S,e)}get onSetBackButton(){return j(this,S)}set onResetBackButton(e){I(this,y,e)}get onResetBackButton(){return j(this,y)}};t.default=w},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var i=n(681),o=n(682),s=n(690),a=n(610),r=n(567),l=n.n(r),c=n(684),d=n.n(c),u=n(590),h=n.n(u),p=n(691),f=n.n(p);function g(e,t,n){return e?{id:t===h.a.PROJECT?o.default.DELETE_PROJECT:o.default.DELETE_STYLEGUIDE,label:t===h.a.PROJECT?"Delete project…":"Delete styleguide…",enabled:!!e&&a.permissions.canDeleteProject(n)}:{id:o.default.DELETE_PROJECT,label:"Delete project…",enabled:!1}}function m(e,t,n){return e?{id:t===h.a.PROJECT?o.default.LEAVE_PROJECT:o.default.LEAVE_STYLEGUIDE,label:t===h.a.PROJECT?"Leave project…":"Leave styleguide…",enabled:t===h.a.PROJECT?a.permissions.canLeaveProject(n):a.permissions.canLeaveStyleguide(n)}:{id:o.default.DELETE_PROJECT,label:"Leave project…",enabled:!1}}function b(e,t,n){return e&&t?{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:a.permissions.canManageScreens(n)}:{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:!1}}function S(e,t,n){return e&&t?{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:a.permissions.canUpdateProject(n)&&(!e.thumbnail||e.thumbnail!==t.versions[0].snapshot.url)}:{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:!1}}function y(e,t,n){if(!e||!t)return{id:o.default.MANAGE_TAGS,label:"Manage tags…",accelerator:"Alt+T",enabled:!1};const i=t.tags&&0!==t.tags.length;return{id:i?o.default.MANAGE_TAGS:o.default.ADD_TAG,label:i?"Manage tags…":"Add tag…",accelerator:"Alt+T",enabled:a.permissions.canManageScreens(n)}}function v(){const{barrelType:e}=l.a.BarrelStore.getState(),t=d.a.getBarrel(),n=f.a.getScreen(),a=d.a.findUser();return new i.default({id:o.default.EDIT_SUBMENU,label:"Edit",submenu:[g(t,e,a),m(t,e,a),s.default,b(t,n,a),s.default,S(t,n,a),s.default,y(t,n,a)]})}},function(e,t,n){"use strict";n.r(t),t.default={type:"separator"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(684)),s=i(n(567)),a=n(692),r=n(686),l=i(n(688));function c({pid:e,sid:t}={}){const n=o.default.getProject({pid:e});if(!(null==n?void 0:n.screens))return null;let i=t;return i||({screenId:i}=s.default.ScreenStore.getState()),i?n.screens.find((e=>e._id===i)):null}function d(){const e=o.default.getProject();if(!(null==e?void 0:e.screens))return null;const{filterValue:t,sortType:n,tagFilter:i,jiraIssueFilter:r}=s.default.DashboardStore.getState(),{sortedSections:l,variantGroupsMapping:c}=a.filterSortScreens(e,n,{filterValue:t,tagFilter:i,jiraIssueFilter:r}),d=Object.keys(c).reduce(((e,t)=>(c[t].variants.forEach((({id:n})=>{e[n]=t})),e)),{});return{visibleScreens:l.flatMap((e=>e.screens)),variantScreenMapping:d}}function u({pid:e,sid:t}={}){var n;const i=c({pid:e,sid:t});return null!==(n=null==i?void 0:i.dots)&&void 0!==n?n:null}function h({pid:e,sid:t,did:n}={}){const i=u({pid:e,sid:t});if(!i)return null;let o=n;return o||({dotId:o}=s.default.DotsStore.getState()),o?i.find((e=>e._id===o)):null}t.default={getScreens:function({pid:e,sids:t=[]}={}){const n=o.default.getProject({pid:e});return(null==n?void 0:n.screens)?n.screens.reduce(((e,n)=>(t.includes(n._id)&&e.push(n),e)),[]):null},getScreen:c,getVersion:function({pid:e,sid:t,vid:n}={}){const i=c({pid:e,sid:t});if(!(null==i?void 0:i.versions))return null;let o=n;return o||({versionId:o}=s.default.ScreenStore.getState()),o?i.versions.find((e=>e._id===o)):null},getFilteredScreens:d,getPreviousScreen:function(e){const{visibleScreens:t,variantScreenMapping:n}=Object.assign({},d());if(!t)return null;const i=n[e]||e,o=t.findIndex((e=>e._id===i));return o<1?null:t[o-1]},getNextScreen:function(e){const{visibleScreens:t,variantScreenMapping:n}=Object.assign({},d());if(!t)return null;const i=n[e]||e,o=t.findIndex((e=>e._id===i));return-1===o||o===t.length-1?null:t[o+1]},getSectionOfScreen:function({pid:e,sid:t}={}){const n=o.default.getProject({pid:e});if(!(null==n?void 0:n.sections))return null;let i=t;return i||({screenId:i}=s.default.ScreenStore.getState()),i?n.sections.find((e=>e.screens.includes(i))):null},getDots:u,getDot:h,getComment:function({pid:e,sid:t,did:n,cmid:i}={}){var o,s;const a=h({pid:e,sid:t,did:n});return null!==(s=null===(o=null==a?void 0:a.comments)||void 0===o?void 0:o.find((e=>e._id===i)))&&void 0!==s?s:null},navigateToScreen:function(e){const{barrelId:t}=s.default.BarrelStore.getState();l.default.history.push(r.urlResolve("project-screen",{url:{pid:t,sid:e}}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"createItemSectionMap",(function(){return O})),n.d(t,"filterSortScreens",(function(){return E})),n.d(t,"filterSortProjectSections",(function(){return C}));var i=n(610),o=n(634),s=n(693),a=n(547),r=n(694),l=n(633),c=n(583),d=n(622),u=n.n(d);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n){return{_id:e,[n]:t,type:"default",name:"default"}}function m(e,t,n){const i={};return e.filter((e=>{const o=n&&n(e),s=Object(r.calculateMatchingScore)(t,e.name,o);return i[e._id]=s,s})).sort(((e,t)=>{const n=i[t._id]-i[e._id];return n||o.sortBy.name(e,t)}))}function b({sections:e,items:t,itemsLookup:n,itemKey:i,sortType:r,shouldPutResultsToDefaultSection:l=!1}){if(!o.sortBy[r])return v(e,n,t,i);const d=t.slice(0).sort(o.sortBy[r]);return l?[g("sorted",d,i)]:r===a.SortTypes.CREATED||r===a.SortTypes.UPDATED?function(e,t,n){const i=[],o={};return e.forEach((e=>{const t=Object(s.getTimeSlot)(new Date(e[n]));let a;t in o?a=o[t]:(i.push(t),a=[],o[t]=a),a.push(e)}),{}),i.map((e=>({_id:e,key:e,name:Object(c.uppercaseFirst)(e),actionsDisabled:!0,[t]:o[e],type:"timeline"})))}(d,i,r):r===a.SortTypes.NAME?function(e,t){const n=[],i=e.reduce(((e,t)=>{const i=t.name.substr(0,1),o=Object(c.isLetter)(i)?i.toUpperCase():"#";return e[o]?e[o].push(t):(n.push(o),e[o]=[t]),e}),{});return n.map((e=>({_id:e,key:e,name:e,actionsDisabled:!0,[t]:i[e],type:"name"})))}(d,i):void 0}function S(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;var i;return t.tags.length?(i=t.tags,n=Array.isArray(i)?e=>i.reduce(((t,n)=>t&&e.tags&&e.tags.includes(n)),!0):e=>e.tags&&e.tags.includes(i)):t.untagged&&(n=e=>!e.tags||!e.tags.length),e.map((e=>Object.assign(e,{screens:e.screens.filter(n)}))).filter((e=>e.screens.length))}function y(e,t){const{jira:n}=e.integration||{};if(!t||!t.length||!n)return{filteredSections:e.sections,filteredScreens:e.screens};const i=n.attachments.filter((e=>t.some((t=>t.toLowerCase()===e.issueKey.toLowerCase())))),o=i.filter((e=>"section"===e.type)),s=i.filter((e=>"screen"===e.type)),a=O(e.sections,"screens"),r=e.screens.map((e=>p(p({},e),{},{sectionId:a[e._id]}))).filter((e=>s.find((t=>t.itemId===e._id))||o.find((t=>t.itemId===e.sectionId))));return{filteredSections:e.sections.filter((e=>r.find((t=>t.sectionId===e._id))||!Object.values(a).includes(e._id)&&o.find((t=>t.itemId===e._id)))).map((e=>p(p({},e),{},{screens:r.filter((t=>t.sectionId===e._id)).map((e=>e._id))}))),filteredScreens:r}}function v(e,t,n,i){if(!e||!e.length)return[];const o=function(e,t){if(e)return e;const n={};return t.forEach((e=>{n[e._id]=e})),n}(t,n);return e.map((e=>{const t=p({},e);return t[i]=e[i].map((e=>o[e])).filter(Boolean),e.type||(t.type="user"),t}))}function O(e,t){return e.reduce(((e,n)=>(n[t].forEach((t=>{e[t]=n._id})),e)),{})}function C({sections:e,projects:t,projectsLookup:n,sortType:o,filterValue:s=null,statusFilter:a=null,shouldPutResultsToDefaultSection:r}){if(s)return function(e,t,n,o){const s=O(e,"projects"),a=m(t,o,(e=>Object(i.getPlatformString)(e.type))).reduce(((e,t)=>{const n=s[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e}),{}),r=m(e,o);return v(e.map((e=>a[e._id]?p(p({},e),{},{projects:a[e._id],collapsed:!0}):r.find((t=>t._id===e._id)))).filter(Boolean),n,t,"projects")}(e,t,n,s);const{filteredSections:l,filteredProjects:c}=function(e,t,n){if(!n||n===u.a.All._id)return{filteredSections:e,filteredProjects:t};const i=O(e,"projects"),o=t.filter((({workflowStatus:{_id:e}})=>e===n)),s=o.reduce(((e,t)=>{const n=i[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e}),{});return{filteredSections:e.map((e=>s[e._id]?p(p({},e),{},{projects:s[e._id],collapsed:!0}):null)).filter(Boolean),filteredProjects:o}}(e,t,a);return b({sections:l,items:c,itemsLookup:n,itemKey:"projects",sortType:o,shouldPutResultsToDefaultSection:r})}function E(e,t,{filterValue:n,tagFilter:i,jiraIssueFilter:o}){let s,a;if(n)return s=function(e,t){const n=m(e.screens,t),{jira:i}=e.integration||{};if(i){const{filteredScreens:i}=y(e,[t]);n.push(...i.filter((e=>!n.some((t=>t._id===e._id)))))}return n.length>0?[g("filtered",n,"screens")]:[]}(e,n.toLowerCase()),{sortedSections:s,visibleTags:e.tags,variantGroupsMapping:{}};const{filteredSections:r,filteredScreens:c}=y(e,o);s=S(b({sections:r,items:c,itemKey:"screens",sortType:t}),i),s.length&&e.sections[0]._id===s[0]._id&&(s[0].type="default"),a=Object(l.extractTagsFromScreens)(c);const{tags:d,untagged:u}=i;if("sections"!==t||d.length>0||u||o.length>0)return{sortedSections:s,visibleTags:a,variantGroupsMapping:{}};const{sections:h,variantGroupsMapping:p}=function(e,t){const n={},i={};return e.variantGroups.forEach((e=>{const{screens:t,_id:o,name:s}=e;let a;t.forEach(((e,t)=>{const{id:r,variantName:l}=e;0===t?(a=r,n[a]={variantGroupId:o,variantGroupName:s,variantName:l,variants:[]}):(n[a].variants.push(e),i[r]=!0)}))})),t.forEach((e=>{e.screens=e.screens.filter((e=>!i[e._id]))})),{variantGroupsMapping:n,sections:t}}(e,s);return s=h,{sortedSections:s,visibleTags:a,variantGroupsMapping:p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.microTimeAgo=t.getTimeSlot=t.generateTimeSlots=t.getWeekday=t.getCalendarDateOfISOString=t.turnMinutesIntoHumanReadableInterval=t.getDateDifference=t.inSameDay=t.getDateString=void 0;const i=n(610),o=n(583),s=1440,a=10080;function r(e){return e instanceof Date?e:new Date(e)}function l(e){return(e.getDay()+6)%7}function c(){const e=864e5,t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=n.getTime(),o=new Date(i-e),s=new Date(i-l(t)*e),a=new Date(i-(l(t)+7)*e),r=new Date(i-(t.getDate()-1)*e),c=new Date(i-(t.getDate()+1)*e);return c.setDate(1),[["today",n],["yesterday",o],["this week",s],["last week",a],["this month",r],["last month",c]]}function d(e,t=1){return new Date(e.getFullYear(),e.getMonth()+t,0).getDate()}function u(e,t,n){const i=function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}(e,t);return function(e,t){let n=0;const i=d(e)===e.getDate();for(let o=1;o<=t;o+=1)n+=d(e,i?o+1:o);return n}(e,i)>n?i-1:i}t.getDateString=function(e){const t=r(e),n=new Date;if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){if(n.getDate()===t.getDate())return"today";if(n.getDate()-t.getDate()==1)return"yesterday"}return i.formatTime(t,{year:"numeric",month:"long",day:"numeric"})},t.inSameDay=function(e,t){const n=r(e),i=r(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()},t.getDateDifference=function(e,t,n){const i={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3};if(!e||!i[e.toLowerCase()])throw new TypeError(`Unknown datePart type: '${e}'. datePart should be one of (w, d, h, m, s)`);return Math.floor((r(n).getTime()-r(t).getTime())/i[e.toLowerCase()])},t.turnMinutesIntoHumanReadableInterval=function(e){let t,n;return e<60?(t=e,n="minute"):e<s?(t=Math.floor(e/60),n="hour"):e<a?(t=Math.floor(e/s),n="day"):e<43200?(t=Math.floor(e/a),n="week"):(t=Math.floor(e/43200),n="month"),o.pluralize(t,n)},t.getCalendarDateOfISOString=function(e=new Date){return e.toISOString().substr(0,10)},t.getWeekday=l,t.generateTimeSlots=c,t.getTimeSlot=function(e){const t=c().find((t=>e>=t[1]));if(t)return t[0];const n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),i.formatTime(e,n)},t.microTimeAgo=function(e,t){const n=t?new Date(Date.parse(t)):new Date,i=new Date(Date.parse(e)),o=n.getTime()-i.getTime(),r=Math.floor(o/6e4),l=Math.floor(r/60),c=Math.floor(r/s),d=Math.floor(r/a);if(r<1)return"now";if(r<60)return`${r}m`;if(l<24)return`${l}h`;if(c<7)return`${c}d`;if(c<28)return`${d}w`;const h=u(i,n,c);return h<1?"4w":h<12?`${h}mth`:`${Math.floor(h/12)}y`}},function(e,t,n){"use strict";n.r(t),n.d(t,"calculateMatchingScore",(function(){return s})),n.d(t,"matchUserWithFilterValue",(function(){return a}));var i=n(553),o=n(583);function s(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let o=0,s=e.toLowerCase(),a=0;const r=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${r}\\b\\s*`,"ig");if(r&&l.test(s)&&(a=.3,s=s.replace(l," ").trim(),!s))return a;const c=i.indexOf(s);if(c>-1)return o+=.3,i.startsWith(s)?o+=.3:" "===i.charAt(c-1)&&(o+=.2),o+=(i.length-c)/i.length/200,o+a;let d=i.indexOf(s.charAt(0)),u=0,h=0;for(var p=d;p<i.length&&-1!==d;p++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=s[++h];d=e?i.indexOf(e,d+1):-1}return h===s.length&&(o+=.05+u),o?o+a:0}function a(e,t){const{email:n,username:a,fullName:r}=e,l=Object(i.getHandleTextForSearch)(r,a);return s(Object(o.normalizeAndLowerCase)(t),Object(o.normalizeAndLowerCase)(l))||s(t,n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(682),o=n(684),s=n.n(o),a=n(691),r=n.n(a),l=n(685),c=n.n(l),d=n(696),u=n.n(d),h=n(697),p=n.n(h),f=n(545),g=n(690),m=n(590),b=n.n(m),S=n(567),y=n.n(S),v=n(681),O=n(547);const C=/^\/login/;function E(e,t){const n=!!e&&!!t;return[{id:i.default.ZOOM_IN,label:"Zoom in",accelerator:"Alt+=",enabled:n},{id:i.default.ZOOM_OUT,label:"Zoom out",accelerator:"Alt+-",enabled:n},{id:i.default.ACTUAL_SIZE,label:"Actual size",accelerator:"Alt+0",enabled:n},{role:"zoomin",visible:!1},{role:"zoomout",visible:!1},{role:"resetzoom",visible:!1}]}function T(e,t){const n=!!e&&!!t&&f.featureValue.popout;return{id:i.default.OPEN_POPOUT,label:"Pop screen out",accelerator:"Alt+O",enabled:n}}function _(e,t,n){const o=!e&&!C.test(location.pathname),s=!C.test(location.pathname),a=!!e&&n===O.ProjectViewTypes.DASHBOARD,r=!!e&&t===b.a.PROJECT,l=!!e&&n===O.ProjectViewTypes.STYLEGUIDE,c=!!e&&t===b.a.PROJECT;return[{id:i.default.WORKSPACE,label:"Workspace",type:"checkbox",accelerator:"Alt+Shift+A",checked:o,enabled:s},g.default,{id:i.default.DASHBOARD,label:"Dashboard",type:"checkbox",accelerator:"Alt+A",checked:a,enabled:r},{id:i.default.STYLEGUIDE,label:"Styleguide",type:"checkbox",accelerator:"Alt+S",checked:l,enabled:c}]}function P(e){const t=!!e;return{id:i.default.JUMP_TO_SCREEN,label:"Jump to screen…",accelerator:"Alt+J",enabled:t}}function I(e,t){const{page:n}=y.a.AppStore.getState(),{selectedTab:o,selectedProjectSortType:s,selectedOrganizationId:a}=y.a.SpaceStore.getState();let r=0,l=0;if("workspace"===n&&o===O.WorkspaceTabs.PROJECTS)s===O.SortTypes.SECTIONS&&(r=c.a.getCollapsableSectionIds(a).length,l=c.a.getCollapsedSectionIds(a).length);else if("barrel"===n&&e===b.a.PROJECT&&t===O.ProjectViewTypes.DASHBOARD){const{sortType:e}=y.a.DashboardStore.getState();e===O.SortTypes.SECTIONS&&(r=u.a.getCollapsableSectionIds().length,l=u.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===b.a.PROJECT&&t===O.ProjectViewTypes.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=y.a.StyleguideStore.getState();e===O.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(r=p.a.getCollapsableSectionIds().length,l=p.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===b.a.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=y.a.StyleguideStore.getState();e===O.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(r=p.a.getCollapsableSectionIds().length,l=p.a.getCollapsedSectionIds().length)}const d=l>0,h=0!==r&&r!==l;return[{id:i.default.EXPAND_ALL_SECTIONS,label:"Expand all sections",enabled:d},{id:i.default.COLLAPSE_ALL_SECTIONS,label:"Collapse all sections",enabled:h}]}function j(e,t,n){const o=!!e&&!!t,s=n?"Hide versions":"Show versions";return{id:n?i.default.HIDE_VERSIONS:i.default.SHOW_VERSIONS,label:s,enabled:o}}function D(e){return e?[g.default,{id:i.default.RESET_APP_ZOOM_FACTOR,label:"Reset app zoom factor"}]:[]}function k(e,t){const n=s.a.getBarrel(),o=r.a.getScreen(),{selectedView:a,barrelType:l}=y.a.BarrelStore.getState(),{versionsVisible:c}=y.a.ScreenStore.getState();return new v.default({id:i.default.VIEW_SUBMENU,label:"View",submenu:[...E(n,o),g.default,T(n,o),g.default,..._(n,l,a),g.default,P(n),g.default,...I(l,a),g.default,j(n,o,c),{id:i.default.SHOW_BADGE,label:"Show badge",type:"checkbox",checked:e},...D(t),g.default,{id:i.default.TOGGLE_FULL_SCREEN,label:"Toggle full screen",role:"toggleFullScreen"},g.default,{id:i.default.RELOAD,label:"Reload",accelerator:"CmdOrCtrl+R"},{id:i.default.RELOAD_IGNORING_CACHE,label:"Reload ignoring cache",accelerator:"CmdOrCtrl+Shift+R"},{id:i.default.TOGGLE_DEV_TOOLS,label:"Toggle dev tools",accelerator:"CmdOrCtrl+Shift+I"},{id:i.default.TOGGLE_DEV_TOOLS_HOST,label:"Toggle dev tools (host)",role:"toggleDevTools"}]})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(684)),s=i(n(567));function a(){const e=o.default.getBarrel();if(!e)return[];const{sections:t}=e;return t?t.filter((e=>"default"!==e.name&&e.screens.length>0)).map((e=>e._id)):[]}t.default={getCollapsableSectionIds:a,getCollapsedSectionIds:function(){const{collapsedSections:e}=s.default.DashboardStore.getState();return a().filter((t=>e[t]))},getExpandedSectionIds:function(){const{collapsedSections:e}=s.default.DashboardStore.getState();return a().filter((t=>!e[t]))}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(684)),s=i(n(567));function a(){const e=o.default.getStyleguidesData({barrelStore:s.default.BarrelStore,styleguidesDataStore:s.default.StyleguidesDataStore,projectsDataStore:s.default.ProjectsDataStore}),t=[];return e.forEach((({componentSections:e})=>{e.forEach((e=>{"default"!==e.name&&t.push(e._id)}))})),t}t.default={getCollapsableSectionIds:a,getCollapsedSectionIds:function(){const{collapsedSections:e}=s.default.StyleguideStore.getState();return a().filter((t=>e[t]))},getExpandedSectionIds:function(){const{collapsedSections:e}=s.default.StyleguideStore.getState();return a().filter((t=>!e[t]))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(682),o=n(681);function s(){return new o.default({id:i.default.WINDOW_SUBMENU,label:"Window",submenu:[{role:"minimize"},{role:"close"}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(682),o=n(681),s=n(690);const a="IDLE",r={[a]:"Check for updates",["CHECKING_FOR_UPDATES"]:"Checking for updates",["DOWNLOADING_UPDATES"]:"Downloading updates"},l="DISABLED",c="IDLE",d={[c]:"Check for plugin updates",["CHECKING_FOR_UPDATES"]:"Checking for plugin updates",["DOWNLOADING_UPDATES"]:"Downloading plugin updates"};function u({appUpdaterState:e,pluginUpdaterState:t}){const n={id:i.default.CHECK_FOR_UPDATES,label:r[e],enabled:e===a};return t===l?[n]:[n,{id:i.default.CHECK_FOR_PLUGIN_UPDATES,label:d[t],enabled:t===c}]}function h({installUpdatesAutomatically:e,appUpdaterState:t,pluginUpdaterState:n}){return new o.default({id:i.default.HELP_SUBMENU,label:"Help",submenu:[...u({appUpdaterState:t,pluginUpdaterState:n}),{id:i.default.INSTALL_UPDATES_AUTOMATICALLY,label:"Install updates automatically",type:"checkbox",checked:e},s.default,{id:i.default.INSTALL_FIGMA_PLUGIN,label:"Install Figma plugin"},{id:i.default.INSTALL_PHOTOSHOP_PLUGIN,label:"Install Adobe Photoshop plugin"},s.default,{id:i.default.SHOW_LOGS_IN_EXPLORER,label:"Show logs in Explorer"},{id:i.default.RESET_SUGGESTED_COLORS,label:"Reset suggested colors"},{id:i.default.RESET_SUGGESTED_TEXT_STYLES,label:"Reset suggested text styles"},{id:i.default.CLEAR_CACHE_AND_RESTART,label:"Clear cache and restart"},{id:i.default.RESET_ZEPLIN,label:"Reset Zeplin"},s.default,{id:i.default.OPEN_HELP_CENTER,label:"Open help center"},s.default,{id:i.default.ABOUT_ZEPLIN,label:"About Zeplin"}]})}},function(e,t,n){"use strict";n.r(t);var i=n(546),o=n(701),s=n(684),a=n.n(s),r=n(702),l=n.n(r),c=n(559),d=n(707),u=n.n(d),h=n(709),p=n.n(h),f=n(691),g=n.n(f),m=n(710),b=n.n(m),S=n(715),y=n.n(S),v=n(697),O=n.n(v),C=n(685),E=n.n(C),T=n(716),_=n.n(T),P=n(696),I=n.n(P),j=n(545),D=n(567),k=n.n(D),R=n(686),A=n(610),w=n(688),N=n.n(w),L=n(682),M=n(547),x=n(590),U=n.n(x);const B={newProject(){const{selectedOrganizationId:e}=k.a.SpaceStore.getState(),{barrelId:t}=k.a.BarrelStore.getState();if(t)a.a.navigateToWorkspace({newProject:!0});else{const t="user"===e?Object(R.urlResolve)("projects",{query:{newProject:!0}}):Object(R.urlResolve)("workspace-projects",{url:{oid:e},query:{newProject:!0}});N.a.history.push(t)}},newStyleguide(){const{selectedOrganizationId:e}=k.a.SpaceStore.getState(),{barrelId:t}=k.a.BarrelStore.getState();if(t)a.a.navigateToWorkspace({newStyleguide:!0});else{const t="user"===e?Object(R.urlResolve)("styleguides",{query:{newStyleguide:!0}}):Object(R.urlResolve)("workspace-styleguides",{url:{oid:e},query:{newStyleguide:!0}});N.a.history.push(t)}},openRecentProject(e){N.a.history.push(Object(R.urlResolve)("project",{url:{bid:e}}))},openRecentStyleguide(e){N.a.history.push(Object(R.urlResolve)("styleguide",{url:{bid:e}}))},deleteProject(){const{id:e,name:t}=a.a.getBarrel();o.prompt("project",t,(()=>{l.a.remove({bid:e,syncWithApi:!0})}))},deleteStyleguide(){const{id:e,name:t}=a.a.getBarrel();o.prompt("styleguide",t,(()=>{l.a.remove({bid:e,syncWithApi:!0})}))},leaveBarrel(){const{userId:e}=k.a.UserStore.getState(),{name:t}=a.a.getBarrel();c.create({message:`Leave "${t}"?`,done:{name:"LEAVE",cb(){l.a.removeMember({mid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},deleteScreen(){const{_id:e,name:t}=g.a.getScreen();c.create({message:`Delete "${t}"?`,done:{name:"DELETE SCREEN",cb(){b.a.removeScreen({sid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},setAsThumbnail(){const{versions:[{snapshot:{url:e}}]}=g.a.getScreen();l.a.updateThumbnail({thumbnail:e,syncWithApi:!0})},manageTags(){const{screenId:e}=k.a.ScreenStore.getState();b.a.openTagManager([e])},expandAllSections(){const{page:e}=k.a.AppStore.getState(),{barrelType:t,selectedView:n}=k.a.BarrelStore.getState(),{selectedStyleguideSection:i}=k.a.StyleguideStore.getState(),{selectedTab:o}=k.a.SpaceStore.getState();if("workspace"===e&&o===M.WorkspaceTabs.PROJECTS){const e=E.a.getCollapsedSectionIds();p.a.expandSections(e)}else if("barrel"===e&&t===U.a.PROJECT&&n===M.ProjectViewTypes.DASHBOARD){const e=I.a.getCollapsedSectionIds();_.a.expandSections(e)}else if("barrel"===e&&(t===U.a.STYLEGUIDE||t===U.a.PROJECT&&n===M.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=O.a.getCollapsedSectionIds();y.a.expandSections(e)}},collapseAllSections(){const{page:e}=k.a.AppStore.getState(),{barrelType:t,selectedView:n}=k.a.BarrelStore.getState(),{selectedStyleguideSection:i}=k.a.StyleguideStore.getState(),{selectedTab:o}=k.a.SpaceStore.getState();if("workspace"===e&&o===M.WorkspaceTabs.PROJECTS){const e=E.a.getExpandedSectionIds();p.a.collapseSections(e)}else if("barrel"===e&&t===U.a.PROJECT&&n===M.ProjectViewTypes.DASHBOARD){const e=I.a.getExpandedSectionIds();_.a.collapseSections(e)}else if("barrel"===e&&(t===U.a.STYLEGUIDE||t===U.a.PROJECT&&n===M.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=O.a.getExpandedSectionIds();y.a.collapseSections(e)}},updateBadge(){let e=k.a.SpaceStore.getState().selectedOrganizationId;e||(e=k.a.BarrelStore.getState().organizationId),e||(e=k.a.ActivitiesViewStore.getState().selectedOrganizationId),u.a.hasAnyUnread(e)?i.default.ipcRenderer.send("unread-notifications",Object(A.calculateOverlayIcon)()):i.default.ipcRenderer.send("read-notifications")}};j.isWindowsApp&&i.default.ipcRenderer.on("menu-item-clicked",((e,{id:t})=>{if(t.startsWith(L.default.OPEN_RECENT_PROJECT))B.openRecentProject(t.substring(L.default.OPEN_RECENT_PROJECT.length+1));else if(t.startsWith(L.default.OPEN_RECENT_STYLEGUIDE))B.openRecentStyleguide(t.substring(L.default.OPEN_RECENT_STYLEGUIDE.length+1));else switch(t){case L.default.NEW_PROJECT:B.newProject();break;case L.default.NEW_STYLEGUIDE:B.newStyleguide();break;case L.default.DELETE_PROJECT:B.deleteProject();break;case L.default.DELETE_STYLEGUIDE:B.deleteStyleguide();break;case L.default.LEAVE_PROJECT:case L.default.LEAVE_STYLEGUIDE:B.leaveBarrel();break;case L.default.DELETE_SCREEN:B.deleteScreen();break;case L.default.SET_AS_THUMBNAIL:B.setAsThumbnail();break;case L.default.MANAGE_TAGS:case L.default.ADD_TAG:B.manageTags();break;case L.default.SHOW_BADGE:B.updateBadge();break;case L.default.ZOOM_IN:b.a.zoomIn();break;case L.default.ZOOM_OUT:b.a.zoomOut();break;case L.default.ACTUAL_SIZE:b.a.resetZoom();break;case L.default.OPEN_POPOUT:b.a.openPopout();break;case L.default.WORKSPACE:a.a.navigateToWorkspace();break;case L.default.DASHBOARD:l.a.goToDashboard();break;case L.default.STYLEGUIDE:l.a.goToStyleguide();break;case L.default.JUMP_TO_SCREEN:l.a.openJumpToPopup();break;case L.default.EXPAND_ALL_SECTIONS:B.expandAllSections();break;case L.default.COLLAPSE_ALL_SECTIONS:B.collapseAllSections();break;case L.default.SHOW_VERSIONS:b.a.showVersions();break;case L.default.HIDE_VERSIONS:b.a.hideVersions()}}))},function(e,t,n){"use strict";n.r(t),n.d(t,"prompt",(function(){return p}));var i=n(559),o=n(583);const s=document.getElementById("deleteBarrelDialog"),a=s.querySelector(".barrelType"),r=document.getElementById("barrelNameInput"),l=document.getElementById("deleteBarrelDialogCancelButton"),c=document.getElementById("deleteBarrelDialogDoneButton");let d,u,h;function p(e,t,n){d=e,u=t,h=n,a.textContent=d,s.showModal()}i.polyfill.registerDialog(s),r.addEventListener("input",(()=>{const e=r.value===u;s.querySelector("button.done").disabled=!e;const t=e?"":`${Object(o.uppercaseFirst)(d)} name doesn't match provided value`;r.setCustomValidity(t)})),l.addEventListener("click",(e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&s.close()})),s.addEventListener("close",(()=>{r.value="",r.setCustomValidity(""),r.parentElement.classList.remove("typed"),s.querySelector("button.done").disabled=!0})),r.addEventListener("keydown",(e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),r.value===u&&(s.close(),h())}})),c.addEventListener("click",(()=>{r.value===u&&(s.close(),h())}))},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(575)),a=o(n(684)),r=n(547),l=o(n(590)),c=o(n(584)),d=n(583),u=n(703),h=o(n(567)),p=o(n(685)),f=24;function g(e={}){var t,n;const i=null!==(t=e.bid)&&void 0!==t?t:h.default.BarrelStore.getState().barrelId,o=null!==(n=e.barrelType)&&void 0!==n?n:h.default.BarrelStore.getState().barrelType;return Object.assign(Object.assign({},e),{bid:i,barrelType:o})}function m(e){var t;const n=a.default.getBarrel();if(!n)return!1;const{barrelType:i,selectedView:o}=h.default.BarrelStore.getState(),{selectedStyleguideSection:s}=h.default.StyleguideStore.getState();return!(a.default.isUserRestricted()||p.default.isOrganizationFrozen()||n.id!==e&&!(null===(t=n.ancestors)||void 0===t?void 0:t.includes(e))||i!==l.default.STYLEGUIDE&&o!==r.ProjectViewTypes.STYLEGUIDE||"components"!==s)}const b={reset(){h.default.dispatcher.dispatch({type:s.default.RESET})},load(e){h.default.dispatcher.dispatch(Object.assign({type:s.default.LOAD},e))},setOrganizationId({oid:e}){h.default.dispatcher.dispatch({type:s.default.SET_ORGANIZATION_ID,oid:e})},addToSlack(e){const{bid:t,barrelType:n}=g(e),{name:i}=a.default.getBarrel({bid:t});h.default.dispatcher.dispatch({type:s.default.ADD_TO_SLACK,bid:t,barrelType:n,name:i})},authenticateSlackIntegration(e){h.default.dispatcher.dispatch({type:s.default.AUTHENTICATE_SLACK_INTEGRATION,bid:e})},authenticatingSlackIntegrationFailed(e){h.default.dispatcher.dispatch({type:s.default.AUTHENTICATE_SLACK_INTEGRATION_FAILED,bid:e})},authenticatedSlackIntegration({bid:e,barrelType:t,integration:n,events:i}){const{barrelId:o}=h.default.BarrelStore.getState();h.default.dispatcher.dispatch({type:s.default.AUTHENTICATED_SLACK_INTEGRATION,bid:e,barrelType:t,integration:n,events:i,openPreferences:o===e})},add({oid:e,oseid:t,index:n,barrel:i,barrelType:o,addedWithCopy:a=!1,syncWithApi:r=!1}){h.default.dispatcher.dispatch({type:s.default.ADD,oid:e,oseid:t,index:n,barrel:i,barrelType:o,addedWithCopy:a,syncWithApi:r})},activate(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=g(e);let o=[t];if(n===l.default.STYLEGUIDE){const{styleguides:e}=h.default.StyleguidesDataStore.getState();o=u.getStyleguideAndItsDescendants(e,t)}h.default.dispatcher.dispatch({type:s.default.ACTIVATE,bid:t,barrelType:n,affectedIds:o,syncWithApi:i})},archive(e){const{bid:t,barrelType:n,uid:i,syncWithApi:o=!1}=g(e),{barrelId:r}=h.default.BarrelStore.getState(),{name:c}=a.default.getBarrel({bid:t});let d=[t];if(n===l.default.STYLEGUIDE){const{styleguides:e}=h.default.StyleguidesDataStore.getState();d=u.getStyleguideAndItsDescendants(e,t)}const p=h.default.UserStore.getState().userId,f=a.default.findUser({bid:t,uid:i});h.default.dispatcher.dispatch({type:s.default.ARCHIVE,bid:t,barrelType:n,currentBid:r,affectedIds:d,name:c,uid:i,currentUserId:p,user:f,syncWithApi:o})},remove(e){const{bid:t,barrelType:n,uid:i,syncWithApi:o=!1}=g(e),{barrelId:r}=h.default.BarrelStore.getState(),c=a.default.getBarrel({bid:t}),d=a.default.findBarrelOrganizationId(t),u=n===l.default.PROJECT?p.default.findProjectOrganizationSectionId(t):null,f=h.default.UserStore.getState().userId,m=a.default.findUser({bid:t,uid:i});h.default.dispatcher.dispatch({type:s.default.REMOVE,oid:d,oseid:u,bid:t,barrelType:n,currentBid:r,oldBarrel:c,uid:i,currentUserId:f,user:m,syncWithApi:o})},copy(e){const{bid:t,barrelName:n,barrelType:i,options:o,syncWithApi:r=!1}=g(e),l=a.default.findBarrelOrganizationId(t);h.default.dispatcher.dispatch({type:s.default.COPY,bid:t,oid:l,barrelName:n,barrelType:i,options:o,syncWithApi:r})},updateName(e){const{bid:t,barrelType:n,name:i,syncWithApi:o=!1}=g(e);let r;o&&({name:r}=a.default.getBarrel({bid:t})),h.default.dispatcher.dispatch({type:s.default.UPDATE_NAME,bid:t,barrelType:n,name:i,oldName:r,syncWithApi:o})},updateDescription(e){const{bid:t,barrelType:n,description:i,syncWithApi:o=!1}=g(e);let r;o&&({description:r}=a.default.getBarrel({bid:t})),h.default.dispatcher.dispatch({type:s.default.UPDATE_DESCRIPTION,bid:t,barrelType:n,description:i,oldDescription:r,syncWithApi:o})},updateDensityScale(e){const{bid:t,barrelType:n,densityScale:i,syncWithApi:o=!1}=g(e);let r;o&&({densityScale:r}=a.default.getBarrel({bid:t})),h.default.dispatcher.dispatch({type:s.default.UPDATE_DENSITY_SCALE,bid:t,barrelType:n,densityScale:i,oldDensityScale:r,syncWithApi:o})},updateThumbnail(e){const{bid:t,barrelType:n,thumbnail:i,syncWithApi:o=!1}=g(e);let r;o&&({thumbnail:r}=a.default.getBarrel({bid:t})),h.default.dispatcher.dispatch({type:s.default.UPDATE_THUMBNAIL,bid:t,barrelType:n,thumbnail:i,oldThumbnail:r,syncWithApi:o})},addIntegration(e){const{bid:t,intype:n,integration:i,syncWithApi:o=!1}=g(e);h.default.dispatcher.dispatch({type:s.default.ADD_INTEGRATION,bid:t,intype:n,integration:i,syncWithApi:o})},removeIntegration(e){const{bid:t,barrelType:n,intype:i,inid:o,syncWithApi:r=!1}=g(e),l=a.default.getBarrel({bid:t});let c;r&&(c=l.integration[i].find((({_id:e})=>e===o)));const d=1===l.integration.slacks.length;h.default.dispatcher.dispatch({type:s.default.REMOVE_INTEGRATION,bid:t,barrelType:n,intype:i,inid:o,removedIntegration:c,syncWithApi:r,isLastSlackIntegration:d})},toggleScene(e){const{bid:t,barrelType:n,accessibility:i,syncWithApi:o=!1}=g(e);let r;o&&({public:r}=a.default.getBarrel({bid:t})),h.default.dispatcher.dispatch({type:s.default.TOGGLE_SCENE,bid:t,barrelType:n,accessibility:i,oldAccessibility:r,syncWithApi:o})},enableScene(){b.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){b.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{bid:t,barrelType:n,members:i,syncWithApi:o=!1}=g(e);h.default.dispatcher.dispatch({type:s.default.ADD_MEMBERS,bid:t,barrelType:n,members:i,syncWithApi:o})},updateUserRole(e){const{bid:t,barrelType:n,uid:i,role:o,syncWithApi:r=!1}=g(e);let l;if(r){const e=a.default.getBarrel({bid:t});({role:l}=e.findUser(i))}h.default.dispatcher.dispatch({type:s.default.UPDATE_USER_ROLE,bid:t,barrelType:n,uid:i,role:o,oldRole:l,syncWithApi:r})},updateUserData(e){const{bid:t,uid:n,userData:i,syncWithApi:o=!1}=g(e);let r;if(o){const e=a.default.getBarrel({bid:t});({user:r}=e.findUser(n))}h.default.dispatcher.dispatch({type:s.default.UPDATE_USER_DATA,bid:t,uid:n,userData:i,oldUserData:r,syncWithApi:o})},transferOwnership(e){const{bid:t,barrelType:n,uid:i,syncWithApi:o=!1}=g(e);h.default.dispatcher.dispatch({type:s.default.TRANSFER_OWNERSHIP,syncWithApi:o,bid:t,barrelType:n,uid:i})},ownershipTransferred(e){const{bid:t,barrelType:n,uid:i}=g(e),{barrelUser:o,organizationId:a}=h.default.BarrelStore.getState(),{user:{_id:r}}=o;let c;if(n===l.default.STYLEGUIDE){const{styleguides:e}=h.default.StyleguidesDataStore.getState();c=u.getStyleguideAndItsDescendants(e,t)}h.default.dispatcher.dispatch({type:s.default.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:r,targetId:i,oid:a,bid:t,affectedIds:c})},removeMember(e){var t;const{bid:n,uid:i,mid:o,barrelType:r,syncWithApi:l=!1}=g(e),c=a.default.findBarrelOrganizationId(n),{restricted:d}=null!==(t=p.default.getOrganizationProfile(c))&&void 0!==t?t:{},u="user"!==c?p.default.findProjectOrganizationSectionId(n):null,{barrelId:f}=h.default.BarrelStore.getState(),m=h.default.UserStore.getState().userId,b=(d||"user"===c)&&o===m,S=a.default.findUser({bid:n,uid:i});let y,v;b?y=a.default.getBarrel({bid:n}):v=a.default.findUser({bid:n,uid:o}),h.default.dispatcher.dispatch({type:s.default.REMOVE_MEMBER,oid:c,bid:n,uid:i,mid:o,oseid:u,barrelType:r,currentBid:f,currentUserId:m,removingUser:S,shouldRemoveBarrel:b,removedBarrel:y,removedMember:v,syncWithApi:l})},addColor(e){const{bid:t,barrelType:n,color:i,syncWithApi:o=!1}=g(e);let r=i;if(o){const e=a.default.getBarrel({bid:t}),{id:n=`newColor${d.getRandomString(f)}`,name:o=e.getColorName(new c.default(i))}=i;r=Object.assign(Object.assign({},i),{name:o,_id:n})}h.default.dispatcher.dispatch({type:s.default.ADD_COLOR,bid:t,barrelType:n,color:r,syncWithApi:o})},addMultipleColors(e){const t=g(e),{bid:n,barrelType:i,syncWithApi:o=!1}=t;let{colors:r}=t;if(o){const e=a.default.getBarrel({bid:n});r=r.map((t=>{var n;const i=t.name?t.name:e.getColorName(new c.default(t)),o=null!==(n=t.id)&&void 0!==n?n:`newColor${d.getRandomString()}`;return Object.assign(Object.assign({},t),{name:i,_id:o})}))}h.default.dispatcher.dispatch({type:s.default.ADD_MULTIPLE_COLORS,bid:n,barrelType:i,colors:r,syncWithApi:o})},updateColor(e){const{bid:t,barrelType:n,cid:o,colorData:r,syncWithApi:l=!1}=g(e);let c;if(l){const e=a.default.getBarrel({bid:t});c=i(e.findColorById(o),[])}h.default.dispatcher.dispatch({type:s.default.UPDATE_COLOR,bid:t,barrelType:n,cid:o,colorData:r,oldColorData:c,syncWithApi:l})},removeColor(e){const{bid:t,barrelType:n,cid:i,syncWithApi:o=!1}=g(e);let r;if(o){r=a.default.getBarrel({bid:t}).findColorById(i)}h.default.dispatcher.dispatch({type:s.default.REMOVE_COLOR,bid:t,barrelType:n,cid:i,removedColor:r,syncWithApi:o})},removeAllColors(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=g(e);let o;if(i){o=a.default.getBarrel({bid:t}).colors}h.default.dispatcher.dispatch({type:s.default.REMOVE_ALL_COLORS,bid:t,barrelType:n,colorsToRemove:o,syncWithApi:i})},migrateColors(e){const{bid:t,barrelType:n,colorsToUpdate:i,colorsToAdd:o,hasLinkedStyleguideColor:r,syncWithApi:l=!1}=e,c={};if(l){const e=a.default.getBarrel({bid:t});Object.keys(i).forEach((t=>{const n=e.findColorById(t);c[t]=n}))}h.default.dispatcher.dispatch({type:s.default.MIGRATE_COLORS,bid:t,barrelType:n,colorsToUpdate:i,oldDataOfColorsToUpdate:c,colorsToAdd:o,hasLinkedStyleguideColor:r,syncWithApi:l})},updateColorOrder(e){const{bid:t,barrelType:n,cid:i,to:o}=g(e);h.default.dispatcher.dispatch({type:s.default.UPDATE_COLOR_ORDER,bid:t,barrelType:n,cid:i,to:o})},addTextStyle(e){const{bid:t,barrelType:n,textStyle:i,syncWithApi:o=!1}=g(e);let r=i;if(o){const e=a.default.getBarrel({bid:t}),{id:n=`newTextStyle${d.getRandomString(f)}`,name:o=e.getTextStyleName()}=i;r=Object.assign(Object.assign({},i),{name:o,_id:n})}h.default.dispatcher.dispatch({type:s.default.ADD_TEXT_STYLE,bid:t,barrelType:n,textStyle:r,syncWithApi:o})},addMultipleTextStyles(e){const t=g(e),{bid:n,barrelType:i,syncWithApi:o=!1}=t;let{textStyles:r}=t;if(o){const e=a.default.getBarrel({bid:n});r=r.map((t=>{var n;const i=t.name?t.name:e.getTextStyleName(),o=null!==(n=t.id)&&void 0!==n?n:`newTextStyle${d.getRandomString(f)}`;return Object.assign(Object.assign({},t),{name:i,_id:o})}))}h.default.dispatcher.dispatch({type:s.default.ADD_MULTIPLE_TEXT_STYLES,bid:n,barrelType:i,textStyles:r,syncWithApi:o})},updateTextStyle(e){const{bid:t,barrelType:n,tsid:o,textStyleData:r,syncWithApi:l=!1}=g(e);let c;if(l){const e=a.default.getBarrel({bid:t});c=i(e.findTextStyleById(o),[])}h.default.dispatcher.dispatch({type:s.default.UPDATE_TEXT_STYLE,bid:t,barrelType:n,tsid:o,textStyleData:r,oldTextStyleData:c,syncWithApi:l})},removeTextStyle(e){const{bid:t,barrelType:n,tsid:i,syncWithApi:o=!1}=g(e);let r;if(o){r=a.default.getBarrel({bid:t}).findTextStyleById(i)}h.default.dispatcher.dispatch({type:s.default.REMOVE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,removedTextStyle:r,syncWithApi:o})},removeAllTextStyles(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=g(e);let o;if(i){o=a.default.getBarrel({bid:t}).textStyles}h.default.dispatcher.dispatch({type:s.default.REMOVE_ALL_TEXT_STYLES,bid:t,barrelType:n,textStylesToRemove:o,syncWithApi:i})},addSpacingSection(e){const{bid:t,barrelType:n,spacingSection:i,syncWithApi:o=!1}=g(e);let a=i;if(o){const{_id:e=d.getRandomString(f)}=i;a=Object.assign(Object.assign({},i),{_id:e})}h.default.dispatcher.dispatch({type:s.default.ADD_SPACING_SECTION,bid:t,barrelType:n,spacingSection:a,syncWithApi:o})},updateSpacingSection(e){const{bid:t,barrelType:n,ssid:i,updatedSpacingSection:o,syncWithApi:r=!1}=g(e);let l={};if(r){l=a.default.getBarrel({bid:t}).findSpacingSectionById(i)}h.default.dispatcher.dispatch({type:s.default.UPDATE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,updatedSpacingSection:o,oldSpacingSection:l,syncWithApi:r})},removeSpacingSection(e){const{bid:t,barrelType:n,ssid:i,syncWithApi:o=!1}=g(e);let r;if(o){r=a.default.getBarrel({bid:t}).findSpacingSectionById(i)}h.default.dispatcher.dispatch({type:s.default.REMOVE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,removedSpacingSection:r,syncWithApi:o})},addSpacingToken(e){const{bid:t,barrelType:n,ssid:i,spacingToken:o,isBaseToken:a=!1,syncWithApi:r=!1}=g(e);let l=o;if(r){const{_id:e=d.getRandomString(f)}=o;l=Object.assign(Object.assign({},o),{_id:e})}h.default.dispatcher.dispatch({type:s.default.ADD_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,isBaseToken:a,spacingToken:l,syncWithApi:r})},updateSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:o,updatedSpacingToken:r,syncWithApi:l=!1}=g(e),c=a.default.getBarrel({bid:t}),{baseTokenId:d}=c.findSpacingSectionById(i),u=d===o;let p={};l&&(p=c.findSpacingTokenInsideSectionById(i,o)),h.default.dispatcher.dispatch({type:s.default.UPDATE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:o,isBaseToken:u,updatedSpacingToken:r,oldSpacingToken:p,syncWithApi:l})},removeSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:o,syncWithApi:r=!1}=g(e),l=a.default.getBarrel({bid:t}),{baseTokenId:c}=l.findSpacingSectionById(i),d=c===o;let u;r&&(u=l.findSpacingTokenInsideSectionById(i,o)),h.default.dispatcher.dispatch({type:s.default.REMOVE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:o,removedSpacingToken:u,isBaseToken:d,syncWithApi:r})},updateRemPreferences(e){const{bid:t,barrelType:n,updatedRemPreferences:i,isRevert:o=!1,syncWithApi:r=!1}=g(e);let l={};if(r){l=a.default.getBarrel({bid:t}).remPreferences}h.default.dispatcher.dispatch({type:s.default.UPDATE_REM_PREFERENCES,bid:t,barrelType:n,updatedRemPreferences:i,oldRemPreferences:l,isRevert:o,syncWithApi:r})},addComponent(e){const{bid:t,csids:n,component:i}=g(e);h.default.dispatcher.dispatch({type:s.default.ADD_COMPONENT,bid:t,csids:n,component:i})},updateComponent(e){const{bid:t,barrelType:n,csids:o,coid:r,componentData:l,syncWithApi:c=!1}=g(e);let d;if(c){const e=a.default.getBarrel({bid:t});d=i(e.findComponentById(r),[])}h.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT,bid:t,barrelType:n,csids:o,coid:r,shouldFetchSnapshot:m(t),componentData:l,oldComponentData:d,syncWithApi:c})},setComponentSnapshot({bid:e,csids:t,coid:n,vid:i,snapshot:o}){h.default.dispatcher.dispatch({type:s.default.SET_COMPONENT_SNAPSHOT,bid:e,csids:t,coid:n,vid:i,snapshot:o})},removeComponent(e){const{bid:t,barrelType:n,csids:i,coid:o,syncWithApi:r=!1}=g(e);let l;if(r){l=a.default.getBarrel({bid:t}).findComponentById(o)}h.default.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT,bid:t,barrelType:n,csids:i,coid:o,oldComponent:l,syncWithApi:r})},addComponentVersion(e){const{bid:t,barrelType:n,csids:i,coid:o,componentVersion:a}=g(e);h.default.dispatcher.dispatch({type:s.default.ADD_COMPONENT_VERSION,bid:t,barrelType:n,csids:i,coid:o,shouldFetchSnapshot:m(t),componentVersion:a})},addComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSection:o,isCreateGroup:a=!1,syncWithApi:r=!1}=g(e);h.default.dispatcher.dispatch({type:s.default.ADD_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSection:o,isCreateGroup:a,syncWithApi:r})},updateComponentSection(e){const{bid:t,barrelType:n,csids:o,componentSectionData:r,isComponentGroup:l=!1,syncWithApi:c=!1}=g(e);let d;if(c){const e=a.default.getBarrel({bid:t});d=i(e.findComponentSection(o),[])}h.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_SECTION,bid:t,barrelType:n,csids:o,componentSectionData:r,oldComponentSectionData:d,isComponentGroup:l,syncWithApi:c})},mergeComponentSection(e){const{bid:t,barrelType:n,csids:i,tcsids:o,flatten:r,index:l,syncWithApi:c=!1}=g(e);let d,u=o,p=r;if(c){const e=a.default.getBarrel({bid:t});if(d=e.findComponentSection(i),1===i.length)p=!0,u=[e.componentSections[0]._id];else{const t=i.slice(0,i.length-1),n=e.findComponentSection(t),o=n.componentSections.indexOf(d);let s=n.componentSections[o-1];s||(s=n),p="default"===s.name,u=s.idPath}}h.default.dispatcher.dispatch({type:s.default.MERGE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,tcsids:u,flatten:p,index:l,oldComponentSection:d,syncWithApi:c})},removeComponentSection(e){const{bid:t,csids:n}=g(e);h.default.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT_SECTION,bid:t,csids:n})},removeComponentSections(e){const{bid:t,componentSections:n}=g(e);h.default.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT_SECTIONS,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,barrelType:n,componentSections:i,syncWithApi:o=!1}=g(e);h.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_SECTIONS_ORDER,bid:t,barrelType:n,componentSections:i,syncWithApi:o})},updateComponentsOrder(e){const{bid:t,barrelType:n,components:i,syncWithApi:o=!1}=g(e);if(o){const e=a.default.getBarrel({bid:t});i.forEach((t=>{var n;null!==(n=t.to)&&void 0!==n||(t.to=e.findComponentSection(t.tcsid).components.length)}))}h.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENTS_ORDER,bid:t,barrelType:n,components:i,syncWithApi:o})},changeSelectedView(e,t={}){h.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_VIEW,selectedView:e,viewUpdate:t})},updateWorkflowStatus(e){const{barrelType:t,bid:n,workflowStatus:i,syncWithApi:o=!1}=g(e),r=o?a.default.getBarrel({bid:n}).workflowStatus:{};h.default.dispatcher.dispatch({type:s.default.UPDATE_WORKFLOW_STATUS,barrelType:t,bid:n,workflowStatus:i,oldWorkflowStatusData:r,syncWithApi:o})},updateWorkflowStatuses({bids:e,workflowStatus:t,syncWithApi:n=!1}){const i=e.map((e=>{const{barrelType:t,bid:i}=g({bid:e});return{bid:i,barrelType:t,oldWorkflowStatusData:n?a.default.getBarrel({bid:i}).workflowStatus:{}}}));h.default.dispatcher.dispatch({type:s.default.UPDATE_WORKFLOW_STATUSES,statusUpdatedBarrels:i,workflowStatus:t,syncWithApi:n})},deleteWorkflowStatus(e){const{barrelType:t,bid:n,syncWithApi:i=!1}=g(e),o=i?a.default.getBarrel({bid:n}).workflowStatus:{};h.default.dispatcher.dispatch({type:s.default.DELETE_WORKFLOW_STATUS,barrelType:t,bid:n,oldWorkflowStatusData:o,syncWithApi:i})},deleteWorkflowStatuses({bids:e,syncWithApi:t=!1}){const n=e.map((e=>{const{barrelType:n,bid:i}=g({bid:e});return{bid:i,barrelType:n,oldWorkflowStatusData:t?a.default.getBarrel({bid:i}).workflowStatus:{}}}));h.default.dispatcher.dispatch({type:s.default.DELETE_WORKFLOW_STATUSES,statusDeletedBarrels:n,syncWithApi:t})},setAssetExportTarget(e){h.default.dispatcher.dispatch({type:s.default.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName(e){const{bid:t,containerId:n,snapshot:i,assetId:o,name:a,source:r}=g(e);h.default.dispatcher.dispatch({type:s.default.CHANGE_ASSET_NAME,bid:t,containerId:n,snapshot:i,assetId:o,name:a,source:r})},changeAssetDensityScalePref(e,t){const{bid:n}=g();h.default.dispatcher.dispatch({type:s.default.CHANGE_ASSET_DENSITY_SCALE_PREF,bid:n,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){const{bid:t}=g();h.default.dispatcher.dispatch({type:s.default.CHANGE_ASSET_NAMING_CONVENTION,bid:t,assetNamingConvention:e})},toggleSVGOptimization(e){const{bid:t}=g();h.default.dispatcher.dispatch({type:s.default.TOGGLE_SVG_OPTIMIZATION,bid:t,showOptimizedSVG:e})},togglePNGOptimization(e){const{bid:t}=g();h.default.dispatcher.dispatch({type:s.default.TOGGLE_PNG_OPTIMIZATION,bid:t,showOptimizedPNG:e})},toggleJPGOptimization(e){const{bid:t}=g();h.default.dispatcher.dispatch({type:s.default.TOGGLE_JPG_OPTIMIZATION,bid:t,showOptimizedJPG:e})},goToDashboard(){const{selectedView:e}=h.default.BarrelStore.getState();if(e===r.ProjectViewTypes.DASHBOARD)return;const{bid:t}=g(),{tagFilter:n}=h.default.DashboardStore.getState();h.default.dispatcher.dispatch({type:s.default.GO_TO_DASHBOARD,bid:t,tagFilter:n})},goToStyleguide(){const{selectedView:e}=h.default.BarrelStore.getState();if(e===r.ProjectViewTypes.STYLEGUIDE)return;const{bid:t}=g();h.default.dispatcher.dispatch({type:s.default.GO_TO_STYLEGUIDE,bid:t})},changeExportTarget(){h.default.dispatcher.dispatch({type:s.default.CHANGE_EXPORT_TARGET})},openExportTarget(){h.default.dispatcher.dispatch({type:s.default.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,assets:t,assetId:n,format:i,toastContainer:o,source:r}){const{barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,showOptimizedPNG:p,showOptimizedJPG:f}=h.default.BarrelStore.getState(),{type:g}=a.default.getBarrel({bid:l});h.default.dispatcher.dispatch({type:s.default.DOWNLOAD_ASSET,barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,showOptimizedPNG:p,showOptimizedJPG:f,platform:g,containerName:e,assets:t,assetId:n,format:i,toastContainer:o,source:r})},downloadMultipleAsset({containerName:e,assets:t,assetList:n,toastContainer:i,source:o}){const{barrelId:r,assetDensityScalePrefs:l,assetNamingConvention:c,showOptimizedSVG:d,showOptimizedPNG:u,showOptimizedJPG:p}=h.default.BarrelStore.getState(),{type:f}=a.default.getBarrel({bid:r});h.default.dispatcher.dispatch({type:s.default.DOWNLOAD_MULTIPLE_ASSET,barrelId:r,assetDensityScalePrefs:l,assetNamingConvention:c,showOptimizedSVG:d,showOptimizedPNG:u,showOptimizedJPG:p,platform:f,containerName:e,assets:t,assetList:n,toastContainer:i,source:o})},exportCode(e){const{bid:t,resourceType:n,source:i,exportObjects:o,extensionId:r}=g(e),{name:l,type:c}=a.default.getBarrel({bid:t});h.default.dispatcher.dispatch({type:s.default.EXPORT_CODE,barrelName:l,platform:c,resourceType:n,source:i,exportObjects:o,extensionId:r})},copyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:o}){h.default.dispatcher.dispatch({type:s.default.COPY_CODE,code:e,toastContainer:t,platform:n,extensionId:i,source:o})},hideNoVectorAssetInfo(){h.default.dispatcher.dispatch({type:s.default.HIDE_NO_VECTOR_ASSET_INFO})},hideDensityMismatchWarning(){h.default.dispatcher.dispatch({type:s.default.HIDE_DENSITY_MISMATCH_WARNING})},hideSourceFileInfo(){h.default.dispatcher.dispatch({type:s.default.HIDE_SOURCE_FILE_INFO})},dismissFlowLinkInfo(){h.default.dispatcher.dispatch({type:s.default.DISMISS_FLOW_LINK_INFO})},dismissNoResourceInfo(){const{bid:e}=g();h.default.dispatcher.dispatch({type:s.default.DISMISS_NO_RESOURCE_INFO,bid:e})},hideSlackReconnectionAuntie(){const{bid:e}=g();h.default.dispatcher.dispatch({type:s.default.HIDE_SLACK_RECONNECTION_AUNTIE,bid:e})},openJumpToPopup(){h.default.dispatcher.dispatch({type:s.default.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){h.default.dispatcher.dispatch({type:s.default.CLOSE_JUMP_TO_POPUP})},copyComponentSectionWebLink(e){const{bid:t,barrelType:n,seid:i}=g(e);h.default.dispatcher.dispatch({type:s.default.COPY_COMPONENT_SECTION_WEB_LINK,bid:t,barrelType:n,seid:i})},copyComponentSectionAppURI(e){const{bid:t,barrelType:n,cseid:i}=g(e);h.default.dispatcher.dispatch({type:s.default.COPY_COMPONENT_SECTION_APP_URI,bid:t,barrelType:n,cseid:i})},fetchComponentSectionShortLink(e){const{bid:t,barrelType:n,seid:i}=g(e);h.default.dispatcher.dispatch({type:s.default.FETCH_COMPONENT_SECTION_SHORT_LINK,bid:t,barrelType:n,seid:i})},join(e){const{bid:t,barrelType:n,actionSource:i,mixpanelSource:o}=g(e);h.default.dispatcher.dispatch({type:s.default.JOIN,bid:t,barrelType:n,actionSource:i,mixpanelSource:o,syncWithApi:!0})},stopLoadingJoin(){h.default.dispatcher.dispatch({type:s.default.STOP_JOIN_LOADING})},enableDevMode(){const{bid:e,barrelType:t}=g(),{styleguideLink:n,ancestors:i}=a.default.getBarrel({bid:e});h.default.dispatcher.dispatch({type:s.default.ENABLE_DEV_MODE,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},disableDevMode(){h.default.dispatcher.dispatch({type:s.default.DISABLE_DEV_MODE})},reloadLocalConnectedComponents(){const{bid:e,barrelType:t}=g(),{styleguideLink:n,ancestors:i}=a.default.getBarrel({bid:e});h.default.dispatcher.dispatch({type:s.default.RELOAD_LOCAL_CONNECTED_COMPONENTS,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},setLocalConnectedComponents(e){const{bid:t,localConnectedComponents:n}=g(e);h.default.dispatcher.dispatch({type:s.default.SET_LOCAL_CONNECTED_COMPONENTS,bid:t,localConnectedComponents:n})},setConnectedComponentsLocalWorkspace(e){const{bid:t,workspace:n}=g(e);h.default.dispatcher.dispatch({type:s.default.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE,bid:t,workspace:n})},getConnectedComponentsEditorInfo(){const{bid:e}=g();h.default.dispatcher.dispatch({type:s.default.GET_CONNECTED_COMPONENTS_EDITOR_INFO,bid:e})},setConnectedComponentsEditorInfo(e){h.default.dispatcher.dispatch({type:s.default.SET_CONNECTED_COMPONENTS_EDITOR_INFO,editorInfo:e})},setConnectedComponentsEditorPreference(e,t){h.default.dispatcher.dispatch({type:s.default.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE,extension:e,editor:t})},setConnectedComponentsWorkspacePath(e){h.default.dispatcher.dispatch({type:s.default.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH,workspacePath:e})},selectConnectedComponentsWorkspaceFolder(){const{bid:e}=g();h.default.dispatcher.dispatch({type:s.default.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER,bid:e})},openComponentFileInEditor(e,t){const{bid:n}=g();h.default.dispatcher.dispatch({type:s.default.OPEN_COMPONENT_FILE_IN_EDITOR,bid:n,filePath:e,editor:t})},moveResourcesRequest(e){const{bid:t,barrelType:n,resourceType:i,resources:o,targetStyleguideId:r}=g(e);let l;a.default.getBarrel({bid:r}).densityScale||({densityScale:l}=a.default.getBarrel({bid:t})),h.default.dispatcher.dispatch({type:s.default.MOVE_RESOURCES_REQUEST,bid:t,barrelType:n,densityScale:l,targetStyleguideId:r,resourceType:i,resources:o,syncWithApi:!0})},moveResourcesSuccess(e){const{bid:t,barrelType:n,resourceType:i,resources:o,targetStyleguideId:a}=g(e);h.default.dispatcher.dispatch({type:s.default.MOVE_RESOURCES_SUCCESS,bid:t,barrelType:n,resourceType:i,resources:o,targetStyleguideId:a})},moveResourcesFail(){h.default.dispatcher.dispatch({type:s.default.MOVE_RESOURCES_FAIL})},attachJiraIssue(e){const{bid:t,jira:n}=g(e);h.default.dispatcher.dispatch({type:s.default.ATTACH_JIRA_ISSUE,bid:t,jira:n})},removeJiraIssueAttachment(e){const{bid:t,aid:n}=g(e);h.default.dispatcher.dispatch({type:s.default.REMOVE_JIRA_ISSUE_ATTACHMENT,bid:t,aid:n})},updateConnectedComponents(e){const{bid:t,connectedComponents:n}=g(e);h.default.dispatcher.dispatch({type:s.default.UPDATE_CONNECTED_COMPONENTS,bid:t,connectedComponents:n})},highlightedConnectToCodeButtonViewed(){h.default.dispatcher.dispatch({type:s.default.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED})},markConnectedComponentsOnboardingDialogAsSeen(){h.default.dispatcher.dispatch({type:s.default.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN})}};t.default=b},function(e,t,n){"use strict";n.r(t),n.d(t,"generateTrees",(function(){return r})),n.d(t,"generateNodes",(function(){return l})),n.d(t,"getSelectableParentStyleguides",(function(){return a})),n.d(t,"getStyleguideAndItsDescendants",(function(){return c}));var i=n(610),o=n(704),s=n(705);function a({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:o,parentId:s,users:a}){return t.filter((t=>{let r;if(e)r=i.permissions.canUpdateStyleguide(n);else{const e=t.users.find((e=>"owner"===e.role)),n=a.find((e=>"owner"===e.role));r=e&&n&&e.user._id===n.user._id}return r&&t._id!==o&&t._id!==s&&"active"===t.status&&!(t.ancestors||[]).includes(o)}))}function r(e){const t={};return e.forEach(((e,n)=>{const i=new o.default(e,n);t[i.id]=i})),e.forEach((e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}})),Object.keys(t).filter((e=>t[e].isRoot())).map((e=>new s.default(t[e])))}function l(e){return e.map((e=>new o.default(e)))}function c(e,t){return Object.values(e).filter((e=>e._id===t||e.ancestors.includes(t))).map((e=>e._id))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(706);function o(e,t=1,n={}){return e.children.length>0&&(n[t]=(n[t]||[]).concat(e.children),e.children.forEach((e=>{o(e,t+1,n)}))),Object.keys(n).map((e=>new i.default(Number(e),n[e])))}class s{constructor(e){this.root=e,this.levels=o(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce(((e,t)=>e+t.nodes.length),0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(650)),s=i(n(570)),a=i(n(708)),r=n(631),l=i(n(567)),c=i(n(685)),d=n(586),u=["CreateDot","CreateDot-Mention","CreateDotComment-Mention","CreateDotComment","ResolveDot"],h=["CreateScreen","CreateScreenVersion","DeleteScreen"],p=["CreateProjectComponent","CreateStyleguideComponent","CreateProjectComponentVersion","CreateStyleguideComponentVersion","CreateProjectColor","CreateStyleguideColor","CreateProjectTextStyle","CreateStyleguideTextStyle","DeleteProjectColor","DeleteStyleguideColor","DeleteProjectComponent","DeleteStyleguideComponent","DeleteProjectTextStyle","DeleteStyleguideTextStyle","UpdateProjectColor","UpdateStyleguideColor","UpdateProjectTextStyle","UpdateStyleguideTextStyle","CreateProjectSpacingToken","CreateStyleguideSpacingToken","UpdateProjectSpacingToken","UpdateStyleguideSpacingToken","DeleteProjectSpacingToken","DeleteStyleguideSpacingToken"],f=[...u,...h,...p],g=["CreateDot-Mention","CreateDotComment-Mention"];function m(e){return Object.values(a.default).includes(e)}function b({actionName:e}){return g.includes(e)}function S(e,t,n,i,{mutedProjects:o,mutedStyleguides:s}){const a=b(e);return y(e,(({organization:e,project:r,styleguide:l})=>{const c=null==r?void 0:r._id,d=null==l?void 0:l._id,u=(null==e?void 0:e._id)===t,h=!!c&&n.includes(c),p=!!c&&o.includes(c),f=!!d&&i.includes(d),g=!!d&&s.includes(d);return!(!a&&(p||g))&&(u||h||f)}))}function y(e,t){const n=e.events.filter(t);return n.length?Object.assign(Object.assign({},e),{events:n}):null}function v({events:e},t){return e.some((({project:e})=>(null==e?void 0:e._id)===t))}function O({actionName:e},t){return t===s.default.All||(t===s.default.Note?u.includes(e):t===s.default.Screen?h.includes(e):t===s.default.Styleguide?p.includes(e):t===s.default.Other?!f.includes(e):void 0)}function C(e){return e.every((({markedAsRead:e})=>e))}t.default={isTypeValid:m,getDotStatesRequirement:function(e,t){const n=e.filter((e=>O(e,s.default.Note)&&t.some((({id:t})=>v(e,t))))),{errorDotIds:i,loadingDotIds:o,dots:a}=l.default.DotStatesStore.getState();let r,c=!0;for(const{events:s}of n)for(const{dot:e,project:t,screen:n}of s){const s=null==t?void 0:t._id,l=null==n?void 0:n._id,d=null==e?void 0:e._id,u=d?a[d]:void 0,h=!!d&&i.includes(d),p=!!d&&o.includes(d);if(p&&(c=!1),s&&l&&d&&!u&&!h&&!p){null!=r||(r={projects:[]});let e=r.projects.find((({id:e})=>e===s));e||(e={id:s,screens:[]},r.projects.push(e));let t=e.screens.find((({id:e})=>e===l));t||(t={id:l,dots:[]},e.screens.push(t)),t.dots.includes(d)||t.dots.push(d)}}return{dotStatesToLoad:r,dotStatesReady:c}},updatedDotStates:function(e){const{dots:t}=l.default.DotStatesStore.getState();return e.map((e=>Object.assign(Object.assign({},e),{events:e.events.map((e=>Object.assign(Object.assign({},e),{dot:e.dot?Object.assign(Object.assign({},e.dot),t[e.dot._id]):void 0})))})))},hasMention:b,filterEventsByNoteStatus:function(e,t){switch(t){case o.default.Open:return y(e,(({dot:e})=>"open"===(null==e?void 0:e.status)));case o.default.Resolved:return y(e,(({dot:e})=>"resolved"===(null==e?void 0:e.status)));case o.default.Mentioned:return b(e)?e:null;default:throw Error("Invalid statusFilter type")}},filterEventsByDotColor:function(e,t){return y(e,(({dot:e})=>!!e&&r.getColorName(e.color)===t))},filterEventsByUser:function(e,t){return y(e,(({source:e})=>(null==e?void 0:e._id)===t))},filterEventsByProject:function(e,t){return y(e,(({project:e})=>(null==e?void 0:e._id)===t))},filterEventsByStyleguide:function(e,t){return y(e,(({styleguide:e})=>(null==e?void 0:e._id)===t))},filterEventsByMutedStatus:S,getRelatedProjects:function({events:e}){return e.filter((({project:e})=>e)).map((({project:e})=>e._id))},getRelatedStyleguides:function({events:e}){return e.filter((({styleguide:e})=>e)).map((({styleguide:e})=>e._id))},isRelatedToProject:v,isRelatedToStyleguide:function({events:e},t){return e.some((({styleguide:e})=>(null==e?void 0:e._id)===t))},isInCategory:O,getCategory:function({actionName:e}){return u.includes(e)?s.default.Note:h.includes(e)?s.default.Screen:p.includes(e)?s.default.Styleguide:s.default.Other},trackEventWithFilterDetails:function(e,t={}){const{category:n,sectionId:i,noteStatusFilter:o,memberId:a,color:r}=l.default.ActivitiesViewStore.getState(),c={[s.default.All]:"All",[s.default.Note]:"Notes",[s.default.Screen]:"Screens",[s.default.Styleguide]:"Styleguide",[s.default.Other]:"Others"},d=[...o||r?["Note Type"]:[],...a?["User"]:[],...i?["Section"]:[]];mixpanel.master.track(e,Object.assign(Object.assign({},t),{"Selected Category":c[n],Filters:d.length?d:void 0}))},isActivityRead:function(e){return C(e.events)},areEventsRead:C,hasAnyUnread:function(e){const{userId:t,notificationSettings:n}=l.default.UserStore.getState(),{loading:i,notifications:o}=l.default.NotificationsStore.getState();if(!e||i)return null;const s=(c.default.getOrganizationProjects(e)||[]).filter((e=>e.users.some((({user:e})=>e._id===t))&&"archived"!==e.status)),a=(c.default.getOrganizationStyleguides(e)||[]).filter((({status:e,users:n})=>"archived"!==e&&n.some((({user:e})=>e._id===t))));return o.map((t=>S(t,e,s.map((({_id:e})=>e)),a.map((({_id:e})=>e)),n))).filter(d.exists).some((({events:e,actionName:t})=>!C(e)&&m(t)))}}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AddProjectExtension="AddProjectExtension",e.AddStyleguideExtension="AddStyleguideExtension",e.ActivateProject="ActivateProject",e.ActivateStyleguide="ActivateStyleguide",e.ArchiveProject="ArchiveProject",e.ArchiveStyleguide="ArchiveStyleguide",e.AuthProjectSlack="AuthProjectSlack",e.AuthStyleguideSlack="AuthStyleguideSlack",e.CreateProjectComponent="CreateProjectComponent",e.CreateStyleguideComponent="CreateStyleguideComponent",e.CreateProjectComponentVersion="CreateProjectComponentVersion",e.CreateStyleguideComponentVersion="CreateStyleguideComponentVersion",e.CreateProjectColor="CreateProjectColor",e.CreateStyleguideColor="CreateStyleguideColor",e.CreateDot="CreateDot",e.CreateDotMention="CreateDot-Mention",e.CreateDotCommentMention="CreateDotComment-Mention",e.CreateDotComment="CreateDotComment",e.CreateScreen="CreateScreen",e.CreateScreenVersion="CreateScreenVersion",e.CreateProjectTextStyle="CreateProjectTextStyle",e.CreateStyleguideTextStyle="CreateStyleguideTextStyle",e.DeleteProjectColor="DeleteProjectColor",e.DeleteStyleguideColor="DeleteStyleguideColor",e.DeleteProjectComponent="DeleteProjectComponent",e.DeleteStyleguideComponent="DeleteStyleguideComponent",e.DeleteScreen="DeleteScreen",e.DeleteProject="DeleteProject",e.DeleteStyleguide="DeleteStyleguide",e.DeleteProjectTextStyle="DeleteProjectTextStyle",e.DeleteStyleguideTextStyle="DeleteStyleguideTextStyle",e.RemoveExtensionFromProject="RemoveExtensionFromProject",e.RemoveExtensionFromStyleguide="RemoveExtensionFromStyleguide",e.ResolveDot="ResolveDot",e.UpdateOrganizationMemberRole="UpdateOrganizationMemberRole",e.UpdateProjectColor="UpdateProjectColor",e.UpdateStyleguideColor="UpdateStyleguideColor",e.UpdateProjectUserRole="UpdateProjectUserRole",e.UpdateStyleguideUserRole="UpdateStyleguideUserRole",e.UpdateProjectTextStyle="UpdateProjectTextStyle",e.UpdateStyleguideTextStyle="UpdateStyleguideTextStyle",e.UserJoined="UserJoined",e.ProjectUserJoined="ProjectUserJoined",e.StyleguideUserJoined="StyleguideUserJoined",e.RemoveUserFromProject="RemoveUserFromProject",e.RemoveUserFromStyleguide="RemoveUserFromStyleguide",e.InviteMember="InviteMember",e.InviteProjectUser="InviteProjectUser",e.InviteStyleguideUser="InviteStyleguideUser",e.TransferProjectOwnership="TransferProjectOwnership",e.TransferStyleguideOwnership="TransferStyleguideOwnership",e.CreateProjectSpacingToken="CreateProjectSpacingToken",e.CreateStyleguideSpacingToken="CreateStyleguideSpacingToken",e.UpdateProjectSpacingToken="UpdateProjectSpacingToken",e.UpdateStyleguideSpacingToken="UpdateStyleguideSpacingToken",e.DeleteProjectSpacingToken="DeleteProjectSpacingToken",e.DeleteStyleguideSpacingToken="DeleteStyleguideSpacingToken",e.AttachProjectToJiraIssue="AttachProjectToJiraIssue",e.AttachSectionToJiraIssue="AttachSectionToJiraIssue",e.AttachScreenToJiraIssue="AttachScreenToJiraIssue",e.RemoveProjectJiraIssueAttachment="RemoveProjectJiraIssueAttachment",e.RemoveSectionJiraIssueAttachment="RemoveSectionJiraIssueAttachment",e.RemoveScreenJiraIssueAttachment="RemoveScreenJiraIssueAttachment"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(620)),a={updatePageState(e){o.default.dispatcher.dispatch({type:s.default.UPDATE_PAGE_STATE,updateState:e})},changeSelectedTab(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_TAB,tab:e})},changeSelectedOrganization(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_ORGANIZATION,oid:e})},changeFilterValue(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_FILTER_VALUE,filterValue:e})},changeWorkflowStatusFilter({workflowStatus:e}){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.CHANGE_WORKFLOW_STATUS_FILTER,oid:t,workflowStatusFilter:e._id,workflowStatus:e})},changeProjectSelectedSortType(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.CHANGE_PROJECT_SELECTED_SORT_TYPE,oid:t,sortType:e})},toggleArchivedProjects(){o.default.dispatcher.dispatch({type:s.default.TOGGLE_ARCHIVED_PROJECTS})},unhighlightBarrel(e){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_BARREL,bid:e})},highlightSection(e){o.default.dispatcher.dispatch({type:s.default.HIGHLIGHT_SECTION,oseid:e})},unhighlightSection(){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_SECTION})},expandSections(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.EXPAND_SECTIONS,oid:t,oseids:e})},collapseSections(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.COLLAPSE_SECTIONS,oid:t,oseids:e})},setStyleguidesTabVisited(){o.default.dispatcher.dispatch({type:s.default.SET_STYLEGUIDES_TAB_VISITED})},openDialog(e,t={}){o.default.dispatcher.dispatch({type:s.default.OPEN_DIALOG,dialogType:e,dialogParams:t})},closeDialog(){const{visibleDialogType:e,visibleDialogParams:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.CLOSE_DIALOG,dialogType:e,dialogParams:t})},hideLoading(){o.default.dispatcher.dispatch({type:s.default.HIDE_LOADING})},trackBarrelClick({isFromPinArea:e}){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.TRACK_BARREL_CLICK,oid:t,isFromPinArea:e})},toggleProjectSelection(e){o.default.dispatcher.dispatch({type:s.default.TOGGLE_PROJECT_SELECTION,pid:e})},clearProjectSelection(){o.default.dispatcher.dispatch({type:s.default.CLEAR_PROJECT_SELECTION})},selectProjects(e){o.default.dispatcher.dispatch({type:s.default.SELECT_PROJECTS,projectIds:e})},deselectProjects(e){o.default.dispatcher.dispatch({type:s.default.DESELECT_PROJECTS,projectIds:e})},postponeOfferReminder(e){o.default.dispatcher.dispatch({type:s.default.POSTPONE_OFFER_REMINDER,nextDate:e})},scrolledToProject(){o.default.dispatcher.dispatch({type:s.default.SCROLLED_TO_PROJECT})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(576)),a=o(n(691)),r=o(n(711)),l=o(n(650)),c=n(712),d=n(631),u=n(610),h=n(583),p=o(n(684)),f=o(n(567));function g(e={}){var t,n,i,o;const s=null!==(t=e.pid)&&void 0!==t?t:f.default.BarrelStore.getState().barrelId,a=null!==(n=e.sid)&&void 0!==n?n:f.default.ScreenStore.getState().screenId,r=null!==(i=e.vid)&&void 0!==i?i:f.default.ScreenStore.getState().versionId,l=null!==(o=e.did)&&void 0!==o?o:f.default.DotsStore.getState().dotId;let c;if(e.svid&&!e.vgid){const t=p.default.getVariantGroupOfScreen(e.svid);t&&(c=t._id)}return Object.assign(Object.assign({},e),{pid:s,sid:a,vid:r,did:l,vgid:c})}const m={getVersionsLastSeenForCurrentScreen(){var e;const{screenId:t}=f.default.ScreenStore.getState();if(!t)return{};const{screenVersionsLastSeen:n}=f.default.BarrelStore.getState();return{sid:t,date:null!==(e=null==n?void 0:n[t])&&void 0!==e?e:new Date}},setVersionsLastSeenForCurrentScreen(){const{screenId:e}=f.default.ScreenStore.getState();return e?{sid:e,date:new Date}:{}},openScreen(e,t,n,i){var o,r,l;const c=a.default.getScreen({sid:e}),{barrelId:d}=f.default.BarrelStore.getState(),u={type:s.default.OPEN_SCREEN,barrelId:d,screenId:e,dotId:n,commentId:i};if(c){const{versions:[n]}=c;let i,s;t?(i=a.default.getVersion({sid:e,vid:t}),s=t,Object.assign(u,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})):(i=n,s=i._id);const d=n._id===s,{visibleScreens:h}=null!==(o=a.default.getFilteredScreens())&&void 0!==o?o:{};if(!h)return;const p=!h.some((t=>t._id===e));Object.assign(u,{versionId:s,latestVersionSelected:d,loadingSnapshot:!i||!("layers"in i.snapshot),processingSnapshotTiles:"processing"===(null===(l=null===(r=null==i?void 0:i.snapshot)||void 0===r?void 0:r.tileInfo)||void 0===l?void 0:l.status),loadingVersions:!c.totalVersionCount,shouldResetDashboardFilters:p})}f.default.dispatcher.dispatch(Object.assign(Object.assign({},u),{screenVersionsLastSeen:m.getVersionsLastSeenForCurrentScreen()}))},selectLayer(e){const t=p.default.getStyleguidesData({barrelStore:f.default.BarrelStore,styleguidesDataStore:f.default.StyleguidesDataStore,projectsDataStore:f.default.ProjectsDataStore}),n=Boolean(c.findComponentLayer(e,t)),{numberOfLayerComponentViews:i}=f.default.ScreenStore.getState(),o=n&&i<c.LAYER_COMPONENT_VIEW_LIMIT;f.default.dispatcher.dispatch({type:s.default.SELECT_LAYER,layer:e,numberOfLayerComponentViews:i,shouldIncrementNumberOfLayerComponentViews:o})},deselectLayer(){f.default.dispatcher.dispatch({type:s.default.DESELECT_LAYER})},enterLayer(e){f.default.dispatcher.dispatch({type:s.default.ENTER_LAYER,layer:e})},leaveLayer(){f.default.dispatcher.dispatch({type:s.default.LEAVE_LAYER})},enablePercentageMode(){f.default.dispatcher.dispatch({type:s.default.ENABLE_PERCENTAGE_MODE})},disablePercentageMode(){f.default.dispatcher.dispatch({type:s.default.DISABLE_PERCENTAGE_MODE})},addScreen(e){const{pid:t,seid:n,index:i,screen:o,syncWithApi:a=!1}=g(e);f.default.dispatcher.dispatch({type:s.default.ADD_SCREEN,pid:t,seid:n,index:i,screen:o,syncWithApi:a})},addScreenTiles(e){const{pid:t,sid:n,vid:i,tileInfo:o,syncWithApi:a=!1}=g(e);f.default.dispatcher.dispatch({type:s.default.ADD_SCREEN_TILES,pid:t,sid:n,vid:i,tileInfo:o,syncWithApi:a})},updateDescription(e){const{pid:t,sid:n,description:i,syncWithApi:o=!1}=g(e);let r;o&&({description:r}=a.default.getScreen({sid:n})),f.default.dispatcher.dispatch({type:s.default.UPDATE_DESCRIPTION,pid:t,sid:n,description:i,oldDescription:r,syncWithApi:o})},updateName(e){const{pid:t,sid:n,name:i,onError:o,syncWithApi:r=!1}=g(e);let l;r&&({name:l}=a.default.getScreen({sid:n})),f.default.dispatcher.dispatch({type:s.default.UPDATE_NAME,pid:t,sid:n,name:i,oldName:l,onError:o,syncWithApi:r})},removeScreen(e){const{pid:t,uid:n,sid:i,vgid:o=null,syncWithApi:r=!1}=g(Object.assign(Object.assign({},e),{svid:e.sid})),{screenId:l}=f.default.ScreenStore.getState(),c=i===l;let d,u,h,m;if((r||c)&&(d=a.default.getScreen({pid:t,sid:i})),c&&o){const{variantGroups:e}=p.default.getBarrel({bid:t}),{screens:n}=e.find((({_id:e})=>e===o)),s=n[0].id===i?n[1].id:n[0].id;a.default.navigateToScreen(s)}if(r){const e=a.default.getSectionOfScreen({pid:t,sid:i});u=e._id,h=e.screens.indexOf(i)}if(n){m=p.default.getBarrel({bid:t}).findUser(n)}f.default.dispatcher.dispatch({type:s.default.REMOVE_SCREEN,pid:t,seid:u,index:h,sid:i,vgid:o,removedScreen:d,removingCurrentScreen:c,user:m,syncWithApi:r})},openTagManager(e){f.default.dispatcher.dispatch({type:s.default.OPEN_TAG_MANAGER,sids:e})},closeTagManager(){f.default.dispatcher.dispatch({type:s.default.CLOSE_TAG_MANAGER})},updateTags(e){const{pid:t,updates:n,isScreen:i=!1,syncWithApi:o=!1}=g(e);f.default.dispatcher.dispatch({type:s.default.UPDATE_TAGS,pid:t,updates:n,isScreen:i,syncWithApi:o})},removeTag(e){const{pid:t,tag:n,syncWithApi:i=!1}=g(e),{screens:o}=p.default.getBarrel({bid:t}),s=o.filter((({tags:e})=>null==e?void 0:e.includes(n))).map((({_id:e})=>({_id:e,operation:"remove",tags:[n]})));this.updateTags({pid:t,updates:s,syncWithApi:i})},openSourceFile(e){f.default.dispatcher.dispatch({type:s.default.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){f.default.dispatcher.dispatch({type:s.default.OPEN_SOURCE_FOLDER,path:e})},setDots(e){const{pid:t,sid:n,dots:i}=g(e);i.forEach((e=>{var t;null!==(t=e.status)&&void 0!==t||(e.status=r.default.OPEN)}));let{statusFilter:o,colorFilter:a,dotId:c,highlightedDots:d}=f.default.DotsStore.getState();if(c){const e=i.find((({_id:e})=>e===c));e?[o,a]=[e.status,null]:c=null}else if(d.length>1){const e=i.some((e=>e.status===l.default.Open&&d.includes(e._id)));e&&o!==l.default.Open?[o,a]=[l.default.Open,null]:e||o===l.default.Resolved||([o,a]=[l.default.Resolved,null])}f.default.dispatcher.dispatch({type:s.default.SET_DOTS,pid:t,sid:n,dots:i,dotId:c,colorFilter:a,statusFilter:o})},selectDot({dotId:e,commentId:t,source:n}){const{dotId:i}=f.default.DotsStore.getState();i!==e&&f.default.dispatcher.dispatch({type:s.default.SELECT_DOT,dotId:e,commentId:t,source:n})},saveNote({sid:e,did:t,note:n}){f.default.dispatcher.dispatch({type:s.default.SAVE_NOTE,sid:e,did:t,note:n})},unhighlightComment(e){f.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_COMMENT,cmid:e})},closeDotPopup(){f.default.dispatcher.dispatch({type:s.default.CLOSE_DOT_POPUP})},changeDotFilter(e,t){let{dotId:n}=f.default.DotsStore.getState();if(n){const i=a.default.getDot({did:n}),o=p.default.findUser();d.checkFilter(i,e,t,o.user)||(n=null)}f.default.dispatcher.dispatch({type:s.default.CHANGE_DOT_FILTER,dotId:n,status:e,color:t})},dotsFlashed(){f.default.dispatcher.dispatch({type:s.default.DOTS_FLASHED})},openPopout(e){const{pid:t,sid:n,vid:i}=g(e),{name:o}=a.default.getScreen({pid:t,sid:n}),{snapshot:{width:r,height:l,url:c}}=a.default.getVersion({pid:t,sid:n,vid:i});f.default.dispatcher.dispatch({type:s.default.OPEN_POPOUT,pid:t,name:o,width:r,height:l,url:c})},changeZoomLevel(e,t){f.default.dispatcher.dispatch({type:s.default.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){f.default.dispatcher.dispatch({type:s.default.ZOOM_IN})},zoomOut(){f.default.dispatcher.dispatch({type:s.default.ZOOM_OUT})},resetZoom(){f.default.dispatcher.dispatch({type:s.default.RESET_ZOOM})},zoomApplied(){f.default.dispatcher.dispatch({type:s.default.ZOOM_APPLIED})},startGesture(){f.default.dispatcher.dispatch({type:s.default.START_GESTURE})},zoomWithGesture(e){f.default.dispatcher.dispatch({type:s.default.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){f.default.dispatcher.dispatch({type:s.default.ZOOM_WITH_WHEEL,deltaY:e})},changeScrollPosition(e,t){f.default.dispatcher.dispatch({type:s.default.CHANGE_SCROLL_POSITION,scrollTop:e,scrollLeft:t})},toggleLayoutGrid(){f.default.dispatcher.dispatch({type:s.default.TOGGLE_LAYOUT_GRID})},enableNoteMode({flash:e=!0}={}){f.default.dispatcher.dispatch({type:s.default.ENABLE_NOTE_MODE,flash:e})},disableNoteMode(){f.default.dispatcher.dispatch({type:s.default.DISABLE_NOTE_MODE})},createNote(e){const{pid:t,sid:n,x:i,y:o}=g(e),{dots:l}=a.default.getScreen(),{lastNoteColorUsed:c}=f.default.DotsStore.getState(),u={_id:`newDot${h.getRandomString()}`,name:(null==l?void 0:l.length)?String(parseInt(l[l.length-1].name,10)+1):"1",x:i,y:o,color:d.getColorValueByName(c),status:r.default.OPEN,comments:[]};f.default.dispatcher.dispatch({type:s.default.CREATE_NOTE,pid:t,sid:n,dot:u})},addDot(e){const{pid:t,sid:n,uid:i,dot:o,syncWithApi:a=!1}=g(e);let r,l;i&&({userId:r,username:l}=f.default.UserStore.getState());let c=!1,h=!1;if(a){const e=p.default.getBarrel({bid:t}),[{note:n}]=o.comments;c=u.isThereAnyMentionedUser(e.users,n),h=d.hasImage(n)}f.default.dispatcher.dispatch({type:s.default.ADD_DOT,pid:t,sid:n,uid:i,userId:r,username:l,dot:o,hasMention:c,hasImage:h,syncWithApi:a})},updateDot(e){var t,n;const{pid:o,sid:r,did:l,dotData:c,syncWithApi:d=!1}=g(e);let u;if(d){let e;t=null!==(n=a.default.getDot({pid:o,sid:r,did:l}))&&void 0!==n?n:{},({_id:e}=t),u=i(t,["_id"])}f.default.dispatcher.dispatch({type:s.default.UPDATE_DOT,pid:o,sid:r,did:l,dotData:c,oldDotData:u,syncWithApi:d})},updateDotColor(e){const{pid:t,sid:n,did:o,color:r,syncWithApi:l=!1}=g(e);let c;if(l){const e=a.default.getDot({pid:t,sid:n,did:o});c=i(e.color,[])}f.default.dispatcher.dispatch({type:s.default.UPDATE_DOT_COLOR,pid:t,sid:n,did:o,color:r,oldColor:c,colorName:d.getColorName(r),syncWithApi:l})},updateDotPosition(e){var t;const{pid:n,sid:i,did:o,x:r,y:l,syncWithApi:c=!1}=g(e);let d,u;c&&({x:d,y:u}=null!==(t=a.default.getDot({pid:n,sid:i,did:o}))&&void 0!==t?t:{}),f.default.dispatcher.dispatch({type:s.default.UPDATE_DOT_POSITION,pid:n,sid:i,did:o,x:r,y:l,oldX:d,oldY:u,syncWithApi:c})},updateDotStatus(e){var t;const{pid:n,sid:i,did:o,status:r,statusFilter:l,syncWithApi:c=!1,source:d="Screen"}=g(e);let u;c&&({status:u}=null!==(t=a.default.getDot({pid:n,sid:i,did:o}))&&void 0!==t?t:{}),f.default.dispatcher.dispatch({type:s.default.UPDATE_DOT_STATUS,pid:n,sid:i,did:o,status:r,oldStatus:u,statusFilter:l,syncWithApi:c,source:d})},removeDot(e){const{pid:t,sid:n,did:i,note:o,syncWithApi:r=!1}=g(e);let l;r&&(l=a.default.getDot({pid:t,sid:n,did:i})),f.default.dispatcher.dispatch({type:s.default.REMOVE_DOT,pid:t,sid:n,did:i,note:o,removedDot:l,syncWithApi:r})},createComment(e){const{pid:t,sid:n,did:i,note:o,hasReaction:r,syncWithApi:l=!1,source:c="Screen"}=g(e),m=`newComment${h.getRandomString()}`,{user:{_id:b,email:S,username:y,emotar:v,avatar:O}}=p.default.findUser({bid:t}),C=Date.now(),E={_id:m,author:{_id:b,email:S,username:y,emotar:v,avatar:O},note:o,created:C,updated:C};let T,_=!1,P=!1;if(l){const e=p.default.getBarrel({bid:t}),{comments:s}=a.default.getDot({pid:t,sid:n,did:i}),r=s.map((({author:e})=>e._id)).lastIndexOf(Zeplin.user._id)+1,l=s.slice(r);_=u.isThereAnyMentionedUser(e.users,o),T=l.some((e=>e.author._id!==Zeplin.user._id&&e.note.includes(`@${Zeplin.user.username}`))),P=d.hasImage(o)}f.default.dispatcher.dispatch({type:s.default.CREATE_COMMENT,pid:t,sid:n,did:i,comment:E,hasReaction:r,toMention:T,hasMention:_,hasImage:P,syncWithApi:l,source:c})},addComment(e){const{pid:t,sid:n,uid:i,did:o,comment:a}=g(e);let r,l;i&&({userId:r,username:l}=f.default.UserStore.getState()),f.default.dispatcher.dispatch({type:s.default.ADD_COMMENT,pid:t,sid:n,uid:i,userId:r,username:l,did:o,comment:a})},updateComment(e){var t,n,o;const{pid:r,sid:l,uid:c,did:d,cmid:u,commentData:h,syncWithApi:m=!1}=g(e);let b,S,y,v;if(m){let e;t=null!==(n=a.default.getComment({pid:r,sid:l,did:d,cmid:u}))&&void 0!==n?n:{},({_id:e}=t),b=i(t,["_id"])}c&&(({userId:S,username:y}=f.default.UserStore.getState()),({user:v}=null!==(o=p.default.findUser({bid:r,uid:c}))&&void 0!==o?o:{})),f.default.dispatcher.dispatch({type:s.default.UPDATE_COMMENT,pid:r,sid:l,uid:c,author:v,userId:S,username:y,did:d,cmid:u,commentData:h,oldCommentData:b,syncWithApi:m})},removeComment(e){const{pid:t,sid:n,did:i,cmid:o,syncWithApi:r=!1}=g(e);let l;r&&(l=a.default.getComment({pid:t,sid:n,did:i,cmid:o})),f.default.dispatcher.dispatch({type:s.default.REMOVE_COMMENT,pid:t,sid:n,did:i,cmid:o,removedComment:l,syncWithApi:r})},openDotMenu(){f.default.dispatcher.dispatch({type:s.default.OPEN_DOT_MENU})},showNotes(){f.default.dispatcher.dispatch({type:s.default.SHOW_NOTES})},hideNotes(){f.default.dispatcher.dispatch({type:s.default.HIDE_NOTES})},showFlowLinks(){f.default.dispatcher.dispatch({type:s.default.SHOW_FLOW_LINKS})},hideFlowLinks(){f.default.dispatcher.dispatch({type:s.default.HIDE_FLOW_LINKS})},changeSidebarTab(e){f.default.dispatcher.dispatch({type:s.default.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeScreenSidebarWidth(e){f.default.dispatcher.dispatch({type:s.default.CHANGE_SCREEN_SIDEBAR_WIDTH,screenSidebarWidth:e})},getVersions(){const{screenId:e}=f.default.ScreenStore.getState();f.default.dispatcher.dispatch({type:s.default.GET_VERSIONS,screenId:e})},setVersions(e){const{pid:t,sid:n,versions:i,totalVersionCount:o,allowedVersionCount:a}=g(e);i.forEach((e=>{var t;null!==(t=e.commit)&&void 0!==t||(e.commit={message:"",color:d.getColorValueByName("yellow"),author:e.creator})}));let{versionId:r}=f.default.ScreenStore.getState();i.some((({_id:e})=>e===r))||(r=i[0]._id),f.default.dispatcher.dispatch({type:s.default.SET_VERSIONS,pid:t,sid:n,versions:i,totalVersionCount:o,allowedVersionCount:a,versionId:r})},setVersionId(e){var t;const{barrelId:n}=f.default.BarrelStore.getState(),{screenId:i}=f.default.ScreenStore.getState(),{versions:[{_id:o=null}]=[{}]}=null!==(t=a.default.getScreen())&&void 0!==t?t:{},r=null!=e?e:o,l=r===o;f.default.dispatcher.dispatch({type:s.default.SET_VERSION_ID,barrelId:n,screenId:i,versionId:r,latestVersionSelected:l})},setSnapshot(e){const{pid:t,sid:n,vid:i,snapshot:o}=g(e);f.default.dispatcher.dispatch({type:s.default.SET_SNAPSHOT,pid:t,sid:n,vid:i,snapshot:o})},showVersions(){const{totalVersionCount:e}=a.default.getScreen(),t=!e;f.default.dispatcher.dispatch({type:s.default.SHOW_VERSIONS,loadingVersions:t,screenVersionsLastSeen:m.setVersionsLastSeenForCurrentScreen()})},hideVersions(){f.default.dispatcher.dispatch({type:s.default.HIDE_VERSIONS})},toggleVersions(){const{versionsVisible:e}=f.default.ScreenStore.getState(),{totalVersionCount:t}=a.default.getScreen(),n=!t;f.default.dispatcher.dispatch({type:s.default.TOGGLE_VERSIONS,loadingVersions:n,screenVersionsLastSeen:e?m.getVersionsLastSeenForCurrentScreen():m.setVersionsLastSeenForCurrentScreen()})},enableVersionsCompactMode(){f.default.dispatcher.dispatch({type:s.default.ENABLE_VERSIONS_COMPACT_MODE})},disableVersionsCompactMode(){f.default.dispatcher.dispatch({type:s.default.DISABLE_VERSIONS_COMPACT_MODE})},showVersionsAuntie(){f.default.dispatcher.dispatch({type:s.default.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){f.default.dispatcher.dispatch({type:s.default.HIDE_VERSIONS_AUNTIE})},changeVersionsSidebarWidth(e){f.default.dispatcher.dispatch({type:s.default.CHANGE_VERSIONS_SIDEBAR_WIDTH,versionsSidebarWidth:e})},addVersion(e){var t;const{pid:n,sid:i,version:o,syncWithApi:r=!1}=g(e);null!==(t=o.commit)&&void 0!==t||(o.commit={message:"",color:d.getColorValueByName("yellow"),author:o.creator});if(!p.default.getBarrel({bid:n}).complete)return;const l=a.default.getScreen({pid:n,sid:i});if(!l)return;let c;const{versions:u,allowedVersionCount:h}=l;u.length>h&&(c=u[u.length-1]);let{versionId:m,latestVersionSelected:b}=f.default.ScreenStore.getState();(b||c&&c._id===m)&&(b=!0,m=o._id),f.default.dispatcher.dispatch({type:s.default.ADD_VERSION,pid:n,sid:i,version:o,poppedVersion:c,syncWithApi:r,versionId:m,latestVersionSelected:b,hasNewVersions:!0,screenVersionsLastSeen:this.getVersionsLastSeenForCurrentScreen()})},updateCommitColor(e){const{pid:t,sid:n,vid:o,color:r,syncWithApi:l=!1}=g(e);let c;if(l){const e=a.default.getVersion({sid:n,vid:o});c=i(e.commit.color,[])}f.default.dispatcher.dispatch({type:s.default.UPDATE_COMMIT_COLOR,pid:t,sid:n,vid:o,color:r,oldColor:c,syncWithApi:l})},updateCommitMessage(e){const{pid:t,sid:n,vid:i,message:o,syncWithApi:r=!1}=g(e);let l;if(r){l=a.default.getVersion({sid:n,vid:i}).commit.message}f.default.dispatcher.dispatch({type:s.default.UPDATE_COMMIT_MESSAGE,pid:t,sid:n,vid:i,message:o,oldMessage:l,syncWithApi:r})},removeVersion(e){const{pid:t,sid:n,vid:i,syncWithApi:o=!1}=g(e);let r;o&&(r=a.default.getVersion({sid:n,vid:i}));let{versionId:l}=f.default.ScreenStore.getState();const{latestVersionSelected:c}=f.default.ScreenStore.getState(),d=i===l;d&&c?({versions:[,{_id:l}]}=a.default.getScreen({sid:n})):d&&({versions:[{_id:l}]}=a.default.getScreen({sid:n})),f.default.dispatcher.dispatch({type:s.default.REMOVE_VERSION,pid:t,sid:n,vid:i,removedVersion:r,removingCurrentVersion:d,syncWithApi:o,versionId:l})},setSourceFile({versionId:e,sourceFile:t}){f.default.dispatcher.dispatch({type:s.default.SET_SOURCE_FILE,versionId:e,sourceFile:t})},hideComponentVariantsOnboardingHintbox(){f.default.dispatcher.dispatch({type:s.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX})},hideImageProcessingHintbox(){f.default.dispatcher.dispatch({type:s.default.HIDE_IMAGE_PROCESSING_HINTBOX})},renameScreenVariant(e){const{pid:t,vgid:n,svid:i,name:o,syncWithApi:a}=g(e);let r;if(a){const{variantGroups:e}=p.default.getBarrel({bid:t}),{screens:o}=e.find((({_id:e})=>e===n));r=o.find((({id:e})=>e===i)).variantName}f.default.dispatcher.dispatch({type:s.default.RENAME_SCREEN_VARIANT,pid:t,vgid:n,svid:i,name:o,oldName:r,syncWithApi:a})},reorderScreenVariant(e){const{pid:t,vgid:n,svid:i,index:o,syncWithApi:a}=g(e);let r;if(a){const{variantGroups:e}=p.default.getBarrel({bid:t}),{screens:o}=e.find((({_id:e})=>e===n));r=o.findIndex((({id:e})=>e===i))}f.default.dispatcher.dispatch({type:s.default.REORDER_SCREEN_VARIANT,pid:t,vgid:n,svid:i,index:o,oldIndex:r,syncWithApi:a})},removeScreenVariant(e){const{pid:t,vgid:n,svid:i,syncWithApi:o}=g(e),{variantGroups:r}=p.default.getBarrel({bid:t}),{screens:l}=r.find((({_id:e})=>e===n));let c,d;o&&(d=l.find((({id:e})=>e===i)),c=l.findIndex((({id:e})=>e===i)));const{screenId:u}=f.default.ScreenStore.getState();if(i===u){const e=l[0].id===i?l[1].id:l[0].id;a.default.navigateToScreen(e)}f.default.dispatcher.dispatch({type:s.default.REMOVE_SCREEN_VARIANT,pid:t,vgid:n,svid:i,oldIndex:c,oldScreenVariant:d,syncWithApi:o})},addScreenVariant(e){const{pid:t,vgid:n,screenVariant:i,index:o}=g(e);f.default.dispatcher.dispatch({type:s.default.ADD_SCREEN_VARIANT,pid:t,vgid:n,screenVariant:i,index:o})},selectScreenVariant(e){const{pid:t,svid:n,usingKeyboardShortcut:i}=g(e);f.default.dispatcher.dispatch({type:s.default.SELECT_SCREEN_VARIANT,pid:t,svid:n,usingKeyboardShortcut:i})}};t.default=m},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="open",e.RESOLVED="resolved"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"LAYER_COMPONENT_VIEW_LIMIT",(function(){return s})),n.d(t,"HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT",(function(){return a})),n.d(t,"findUsedScreens",(function(){return r})),n.d(t,"findConnectedComponentByIdOrName",(function(){return l}));var i=n(713),o=n(714);n.d(t,"findComponentById",(function(){return o.findComponentById})),n.d(t,"findComponentByName",(function(){return o.findComponentByName})),n.d(t,"findComponentLayer",(function(){return o.findComponentLayer})),n.d(t,"isBooleanProperty",(function(){return o.isBooleanProperty})),n.d(t,"isTruthyPropertyValue",(function(){return o.isTruthyPropertyValue})),n.d(t,"findOmittedVariantProperties",(function(){return o.findOmittedVariantProperties})),n.d(t,"getComponentSectionById",(function(){return o.getComponentSectionById})),n.d(t,"getComponentLayerForVariant",(function(){return o.getComponentLayerForVariant})),n.d(t,"LayerComponentSearchResult",(function(){return o.LayerComponentSearchResult}));const s=50,a=50;function r(e,t,n){return e.filter((({versions:[{snapshot:{componentNames:e,componentIds:i}={}}={}]=[]})=>i&&i.includes(n)||e&&e.includes(t)))}function l(e,t,n,o){if(!t||!n)return null;let s=null,a=0;for(const r of n){const n=o?r.localConnectedComponents:r.connectedComponents;if(n){for(const t of n){const{zeplinIds:n}=t;if(n&&n.includes(e))return t}for(const e of n){const{zeplinNames:n}=e;if(n.includes(t))return e;for(const o of n)if(new RegExp(`^${Object(i.escapeRegExpButAsterisk)(o)}$`.replace(/\*/g,".*")).test(t)){const t=o.replace(/\*/g,"").length;(!s||t>a)&&(s=e,a=t)}}}}return s}},function(e,t,n){"use strict";function i(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHTML=t.escapeRegExpButAsterisk=t.escapeAndroidXML=t.unescapeHTML=void 0,t.escapeHTML=i,t.unescapeHTML=function(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")},t.escapeAndroidXML=function(e){return i(e).replace(/^@/gm,"\\ufeff@")},t.escapeRegExpButAsterisk=function(e){return e.replace(/[.+\-?^${}()|[\]\\]/g,"\\$&")}},function(e,t,n){"use strict";function i({componentSections:e},t,n=[]){for(const o of e){const e=o.components.find((e=>t(e)));if(e)return{ancestors:[...n,o],component:e};const s=i(o,t,[...n,o]);if(s)return s}return null}function o({componentSections:e},t){for(const n of e){if(n._id===t)return n;const e=o(n,t);if(e)return e}return null}function s(e,t,n){if(!t&&!n)return null;if(n)for(const o of e){const e=i(o,(e=>e.sourceId===n));if(e)return Object.assign({barrelId:o.id},e)}if(t)for(const o of e){const e=i(o,(e=>e.name===t));if(e)return Object.assign({barrelId:o.id},e)}return null}function a(e,t){if(!e||!t)return null;const n=function(e){let{parent:t}=e;const n=[e];for(;t;)n.push(t),({parent:t}=t);return n}(e);return n?function(e,t){for(const n of e){const{componentName:e,componentId:i}=n;if(!e&&!i)continue;const o=s(t,e,i);if(o)return Object.assign({layer:n},o)}return null}(n,t):null}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentLayerForVariant=t.findOmittedVariantProperties=t.isTruthyPropertyValue=t.isBooleanProperty=t.findComponentLayer=t.getComponentSectionById=t.findComponentById=void 0,t.findComponentById=function(e,t){if(!t)return null;for(const n of e){const e=i(n,(e=>e._id===t));if(e)return Object.assign({barrelId:n.id},e)}return null},t.getComponentSectionById=function(e,t){if(!t)return null;for(const n of e){const e=o(n,t);if(e)return e}return null},t.findComponentLayer=a,t.isBooleanProperty=function(e){const t=[["true","false"],["yes","no"],["on","off"]];for(const n of t)if(e.every((e=>n.includes(e.toLowerCase()))))return!0;return!1},t.isTruthyPropertyValue=function(e){return["true","yes","on"].includes(e.toLowerCase())},t.findOmittedVariantProperties=function(e){const t={};return e.forEach((({variant:e})=>{e&&e.values.forEach((({propertyId:e,value:n})=>{const i=`${e}:${n}`;i in t?t[i]++:t[i]=1}))})),Object.entries(t).filter((([,t])=>t===e.length)).map((([e])=>e))},t.getComponentLayerForVariant=function(e,t){const n=a(e,t);if(!n)return null;const i=n.ancestors.find((e=>e.variant));return i?Object.assign(Object.assign({},n),{component:Object.assign(Object.assign({},n.component),{name:i.name})}):n}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(643)),a=i(n(684)),r=n(583),l=n(712),c=i(n(697));function d(e={}){var t,n;const i=null!==(t=e.bid)&&void 0!==t?t:o.default.BarrelStore.getState().barrelId,s=null!==(n=e.barrelType)&&void 0!==n?n:o.default.BarrelStore.getState().barrelType;return Object.assign(Object.assign({},e),{bid:i,barrelType:s})}const u={updateState(e){o.default.dispatcher.dispatch({type:s.default.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_SORT_TYPE,sortType:e})},changeComponentFilterValue(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_COMPONENT_FILTER_VALUE,filterValue:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},expandSections(e){o.default.dispatcher.dispatch({type:s.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.default.dispatcher.dispatch({type:s.default.COLLAPSE_SECTIONS,seids:e})},collapseAllSections(){const e=c.default.getExpandedSectionIds();e.length&&o.default.dispatcher.dispatch({type:s.default.COLLAPSE_ALL_SECTIONS,seids:e})},highlightColors(e){o.default.dispatcher.dispatch({type:s.default.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){o.default.dispatcher.dispatch({type:s.default.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},highlightSpacingTokens(e){o.default.dispatcher.dispatch({type:s.default.HIGHLIGHT_SPACING_TOKENS,sptids:e})},unhighlightSpacingToken(e){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_SPACING_TOKEN,sptid:e})},sectionScrolled(){o.default.dispatcher.dispatch({type:s.default.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t,collapsedSections:n,updateCollapsedSections:i}){const{selectionComponentId:r}=o.default.StyleguideStore.getState();if(e&&e!==r&&e!==t._id){const t=a.default.getStyleguidesData({barrelStore:o.default.BarrelStore,styleguidesDataStore:o.default.StyleguidesDataStore,projectsDataStore:o.default.ProjectsDataStore}),{component:n}=l.findComponentById(t,e)||{};if(!n)return;const{latestVersion:{snapshot:{assets:i=[]}}}=n;if(i.find((e=>"snapshot"===e.layerId)))return void o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTION,selectionComponentId:e,selection:n})}o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTION,selectionComponentId:e,selection:t,collapsedSections:n,updateCollapsedSections:i})},componentSeedsReady(){o.default.dispatcher.dispatch({type:s.default.COMPONENT_SEEDS_READY})},hideSuggestedColors(e,t){o.default.dispatcher.dispatch({type:s.default.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){o.default.dispatcher.dispatch({type:s.default.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({resources:e,resourceType:t,targetNode:n}){o.default.dispatcher.dispatch({type:s.default.OPEN_MOVE_RESOURCES_POPUP,resources:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){o.default.dispatcher.dispatch({type:s.default.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){o.default.dispatcher.dispatch({type:s.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){o.default.dispatcher.dispatch({type:s.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})},convertSectionToVariantSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:a=!1}=d(e);o.default.dispatcher.dispatch({type:s.default.CONVERT_SECTION_TO_VARIANT_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:a})},convertVariantSectionToSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:a=!1}=d(e);o.default.dispatcher.dispatch({type:s.default.CONVERT_VARIANT_SECTION_TO_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:a})},createComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:a={},syncWithApi:l=!1}=d(e);let c=a;if(l){const{_id:e=`newVariant${r.getRandomString()}`,name:t="",values:n=[]}=a;c={_id:e,name:t,values:n}}o.default.dispatcher.dispatch({type:s.default.CREATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:c,syncWithApi:l})},addComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:a,syncWithApi:r=!1}=d(e);o.default.dispatcher.dispatch({type:s.default.ADD_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:a,syncWithApi:r})},updateComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:a,data:r}=d(e);o.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:a,data:r})},updateComponentVariantPropertyName(e){const{bid:t,barrelType:n,csid:i,vpid:r,name:l,syncWithApi:c=!1}=d(e);let u;if(c){const e=a.default.getBarrel({bid:t}).findComponentSection([i]);({name:u}=e.variant.properties.find((({_id:e})=>e===r)))}o.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME,bid:t,barrelType:n,csid:i,vpid:r,name:l,oldName:u,syncWithApi:c})},updateComponentVariantPropertyValues(e){const{bid:t,barrelType:n,csid:i,vpid:r,values:l,syncWithApi:c=!1}=d(e);let u;if(c){const e=a.default.getBarrel({bid:t}).findComponentSection([i]);({values:u}=e.variant.properties.find((({_id:e})=>e===r)))}o.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES,bid:t,barrelType:n,csid:i,vpid:r,values:l,oldValues:u,syncWithApi:c})},updateComponentVariantPropertiesOrder(e){const{bid:t,barrelType:n,csid:i,properties:r,syncWithApi:l=!1}=d(e);let c;if(l){const e=a.default.getBarrel({bid:t}).findComponentSection([i]);c=r.map((({_id:t})=>{const n=e.variant.properties.findIndex((e=>e._id===t));return{_id:t,to:n}}))}o.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER,bid:t,barrelType:n,csid:i,properties:r,oldProperties:c,syncWithApi:l})},updateComponentVariantPropertyValue(e){const{bid:t,barrelType:n,csid:i,vpid:a,coid:r,value:l,syncWithApi:c=!1}=d(e);o.default.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE,bid:t,barrelType:n,csid:i,vpid:a,coid:r,value:l,syncWithApi:c})},setComponentVariantData(e){const{bid:t,barrelType:n,csid:i,name:a,sectionVariant:r,components:l,userConvertedSectionIntoVariant:c=!1}=d(e);o.default.dispatcher.dispatch({type:s.default.SET_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i,name:a,sectionVariant:r,components:l,userConvertedSectionIntoVariant:c})},removeComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:r,syncWithApi:l=!1}=d(e);let c;if(l){c=a.default.getBarrel({bid:t}).findComponentSection([i]).variant.properties.find((({_id:e})=>e===r))}o.default.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:r,removedComponentVariantProperty:c,syncWithApi:l})},removeComponentVariantData(e){const{bid:t,barrelType:n,csid:i}=d(e);o.default.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i})},createComponentSectionVariantGroups(e){const{bid:t,barrelType:n,csid:i,vpid:a}=d(e);o.default.dispatcher.dispatch({type:s.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,bid:t,barrelType:n,csid:i,vpid:a,syncWithApi:!0})},groupComponentsByVariantProperty(e){const{bid:t,barrelType:n,csid:i,components:a,componentSections:r}=d(e);o.default.dispatcher.dispatch({type:s.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,components:a,componentSections:r})},hideComponentVariantsOnboardingDialog(){o.default.dispatcher.dispatch({type:s.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG})}};t.default=u},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(684)),a=i(n(592)),r=i(n(691)),l=n(583);function c(e={}){var t;const n=null!==(t=e.pid)&&void 0!==t?t:o.default.BarrelStore.getState().barrelId;return Object.assign(Object.assign({},e),{pid:n})}const d={changeSortType(e){o.default.dispatcher.dispatch({type:a.default.CHANGE_SORT_TYPE,sortType:e})},toggleFixedThumbnailSize(){o.default.dispatcher.dispatch({type:a.default.TOGGLE_FIXED_THUMBNAIL_SIZE})},changeSidebarWidth(e){o.default.dispatcher.dispatch({type:a.default.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})},changeTagFilter(e){o.default.dispatcher.dispatch({type:a.default.CHANGE_TAG_FILTER,tagFilter:e})},expandSections(e){o.default.dispatcher.dispatch({type:a.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.default.dispatcher.dispatch({type:a.default.COLLAPSE_SECTIONS,seids:e})},downloadScreens(e,t){o.default.dispatcher.dispatch({type:a.default.DOWNLOAD_SCREENS,screens:e,fileName:t})},downloadScreen(e){const t=r.default.getScreen({sid:e});d.downloadScreens([t],t.name)},downloadScreensOfTag(e){const{screens:t}=s.default.getBarrel(),n=t.filter((({tags:t})=>null==t?void 0:t.includes(e)));d.downloadScreens(n,`${e}.zip`)},downloadScreensOfVariantGroup(e){const{variantGroups:t}=s.default.getBarrel(),n=t.find((({_id:t})=>e===t));if(n){const e=n.screens.map((({id:e})=>r.default.getScreen({sid:e})));d.downloadScreens(e,`${n.name}.zip`)}},unhighlightScreen(e){o.default.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_SCREEN,sid:e})},downloadScreensOfSection(e){const{sections:t,screens:n}=s.default.getBarrel(),i=t.find((t=>t._id===e)),o=i.screens.map((e=>n.find((t=>t._id===e))));d.downloadScreens(o,`${i.name}.zip`)},highlightSection(e){o.default.dispatcher.dispatch({type:a.default.HIGHLIGHT_SECTION,seid:e})},unhighlightSection(){o.default.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_SECTION})},splitSection(e){const{sections:t}=s.default.getBarrel(),n=t.find((({screens:t})=>t.includes(e))),i=n.screens.indexOf(e),o=t.findIndex((({_id:e})=>e===n._id)),a=n.screens.slice(i),r={_id:`newSectionFromSplit${l.getRandomString()}`,name:"Untitled section",screens:a};this.addSection({section:r,index:o+1})},addSection(e){const{pid:t,section:n,index:i,syncWithApi:s=!1}=c(e);o.default.dispatcher.dispatch({type:a.default.ADD_SECTION,pid:t,section:n,index:i,syncWithApi:s})},createSection(e){const{pid:t,seid:n,name:i}=c(e),{sections:r}=s.default.getBarrel(),l=r.findIndex((({_id:e})=>e===n)),d=r[l],u=Object.assign(Object.assign({},d),{name:i});o.default.dispatcher.dispatch({type:a.default.CREATE_SECTION,pid:t,section:u,index:l,syncWithApi:!0})},convertTagToSection(e){const{pid:t,tag:n}=c(e),{screens:i,sections:r}=s.default.getBarrel(),[d]=r,u=i.filter((({tags:e})=>null==e?void 0:e.includes(n))).map((({_id:e})=>e)),h=[...d.screens],p={_id:`newSectionFromTag${l.getRandomString()}`,name:n,screens:u};o.default.dispatcher.dispatch({type:a.default.CONVERT_TAG_TO_SECTION,pid:t,section:p,index:1,defaultSectionId:d._id,oldDefaultSectionScreens:h,syncWithApi:!0})},updateSection(e){const{pid:t,seid:n,sectionData:i,highlight:s=!1}=c(e);o.default.dispatcher.dispatch({type:a.default.UPDATE_SECTION,pid:t,seid:n,sectionData:i,highlight:s})},renameSection(e){var t;const{pid:n,seid:i,name:r,onError:l,syncWithApi:d=!1}=c(e);let u;if(d){const{sections:e}=s.default.getBarrel();({name:u="Untitled section"}=null!==(t=e.find((({_id:e})=>e===i)))&&void 0!==t?t:{})}o.default.dispatcher.dispatch({type:a.default.RENAME_SECTION,pid:n,seid:i,name:r,oldName:u,onError:l,syncWithApi:d})},updateSectionDescription(e){var t;const{pid:n,seid:i,description:r,onError:l,syncWithApi:d=!1}=c(e);let u;if(d){const{sections:e}=s.default.getBarrel();({description:u=""}=null!==(t=e.find((({_id:e})=>e===i)))&&void 0!==t?t:{})}o.default.dispatcher.dispatch({type:a.default.UPDATE_SECTION_DESCRIPTION,pid:n,seid:i,description:r,oldDescription:u,onError:l,syncWithApi:d})},updateSectionOrder(e){const{pid:t,seid:n,index:i,syncWithApi:r=!1}=c(e);let l;if(r){const{sections:e}=s.default.getBarrel();l=e.findIndex((({_id:e})=>e===n))}o.default.dispatcher.dispatch({type:a.default.UPDATE_SECTION_ORDER,pid:t,seid:n,index:i,oldIndex:l,syncWithApi:r})},removeSection(e){const{pid:t,seid:n,syncWithApi:i=!1}=c(e);let r,l;if(i){const{sections:e}=s.default.getBarrel({bid:t});r=e.findIndex((({_id:e})=>e===n)),l=e[r]}o.default.dispatcher.dispatch({type:a.default.REMOVE_SECTION,pid:t,seid:n,index:r,removedSection:l,syncWithApi:i})},updateScreenOrder(e){const{pid:t,screens:n,targetSectionId:i,targetIndex:r,syncWithApi:l=!1}=c(e),d=s.default.getBarrel({bid:t});if(!d.complete)return;const{sections:u}=d;let h;l&&(h=n.map((e=>{const{_id:t,screens:n}=u.find((t=>t.screens.includes(e)));return{sourceSectionId:t,sourceIndex:n.findIndex((t=>t===e))}})));let p=r;if(void 0===r){const{screens:{length:e}}=u.find((({_id:e})=>e===i));p=e}o.default.dispatcher.dispatch({type:a.default.UPDATE_SCREEN_ORDER,pid:t,screens:n,targetSectionId:i,targetIndex:p,oldIndices:h,syncWithApi:l})},updateScreenOrderV2(e){const{pid:t,items:n,targetSectionId:i,targetIndex:r,syncWithApi:l=!1}=c(e),d=s.default.getBarrel({bid:t});if(!d.complete)return;const{sections:u,variantGroups:h}=d;let p;l&&(p=n.map((({_id:e,type:t})=>{let n=e;if("variantGroup"===t){const t=h.find((({_id:t})=>t===e));n=t.screens[0].id}const{_id:i,screens:o}=u.find((({screens:e})=>e.includes(n)));return{sourceSectionId:i,sourceIndex:o.findIndex((e=>e===n))}})));let f=r;if(void 0===r){const{screens:{length:e}}=u.find((({_id:e})=>e===i));f=e}o.default.dispatcher.dispatch({type:a.default.UPDATE_SCREEN_ORDER_V2,pid:t,items:n,targetSectionId:i,targetIndex:f,oldIndices:p,syncWithApi:l})},createVariantGroup(e){const{pid:t,vgid:n,screens:i,variantGroupName:s,shouldOrder:r=!1,syncWithApi:l=!1}=c(e);o.default.dispatcher.dispatch({type:a.default.CREATE_VARIANT_GROUP,pid:t,vgid:n,screens:i,variantGroupName:s,shouldOrder:r,syncWithApi:l})},addScreensToVariantGroup(e){const{pid:t,vgid:n,screens:i,shouldOrder:r=!1,syncWithApi:l=!1}=c(e);let d;if(l){const{variantGroups:e}=s.default.getBarrel({bid:t});d=e.find((({_id:e})=>e===n))}o.default.dispatcher.dispatch({type:a.default.ADD_SCREENS_TO_VARIANT_GROUP,pid:t,vgid:n,screens:i,oldVariantGroup:d,shouldOrder:r,syncWithApi:l})},updateVariantGroup(e){const{pid:t,vgid:n,variantGroupData:i,syncWithApi:r=!1}=c(e);let l;if(r){const{variantGroups:e}=s.default.getBarrel({bid:t});l=e.find((({_id:e})=>e===n))}o.default.dispatcher.dispatch({type:a.default.UPDATE_VARIANT_GROUP,pid:t,vgid:n,variantGroupData:i,oldVariantGroupData:l,syncWithApi:r})},renameVariantGroup(e){const{pid:t,vgid:n,name:i,syncWithApi:r=!1}=c(e);let l;if(r){const{variantGroups:e}=s.default.getBarrel({bid:t});l=e.find((({_id:e})=>e===n)).name}o.default.dispatcher.dispatch({type:a.default.RENAME_VARIANT_GROUP,pid:t,vgid:n,name:i,oldName:l,syncWithApi:r})},deleteVariantGroupRequest(e){const{pid:t,vgid:n,syncWithApi:i=!1}=c(e);o.default.dispatcher.dispatch({type:a.default.DELETE_VARIANT_GROUP_REQUEST,pid:t,vgid:n,syncWithApi:i})},deleteVariantGroup(e){const{pid:t,vgid:n,uid:i,screens:r=null,syncWithApi:l=!1}=c(e),{screenId:d}=o.default.ScreenStore.getState();let u,h,p;if(d){const{variantGroups:e}=s.default.getBarrel({bid:t});h=e.find((({_id:e})=>n===e)),u=null==h?void 0:h.screens.some((({id:e})=>e===d))}if(i){p=s.default.getBarrel({bid:t}).findUser(i)}o.default.dispatcher.dispatch({type:a.default.DELETE_VARIANT_GROUP,pid:t,vgid:n,screens:r,user:p,removingCurrentScreen:u,removedVariantGroup:h,syncWithApi:l})},hideScreenVariantsOnboarding(){o.default.dispatcher.dispatch({type:a.default.HIDE_SCREEN_VARIANTS_ONBOARDING})},detachVariantGroup(e){const{pid:t,vgid:n,syncWithApi:i=!1}=c(e);let r;if(i){const{variantGroups:e}=s.default.getBarrel({bid:t});r=e.find((({_id:e})=>e===n))}o.default.dispatcher.dispatch({type:a.default.DETACH_VARIANT_GROUP,pid:t,vgid:n,oldVariantGroup:r,syncWithApi:i})}};t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(546),o=n(564),s=n(545);i.default&&s.supports.SPA&&(i.default.ipcRenderer.on("close-all-banners",(function(){o.closeBanner("appUpdate"),o.closeBanner("pluginUpdate")})),i.default.ipcRenderer.on("app-update-downloaded",((e,t)=>{o.closeBanner("appUpdate"),o.show({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("appUpdate"),i.default.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-update-later",t)}})})),i.default.ipcRenderer.on("plugin-update-downloaded",((e,t)=>{var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),o.closeBanner("pluginUpdate"),o.show({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("pluginUpdate"),i.default.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-plugin-install-later",t)}})})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSignup=t.sendWorkspaceConversion=t.sendEnterpriseInquiry=t.sendVisitSignup=t.sendGAPageView=void 0;const i=n(548),o=n(547),s=n(553);function a(){return i.ENV===o.EXEC_ENV.production||i.ENV===o.EXEC_ENV.beta}var r,l;t.sendGAPageView=function({title:e,source:t}={}){Zeplin.user&&!s.shouldTrackUser(Zeplin.user)||(gtag("set",{location:location.href}),e&&gtag("set",{title:e}),gtag("event","page_view",t&&{page_path:t}))},t.sendVisitSignup=function(){Zeplin.user&&!s.shouldTrackUser(Zeplin.user)||a()&&fbq("trackCustom","StartRegistration")},t.sendEnterpriseInquiry=function(){Zeplin.user&&!s.shouldTrackUser(Zeplin.user)||(gtag("event","ent_inquiry",{event_category:"monetization",event_label:"Enterprise inquiry"}),gtag("event","conversion",{send_to:`${i.AD_CONVERSION_ID}/${i.ENT_INQUORY_CONVERSION}`}),a()&&fbq("track","Contact"))},function(e){e.team="team_conversion",e.organization="org_conversion"}(r||(r={})),function(e){e.team="Team conversion",e.organization="Organization conversion"}(l||(l={})),t.sendWorkspaceConversion=function(e){Zeplin.user&&!s.shouldTrackUser(Zeplin.user)||(e===o.WorkspacePlanType.TEAM?(gtag("event",r.team,{event_category:"monetization",event_label:l.team}),gtag("event","conversion",{send_to:`${i.AD_CONVERSION_ID}/${i.TEAM_PURCHASE_CONVERSION}`}),a()&&fbq("track","Purchase",{content_name:l.team})):e===o.WorkspacePlanType.ORGANIZATION&&(gtag("event",r.organization,{event_category:"monetization",event_label:l.organization}),gtag("event","conversion",{send_to:`${i.AD_CONVERSION_ID}/${i.ORG_PURCHASE_CONVERSION}`}),a()&&fbq("track","Purchase",{content_name:l.organization})))},t.sendSignup=function(){Zeplin.user&&!s.shouldTrackUser(Zeplin.user)||(gtag("event","sign_up",{event_category:"onboarding",event_label:"Signed up"}),gtag("event","conversion",{send_to:`${i.AD_CONVERSION_ID}/${i.SIGN_UP_CONVERSION}`}),a()&&fbq("track","CompleteRegistration"))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.renderComponent()}update(e){Object.assign(this.props,e),this.renderComponent()}renderComponent(){i.render(i.h(this.preactComponent,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:e=>{this.domNode=e}},this.props)),this.domContainer)}remove(){i.render(null,this.domContainer),this.domNode=null,this.props=null}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(586);t.default=function(...e){const t=new Set;return e.forEach((e=>{e&&(Array.isArray(e)?e.filter(i.exists).forEach((e=>t.add(e))):"string"==typeof e?t.add(e):"object"==typeof e&&Object.keys(e).filter((t=>!0===e[t])).forEach((e=>t.add(e))))})),Array.from(t).join(" ")}},,,,,,,function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogoZeplin=t.IconWarning=t.IconCross=t.IconGoogleMonochrome=t.IconGoogle=t.IconPhotoshop=t.IconXD=t.IconSketch=t.IconFigmaColor=t.IconScreenVariant=t.IconToken=t.IconMuted=t.IconTick=t.IconCursorPointer=t.IconHourGlass=t.IconAddNote=t.IconHintClose=t.IconSectionDrag=t.IconElevator=t.IconTeams=t.IconLayerStyle=t.IconZoomOut=t.IconZoomIn=t.IconDescription=t.IconTrello=t.IconSlimArrowRight=t.IconSketchCloud=t.IconPaper=t.IconJira=t.IconInvision=t.IconGitlab=t.IconGithub=t.IconFigma=t.IconConfluence=t.IconBitbucket=t.IconAsana=t.IconAbstract=t.IconNotion=t.IconZeplin=t.IconCustomLink=t.IconUnpin=t.IconPin=t.IconDotSpinner=t.IconReadme=t.IconSlack=t.IconDivider=t.IconPopout=t.IconMoveHandle=t.IconClose=t.IconCollapseLeft=t.IconCollapse=t.IconChevronBottom=t.IconChevronTop=t.IconChevronRight=t.IconChevronLeft=t.IconChevron=t.IconGear=t.IconPlusWithCircle=t.IconPlus=t.IconSpinner=t.IconScreenLink=t.IconMagnifier=t.IconFolder=t.IconComponent=t.IconSpacing=t.IconInfo=t.IconTextStyle=t.IconColor=t.IconDelete=t.IconVariants=t.IconGoTo=t.IconShare=t.IconDownload=t.IconCopy=t.IconAttachImage=t.IconArrowDown=t.IconArrowRight=t.IconArrowLeft=t.IconSettings=t.IconEdit=t.IconMenu=void 0;var o=n(732);Object.defineProperty(t,"IconMenu",{enumerable:!0,get:function(){return i(o).default}});var s=n(733);Object.defineProperty(t,"IconEdit",{enumerable:!0,get:function(){return i(s).default}});var a=n(734);Object.defineProperty(t,"IconSettings",{enumerable:!0,get:function(){return i(a).default}});var r=n(735);Object.defineProperty(t,"IconArrowLeft",{enumerable:!0,get:function(){return i(r).default}});var l=n(736);Object.defineProperty(t,"IconArrowRight",{enumerable:!0,get:function(){return i(l).default}});var c=n(737);Object.defineProperty(t,"IconArrowDown",{enumerable:!0,get:function(){return i(c).default}});var d=n(738);Object.defineProperty(t,"IconAttachImage",{enumerable:!0,get:function(){return i(d).default}});var u=n(739);Object.defineProperty(t,"IconCopy",{enumerable:!0,get:function(){return i(u).default}});var h=n(740);Object.defineProperty(t,"IconDownload",{enumerable:!0,get:function(){return i(h).default}});var p=n(741);Object.defineProperty(t,"IconShare",{enumerable:!0,get:function(){return i(p).default}});var f=n(742);Object.defineProperty(t,"IconGoTo",{enumerable:!0,get:function(){return i(f).default}});var g=n(743);Object.defineProperty(t,"IconVariants",{enumerable:!0,get:function(){return i(g).default}});var m=n(744);Object.defineProperty(t,"IconDelete",{enumerable:!0,get:function(){return i(m).default}});var b=n(745);Object.defineProperty(t,"IconColor",{enumerable:!0,get:function(){return i(b).default}});var S=n(746);Object.defineProperty(t,"IconTextStyle",{enumerable:!0,get:function(){return i(S).default}});var y=n(747);Object.defineProperty(t,"IconInfo",{enumerable:!0,get:function(){return i(y).default}});var v=n(748);Object.defineProperty(t,"IconSpacing",{enumerable:!0,get:function(){return i(v).default}});var O=n(749);Object.defineProperty(t,"IconComponent",{enumerable:!0,get:function(){return i(O).default}});var C=n(750);Object.defineProperty(t,"IconFolder",{enumerable:!0,get:function(){return i(C).default}});var E=n(751);Object.defineProperty(t,"IconMagnifier",{enumerable:!0,get:function(){return i(E).default}});var T=n(752);Object.defineProperty(t,"IconScreenLink",{enumerable:!0,get:function(){return i(T).default}});var _=n(753);Object.defineProperty(t,"IconSpinner",{enumerable:!0,get:function(){return i(_).default}});var P=n(756);Object.defineProperty(t,"IconPlus",{enumerable:!0,get:function(){return i(P).default}});var I=n(757);Object.defineProperty(t,"IconPlusWithCircle",{enumerable:!0,get:function(){return i(I).default}});var j=n(758);Object.defineProperty(t,"IconGear",{enumerable:!0,get:function(){return i(j).default}});var D=n(759);Object.defineProperty(t,"IconChevron",{enumerable:!0,get:function(){return i(D).default}});var k=n(760);Object.defineProperty(t,"IconChevronLeft",{enumerable:!0,get:function(){return i(k).default}});var R=n(761);Object.defineProperty(t,"IconChevronRight",{enumerable:!0,get:function(){return i(R).default}});var A=n(762);Object.defineProperty(t,"IconChevronTop",{enumerable:!0,get:function(){return i(A).default}});var w=n(763);Object.defineProperty(t,"IconChevronBottom",{enumerable:!0,get:function(){return i(w).default}});var N=n(764);Object.defineProperty(t,"IconCollapse",{enumerable:!0,get:function(){return i(N).default}});var L=n(765);Object.defineProperty(t,"IconCollapseLeft",{enumerable:!0,get:function(){return i(L).default}});var M=n(766);Object.defineProperty(t,"IconClose",{enumerable:!0,get:function(){return i(M).default}});var x=n(767);Object.defineProperty(t,"IconMoveHandle",{enumerable:!0,get:function(){return i(x).default}});var U=n(768);Object.defineProperty(t,"IconPopout",{enumerable:!0,get:function(){return i(U).default}});var B=n(769);Object.defineProperty(t,"IconDivider",{enumerable:!0,get:function(){return i(B).default}});var V=n(770);Object.defineProperty(t,"IconSlack",{enumerable:!0,get:function(){return i(V).default}});var z=n(771);Object.defineProperty(t,"IconReadme",{enumerable:!0,get:function(){return i(z).default}});var F=n(772);Object.defineProperty(t,"IconDotSpinner",{enumerable:!0,get:function(){return i(F).default}});var W=n(774);Object.defineProperty(t,"IconPin",{enumerable:!0,get:function(){return i(W).default}});var H=n(775);Object.defineProperty(t,"IconUnpin",{enumerable:!0,get:function(){return i(H).default}});var G=n(776);Object.defineProperty(t,"IconCustomLink",{enumerable:!0,get:function(){return i(G).default}});var $=n(777);Object.defineProperty(t,"IconZeplin",{enumerable:!0,get:function(){return i($).default}});var q=n(778);Object.defineProperty(t,"IconNotion",{enumerable:!0,get:function(){return i(q).default}});var Z=n(779);Object.defineProperty(t,"IconAbstract",{enumerable:!0,get:function(){return i(Z).default}});var K=n(780);Object.defineProperty(t,"IconAsana",{enumerable:!0,get:function(){return i(K).default}});var Y=n(781);Object.defineProperty(t,"IconBitbucket",{enumerable:!0,get:function(){return i(Y).default}});var J=n(782);Object.defineProperty(t,"IconConfluence",{enumerable:!0,get:function(){return i(J).default}});var X=n(783);Object.defineProperty(t,"IconFigma",{enumerable:!0,get:function(){return i(X).default}});var Q=n(784);Object.defineProperty(t,"IconGithub",{enumerable:!0,get:function(){return i(Q).default}});var ee=n(785);Object.defineProperty(t,"IconGitlab",{enumerable:!0,get:function(){return i(ee).default}});var te=n(786);Object.defineProperty(t,"IconInvision",{enumerable:!0,get:function(){return i(te).default}});var ne=n(787);Object.defineProperty(t,"IconJira",{enumerable:!0,get:function(){return i(ne).default}});var ie=n(788);Object.defineProperty(t,"IconPaper",{enumerable:!0,get:function(){return i(ie).default}});var oe=n(789);Object.defineProperty(t,"IconSketchCloud",{enumerable:!0,get:function(){return i(oe).default}});var se=n(790);Object.defineProperty(t,"IconSlimArrowRight",{enumerable:!0,get:function(){return i(se).default}});var ae=n(791);Object.defineProperty(t,"IconTrello",{enumerable:!0,get:function(){return i(ae).default}});var re=n(792);Object.defineProperty(t,"IconDescription",{enumerable:!0,get:function(){return i(re).default}});var le=n(793);Object.defineProperty(t,"IconZoomIn",{enumerable:!0,get:function(){return i(le).default}});var ce=n(794);Object.defineProperty(t,"IconZoomOut",{enumerable:!0,get:function(){return i(ce).default}});var de=n(795);Object.defineProperty(t,"IconLayerStyle",{enumerable:!0,get:function(){return i(de).default}});var ue=n(796);Object.defineProperty(t,"IconTeams",{enumerable:!0,get:function(){return i(ue).default}});var he=n(797);Object.defineProperty(t,"IconElevator",{enumerable:!0,get:function(){return i(he).default}});var pe=n(798);Object.defineProperty(t,"IconSectionDrag",{enumerable:!0,get:function(){return i(pe).default}});var fe=n(799);Object.defineProperty(t,"IconHintClose",{enumerable:!0,get:function(){return i(fe).default}});var ge=n(800);Object.defineProperty(t,"IconAddNote",{enumerable:!0,get:function(){return i(ge).default}});var me=n(801);Object.defineProperty(t,"IconHourGlass",{enumerable:!0,get:function(){return i(me).default}});var be=n(802);Object.defineProperty(t,"IconCursorPointer",{enumerable:!0,get:function(){return i(be).default}});var Se=n(803);Object.defineProperty(t,"IconTick",{enumerable:!0,get:function(){return i(Se).default}});var ye=n(804);Object.defineProperty(t,"IconMuted",{enumerable:!0,get:function(){return i(ye).default}});var ve=n(805);Object.defineProperty(t,"IconToken",{enumerable:!0,get:function(){return i(ve).default}});var Oe=n(806);Object.defineProperty(t,"IconScreenVariant",{enumerable:!0,get:function(){return i(Oe).default}});var Ce=n(807);Object.defineProperty(t,"IconFigmaColor",{enumerable:!0,get:function(){return i(Ce).default}});var Ee=n(808);Object.defineProperty(t,"IconSketch",{enumerable:!0,get:function(){return i(Ee).default}});var Te=n(809);Object.defineProperty(t,"IconXD",{enumerable:!0,get:function(){return i(Te).default}});var _e=n(810);Object.defineProperty(t,"IconPhotoshop",{enumerable:!0,get:function(){return i(_e).default}});var Pe=n(811);Object.defineProperty(t,"IconGoogle",{enumerable:!0,get:function(){return i(Pe).default}});var Ie=n(812);Object.defineProperty(t,"IconGoogleMonochrome",{enumerable:!0,get:function(){return i(Ie).default}});var je=n(813);Object.defineProperty(t,"IconCross",{enumerable:!0,get:function(){return i(je).default}});var De=n(814);Object.defineProperty(t,"IconWarning",{enumerable:!0,get:function(){return i(De).default}});var ke=n(815);Object.defineProperty(t,"LogoZeplin",{enumerable:!0,get:function(){return i(ke).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"6",cy:"12",r:"2"}),i.h("circle",{cx:"12",cy:"12",r:"2"}),i.h("circle",{cx:"18",cy:"12",r:"2"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 9 16"},i.h("path",{fill:e,d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=({color:e,width:t,class:n})=>{const o=8*t/12;return i.h("svg",{class:n,width:t,height:o,viewBox:"0 0 12 8"},i.h("path",{fill:e,d:"M6.003 8c.356 0 .71-.148.982-.442l4.608-4.982c.543-.588.543-1.543-.002-2.132-.546-.593-1.425-.59-1.97-.002L6 4.356 2.383.442C1.84-.145.955-.145.413.444c-.55.593-.548 1.544-.004 2.132l4.605 4.982c.27.293.627.44.984.44L6.002 8z"}))};o.defaultProps={color:"var(--teflon)",width:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 20 20"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5.8 13.5l-3.58 3.13c.16.2.4.33.66.36L3 17h3.37l1.64-1.58-2.2-1.92zM15 6H3a1 1 0 00-1 .88V15.54l3.47-3.03c.19-.17.49-.17.68 0l2.56 2.24 4.27-4.1c.2-.2.5-.2.7-.02L16 12.7V14l-2.65-2.37L7.77 17H15a1 1 0 001-.88V7a1 1 0 00-1-1zm2 8.92a1 1 0 001-.89V5.08a1 1 0 00-1-1H6a1 1 0 00-1 .89V5h10a2 2 0 012 2v7.92zM5 8a1 1 0 110 2 1 1 0 010-2zm10 10H3a2 2 0 01-1.7-.95l-.02-.03a1.66 1.66 0 01-.06-.1l.08.13a1.9 1.9 0 01-.14-.27l-.02-.05A2.02 2.02 0 011 16V7c0-1.1.9-2 2-2h1c0-1.1.9-2 2-2h11a2 2 0 012 2v9a2 2 0 01-2 2 2 2 0 01-2 2z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 48 48"},i.h("g",{stroke:e,"stroke-width":"2"},i.h("rect",{width:"16",height:"6",x:"16",y:"11",fill:"none",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"21",fill:e,"fill-opacity":".5",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"31",fill:e,rx:"3"})))}o.defaultProps={color:"var(--clooney)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,transparent:o}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}),i.h("path",{fill:o?"transparent":"#fff",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}))}o.defaultProps={color:"var(--gandalf)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:s,class:a}){return i.h("svg",{class:a,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}));case"remove":return i.h("g",{fill:t,"fill-rule":"evenodd",transform:"translate(4 4)",opacity:n},i.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}));default:return i.h("path",{fill:t,d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})}}(o,e,s))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:s,class:a}){return i.h("svg",{class:a,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}));case"remove":return i.h("g",{fill:t,transform:"translate(4 5)",opacity:n},i.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"}));default:return i.h("path",{fill:t,d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})}}(o,e,s))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:e},i.h("rect",{width:"1",height:"12",x:"2",y:"2",rx:".5"}),i.h("path",{"fill-opacity":".3",d:"M3 5.5h11v5H3z"}),i.h("rect",{width:"3",height:"1",x:"1",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"5",rx:".5"}),i.h("rect",{width:"1",height:"12",x:"10",y:"2",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"10",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"1",y:"10",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{stroke:e,fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd",stroke:e},i.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(754);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724));function a({color:e,width:t,height:n,class:i}){const a=s.default("iconSpinner",i);return o.h("svg",{class:a,width:t,height:n,viewBox:"0 0 12 12"},o.h("g",{fill:e,"fill-rule":"evenodd"},o.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),o.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),o.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),o.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),o.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),o.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),o.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),o.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})))}n(755),a.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=a},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,circleColor:t,width:n,height:o}){return i.h("svg",{width:n,height:o,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("circle",{fill:t,cx:"12",cy:"12",r:"12"}),i.h("path",{fill:e,d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"})))}o.defaultProps={circleColor:"transparent",color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 24 24"},i.h("path",{fill:n,"fill-rule":"evenodd",d:"M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9zm0 1c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 3c.276 0 .5.224.5.5v4h4c.276 0 .5.224.5.5s-.224.5-.5.5h-4v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4h-4c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h4v-4c0-.276.224-.5.5-.5z"}))}o.defaultProps={width:24,height:24,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 14 14"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 8 8"},i.h("path",{fill:e,"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"}))}o.defaultProps={color:"var(--teflon)",width:8,height:8},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 4 8"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M3.854 3.646c.195.196.195.512 0 .708l-3 3c-.196.195-.512.195-.708 0-.195-.196-.195-.512 0-.708L2.793 4 .146 1.354c-.195-.196-.195-.512 0-.708.196-.195.512-.195.708 0l3 3z","clip-rule":"evenodd"}))}o.defaultProps={color:"var(--teflon)",width:4,height:8},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 4 8"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M.146 4.354c-.195-.196-.195-.512 0-.708l3-3c.196-.195.512-.195.708 0 .195.196.195.512 0 .708L1.207 4l2.647 2.646c.195.196.195.512 0 .708-.196.195-.512.195-.708 0l-3-3z","clip-rule":"evenodd"}))}o.defaultProps={color:"var(--teflon)",width:4,height:8},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 8 4"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M4.354 3.854c-.196.195-.512.195-.708 0l-3-3C.451.658.451.342.646.146c.196-.195.512-.195.708 0L4 2.793 6.646.146c.196-.195.512-.195.708 0 .195.196.195.512 0 .708l-3 3z","clip-rule":"evenodd"}))}o.defaultProps={color:"var(--teflon)",width:8,height:4},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 8 4"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M3.646.146c.196-.195.512-.195.708 0l3 3c.195.196.195.512 0 .708-.196.195-.512.195-.708 0L4 1.207 1.354 3.854c-.196.195-.512.195-.708 0-.195-.196-.195-.512 0-.708l3-3z","clip-rule":"evenodd"}))}o.defaultProps={color:"var(--teflon)",width:8,height:4},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 18 18"},i.h("path",{d:"M10.8,3.7 L5.5,9.05 L10.8,14.4",stroke:e,"stroke-width":"2.4","stroke-linecap":"round",fill:"none","stroke-linejoin":"round"}))}o.defaultProps={color:"var(--teflon)",width:18,height:18},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,height:t,class:n}){const o=4*t/20;return i.h("svg",{class:n,width:o,height:t,viewBox:"0 0 4 20"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"2",cy:"2",r:"2"}),i.h("circle",{cx:"2",cy:"10",r:"2"}),i.h("circle",{cx:"2",cy:"18",r:"2"})))}o.defaultProps={color:"var(--teflon)",height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("path",{"fill-opacity":".4",d:"M14.5 8.246c-.277 0-.5.224-.5.5v1c0 .276.223.5.5.5s.5-.224.5-.5v-1c0-.276-.223-.5-.5-.5zm0 3.5c-.277 0-.5.224-.5.5v1c0 .276.223.5.5.5s.5-.224.5-.5v-1c0-.276-.223-.5-.5-.5zM13.927 15h-.177c-.275 0-.5.223-.5.5 0 .276.225.5.5.5h.177c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zm-2.677 0h-1c-.275 0-.5.223-.5.5 0 .276.225.5.5.5h1c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zm-3.5 0h-2c-.276 0-.5.223-.5.5 0 .276.224.5.5.5h2c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zM15 4.5h-1v1.746c0 .276.223.5.5.5s.5-.224.5-.5V4.5z"}),i.h("path",{d:"M17.5 6c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zM6.662 5.71c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm1.64 2.29c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm2.198-2c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm0-3.5c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm0-3.5c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm-2.338-5c-.277 0-.5.224-.5.5s.223.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm-3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm-3.5 0c-.277 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1z"}),i.h("path",{d:"M4 1c-.55 0-1 .45-1 1v13c0 .55.45 1 1 1h2.162v-1H4.5c-.275 0-.5-.225-.5-.5v-12c0-.275.225-.5.5-.5h9c.275 0 .5.225.5.5v2h1V2c0-.55-.45-1-1-1H4z"}))))}o.defaultProps={color:"var(--teflon)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 14 14"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"7",cy:"12",r:"2"}),i.h("circle",{cx:"7",cy:"2",r:"2"}),i.h("rect",{width:"14",height:"2",y:"6",rx:"1"})))}o.defaultProps={color:"var(--cornflower-blue)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t,class:n}){const o=16*e/16;return i.h("svg",{class:n,width:e,height:o,viewBox:"0 0 16 16"},i.h("path",{fill:t||"#e01e5a",d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{fill:t||"#36c5f0",d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{fill:t||"#2eb67d",d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{fill:t||"#ecb22e",d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"}),i.h("g",{class:"iconActiveStateOverlay",fill:"none"},i.h("path",{d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"})))}o.defaultProps={width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M7 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7z"}),i.h("path",{d:"M17 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2V4h2zm-2 1v14h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2z"}),i.h("rect",{width:"6",height:"1",x:"8",y:"7",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"10",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"13",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"16",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(773);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724));function a(e){const{class:t,width:n,color:i}=e,a=14*n/14;return o.h("svg",{class:s.default("spinning",t),width:n,height:a,viewBox:"0 0 24 24"},o.h("g",{fill:i,"fill-rule":"evenodd"},o.h("circle",{cx:"12",cy:"1.8",r:"1.8"}),o.h("circle",{cx:"4.8",cy:"4.82",r:"1.8","fill-opacity":".44",transform:"rotate(-45 4.796 4.82)"}),o.h("circle",{cx:"1.8",cy:"12",r:"1.8","fill-opacity":".52"}),o.h("circle",{cx:"4.82",cy:"19.21",r:"1.8","fill-opacity":".6",transform:"rotate(-45 4.816 19.208)"}),o.h("circle",{cx:"12",cy:"22.2",r:"1.8","fill-opacity":".68"}),o.h("circle",{cx:"19.21",cy:"19.18",r:"1.8","fill-opacity":".76",transform:"rotate(-45 19.206 19.18)"}),o.h("circle",{cx:"22.2",cy:"12",r:"1.8","fill-opacity":".84"}),o.h("circle",{cx:"19.18",cy:"4.79",r:"1.8","fill-opacity":".92",transform:"rotate(-45 19.18 4.792)"})))}a.defaultProps={width:14,color:"var(--cornflower-blue)"},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.751 8.364c1.002-1.002 2.631-1.002 3.633 0l7.252 7.252c1.002 1.002 1.002 2.631 0 3.633-1.002 1.001-2.631 1.001-3.633 0l-3.26-3.263-3.862 3.863c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 3.862-3.862-3.26-3.263c-.96-.954-1.002-2.492-.127-3.495zm2.903.73c-.598-.598-1.574-.598-2.174.001-.597.593-.597 1.573.001 2.167l7.252 7.257c.599.598 1.575.598 2.173 0 .599-.599.599-1.575 0-2.173zm8.606-4.432l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.807 4.605l.047.042 14.5 14.499c.195.195.195.512 0 .707-.18.18-.465.195-.661.042l-.047-.042-14.5-14.499c-.195-.195-.195-.512 0-.707.18-.18.465-.195.661-.042zm1.135 3.543c.194.196.193.513-.003.708-.56.557-.583 1.462-.066 2.048l.068.071 7.079 7.085c.585.585 1.54.585 2.125 0 .196-.196.513-.196.708 0 .196.195.196.512 0 .708-.947.947-2.47.975-3.451.086l-.09-.087-3.197-3.2c-.016.037-.037.072-.062.104l-.043.049-4.129 4.129c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 4.13-4.128c.044-.045.096-.08.15-.105l-3.197-3.2c-.979-.972-.979-2.568 0-3.54.196-.194.513-.193.708.003zM16.26 4.662l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--peach)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("g",{fill:e,"fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87l.147.005h6.25c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75V2.5h.625c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-6.25C1.399 8.75 0 7.35 0 5.625 0 3.899 1.4 2.5 3.125 2.5h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M15 0c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-1.25V5h-2.606H15c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87L8.75 5h.625v1.25H8.75c-1.726 0-3.125-1.4-3.125-3.125C5.625 1.399 7.025 0 8.75 0H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.815 6.878c-.6-1.66-2.601-2.652-5.351-2.652-.575 0-1.172.044-1.78.132-.236-.765-.491-1.36-.76-1.771-.342-.522-.73-.787-1.155-.787-.03 0-.06.001-.088.004-.434.038-.784.33-1.039.869-.163.345-.292.796-.393 1.371-.787-.657-1.42-.977-1.923-.977-.229 0-.433.062-.608.184-.356.25-.512.676-.463 1.27.042.502.229 1.139.57 1.946l.02.044c-1.336.846-2.39 1.842-3.064 2.894L0 10.765l2.144 2.47-.069 3.266 3.773-1.358c.782.251 1.677.378 2.662.378.513 0 1.046-.035 1.588-.105l.011.038c.25.81.508 1.404.79 1.815.327.478.702.721 1.115.721.03 0 .059 0 .087-.003.434-.038.785-.338 1.043-.891.157-.337.286-.784.384-1.333.788.658 1.42.979 1.926.979.229 0 .434-.062.609-.184.367-.257.52-.709.455-1.343-.05-.49-.237-1.119-.553-1.87 1.42-.867 2.538-1.902 3.243-3.002.778-1.215.988-2.413.607-3.465zM9.031 8.007c-.18-.313-.346-.62-.5-.917.161-.083.325-.164.491-.241-.005.375-.002.762.009 1.158zm-.135-2.572c-.319.137-.63.283-.934.438-.326-.788-.414-1.234-.431-1.464.227.103.66.364 1.365 1.026zm-.387 8.745c-.875 0-1.656-.113-2.32-.337l-.357-.12-2.372.853.039-1.828-1.2-1.383 2.378-.856.197-.318c.543-.875 1.422-1.72 2.552-2.458.486.935 1.098 1.953 1.784 2.965.127 1.212.314 2.382.545 3.408-.426.05-.843.074-1.246.074zm1.92-9.38c.115-.92.272-1.376.376-1.592.032.045.07.103.11.175.167.293.338.71.5 1.218-.331.079-.664.17-.994.273l.008-.073zm.588 9.094c-.074-.325-.144-.666-.209-1.02.248.31.495.608.741.892-.177.047-.355.09-.532.128zm.958 2.685c-.026-.036-.055-.08-.086-.134-.174-.293-.354-.725-.523-1.254.33-.074.662-.16.992-.258-.113.94-.276 1.42-.383 1.646zm1.964-2.156l-.038-.035c.316-.13.628-.271.93-.42.217.528.357.977.407 1.308.007.049.012.09.015.127-.22-.1-.636-.351-1.314-.98zm4.6-5.773c-.164.534-.508 1.113-.994 1.673-.525.605-1.195 1.175-1.99 1.693-.807.526-1.706.973-2.674 1.33-.746-.824-1.534-1.818-2.284-2.887-.05-.07-.099-.141-.147-.211l-.025-.268c-.113-1.289-.151-2.549-.111-3.658 1.403-.494 2.836-.755 4.15-.755 1.105 0 2.08.185 2.819.534.657.31 1.083.725 1.267 1.232.141.39.138.834-.01 1.317z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.45.068c.05.004.1.012.152.014.284.01.554.076.81.205.173.088.335.192.493.306 1.043.75 2.086 1.5 3.129 2.252.244.176.486.354.728.532.081.06.159.126.229.2.063.066.118.138.158.222.024.05.043.1.045.158.001.014.008.03.013.044v13.771c-.016.035-.013.073-.013.109-.003.157-.04.307-.095.452-.064.172-.172.31-.315.42-.144.111-.309.175-.482.219-.186.048-.375.064-.565.076-.213.014-.425.025-.639.037l-.293.018-.638.04-.632.038c-.207.013-.416.028-.623.04l-.64.038-.877.056-.45.027-.75.046-.639.04-.623.037c-.208.013-.416.028-.624.04l-.64.038-.877.056c-.3.02-.6.036-.9.054l-.293.018-.631.04-.632.038-.723.045c-.065.004-.129.008-.193.014-.019.003-.038.011-.058.016h-.37c-.02-.006-.038-.014-.059-.017-.063-.01-.127-.017-.19-.029-.27-.046-.503-.165-.694-.366-.076-.08-.15-.166-.218-.255-.355-.468-.707-.937-1.06-1.406l-1.412-1.876c-.135-.18-.262-.366-.368-.565-.146-.274-.253-.563-.28-.878-.001-.027-.005-.053-.026-.072V2.168c.024-.03.027-.068.03-.105.007-.1.025-.198.052-.294.104-.373.332-.628.69-.758.138-.05.278-.077.422-.088l.516-.037.254-.02.523-.04L3.68.79c.171-.013.343-.028.515-.04.172-.013.344-.024.516-.038l.723-.056.83-.063.84-.063.946-.07.246-.018.53-.04c.17-.014.339-.025.508-.038l.515-.04c.174-.014.35-.025.524-.038l.807-.061.254-.02.516-.04.523-.038c.24-.019.481-.043.724-.048.028 0 .055-.007.083-.01h.17zm3.977 4.5c-.085 0-.17.005-.254.01l-.23.018c-.152.009-.304.013-.455.023l-.91.056-.924.053-.307.019-.662.04-.648.038c-.215.013-.43.028-.647.04-.22.014-.441.025-.662.038l-.91.056-.924.053-.3.018-.654.041c-.219.013-.437.024-.655.038l-.91.056-.924.053-.3.018-.709.043c-.133.009-.268.013-.4.032-.27.04-.414.174-.477.424l-.006.03c-.022.12-.026.241-.026.362V17.49c0 .098.008.194.027.29.051.253.197.416.44.488l.03.008c.11.03.223.037.336.034.129-.004.257-.01.385-.017.224-.012.447-.024.67-.038l.917-.056.94-.053.307-.02.662-.04c.221-.012.442-.024.663-.038.216-.012.431-.026.647-.04l.672-.036v-.001l.23-.012.316-.02.655-.04.663-.037.916-.056c.221-.014.442-.025.663-.038l.316-.019.693-.041c.12-.008.241-.014.362-.02l.647-.041.562-.034c.096-.007.188-.028.278-.063.16-.064.272-.177.332-.341.022-.06.037-.121.048-.183.024-.127.026-.257.026-.385V5.349c0-.08-.004-.158-.01-.237-.011-.11-.038-.218-.094-.315-.06-.104-.143-.179-.26-.207-.048-.011-.097-.02-.145-.021zM16.05 6.686c.005.008.011.014.013.021.031.135.035.27-.004.406-.01.034-.023.07-.04.101-.05.096-.127.16-.231.182l-.46.096c-.054.01-.106.022-.158.033-.016.033-.01.065-.01.096v1.974l.001 6.277v.084c-.008.008-.013.014-.02.018-.248.14-.505.26-.779.338-.167.048-.336.076-.51.08-.118.004-.236-.007-.352-.03-.131-.026-.248-.085-.354-.167-.09-.07-.17-.152-.243-.24-.136-.166-.266-.336-.379-.518-1.162-1.87-2.326-3.738-3.489-5.606-.015-.024-.03-.049-.046-.072-.004-.006-.011-.008-.02-.014-.003.01-.007.017-.007.024v5.665c.13.036.26.06.387.09l.39.09.386.09v.05c-.026.177-.111.32-.246.433-.146.122-.316.185-.503.197-.303.019-.606.034-.91.052l-.9.056-.678.037-.24.014c-.018-.002-.038-.005-.062-.006-.034-.169-.01-.322.084-.462.048-.07.113-.12.196-.144l.579-.166.081-.026.008-.013.002-.008.001-7.477V8.2l-.007-.02c-.014-.003-.031-.008-.048-.01L6.82 8.12c-.059-.005-.118-.01-.177-.017-.017-.002-.034-.007-.053-.012-.018-.075-.015-.149-.006-.221.02-.169.086-.32.2-.444.112-.122.25-.19.415-.202l.823-.062.57-.037.57-.04.539-.038.269-.02h.044c.08.12.157.244.235.366l.241.377.237.37.24.377.474.74.24.376.237.37.236.37.241.377.236.37.241.377.237.37.236.37.241.376c.079.122.156.246.243.376.006-.018.011-.026.012-.035v-.055-5.077l-.002-.097c-.083-.023-.165-.024-.246-.035l-.246-.027-.237-.029-.245-.032c-.02-.06-.02-.117-.013-.175.042-.358.342-.572.588-.586.144-.008.288-.02.431-.028.226-.014.452-.028.678-.04.105-.008.21-.014.316-.02l.655-.037.47-.03h.06zm-3.043-5.492c-.27.019-.539.04-.808.06l-.269.02-.523.04-.524.038-.807.06-.27.02-.546.042-.507.037-.562.042-.5.037-.554.042-.5.037-.563.042-.492.036-.57.043-.492.037-.53.04-.516.038c-.192.014-.384.028-.577.044-.095.008-.19.017-.283.032-.074.011-.144.04-.2.095-.07.07-.076.144-.017.225.01.015.022.03.036.042.02.02.042.038.065.056.473.385.945.77 1.42 1.153.09.073.186.142.282.207.128.086.268.144.419.173.145.028.29.038.437.032.204-.008.407-.02.609-.033.208-.012.416-.027.623-.04l.632-.037c.205-.013.41-.028.615-.04.213-.014.427-.025.64-.038l.3-.019.64-.04c.21-.013.42-.024.63-.038l.632-.04.64-.037.885-.057.901-.053.308-.019.654-.04.354-.022.632-.04.639-.037.732-.045.292-.018c.058-.004.114-.014.171-.044-.017-.1-.067-.167-.14-.222-.648-.48-1.295-.962-1.944-1.44-.308-.227-.655-.345-1.032-.378-.154-.014-.308-.004-.462.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.587.403c1.28.252 2.459.733 3.377 1.71.737.783 1.15 1.737 1.403 2.766.35 1.418.444 2.865.466 4.318.029 1.851-.02 3.695-.398 5.517-.546 2.638-2.093 4.167-4.737 4.723-1.554.326-3.123.4-4.702.403-1.761.003-3.517-.054-5.235-.493-1.852-.473-3.247-1.496-3.958-3.332-.38-.985-.551-2.012-.665-3.053-.049-.443-.092-.886-.138-1.328V8.18c.022-.139.056-.278.066-.418C.144 6.626.28 5.5.611 4.403c.566-1.87 1.736-3.17 3.628-3.714C5.141.429 6.08.233 7.012.15c2.531-.225 5.066-.241 7.575.252zM8.308 7.768c-2.051-.034-3.763 1.635-3.805 3.711-.043 2.117 1.605 3.823 3.744 3.876 2.069.052 3.797-1.636 3.84-3.751.041-2.096-1.638-3.801-3.779-3.836zm6.845-3.087H4.69v1.86h8.668v8.65h1.795V4.681zM8.27 9.618c1.078-.008 1.942.85 1.954 1.943.013 1.048-.868 1.93-1.928 1.931-1.052.002-1.92-.846-1.931-1.887-.012-1.1.832-1.98 1.905-1.987z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M15.527 10.325c-2.383 0-4.314 1.93-4.314 4.312 0 2.383 1.931 4.314 4.314 4.314 2.382 0 4.313-1.931 4.313-4.314 0-2.381-1.931-4.312-4.313-4.312zm-11.206 0c-2.382 0-4.313 1.93-4.313 4.313 0 2.382 1.93 4.313 4.313 4.313 2.382 0 4.313-1.931 4.313-4.313 0-2.382-1.931-4.313-4.313-4.313zm9.916-5.392c0 2.382-1.931 4.314-4.313 4.314-2.383 0-4.314-1.932-4.314-4.314S7.541.62 9.924.62c2.382 0 4.313 1.931 4.313 4.313z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.649 1C.297.996.004 1.277 0 1.633c0 .036.004.076.008.112l2.72 16.51c.068.417.43.726.854.73H16.63c.317.004.59-.225.641-.537l2.72-16.699c.057-.348-.18-.677-.528-.733-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.72 15.173c3.595-5.85 8.296-6.023 13.826-3.336 1.538.741 3.246 1.546 4.104 1.95.313.144.454.512.316.828l-1.954 4.42c-.069.155-.198.277-.358.336-.16.06-.337.052-.491-.021l-4.07-1.935c-2.948-1.408-4.583-1.737-6.209.947-.23.382-.442.738-.606 1.013-.087.146-.228.25-.392.29-.165.041-.338.014-.483-.075L.3 17.064c-.293-.18-.387-.562-.212-.858.196-.31.426-.698.631-1.033zM14.94.636c.171-.04.35-.006.496.092l4.103 2.525c.293.181.387.563.212.859-.196.31-.426.697-.631 1.032-3.596 5.843-8.297 6.023-13.84 3.34-1.537-.742-3.245-1.547-4.104-1.95-.313-.144-.454-.512-.315-.828l1.954-4.42c.068-.156.197-.277.357-.337.16-.06.338-.052.492.022L7.72 2.896c2.949 1.408 4.584 1.737 6.21-.947.23-.382.442-.738.606-1.013.087-.152.234-.26.404-.3z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.771 6.655c1.063.224 1.895.766 2.426 1.727.373.673.482 1.397.346 2.144-.28 1.533-1.574 2.658-3.078 2.703-1.695.051-2.975-.964-3.446-2.704v.322c0 1.883.004 3.767 0 5.65-.004 1.77-1.275 3.139-3.065 3.308-1.624.154-3.148-1.037-3.463-2.706-.34-1.795.887-3.497 2.822-3.842-1.92-.507-3.002-1.67-2.828-3.66.145-1.648 1.21-2.572 2.854-2.946-1.305-.244-2.204-.914-2.669-2.088-.846-2.139.701-4.44 3.028-4.476C8.913.053 11.129.059 13.344.086c1.712.02 3.115 1.34 3.232 2.97.13 1.806-.996 3.248-2.805 3.6zm-3.74 2.71c.347-1.411 1.23-2.296 2.707-2.678H10.03v2.679z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M18.659 4.98c-.895-1.531-2.108-2.745-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341c-1.532.894-2.745 2.108-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091.113-.104.17-.234.17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051c-.19.035-.432.05-.723.046-.29-.004-.592-.035-.904-.091-.313-.056-.604-.187-.873-.39-.269-.205-.46-.472-.573-.801l-.13-.3c-.087-.2-.223-.421-.41-.664-.187-.243-.375-.408-.566-.495l-.091-.065c-.061-.043-.118-.096-.17-.156-.052-.061-.09-.122-.117-.183-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065.208-.043.403-.108.586-.195.078-.582.29-1.029.638-1.341-.495-.052-.94-.13-1.335-.235-.395-.104-.803-.273-1.224-.508-.421-.234-.77-.525-1.048-.872s-.506-.803-.684-1.367c-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351.807-.225 1.64-.338 2.5-.338.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367-.282.343-.633.632-1.054.866-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.91 11.374L18.866 8.16c-.006-.03-.014-.059-.026-.086l-2.098-6.46c-.114-.341-.436-.57-.796-.568-.36-.002-.68.23-.787.573l-2 6.155H6.845L4.842 1.62c-.107-.341-.425-.574-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684c.165.12.39.12.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95c-.09-.065-.126-.18-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429c.036.104-.001.22-.09.284z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M9.936 0h7.957c1.202 0 1.947.747 1.947 1.952v15.936c0 1.205-.745 1.952-1.946 1.952H1.936C.749 19.84 0 19.088 0 17.9V1.94C0 .751.75.001 1.936.001h8zm6.366 12.68c-.034.087-.052.166-.093.23-.193.308-.354.647-.597.908-.282.303-.635.165-.695-.245-.025-.172-.008-.362.035-.531.19-.736.391-1.47.598-2.202.184-.65.284-1.306.146-1.978-.265-1.288-1.434-1.959-2.681-1.542-.599.2-1.072.576-1.462 1.06-.16.2-.3.413-.486.669l.369-1.704c-1.003 0-1.973-.002-2.942.003-.042 0-.11.05-.122.088-.139.488-.27.978-.41 1.491H9.38c-.015.081-.023.145-.038.206-.247.989-.504 1.975-.737 2.967-.098.42-.294.778-.577 1.09-.395.439-.86.768-1.48.782-.387.009-.584-.206-.567-.59.005-.12.013-.244.042-.362.37-1.505.745-3.009 1.118-4.514l.288-1.161c-1.109 0-2.186-.002-3.263.003-.049 0-.128.051-.14.094-.14.487-.269.976-.407 1.488h1.394c-.013.075-.021.13-.035.186-.214.878-.435 1.755-.644 2.634-.147.62-.346 1.23-.325 1.882.036 1.07.892 1.799 1.952 1.66.843-.112 1.477-.56 1.989-1.21.06-.076.116-.154.175-.23l.033.017-.315 1.285c.09.005.16.012.228.012.51 0 1.02-.007 1.531.004.172.004.246-.038.29-.219.347-1.429.698-2.858 1.072-4.28.095-.363.25-.719.427-1.05.19-.356.495-.614.888-.746.731-.247 1.411.212 1.435.982.006.212-.02.432-.073.637-.114.438-.258.866-.383 1.301-.179.623-.335 1.251-.313 1.905.018.557.182 1.05.706 1.344.681.383 1.76.291 2.362-.205.586-.482.865-1.143 1.078-1.863l-.788-.295zM6.62 3.878c-.7-.003-1.19.474-1.193 1.162-.002.647.52 1.194 1.155 1.207.664.013 1.215-.523 1.22-1.189.004-.682-.492-1.177-1.182-1.18z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(583);function s({width:e,color:t}){const n=16*e/16,s={one:`IconJira-${o.getRandomString()}-path-1`,two:`IconJira-${o.getRandomString()}-path-2`};return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("defs",null,i.h("linearGradient",{id:s.one,x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"})),i.h("linearGradient",{id:s.two,x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"}))),i.h("path",{fill:t||"#2684FF",d:"M15.286 7.55L8.403.667 7.736 0 2.554 5.181.184 7.55c-.245.248-.245.648 0 .895L4.92 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.187-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.364 2.365z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${s.one})`,d:"M7.736 5.633C6.187 4.085 6.18 1.577 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${s.two})`,d:"M10.106 7.991l-2.37 2.372c1.554 1.555 1.554 4.076 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M15.285 7.55L8.402.667 7.735 0l-5.18 5.181L.184 7.55c-.247.248-.247.648 0 .895l4.733 4.734 2.817 2.816 5.181-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.188-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.365 2.365z"}))}s.defaultProps={width:16},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.26 10.594c1.598 1.042 3.199 2.08 4.798 3.12.157.102.156.104-.004.208-2.997 1.95-5.994 3.898-8.986 5.852-.139.09-.22.03-.323-.037-1.235-.804-2.47-1.61-3.706-2.413L.826 13.935c-.054-.035-.118-.06-.163-.13l1.364-.89 3.569-2.32c.34.224.681.447 1.023.67l2.257 1.46c.307.198.616.392.918.599.103.07.175.065.278-.002 1.056-.69 2.115-1.375 3.173-2.062l.136-.095.879-.57zM10.079.073c2.985 1.947 5.974 3.889 8.962 5.832l.152.104c-.034.071-.1.091-.152.125l-.862.56c-1.599 1.042-3.198 2.081-4.798 3.122-.046.03-.09.063-.136.095-1.058.686-2.117 1.37-3.173 2.061-.103.068-.175.073-.278.002-.302-.207-.61-.401-.918-.6L6.62 9.917c-.812-.531-1.623-1.063-2.435-1.592C3.35 7.78 2.516 7.238 1.68 6.695L.797 6.12c-.046-.03-.091-.061-.15-.102l.54-.351C4.049 3.805 6.912 1.944 9.773.08c.109-.07.186-.085.306-.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.84 6.933l-9.377 11.411c-.07.085-.135.173-.205.258-.197.24-.48.24-.677.002-1.698-2.072-3.396-4.144-5.096-6.215C3.03 10.618 1.575 8.85.119 7.08L0 6.933v-.271l.087-.125c1.227-1.772 2.451-3.545 3.685-5.31.069-.1.206-.194.322-.209.39-.05.785-.06 1.177-.089C6.274.857 7.278.78 8.282.713 8.916.672 9.555.594 10.187.63c1.777.097 3.551.253 5.328.363.316.019.495.136.669.39 1.21 1.766 2.435 3.521 3.656 5.28v.27zm-15.436.276L9.92 17.507l5.515-10.298H4.404zm.36-.838h10.311L9.92 1.558 4.764 6.371zm3.982-4.828l-.018-.048-1.192.085c-.959.067-1.918.135-2.877.2-.11.007-.157.05-.165.163-.076 1.03-.156 2.06-.234 3.088-.017.228-.03.456-.046.684l.042.02 4.49-4.192zm2.366-.047l-.019.047 4.534 4.232c-.008-.169-.01-.272-.018-.375-.087-1.132-.18-2.264-.257-3.397-.012-.182-.085-.22-.247-.23-.862-.055-1.724-.121-2.586-.182-.47-.033-.938-.063-1.407-.095zM7.45 14.72l.032-.031c-.013-.028-.023-.058-.038-.085-1.3-2.428-2.601-4.856-3.9-7.286-.05-.095-.109-.122-.21-.122-.634.005-1.266.002-1.9.003-.039 0-.08.011-.142.021l6.158 7.5zm4.907-.03l.034.027L18.566 7.2c-.708 0-1.36.006-2.01-.005-.154-.002-.224.053-.293.183-1.272 2.383-2.549 4.764-3.824 7.146-.03.054-.055.111-.082.168zm6.293-8.309l-2.375-3.43c-.015.007-.03.014-.043.022l.264 3.409h2.154zM1.194 6.376h2.15l.263-3.407-.046-.014-2.368 3.421z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 11 9"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e,"fill-rule":"nonzero"},i.h("path",{d:"M112.477 14c.208 0 .423-.092.61-.27l3.647-3.585c.165-.163.266-.404.266-.645 0-.234-.1-.475-.266-.638l-3.647-3.586c-.187-.184-.402-.276-.61-.276-.517 0-.87.354-.87.822 0 .262.116.46.28.624l1.142 1.134 1.25 1.055H106.91c-.545 0-.911.348-.911.865s.366.872.912.872h7.367l-1.25 1.056-1.141 1.133c-.165.156-.28.362-.28.617 0 .468.352.822.869.822z",transform:"translate(-1139 -265) translate(640 192) translate(0 56) translate(393 12)"}))))}o.defaultProps={color:"var(--cornflower-blue)",width:11,height:9},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}))}o.defaultProps={width:16,color:"#0079BF"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){return i.h("svg",{width:e,viewBox:"0 0 16 15"},i.h("path",{fill:t,d:"M16 12.002c0 .51-.385.933-.88.991l-.115.007h-2.817l-1.925 1.925L8.337 13H1c-.512 0-.934-.386-.992-.882L0 12V1C0 .486.387.064.884.006L1.001 0H15c.513 0 .936.386.993.883L16 1v11.002zM8.49.998L1.001 1 1 12.002 8.544 12h.207l1.512 1.511L11.774 12h3.23l-.003-4.477L15 7.5V1H8.5L8.49.999zM12.5 7.5c.277 0 .5.224.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.224-.5-.5 0-.246.177-.45.41-.492L3.5 7.5h9zm0-3c.277 0 .5.223.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.223-.5-.5 0-.246.177-.45.41-.492L3.5 4.5h9z"}))}o.defaultProps={color:"var(--teflon)",width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("g",{fill:n},i.h("rect",{x:"5",width:"2",height:"12",rx:"1"}),i.h("rect",{y:"5",width:"12",height:"2",rx:"1"})))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("rect",{fill:n,y:"5",width:"12",height:"2",rx:"1"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 26"},i.h("path",{fill:e,d:"M12.417.958c.354 0 .708.142.991.425.284.284.425.638.425.992V3.65l6.234 3.612c.283.213.566.496.637.85.071.071.071.213.071.355 0 .212-.07.495-.212.708l-.78 1.346 3.188 5.454c.142.354.212.708.07 1.133-.07.354-.283.638-.637.85l-11.9 6.8-.268.154c-.995.54-2.099.838-3.203.838-1.7 0-3.329-.637-4.604-1.842C1.225 22.704.446 21.075.375 19.375v-17c0-.354.142-.708.425-.992.283-.283.637-.425.992-.425zm-.071 1.346H1.72v17c.07 1.346.637 2.621 1.629 3.542.992.991 2.337 1.487 3.683 1.487 1.346 0 2.621-.495 3.613-1.416l.142-.142.424-.425c.071-.142.142-.213.213-.283.07-.142.142-.213.212-.355l.071-.07c.425-.709.638-1.488.638-2.409V2.304zm-5.242 13.53c1.771 0 3.188 1.416 3.188 3.187 0 1.77-1.417 3.187-3.188 3.187-1.77 0-3.187-1.416-3.187-3.187s1.416-3.188 3.187-3.188zm11.9-3.896L13.48 21.5l8.288-4.817-2.763-4.745zm-11.9 5.312c-.991 0-1.77.78-1.77 1.77 0 .992.779 1.772 1.77 1.772.992 0 1.771-.78 1.771-1.771 0-.992-.78-1.771-1.77-1.771zm6.73-11.9v12.608l5.524-9.42-5.525-3.188z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(583);function s({width:e,color:t}){const n=16*e/16,s=`IconTeams-${o.getRandomString()}`;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},t?i.h(i.Fragment,null,i.h("path",{fill:t,d:"M8.81,0.58c1.34,0,2.43,1.09,2.43,2.43s-1.09,2.43-2.43,2.43c-0.04,0-0.07-0.01-0.1-0.01V4.6 c0-0.65-0.53-1.19-1.19-1.19h-1.1C6.4,3.28,6.38,3.15,6.38,3.01C6.38,1.66,7.47,0.58,8.81,0.58z M14.03,2.1 c0.92,0,1.67,0.75,1.67,1.67c0,0.92-0.75,1.67-1.67,1.67c-0.92,0-1.67-0.75-1.67-1.67C12.35,2.84,13.1,2.1,14.03,2.1z M5.87,5.74 H2.33v0.72h1.34v3.73h0.86V6.46h1.35V5.74z M7.52,3.92c0.35,0,0.64,0.26,0.68,0.6L8.2,4.6v6.84c0,0.35-0.26,0.64-0.6,0.68 l-0.09,0.01H0.68c-0.35,0-0.64-0.26-0.68-0.6L0,11.44V4.6c0-0.35,0.26-0.63,0.6-0.68l0.09-0.01H7.52z M15.3,6.15 c0.39,0,0.7,0.32,0.7,0.71v3.77c0,1.44-1.15,2.61-2.58,2.61h-0.01c-0.23,0-0.45-0.04-0.66-0.1c0.27-0.61,0.42-1.28,0.41-1.99V6.86 c0.01-0.27-0.1-0.51-0.25-0.72H15.3z M11.97,6.15c0.39,0.01,0.69,0.33,0.68,0.72l0,4.48c-0.04,2.24-1.84,4.07-4.1,4.12 c-1.81-0.04-3.3-1.23-3.86-2.84h2.82c0.66,0,1.19-0.53,1.19-1.19V6.15H11.97z"})):i.h(i.Fragment,null,i.h("defs",null,i.h("linearGradient",{id:s,x1:"17.372%",x2:"82.628%",y1:"-6.51%",y2:"106.51%"},i.h("stop",{offset:"0%","stop-color":"#5A62C3"}),i.h("stop",{offset:"50%","stop-color":"#4D55BD"}),i.h("stop",{offset:"100%","stop-color":"#3940AB"}))),i.h("g",{fill:"none",transform:"translate(0 1)"},i.h("path",{fill:"#5059C9",d:"M11.181 5.535h4.072c.385 0 .697.315.697.704v3.75c0 1.43-1.147 2.59-2.56 2.59h-.012c-1.414 0-2.56-1.16-2.56-2.589V5.903c0-.204.162-.368.363-.368z"}),i.h("circle",{cx:"13.987",cy:"3.17",r:"1.66",fill:"#5059C9"}),i.h("circle",{cx:"8.805",cy:"2.415",r:"2.415",fill:"#7B83EB"}),i.h("path",{fill:"#7B83EB",d:"M11.949 5.535H5.158c-.384.01-.688.328-.679.712v4.273c-.054 2.304 1.77 4.216 4.074 4.272 2.305-.056 4.128-1.968 4.075-4.272V6.247c.009-.384-.295-.703-.68-.712z"}),i.h("path",{fill:"#000",d:"M9.006 5.535V11.5c-.002.273-.168.52-.42.623-.081.035-.168.052-.255.052H4.903c-.048-.122-.092-.243-.129-.369-.129-.423-.195-.863-.195-1.306V6.243c-.01-.382.293-.699.675-.708h3.752z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 5.535V11.9c0 .088-.018.175-.052.256-.103.254-.347.42-.618.423H5.073c-.063-.123-.121-.245-.172-.371-.052-.126-.092-.245-.128-.37-.129-.426-.194-.869-.194-1.313V6.246c-.01-.383.29-.702.67-.711h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 5.535v5.567c-.003.37-.301.669-.67.672H4.773c-.129-.422-.194-.86-.194-1.3V6.24c-.01-.38.29-.695.67-.704h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.201 5.535v5.567c-.003.37-.306.669-.681.672H4.675c-.13-.422-.196-.86-.197-1.3V6.24c-.009-.38.296-.695.681-.704h3.042z",opacity:".2"}),i.h("path",{fill:"#000",d:"M9.006 3.682v1.14c-.063.005-.122.008-.184.008-.063 0-.122-.003-.185-.007-.124-.008-.248-.028-.369-.058-.747-.174-1.364-.688-1.66-1.384-.05-.117-.09-.238-.118-.362h1.841c.372.001.674.297.675.663z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.302 3.996v.734c-.77-.177-1.406-.701-1.711-1.41h1.015c.384.002.694.304.696.676z",opacity:".2"}),i.h("path",{fill:`url(#${s})`,d:"M.73 3.32h6.792c.375 0 .68.305.68.68v6.793c0 .375-.305.679-.68.679H.729c-.375 0-.679-.304-.679-.68V4c0-.375.304-.68.68-.68z"})),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M8.805 1c1.334 0 2.415 1.081 2.415 2.415S10.139 5.83 8.805 5.83c-.209 0-.411-.026-.605-.076v.78h7.053c.353 0 .644.266.69.61l.007.095v3.75c0 1.376-1.06 2.5-2.398 2.585l-.162.005h-.012c-.4 0-.777-.093-1.114-.257-.636 1.423-2.048 2.43-3.71 2.47-1.979-.048-3.602-1.463-3.989-3.32H.73c-.375 0-.679-.304-.679-.68V5c0-.375.304-.68.68-.68h5.835c-.113-.28-.175-.585-.175-.905C6.39 2.081 7.47 1 8.805 1zm5.182 1.51c.917 0 1.66.743 1.66 1.66 0 .917-.743 1.66-1.66 1.66-.917 0-1.66-.743-1.66-1.66 0-.917.743-1.66 1.66-1.66z"}),i.h("path",{fill:"#FFF",d:"M5.887 6.851L4.549 6.851 4.549 10.56 3.696 10.56 3.696 6.851 2.365 6.851 2.365 6.132 5.887 6.132z"})))}s.defaultProps={width:16},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M6 15c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8zM6 10c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zm14.5.5c.276 0 .5.224.5.5s-.224.5-.5.5h-11c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11zM6 4c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({class:e,color:t,width:n,height:o}){return i.h("svg",{class:e,width:n,height:o,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M11.5 8.5c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 9.5 0 9.276 0 9s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 6.5 0 6.276 0 6s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 3.5 0 3.276 0 3s.224-.5.5-.5h11z"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("g",null,i.h("path",{d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zM8.157 6.336c-.398-.399-1.029-.394-1.42-.002l-.403.402c-.393.392-.391 1.028.002 1.421L10.178 12l-3.842 3.843c-.399.398-.394 1.029-.002 1.42l.402.403c.392.393 1.028.391 1.421-.002L12 13.822l3.843 3.842c.398.399 1.029.394 1.42.002l.403-.402c.393-.392.391-1.028-.002-1.421L13.822 12l3.842-3.843c.399-.398.394-1.029.002-1.42l-.402-.403c-.392-.393-1.028-.391-1.421.002L12 10.178z",transform:"translate(-940 -173) translate(940 173)"})))))}o.defaultProps={color:"var(--gandalf)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({class:e}){return i.h("svg",{class:e,width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M9.978 3.439c-.086.316-.147.64-.176.975H2.028l-.001 10.733 7.748-.001h.213l1.552 1.474 1.552-1.474h3.318l-.002-4.413c.351-.025.693-.08 1.024-.158v4.572c0 .537-.458.975-1.022.975h-2.893L11.54 18l-1.977-1.878H2.025c-.565 0-1.025-.438-1.025-.975V4.413c0-.537.461-.974 1.028-.974zm3.86 7.317c.284 0 .513.218.513.488s-.23.487-.513.487H4.595c-.284 0-.514-.218-.514-.487 0-.27.23-.488.514-.488zM15.892 1c.284 0 .513.219.513.488v2.927h3.081c.284 0 .514.218.514.487 0 .27-.23.488-.514.488h-3.08v2.927c0 .27-.23.488-.514.488-.284 0-.514-.219-.514-.488V5.39h-3.08c-.285 0-.514-.218-.514-.488 0-.269.23-.487.513-.487h3.081V1.488c0-.27.23-.488.514-.488zm-5.285 6.83c.214.35.465.675.748.975h-6.76c-.284 0-.514-.219-.514-.488 0-.27.23-.488.514-.488z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function(){return i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M2.75 19c-.414 0-.75-.336-.75-.75s.336-.75.75-.75H4v-2c0-2.46 1.481-4.575 3.6-5.5C5.481 9.074 4 6.96 4 4.5v-2h-.75c-.414 0-.75-.336-.75-.75S2.836 1 3.25 1h13.5c.414 0 .75.336.75.75s-.336.75-.75.75H16v2c0 2.46-1.481 4.575-3.6 5.5 2.119.925 3.6 3.04 3.6 5.5v2h1.25c.414 0 .75.336.75.75s-.336.75-.75.75H2.75zM10 10.5c-2.761 0-5 2.239-5 5v1.182C6.075 15.065 7.913 14 10 14c2.088 0 3.926 1.066 5.001 2.684L15 15.5c0-2.761-2.239-5-5-5zm5-8H5v2c0 2.761 2.239 5 5 5s5-2.239 5-5v-2z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({class:e}){return i.h("svg",{class:e,width:"9",height:"12",viewBox:"0 0 9 12"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M29.322 16.279l-1.596 2.34c-.188.348-.657.249-.704-.15l-2.018-9.908c-.047-.398.329-.697.61-.498l8.166 5.228c.329.2.282.697-.094.797l-2.675.846 2.44 3.485c.142.2.095.449-.046.598l-1.173.896c-.188.15-.423.1-.564-.1l-2.346-3.534z",transform:"translate(-25 -8)"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=11*e/14;return i.h("svg",{width:e,height:n,viewBox:"0 0 14 11"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M5.057 7.264l6.8-7.055c.268-.279.702-.279.97 0l.972 1.008c.268.278.268.73 0 1.007l-8.256 8.567c-.268.279-.703.279-.971 0L.202 6.256c-.27-.278-.27-.73 0-1.008l.97-1.008c.269-.278.703-.278.972 0l2.913 3.024z"}))}o.defaultProps={width:14,color:"#C8CF2D"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 31 36"},i.h("path",{fill:e,d:"M35.997 27.472h-.536l-1.177-10.015-16.284 16 17.98-.034c1.66 0 3.02-1.335 3.02-2.985.007-1.632-1.341-2.966-3.003-2.966M28.583 36c.507-.001.918.379.917.854-.006 2.836-2.474 5.14-5.511 5.146-3.038.006-5.495-2.289-5.489-5.124.001-.474.42-.857.92-.858zm-4.85-30c3.74-.008 7.202 2.298 8.884 5.566l3.722-3.722c.499-.498 1.305-.498 1.803 0 .498.497.498 1.304 0 1.803L10.176 37.613c-.249.25-.575.374-.901.374-.327 0-.652-.125-.901-.374-.499-.497-.499-1.305 0-1.803l3.06-3.06c-1.439-.201-2.552-1.433-2.552-2.925.01-1.648 1.334-2.983 2.966-2.983h.528l1.419-11.96C14.382 9.988 18.827 6.01 23.732 6z",transform:"translate(-8 -6)"}))}o.defaultProps={color:"var(--gandalf)",width:31,height:36},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M12 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zm0 1.5c3.038 0 5.5 2.462 5.5 5.5s-2.462 5.5-5.5 5.5-5.5-2.462-5.5-5.5S8.962 6.5 12 6.5zm0 1c-2.485 0-4.5 2.015-4.5 4.5s2.015 4.5 4.5 4.5 4.5-2.015 4.5-4.5-2.015-4.5-4.5-4.5zm.166 1c.24-.004.437.22.433.496v.502c.213.044.432.126.651.256.222.116.315.421.202.67-.113.247-.384.337-.595.197-.672-.397-1.084-.11-1.211.134-.065.121-.072.216-.018.333.054.118.206.291.582.407.52.159.905.483 1.094.91.19.427.163.928-.037 1.32-.147.288-.378.514-.668.655v.608c.011.279-.183.512-.427.512s-.439-.233-.428-.512v-.458c-.313-.023-.65-.126-.998-.323-.217-.116-.308-.415-.201-.66.106-.245.37-.343.582-.216.834.474 1.268.166 1.401-.096.067-.13.072-.254.014-.386-.059-.133-.205-.304-.554-.41-.532-.164-.922-.474-1.117-.893-.194-.422-.158-.919.039-1.294.177-.338.473-.59.834-.71v-.546c-.002-.269.185-.492.422-.496z",transform:"translate(-204 -1013) translate(0 997) translate(200 12)"}))}o.defaultProps={width:16,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("g",null,i.h("path",{"fill-opacity":".5",stroke:e,"stroke-width":"1.2",d:"M5.902.623l5.383 2.739c.052.028.089.074.105.127.004.013.007.026.009.04h0L6.097 6.482c-.062.031-.136.03-.199-.002h0L.715 3.743C.663 3.715.626 3.67.61 3.616.606 3.603.603 3.589.6 3.576h0L5.902.623z",transform:"translate(-4 -4) translate(4 4)"}),i.h("path",{d:"M11.646 5.33l-.081-.051c.399.21.551.704.34 1.102-.077.145-.195.264-.34.34L6.382 9.458c-.24.126-.525.126-.764 0L.435 6.72c-.399-.21-.551-.704-.34-1.102.062-.117.15-.217.259-.29l.081.05 5.183 2.736c.24.126.525.126.764 0l5.183-2.736c.028-.015.055-.032.081-.05z",transform:"translate(-4 -4) translate(4 4)"}),i.h("path",{d:"M11.646 7.777l-.081-.05c.399.21.551.704.34 1.102-.077.145-.195.263-.34.34l-5.183 2.736c-.24.127-.525.127-.764 0L.435 9.17c-.399-.21-.551-.704-.34-1.103.062-.116.15-.216.259-.29l.081.05 5.183 2.737c.24.126.525.126.764 0l5.183-2.737c.028-.015.055-.031.081-.05z",transform:"translate(-4 -4) translate(4 4)"})))))}o.defaultProps={color:"var(--gandalf)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,class:n}){return i.h("svg",{width:e,height:t,class:n,fill:"none",viewBox:"0 0 36 52"},i.h("g",{"clip-path":"url(#clip0)"},i.h("path",{fill:"#0ACF83",d:"M9.251 52C14.081 52 18 48.117 18 43.333v-8.668H9.251c-4.829 0-8.749 3.884-8.749 8.668C.502 48.117 4.422 52 9.251 52z"}),i.h("path",{fill:"#A259FF",d:"M.504 26c0-4.784 3.92-8.668 8.75-8.668h8.748v17.333H9.251C4.422 34.667.504 30.784.504 26z"}),i.h("path",{fill:"#F24E1E",d:"M.506 8.667C.506 3.883 4.424 0 9.253 0H18v17.333H9.254c-4.83 0-8.747-3.882-8.747-8.666z"}),i.h("path",{fill:"#FF7262",d:"M18 0h8.749c4.829 0 8.749 3.883 8.749 8.667s-3.92 8.668-8.75 8.668H18V0z"}),i.h("path",{fill:"#1ABCFE",d:"M35.496 26c0 4.784-3.92 8.667-8.75 8.667C21.919 34.667 18 30.784 18 26s3.92-8.668 8.749-8.668c4.829 0 8.747 3.884 8.747 8.668z"})),i.h("defs",null,i.h("clipPath",{id:"clip0"},i.h("path",{fill:"#fff",d:"M0 0H35V52H0z",transform:"translate(0.5)"}))))}o.defaultProps={width:18,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,class:n}){return i.h("svg",{width:e,height:t,class:n,fill:"none",viewBox:"0 0 58 52"},i.h("path",{fill:"#EA6C00","fill-rule":"evenodd",d:"M11.785 18.684L28.94 51.94.106 18.684h11.679zM46.099 18.684L28.944 51.94l28.834-33.256H46.1z","clip-rule":"evenodd"}),i.h("path",{fill:"#FDAD00","fill-rule":"evenodd",d:"M11.784 18.684h34.31L28.939 51.94 11.784 18.684z","clip-rule":"evenodd"}),i.h("path",{fill:"#FDD231","fill-rule":"evenodd",d:"M28.939.254L12.687 1.955l-.903 16.73L28.94.253z","clip-rule":"evenodd"}),i.h("path",{fill:"#FDD231","fill-rule":"evenodd",d:"M28.939.254l16.252 1.701.903 16.73L28.939.253z","clip-rule":"evenodd"}),i.h("path",{fill:"#FDAD00","fill-rule":"evenodd",d:"M57.778 18.684L45.196 1.955l.903 16.73h11.68zM.106 18.684L12.688 1.955l-.903 16.73H.105z","clip-rule":"evenodd"}),i.h("path",{fill:"#FEEEB7","fill-rule":"evenodd",d:"M28.939.254l-17.155 18.43h34.31L28.939.254z","clip-rule":"evenodd"}))}o.defaultProps={width:29,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,class:n}){return i.h("svg",{width:e,height:t,class:n,fill:"none",viewBox:"0 0 53 52"},i.h("path",{fill:"#470137",d:"M9.385 0h34.23C48.805 0 53 4.222 53 9.444v33.112C53 47.778 48.804 52 43.615 52H9.385C4.195 52 0 47.778 0 42.556V9.444C0 4.222 4.196 0 9.385 0z"}),i.h("path",{fill:"#FF61F6",d:"M27.87 13.667l-6.626 11 7.067 11.666c.044.09.066.178.044.267-.022.089-.11.022-.243.044h-5.057c-.353 0-.596-.022-.75-.244-.465-.933-.95-1.844-1.414-2.778-.464-.91-.972-1.844-1.502-2.8-.53-.955-1.06-1.91-1.59-2.889h-.044c-.464.956-.972 1.912-1.48 2.867-.507.956-1.015 1.911-1.501 2.845-.508.933-1.016 1.888-1.524 2.8-.088.222-.265.244-.508.244H7.884c-.089 0-.155.044-.155-.067-.022-.089 0-.178.044-.244l6.868-11.334-6.691-11.4c-.066-.088-.088-.177-.044-.222.044-.066.132-.089.22-.089h5.014c.11 0 .22.023.309.045.088.044.154.11.22.2.42.955.906 1.91 1.414 2.867.53.955 1.038 1.888 1.59 2.822.53.933 1.016 1.866 1.48 2.822h.044c.463-.978.95-1.933 1.435-2.867.486-.933.994-1.866 1.502-2.8.508-.933.994-1.889 1.48-2.8.021-.089.066-.178.132-.222.088-.044.177-.067.287-.044h4.66c.11-.023.22.044.242.155.023.022-.022.111-.066.156zM38.072 37.111c-1.635.022-3.269-.31-4.748-1-1.391-.644-2.54-1.71-3.335-3.022-.817-1.356-1.214-3.044-1.214-5.067-.022-1.644.397-3.266 1.214-4.689.84-1.444 2.054-2.644 3.512-3.444 1.545-.867 3.4-1.289 5.587-1.289.11 0 .265 0 .463.022.2.023.42.023.685.045v-7.023c0-.155.066-.244.22-.244h4.484c.11-.022.198.067.22.156v21.2c0 .4.023.844.045 1.333.044.467.066.911.088 1.289 0 .155-.066.289-.22.355-1.15.49-2.364.845-3.6 1.067-1.127.2-2.253.311-3.401.311zm2.164-4.444v-9.778c-.199-.044-.398-.089-.596-.111-.243-.022-.486-.045-.73-.045-.86 0-1.722.178-2.494.578-.751.378-1.392.933-1.878 1.645-.485.71-.728 1.666-.728 2.822-.022.778.11 1.555.375 2.289.22.6.552 1.133.994 1.578.42.4.927.71 1.502.888.596.2 1.214.29 1.832.29.332 0 .64-.023.928-.045.287.022.53-.022.795-.111z"}))}o.defaultProps={width:26.5,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,class:n}){return i.h("svg",{width:e,height:t,class:n,fill:"none",viewBox:"0 0 53 52"},i.h("path",{fill:"#001E36",d:"M9.385 0h34.23C48.805 0 53 4.222 53 9.444v33.112C53 47.778 48.804 52 43.615 52H9.385C4.195 52 0 47.778 0 42.556V9.444C0 4.222 4.196 0 9.385 0z"}),i.h("path",{fill:"#31A8FF",d:"M11.925 36.467V13.6c0-.156.066-.245.22-.245.376 0 .73 0 1.238-.022.53-.022 1.082-.022 1.678-.044.596-.022 1.236-.022 1.921-.045.685-.022 1.347-.022 2.01-.022 1.81 0 3.312.222 4.549.69 1.104.377 2.12 1 2.96 1.821.706.711 1.258 1.578 1.611 2.534.331.933.508 1.889.508 2.889 0 1.91-.442 3.488-1.325 4.733-.883 1.244-2.12 2.178-3.555 2.71-1.502.556-3.158.756-4.97.756-.53 0-.883 0-1.103-.022-.221-.022-.53-.022-.95-.022v7.133c.022.156-.088.29-.243.311H12.19c-.177 0-.265-.088-.265-.288zm4.814-18.823v7.467c.31.022.596.044.861.044h1.17c.862 0 1.723-.133 2.54-.4.707-.2 1.326-.622 1.811-1.177.464-.556.685-1.311.685-2.29.022-.688-.155-1.377-.508-1.977-.375-.578-.905-1.022-1.546-1.267-.817-.333-1.7-.466-2.606-.444-.574 0-1.082 0-1.501.022-.442-.022-.751 0-.906.022zM42.4 23.756c-.663-.356-1.37-.6-2.12-.756-.817-.178-1.634-.289-2.473-.289-.442-.022-.906.045-1.325.156-.287.066-.53.222-.685.444-.11.178-.177.4-.177.6 0 .2.089.4.221.578.199.244.464.444.751.6.508.267 1.038.511 1.568.733 1.193.4 2.34.956 3.4 1.623.73.466 1.326 1.088 1.745 1.844.354.711.53 1.489.508 2.289.022 1.044-.287 2.089-.86 2.955-.62.89-1.48 1.578-2.474 1.978-1.082.467-2.407.711-3.997.711-1.016 0-2.01-.089-3.004-.289-.773-.133-1.546-.377-2.252-.71-.155-.09-.265-.245-.243-.423v-3.867c0-.066.022-.155.088-.2.066-.044.133-.022.199.023.861.51 1.767.866 2.738 1.088.84.223 1.723.334 2.606.334.84 0 1.436-.111 1.833-.311.353-.156.596-.534.596-.934 0-.31-.176-.6-.53-.889-.353-.288-1.082-.622-2.164-1.044-1.126-.4-2.164-.933-3.136-1.6-.684-.489-1.258-1.133-1.678-1.889-.353-.71-.53-1.489-.508-2.267 0-.955.265-1.866.75-2.688.553-.89 1.37-1.6 2.32-2.045 1.038-.533 2.34-.778 3.908-.778.906 0 1.833.067 2.739.2.662.09 1.303.267 1.899.512.088.022.177.11.22.2.023.088.045.177.045.266v3.622c0 .09-.044.178-.11.223-.2.044-.31.044-.398 0z"}))}o.defaultProps={width:26.5,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,class:n}){return i.h("svg",{width:e,height:t,class:n,viewBox:"0 0 18 18"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{fill:"#4285F4",d:"M17.64 9.205c0-.639-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z"}),i.h("path",{fill:"#34A853",d:"M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z"}),i.h("path",{fill:"#FBBC05",d:"M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z"}),i.h("path",{fill:"#EA4335",d:"M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"})))}o.defaultProps={width:18,height:18},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n,class:o}){return i.h("svg",{width:e,height:t,class:o,viewBox:"0 0 18 18"},i.h("g",{fill:n},i.h("path",{d:"M988.991 185.71v-3.348h8.424c.126.567.225 1.098.225 1.845 0 5.139-3.447 8.793-8.64 8.793-4.968 0-9-4.032-9-9s4.032-9 9-9c2.43 0 4.464.891 6.021 2.349l-2.556 2.484c-.648-.612-1.782-1.332-3.465-1.332-2.979 0-5.409 2.475-5.409 5.508s2.43 5.508 5.409 5.508c3.447 0 4.716-2.385 4.95-3.798h-4.959v-.009z",transform:"translate(-980.000000, -175.000000)"})))}o.defaultProps={width:18,height:18,color:"rgba(0, 0, 0, 0.4)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t,class:n}){const o=12*e/12;return i.h("svg",{class:n,width:e,height:o,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M6 3.898L2.317.215c-.282-.282-.759-.284-1.052.01l-1.04 1.04c-.298.298-.298.764-.01 1.052L3.898 6 .215 9.683c-.282.282-.284.759.01 1.052l1.04 1.04c.298.298.764.298 1.052.01L6 8.102l3.683 3.683c.282.282.759.284 1.052-.01l1.04-1.04c.298-.298.298-.764.01-1.052L8.102 6l3.683-3.683c.282-.282.284-.759-.01-1.052l-1.04-1.04c-.298-.298-.764-.298-1.052-.01L6 3.898z"}))}o.defaultProps={width:12,color:"#EE6723"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=9*e/9;return i.h("svg",{width:e,height:n,viewBox:"0 0 9 9"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:t},i.h("path",{d:"M4.5 7c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1zm0-7c.552 0 1 .448 1 1v4c0 .552-.448 1-1 1s-1-.448-1-1V1c0-.552.448-1 1-1z"}))))}o.defaultProps={width:9,color:"#FDBD39"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);var o;function s({class:e,width:t,type:n}){return n===o.OUTLINE?i.h("svg",{class:e,width:t,viewBox:"0 0 25 20"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M19.418 12.996c-1.091.714-2.31 1.316-3.625 1.79l-.067.023c-1.01-1.098-2.066-2.427-3.092-3.893l-.24-.345-.04-.433c-.154-1.768-.199-3.468-.133-4.948l.097-.035c1.863-.672 3.773-1.028 5.523-1.028 1.458 0 2.751.248 3.738.715.922.437 1.524 1.032 1.79 1.768.206.57.203 1.21-.009 1.9-.223.727-.685 1.51-1.335 2.26-.69.798-1.566 1.547-2.607 2.226m-9.163 2.821c-1.153 0-2.185-.15-3.066-.449l-.34-.114-.338.121-3.04 1.097.047-2.308.009-.395-.26-.299-1.51-1.746 3.05-1.1.338-.122.188-.304C6.11 8.942 7.401 7.744 9.01 6.746c.644 1.287 1.495 2.722 2.47 4.159.177 1.725.448 3.37.781 4.767-.684.096-1.356.145-2.006.145m2.106-12.369c.276-2.214.744-2.49.774-2.504.047.004.226.113.484.567.261.461.528 1.143.772 1.972v.005c-.69.15-1.391.345-2.096.586.02-.215.041-.424.066-.626m6.121 11.283c.369.848.606 1.57.684 2.093.074.488-.012.617-.027.635-.005.002-.019.005-.045.005-.104 0-.693-.069-2.155-1.428-.133-.123-.272-.256-.412-.395l.003-.033c.683-.263 1.336-.557 1.952-.877m-5.289.782c-.218-.9-.409-1.912-.564-2.992.704.947 1.42 1.83 2.116 2.608-.519.153-1.037.282-1.552.384m2.357.483c-.223 2.386-.708 3.017-.833 3.06-.044-.005-.21-.106-.452-.514-.25-.423-.507-1.052-.742-1.818-.022-.07-.044-.142-.065-.215.678-.138 1.368-.319 2.062-.544l.03.031M9.295 5.12c-.853-2.02-.61-2.511-.583-2.554.007-.002.02-.004.042-.004.122 0 .82.088 2.569 1.82l-.004.053c-.677.272-1.322.575-1.93.903l-.094-.218m2.025 3.808C10.744 8 10.24 7.102 9.827 6.27c.459-.25.94-.484 1.436-.698-.031 1.043-.012 2.178.057 3.355M24.336 6.26c-.738-2.045-3.275-3.162-6.495-3.162-.8 0-1.642.07-2.509.21l-.014-.048c-.312-1.06-.648-1.872-1-2.41C13.95.285 13.552 0 13.134 0c-.028 0-.056.001-.083.004-.423.037-.773.344-1.042.914-.248.526-.434 1.271-.566 2.276-1.147-1.045-2.053-1.575-2.695-1.575-.22 0-.414.058-.578.173-.347.243-.497.685-.445 1.313.05.605.28 1.385.7 2.382l.141.324C6.738 6.929 5.312 8.277 4.46 9.657L0 11.265l2.49 2.878-.079 3.805 4.449-1.605c.982.331 2.136.502 3.395.502.726 0 1.486-.056 2.268-.172.032.112.065.221.098.328.308 1.002.622 1.73.96 2.226.35.513.733.773 1.139.773.027 0 .054-.001.08-.004.423-.036.775-.353 1.049-.941.241-.52.428-1.268.557-2.227 1.146 1.047 2.052 1.577 2.696 1.577.22 0 .415-.058.58-.173.358-.252.505-.723.435-1.4-.066-.646-.331-1.5-.787-2.541l-.01-.024c3.79-2.234 5.94-5.444 5.016-8.006"})):i.h("svg",{class:e,width:t,viewBox:"0 0 60 48"},i.h("path",{fill:"#FDBD39",d:"M9.22500276 33.0840797L6.086191 34.2307306l-.1685294 9.3377181 10.8655059-3.9692989c-3.7267412-1.2518612-6.4482353-3.4543705-7.55816474-6.5150701"}),i.h("path",{fill:"#F69833",d:"M10.8676263 23.2078406L-.023009 27.1863498l6.1092 7.0443808 3.13881176-1.1466509c-1.10668235-3.0517727-.4242-6.5015026 1.64262354-9.8762391"}),i.h("path",{fill:"#FECF33",d:"M29.1946263 9.73401033C15.3264381 14.8002244 6.38569688 25.2544118 9.22500276 33.0840797L59.4462381 14.7376295C56.6069322 6.9079262 43.0628498 4.6677609 29.1946263 9.73401033"}),i.h("path",{fill:"#EE6723",d:"M39.4765792 38.0876989c13.8682236-5.0662495 22.8257647-15.4740664 19.9696589-23.3500694L9.22500276 33.0840797C12.0810734 40.9601181 25.608391 43.1539129 39.4765792 38.0876989"}),i.h("path",{fill:"#F69833",d:"M59.4462381 14.7376295L9.22500276 33.0840797c.98340004 2.7118406 4.73350584 4.0478701 9.99532944 4.0478701 5.1298588 0 11.6965412-1.2689004 18.5425764-3.7698952 13.8682589-5.066214 23.6254589-13.2687587 21.6833295-18.6244251"}),i.h("path",{fill:"#FDBD39",d:"M49.4509086 10.689724c-5.1298941 0-11.6965411 1.2689358-18.542647 3.7698952C17.0400734 19.5258686 7.28283806 27.7283779 9.22500276 33.0840797L59.4462381 14.7376295c-.9834-2.711876-4.7335059-4.0479055-9.9953295-4.0479055"}),i.h("path",{fill:"#EE6723",d:"M46.6773557 44.0629018h-.0003529c-1.4775883 0-3.6574942-1.3346833-6.4792236-3.9669254-3.3382588-3.1141904-7.1622353-7.6754657-10.7676706-12.8435247-3.6052941-5.1678465-6.5678117-10.3344886-8.3418-14.548251-1.9328117-4.59195273-2.2083882-7.41538004-.8191058-8.3919232.3046235-.21389226.6718235-.32225536 1.0913294-.32225536 1.1300823 0 3.3320117.84136384 7.4037529 4.84984207l.0890471.08760443-.0120353.12458746c-.0278471.28796456-.0535059.57851512-.0763765.86368117l-.0453882.56625833-.3994588-.4024561c-4.3871648-4.41986127-6.3183883-4.89702732-6.9451412-4.89702732-.1787294 0-.3210706.03634538-.4231059.1080797-.6026118.4234273-.6414 2.4973107 1.2324706 6.94869962 1.7423294 4.1386627 4.6617529 9.2271587 8.2204941 14.3280886 3.5588824 5.1014258 7.3243412 9.5952885 10.6029176 12.6537919 3.5354471 3.2980073 5.1286236 3.6541284 5.6495295 3.6541284.1798588 0 .3260117-.038648.4344-.1148812.6357176-.4466657.6364588-2.6683395-1.4532353-7.4595188l-.0959294-.2199498.21-.1149521c.2100352-.1149874.4131529-.2282037.6036352-.3364959l.2515765-.1429727.1159765.2657181c1.4817176 3.3949284 2.8667647 7.7097919 1.0506 8.9864856-.3062118.2150967-.6752118.3241682-1.0969059.3241682zm-.0003529-.5236782h.000375l-.00025.2618214-.000125-.2618214z"}),i.h("path",{fill:"#EE6723",d:"M39.8132498 37.9445491l-.0211059.2609358c-.3506117 4.3383144-1.2737647 9.5539837-3.6807529 9.7650775-.0484235.0043217-.0986471.0065535-.1488706.0065535-1.6351412 0-3.1821176-2.3427897-4.5978706-6.9634008-1.3395176-4.3713653-2.3789647-10.240614-2.9268706-16.526524-.5479411-6.2845992-.5397176-12.2458096.0231177-16.78540512.6134823-4.9467631 1.7814353-7.53011956 3.4712117-7.6784059.0499412-.00460517.1017177-.0069786.1528589-.0069786 1.1862 0 2.9739176 1.3431498 4.8040588 7.59930332l-1.1949882.23064797c-.6110471-2.09063912-1.2769765-3.79100812-1.9380706-4.9594096-.6115412-1.0807262-1.2061412-1.67589077-1.6743883-1.67589077-.0153882 0-.0308823.00063764-.0461647.00194834-.7324235.06433063-1.7990823 1.84096826-2.3937529 6.63629225-.5528118 4.458155-.5594824 10.3300251-.0187765 16.5339631.5410235 6.204859 1.5634941 11.986397 2.8789765 16.2794391.5891294 1.9227277 1.2353294 3.5073299 1.8687176 4.5826007.5840824.9915631 1.1493177 1.537665 1.5915883 1.537665.0152117 0 .0303529-.0007085.0454588-.0019838.7008-.0614258 2.0214706-1.9102229 2.5773176-8.4149136l1.2283059-.4215144"}))}!function(e){e.DEFAULT="default",e.OUTLINE="outline"}(o||(o={})),s.defaultProps={width:25,type:"default"},t.default=s},,,,function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(820),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.developer=t.user=t.auth=t.styleguide=t.project=t.checkWebhookUrlHealth=t.deleteWebhook=t.updateWebhook=t.createWebhook=t.getWebhook=t.getWebhooks=t.getAppStatus=t.renamePersonalAccessToken=t.deletePersonalAccessToken=t.createPersonalAccessToken=t.getPersonalAccessTokens=t.deleteApplication=t.updateApplication=t.createApplication=t.getOwnedApplication=t.getOwnedApplications=t.revokeAuthorizedApplication=t.getAuthorizedApplications=t.updateStyleguideComponentSectionsStyleguide=t.updateStyleguideTextStylesStyleguide=t.updateStyleguideColorsStyleguide=t.updateProjectComponentSectionsStyleguide=t.updateProjectTextStylesStyleguide=t.updateProjectColorsStyleguide=t.revokeAppToken=t.getLinkedTokenOfAuthKey=t.createAuthGrantCode=t.createAuthGrantCredentials=t.createUser=t.loginUser=t.verifyUser=t.requestVerification=t.getUserInvoices=t.requestInvoice=t.updateUserCard=t.getUserCards=t.updateUserBilling=t.updatePassword=t.deleteUser=t.updateUserTrackingPreference=t.updateUser=t.updateEmail=t.updateUsername=t.checkUsernameAvailable=t.getUserStatus=t.getUserProfile=t.processStyleguideComponentVersionAssetContent=t.getStyleguideComponentVersionAssets=t.getStyleguideDesignTokensFile=t.getStyleguideDesignTokens=t.deleteStyleguidesWorkflowStatus=t.updateStyleguidesWorkflowStatus=t.getStyleguideLocalConnectedComponents=t.getStyleguideConnectedComponents=t.updateStyleguideComponentSectionsOrder=t.updateStyleguideComponentsOrder=t.getStyleguideTeamsIntegration=t.deleteStyleguideIntegrationEvent=t.addStyleguideIntegrationEvent=t.getStyleguideIntegrationEvents=t.removeStyleguideParent=t.updateStyleguideParent=t.deleteStyleguideComponent=t.updateStyleguideComponent=t.createStyleguideComponentSectionVariantGroups=t.deleteStyleguideComponentSectionVariantProperty=t.updateStyleguideComponentsVariantProperty=t.updateStyleguideComponentSectionVariantPropertiesOrder=t.updateStyleguideComponentSectionVariantProperty=t.createStyleguideComponentSectionVariantProperty=t.convertStyleguideVariantSectionToComponentSection=t.convertStyleguideComponentSectionToVariantSection=t.mergeStyleguideComponentSection=t.updateStyleguideComponentSection=t.addStyleguideComponentSection=t.updateStyleguideRemPreferences=t.deleteStyleguideSpacingToken=t.updateStyleguideSpacingToken=t.createStyleguideSpacingToken=t.deleteStyleguideSpacingSection=t.updateStyleguideSpacingSection=t.createStyleguideSpacingSection=t.deleteStyleguideAllTextStyles=t.deleteStyleguideTextStyle=t.updateStyleguideTextStyle=t.createStyleguideTextStyle=t.deleteStyleguideAllColors=t.deleteStyleguideColor=t.updateStyleguideColor=t.createStyleguideColor=t.deleteStyleguideIntegration=t.getStyleguideSlackIntegrationEmojis=t.authStyleguideSlack=t.getStyleguideExtensions=t.updateStyleguideThumbnail=t.updateStyleguideAccessibility=t.updateStyleguideDensityScale=t.updateStyleguideDescription=t.updateStyleguideName=t.updateStyleguideUserRole=t.removeUserFromStyleguide=t.inviteStyleguideUsersByTag=t.inviteStyleguideUser=t.transferStyleguideOwnership=t.activateStyleguide=t.archiveStyleguide=t.copyStyleguide=t.deleteStyleguide=t.createStyleguide=t.getStyleguideProjects=t.getStyleguideOrganization=t.getStyleguide=t.getStyleguides=t.createIntercomUserTag=t.getOrganizationUpcomingInvoice=t.getUserUpcomingInvoice=t.createIntercomMessage=t.transferUserSubscription=t.downgradeOrganizationSubscription=t.cancelOrganizationSubscription=t.createUserSubscription=t.updateUserSubscription=t.cancelUserSubscription=t.updateUserEmotar=t.unmuteStyleguideNotifications=t.unmuteProjectNotifications=t.muteStyleguideNotifications=t.muteProjectNotifications=t.updateEmailNotifications=t.deleteUserSSOProvider=t.resetPassword=t.requestPassword=t.getSsoLoginParams=t.logoutUser=t.updateNotificationLastReadTime=t.getUserAcquaintances=t.updateNotificationEventsReadStatus=t.getNotifications=t.processProjectComponentVersionAssetContent=t.getProjectComponentVersionAssets=t.getProjectDesignTokensFile=t.getProjectDesignTokens=t.deleteProjectsWorkflowStatus=t.updateProjectsWorkflowStatus=t.updateScreensTags=t.updateProjectThumbnail=t.deleteComment=t.updateDotCommentNote=t.createDotComment=t.updateCommitMessage=t.deleteDot=t.updateDot=t.createDot=t.getDots=t.getDotStates=t.processVersionAssetContent=t.fetchAssets=t.getVersionAssets=t.getVersions=t.deleteVersion=t.updateCommitColor=t.getSnapshot=t.fetchSnapshot=t.getProjectTeamsIntegration=t.deleteProjectIntegrationEvent=t.addProjectIntegrationEvent=t.getProjectIntegrationEvents=t.removeProjectStyleguideLink=t.updateProjectStyleguideLink=t.updateProjectComponentSectionsOrder=t.updateProjectComponentsOrder=t.deleteProjectComponent=t.updateProjectComponent=t.createProjectComponentSectionVariantGroups=t.deleteProjectComponentSectionVariantProperty=t.updateProjectComponentsVariantProperty=t.updateProjectComponentSectionVariantPropertiesOrder=t.updateProjectComponentSectionVariantProperty=t.createProjectComponentSectionVariantProperty=t.convertProjectVariantSectionToComponentSection=t.convertProjectComponentSectionToVariantSection=t.mergeProjectComponentSection=t.updateProjectComponentSection=t.addProjectComponentSection=t.getProjectLocalConnectedComponents=t.getProjectConnectedComponents=t.getProjectComponentSections=t.updateProjectRemPreferences=t.deleteProjectSpacingToken=t.updateProjectSpacingToken=t.createProjectSpacingToken=t.deleteProjectSpacingSection=t.updateProjectSpacingSection=t.createProjectSpacingSection=t.deleteProjectAllTextStyles=t.deleteProjectTextStyle=t.updateProjectTextStyle=t.createProjectTextStyle=t.deleteProjectAllColors=t.deleteProjectColor=t.updateProjectColor=t.createProjectColor=t.removeScreenFromVariantGroup=t.updateVariantGroupScreensOrder=t.updateVariantGroupScreenVariantName=t.updateVariantGroupName=t.detachVariantGroup=t.deleteVariantGroup=t.addScreensToVariantGroup=t.createVariantGroup=t.deleteScreen=t.updateScreen=t.addExtensionToStyleguide=t.removeExtensionFromStyleguide=t.addExtensionToProject=t.removeExtensionFromProject=t.getProjectExtensions=t.deleteProjectIntegration=t.getProjectSlackIntegrationEmojis=t.authProjectSlack=t.updateSectionOrder=t.updateSection=t.deleteSection=t.updateSectionScreensV2=t.updateSectionScreens=t.createSection=t.moveScreen=t.updateProjectAccessibility=t.updateProjectDensityScale=t.updateProjectDescription=t.updateProjectName=t.createProject=t.copyProject=t.deleteProject=t.removeUserFromProject=t.updateProjectUserRole=t.transferProjectOwnership=t.inviteProjectUsersByTag=t.inviteProjectUser=t.archiveProject=t.activateProject=t.getProjectOrganization=t.getProject=t.deleteOrganizationSectionLink=t.updateOrganizationSectionLink=t.createOrganizationSectionLink=t.updateOrganizationSectionsOrder=t.updateOrganizationSectionProjects=t.deleteOrganizationSection=t.updateOrganizationSection=t.createOrganizationSection=t.getOrganizationSections=t.getOrganizationSection=t.removeBarrelFromOrganizationMemberFocus=t.addBarrelToOrganizationMemberFocus=t.getOrganizationMemberFocusedBarrels=t.getProjects=t.updateOrganizationSCIMAccessibility=t.updateOrganizationSCIMRole=t.updateOrganizationSCIMStatus=t.deleteOrganizationSCIMToken=t.createOrganizationSCIMToken=t.getOrganizationSCIMTokens=t.getOrganizationSCIMSettings=t.deleteOrganizationWorkflowStatus=t.updateOrganizationWorkflowStatus=t.addOrganizationWorkflowStatus=t.getCoupon=t.deleteOrganizationSSOGoogle=t.deleteOrganizationSSOSAML=t.updateOrganizationSSOProvider=t.updateOrganizationAllowExternalMembers=t.updateOrganizationSSOSessionDuration=t.updateOrganizationSSOPolicy=t.addOrganizationSSOSAML=t.addOrganizationSSOGoogle=t.getOrganizationSSOSAMLMetadata=t.getOrganizationSSO=t.createOrganization=t.getPlans=t.getApiConfig=t.requestOrganizationInvitation=t.getOrganizationMemberProfile=t.updateOrganizationCard=t.getUserCredit=t.payUserInvoice=t.payOrganizationInvoice=t.getOrganizationInvoices=t.getOrganizationCards=t.updateOrganizationSubscription=t.createOrganizationSubscription=t.updateOrganizationMinRoleForMemberManagement=t.updateOrganizationName=t.updateOrganizationBilling=t.getOrganizationProration=t.getOrganizationBilling=t.transferOrganizationOwnership=t.removeMembersFromOrganization=t.updateOrganizationMembersTags=t.updateOrganizationMembersAccessibility=t.updateOrganizationMemberAccessibility=t.cancelOrganizationScheduledSeatsUpdate=t.getOrganizationScheduledSeatsUpdate=t.updateInGracePeriodMemberApprovalState=t.updateOrganizationSeats=t.updateOrganizationMembersRole=t.updateOrganizationMemberRole=t.inviteOrganizationMembers=t.getMemberSuggestions=t.getOrganizationMembers=t.getOrganization=t.getOrganizations=t.getLongURL=t.createTemporaryS3Credentials=t.generateShortlink=t.checkResponseError=t.handleResponseBlob=t.handleResponseSilently=t.handleResponse=t.refreshToken=void 0;const a=s(n(244)),r=s(n(821)),l=s(n(590)),c=n(561),d=n(548),u=s(n(549));function h(e){const t=e.headers.get("Zeplin-Token");t&&(u.default.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function p(e){return h(e),e.json().then((t=>{if(e.ok)return t;throw c.createError(e.status,t)}))}function f(e){return e.status===r.default.STATUS.OK?p(e):null}function g(e){return h(e),e.blob().then((t=>{var n,i;if(e.ok){const o=e.headers.get("content-disposition");let s;return o&&(s=null===(i=null===(n=a.default.parse(o))||void 0===n?void 0:n.parameters)||void 0===i?void 0:i.filename),{blob:t,name:s}}throw c.createError(e.status)}))}function m(e){if(h(e),!e.ok)return e.json().then((t=>{throw c.createError(e.status,t)}))}function b(e){return r.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then((e=>(h(e),e.json().then((t=>{if(!e.ok)throw c.createError(e.status,t);return e.status===r.default.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))))}function S(e){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(p)}function y(e){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(m)}function v(e){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(m)}function O(e,t,n,i){const o=t?{handle:t,role:n,restricted:i}:null;return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,o).then(p)}function C(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(p)}function E(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return r.default.post(o).then(p)}function T(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(m)}function _(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return r.default.delete(n).then(m)}function P(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return r.default.delete(t).then(m)}function I(e,t){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/copy`,t).then((e=>e.ok?202===e.status?{async:!0}:e.json().then((({project:e,order:t})=>({async:!1,barrel:e,order:t}))):e.json().then((t=>{throw c.createError(e.status,t)}))))}function j(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(m)}function D(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(m)}function k(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(m)}function R(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(m)}function A(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`;return r.default.post(i,{code:t,redirectURI:n}).then((e=>(h(e),e)))}function w(e){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(p)}function N(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(m)}function L(e){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(p).then((({extensions:e})=>e))}function M(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(m)}function x(e,t){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(p)}function U(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(m)}function B(e,t){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(p)}function V(e,t){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(p)}function z(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(m)}function F(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(m)}function W(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(m)}function H(e,t){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(p)}function G(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(m)}function $(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(m)}function q(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(m)}function Z(e,t){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections`,t).then(p)}function K(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`,n).then(m)}function Y(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`).then(m)}function J(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens`,n).then(p)}function X(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(m)}function Q(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`).then(m)}function ee(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/rempreferences`,t).then(m)}function te(e){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(p)}function ne(e){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/connectedcomponents`).then(p)}function ie(e){return fetch(`http://127.0.0.1:9756/projects/${e}/connectedcomponents`).then((e=>e.ok?e.json().then((e=>e.connectedComponents)):null)).then((e=>({localConnectedComponents:e}))).catch((()=>({localConnectedComponents:null})))}function oe(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(p)}function se(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(m)}function ae(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:o}).then(m)}function re(e,t){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(p)}function le(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(m)}function ce(e,t,n,i){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(p)}function de(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`,i).then(m)}function ue(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/order`,n).then(m)}function he(e,t,n,i,o){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(p)}function pe(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`).then(m)}function fe(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(p)}function ge(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(m)}function me(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(p)}function be(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(p)}function Se(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(p)}function ye(e,t){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(p)}function ve(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(m)}function Oe(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(m)}function Ce(e){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/microsoftTeams`).then(p)}function Ee(e){return fetch(e).then(p).then((e=>{var t,n;return null!==(t=e.layers)&&void 0!==t||(e.layers=[]),null!==(n=e.assets)&&void 0!==n||(e.assets=[]),e})).catch((()=>({layers:[],assets:[]})))}function Te(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return r.default.put(n,{thumbnail:t}).then(m)}function _e(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/workflowStatus`,{projects:e,wsid:t}).then(m)}function Pe(e){return r.default.delete(`${Zeplin.urls.baseURL}/projects/workflowStatus`,{projects:e}).then(m)}function Ie(e,t){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/designTokens?includeLinkedStyleguides=${t}`).then(p)}function je(e,t){return r.default.get(`${Zeplin.urls.baseURL}/projects/${e}/designTokens/download?includeLinkedStyleguides=${t}`).then(g)}function De(e,t,n,i){return r.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets`).then(f)}function ke(e,t,n,i,o,s){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets/${o}/contents/${s}/process`).then(m)}function Re(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then((e=>(h(e),e.json().then((t=>{if(!e.ok)throw c.createError(e.status,t);return e.status===r.default.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))))}function Ae(e){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(p)}function we(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return r.default.delete(t).then(m)}function Ne(e,t){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/copy`,t).then((e=>e.ok?202===e.status?{async:!0}:e.json().then((({styleguide:e,order:t})=>({async:!1,barrel:e,order:t}))):e.json().then((t=>{throw c.createError(e.status,t)}))))}function Le(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return r.default.post(t).then(m)}function Me(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return r.default.post(t).then(m)}function xe(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return r.default.post(o).then(p)}function Ue(e,t,n,i){const o=t?{handle:t,role:n,restricted:i}:null;return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,o).then(p)}function Be(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(p)}function Ve(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return r.default.delete(n).then(m)}function ze(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(m)}function Fe(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(m)}function We(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(m)}function He(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(m)}function Ge(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(m)}function $e(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/thumbnail`;return r.default.put(n,{thumbnail:t}).then(m)}function qe(e){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(p).then((({extensions:e})=>e))}function Ze(e,t,n){const i=`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`;return r.default.post(i,{code:t,redirectURI:n}).then((e=>(h(e),e)))}function Ke(e){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(p)}function Ye(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(m)}function Je(e,t){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(p)}function Xe(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(m)}function Qe(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(m)}function et(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(m)}function tt(e,t){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(p)}function nt(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(m)}function it(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(m)}function ot(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(m)}function st(e,t){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections`,t).then(p)}function at(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`,n).then(m)}function rt(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`).then(m)}function lt(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens`,n).then(p)}function ct(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(m)}function dt(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`).then(m)}function ut(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/rempreferences`,t).then(m)}function ht(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(p)}function pt(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(m)}function ft(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:o}).then(m)}function gt(e,t){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(p)}function mt(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(m)}function bt(e,t,n,i){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(p)}function St(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`,i).then(m)}function yt(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/order`,n).then(m)}function vt(e,t,n,i,o){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(p)}function Ot(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`).then(m)}function Ct(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(p)}function Et(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(m)}function Tt(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(p)}function _t(e,t){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(p)}function Pt(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(m)}function It(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(m)}function jt(e){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/microsoftTeams`).then(p)}function Dt(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(p)}function kt(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(p)}function Rt(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/connectedcomponents`,{headers:i}).then(p)}function At(e){return fetch(`http://127.0.0.1:9756/styleguides/${e}/connectedcomponents`).then((e=>e.ok?e.json().then((e=>e.connectedComponents)):null)).then((e=>({localConnectedComponents:e}))).catch((()=>({localConnectedComponents:null})))}function wt(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/workflowStatus`,{styleguides:e,wsid:t}).then(m)}function Nt(e){return r.default.delete(`${Zeplin.urls.baseURL}/styleguides/workflowStatus`,{styleguides:e}).then(m)}function Lt(e,t){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/designTokens?includeLinkedStyleguides=${t}`).then(p)}function Mt(e,t){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/designTokens/download?includeLinkedStyleguides=${t}`).then(g)}function xt(e,t,n,i){return r.default.get(`${Zeplin.urls.baseURL}/v2/styleguides/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets`).then(f)}function Ut(e,t,n,i,o,s){return r.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets/${o}/contents/${s}/process`).then(m)}function Bt(e){return r.default.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(p)}function Vt(e){return r.default.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(m)}function zt(e,t){return r.default.post(`${Zeplin.urls.baseURL}/users/login`,{handle:e,password:t}).then(p)}function Ft(e,t){return fetch(`${Zeplin.urls.baseURL}/users`,{method:"POST",headers:t,body:JSON.stringify(e)}).then(p)}function Wt(){return fetch(`${Zeplin.urls.baseURL}/auth/grant`,{method:"POST"}).then(p)}function Ht(e,t){const n=new Headers;n.set("Content-Type","application/json"),n.set("Zeplin-Token",t);const i=JSON.stringify({redeemerId:e});return fetch(`${Zeplin.urls.baseURL}/auth/grant/code`,{method:"POST",headers:n,body:i}).then(p)}function Gt(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(m)}function $t(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(m)}function qt(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(m)}function Zt(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(m)}function Kt(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(m)}function Yt(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(m)}function Jt(){return r.default.get(`${Zeplin.urls.baseURL}/users/authorizedApplications`).then(p).then((e=>e.applications))}function Xt(e){return r.default.delete(`${Zeplin.urls.baseURL}/users/authorizedApplications/${e}`).then(m)}function Qt(){return r.default.get(`${Zeplin.urls.baseURL}/users/applications`).then(p).then((e=>e.applications))}function en(e){return r.default.get(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(p)}function tn(e){return r.default.post(`${Zeplin.urls.baseURL}/users/applications`,e).then(p)}function nn(e,t){return r.default.put(`${Zeplin.urls.baseURL}/users/applications/${e}`,t).then(m)}function on(e){return r.default.delete(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(m)}function sn(){return r.default.get(`${Zeplin.urls.baseURL}/users/personalAccessTokens`).then(p).then((({personalAccessTokens:e})=>e))}function an({name:e,hasAdminAccess:t}){const n={name:e};return t&&(n.requiredScopes=["admin"]),r.default.post(`${Zeplin.urls.baseURL}/users/personalAccessTokens`,n).then(p)}function rn(e){return r.default.delete(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`).then(m)}function ln(e,t){return r.default.put(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`,{name:t}).then(m)}function cn(e){return r.default.head(`${Zeplin.urls.baseURL}/oauth/token?client_id=${e}`).then((e=>"true"===e.headers.get("Oauth-Token-Exists")))}function dn(e){const t=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:`${Zeplin.urls.baseURL}/users/webhooks`;return r.default.get(t).then(p).then((e=>e.webhooks))}function un(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return r.default.get(n).then(p)}function hn(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:`${Zeplin.urls.baseURL}/users/webhooks`;return r.default.post(n,t).then(p)}function pn(e,t,n){const i=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return r.default.put(i,n).then(m)}function fn(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return r.default.delete(n).then(m)}function gn(e){return r.default.post(`${Zeplin.urls.baseURL}/webhooks/urlhealthcheck`,{url:e})}t.refreshToken=h,t.handleResponse=p,t.handleResponseSilently=f,t.handleResponseBlob=g,t.checkResponseError=m,t.generateShortlink=function(e,t){const n=t?`?path=${t}`:"";return r.default.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(p).then((({url:e})=>e)).catch((()=>e))},t.createTemporaryS3Credentials=function({projects:e,styleguides:t}={}){return r.default.post(`${Zeplin.urls.baseURL}/export/credentials`,{actions:["GetObject","PutObject"],projects:e,styleguides:t}).then(p)},t.getLongURL=function(e){const t=new Headers;return t.set("Accept","application/json"),fetch(e,{method:"GET",headers:t}).then(p).then((({url:e})=>e))},t.getOrganizations=function(){return r.default.get(`${Zeplin.urls.baseURL}/organizations`).then(p).then((({organizations:e})=>e))},t.getOrganization=function(e){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(p)},t.getOrganizationMembers=function(e){const t=`${Zeplin.urls.baseURL}/v3/organizations/${e}/members`;return r.default.get(t).then(p)},t.getMemberSuggestions=function(e,t){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/suggestions`).then(p).then((({suggestedMembers:e})=>e))},t.inviteOrganizationMembers=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return r.default.post(n,{members:t}).then(p)},t.updateOrganizationMemberRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return r.default.put(i,{role:n}).then(m)},t.updateOrganizationMembersRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/role`;return r.default.put(i,{memberIds:t,role:n}).then(p)},t.updateOrganizationSeats=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/seats`,t).then(p).then((({reservedSeatCount:e})=>e))},t.updateInGracePeriodMemberApprovalState=function(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/approvalstate`,{approved:n}).then(m)},t.getOrganizationScheduledSeatsUpdate=function(e){return r.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then((e=>p(e)))},t.cancelOrganizationScheduledSeatsUpdate=function(e){return r.default.delete(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(m)},t.updateOrganizationMemberAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return r.default.put(i,{restricted:Boolean(n)}).then(m)},t.updateOrganizationMembersAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/restricted`;return r.default.put(i,{memberIds:t,restricted:Boolean(n)}).then(p)},t.updateOrganizationMembersTags=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return r.default.put(n,{members:t}).then(m)},t.removeMembersFromOrganization=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`;return r.default.delete(n,{memberIds:t}).then(p)},t.transferOrganizationOwnership=function(e,t){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(p)},t.getOrganizationBilling=function(e){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(p)},t.getOrganizationProration=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/proration`);return n.search=new URLSearchParams(t).toString(),r.default.get(n.toString()).then(p)},t.updateOrganizationBilling=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(m)},t.updateOrganizationName=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(m)},t.updateOrganizationMinRoleForMemberManagement=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/minroleformembermanagement`,t).then(m)},t.createOrganizationSubscription=function(e,t){return r.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(m)},t.updateOrganizationSubscription=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(m)},t.getOrganizationCards=function(e){return r.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(p).then((({cards:e})=>e))},t.getOrganizationInvoices=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices`);return n.search=new URLSearchParams(t).toString(),r.default.get(n.toString()).then(p)},t.payOrganizationInvoice=function(e,t){return r.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/${t?`${t}/`:""}pay`).then(p).then((({invoice:e,invoices:n})=>t?e:n))},t.payUserInvoice=function(e){return r.default.post(`${Zeplin.urls.baseURL}/stripe/users/invoices/${e?`${e}/`:""}pay`).then(p).then((({invoice:t,invoices:n})=>e?t:n))},t.getUserCredit=function(){return r.default.get(`${Zeplin.urls.baseURL}/stripe/users/credit`).then(p)},t.updateOrganizationCard=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,{stripeToken:t}).then(m)},t.getOrganizationMemberProfile=function(e,t){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(p)},t.requestOrganizationInvitation=function(e){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(m)},t.getApiConfig=function(){return r.default.get(`${Zeplin.urls.baseURL}/api/config`).then(p)},t.getPlans=function(){return r.default.get(`${Zeplin.urls.baseURL}/api/config/plans`).then(p)},t.createOrganization=function(e){return r.default.post(`${Zeplin.urls.baseURL}/organizations`,e).then(p)},t.getOrganizationSSO=function(e){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(p)},t.getOrganizationSSOSAMLMetadata=function(e){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(p)},t.addOrganizationSSOGoogle=function(e,t){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:d.GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI,code:t}).then(p)},t.addOrganizationSSOSAML=function(e,t,n,i){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(p)},t.updateOrganizationSSOPolicy=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(m)},t.updateOrganizationSSOSessionDuration=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(m)},t.updateOrganizationAllowExternalMembers=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(m)},t.updateOrganizationSSOProvider=function(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(m)},t.deleteOrganizationSSOSAML=function(e){return r.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`).then(m)},t.deleteOrganizationSSOGoogle=function(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{code:t,redirectUri:d.GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI}).then(m)},t.getCoupon=function(e){return r.default.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(p)},t.addOrganizationWorkflowStatus=function(e,t){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses`,t).then(p)},t.updateOrganizationWorkflowStatus=function(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`,n).then(m)},t.deleteOrganizationWorkflowStatus=function(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`).then(m)},t.getOrganizationSCIMSettings=function(e){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/scim`).then(p)},t.getOrganizationSCIMTokens=function(e){return r.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/scim/tokens`).then(p).then((e=>e.tokens))},t.createOrganizationSCIMToken=function(e){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/scim/tokens`).then(p)},t.deleteOrganizationSCIMToken=function(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/scim/tokens/${t}`).then(m)},t.updateOrganizationSCIMStatus=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/scim/status`,{enabled:t}).then(m)},t.updateOrganizationSCIMRole=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/scim/role`,{role:t}).then(m)},t.updateOrganizationSCIMAccessibility=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/scim/restricted`,{restricted:t}).then(m)},t.getProjects=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:`${Zeplin.urls.baseURL}/v2/projects`;return r.default.get(t,{cache:"no-cache"}).then(p).then((({projects:e})=>e))},t.getOrganizationMemberFocusedBarrels=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`;return r.default.get(n).then(p).then((({focusedBarrels:e})=>e))},t.addBarrelToOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,s={[i===l.default.PROJECT?"pid":"stid"]:n};return r.default.post(o,s).then(m)},t.removeBarrelFromOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,s={["project"===i?"pid":"stid"]:n};return r.default.delete(o,s).then(m)},t.getOrganizationSection=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`;return r.default.get(n).then(p)},t.getOrganizationSections=function(e){const t=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return r.default.get(t).then(p).then((({sections:e})=>e))},t.createOrganizationSection=function({oid:e,index:t,name:n,description:i,projects:o}){const s=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return r.default.post(s,{index:t,name:n,description:i,projects:o}).then(p)},t.updateOrganizationSection=function(e){var{oid:t,oseid:n}=e,i=o(e,["oid","oseid"]);const s=`${Zeplin.urls.baseURL}/organizations/${t}/sections/${n}`;return r.default.put(s,i).then(m)},t.deleteOrganizationSection=function(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`).then(m)},t.updateOrganizationSectionProjects=function(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/projects`,{index:n,projects:i}).then(m)},t.updateOrganizationSectionsOrder=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/sections/order`;return r.default.put(i,{index:t,sections:n}).then(m)},t.createOrganizationSectionLink=function(e,t,n,i){return r.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links`,{title:n,url:i}).then(p)},t.updateOrganizationSectionLink=function({oid:e,oseid:t,oselid:n,title:i,url:o}){return r.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`,{title:i,url:o}).then(m)},t.deleteOrganizationSectionLink=function(e,t,n){return r.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`).then(m)},t.getProject=b,t.getProjectOrganization=S,t.activateProject=y,t.archiveProject=v,t.inviteProjectUser=O,t.inviteProjectUsersByTag=C,t.transferProjectOwnership=E,t.updateProjectUserRole=T,t.removeUserFromProject=_,t.deleteProject=P,t.copyProject=I,t.createProject=function({oid:e,platform:t,densityScale:n,name:i="Untitled",oseid:o}){const s=e&&"user"!==e?`/organizations/${e}`:"";return r.default.post(`${Zeplin.urls.baseURL}${s}/projects`,{name:i,type:t,densityScale:n,oseid:o}).then(p)},t.updateProjectName=j,t.updateProjectDescription=D,t.updateProjectDensityScale=k,t.updateProjectAccessibility=R,t.moveScreen=function(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/projects/${t}`,{items:n}).then(m)},t.createSection=function(e,t){const n={name:t.name};return"description"in t&&(n.description=t.description),"index"in t&&(n.index=t.index),"screens"in t&&(n.screens=t.screens),r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(p)},t.updateSectionScreens=function(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(m)},t.updateSectionScreensV2=function({pid:e,seid:t,index:n,items:i}){return r.default.put(`${Zeplin.urls.baseURL}/v2/projects/${e}/sections/${t}/screens`,{index:n,items:i}).then(m)},t.deleteSection=function(e,t){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(m)},t.updateSection=function(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(m)},t.updateSectionOrder=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return r.default.put(n,{sections:t}).then(m)},t.authProjectSlack=A,t.getProjectSlackIntegrationEmojis=w,t.deleteProjectIntegration=N,t.getProjectExtensions=L,t.removeExtensionFromProject=M,t.addExtensionToProject=x,t.removeExtensionFromStyleguide=U,t.addExtensionToStyleguide=B,t.updateScreen=function(e,t,n){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(m)},t.deleteScreen=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return r.default.delete(n).then(m)},t.createVariantGroup=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups`;return r.default.post(n,{screenIds:t}).then(p)},t.addScreensToVariantGroup=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}`;return r.default.put(i,{screenIds:n}).then(p)},t.deleteVariantGroup=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens`;return r.default.delete(n,{items:[{_id:t,type:"variantGroup"}]}).then(m)},t.detachVariantGroup=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}`;return r.default.delete(n).then(m)},t.updateVariantGroupName=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/name`;return r.default.put(i,{name:n}).then(m)},t.updateVariantGroupScreenVariantName=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/screens/${n}/variantName`;return r.default.put(o,{variantName:i}).then(m)},t.updateVariantGroupScreensOrder=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/screens/order`;return r.default.put(o,{index:i,screenIds:[n]}).then(m)},t.removeScreenFromVariantGroup=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/screens/${n}`;return r.default.delete(i).then(m)},t.createProjectColor=V,t.updateProjectColor=z,t.deleteProjectColor=F,t.deleteProjectAllColors=W,t.createProjectTextStyle=H,t.updateProjectTextStyle=G,t.deleteProjectTextStyle=$,t.deleteProjectAllTextStyles=q,t.createProjectSpacingSection=Z,t.updateProjectSpacingSection=K,t.deleteProjectSpacingSection=Y,t.createProjectSpacingToken=J,t.updateProjectSpacingToken=X,t.deleteProjectSpacingToken=Q,t.updateProjectRemPreferences=ee,t.getProjectComponentSections=te,t.getProjectConnectedComponents=ne,t.getProjectLocalConnectedComponents=ie,t.addProjectComponentSection=oe,t.updateProjectComponentSection=se,t.mergeProjectComponentSection=ae,t.convertProjectComponentSectionToVariantSection=re,t.convertProjectVariantSectionToComponentSection=le,t.createProjectComponentSectionVariantProperty=ce,t.updateProjectComponentSectionVariantProperty=de,t.updateProjectComponentSectionVariantPropertiesOrder=ue,t.updateProjectComponentsVariantProperty=he,t.deleteProjectComponentSectionVariantProperty=pe,t.createProjectComponentSectionVariantGroups=fe,t.updateProjectComponent=ge,t.deleteProjectComponent=me,t.updateProjectComponentsOrder=be,t.updateProjectComponentSectionsOrder=Se,t.updateProjectStyleguideLink=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(m)},t.removeProjectStyleguideLink=function(e){return r.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(m)},t.getProjectIntegrationEvents=ye,t.addProjectIntegrationEvent=ve,t.deleteProjectIntegrationEvent=Oe,t.getProjectTeamsIntegration=Ce,t.fetchSnapshot=Ee,t.getSnapshot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return r.default.get(i).then((e=>(h(e),e.json().then((t=>{if(e.ok)return"string"==typeof t.snapshot?Ee(t.snapshot):t.snapshot;throw c.createError(e.status,t)})))))},t.updateCommitColor=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return r.default.put(o,{color:i}).then(m)},t.deleteVersion=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return r.default.delete(i).then(m)},t.getVersions=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return r.default.get(n).then(p)},t.getVersionAssets=function(e,t,n){return r.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions/${n}/assets`).then(f)},t.fetchAssets=function(e){return fetch(e).then(p).catch((()=>[]))},t.processVersionAssetContent=function(e,t,n,i,o){return r.default.post(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/assets/${i}/contents/${o}/process`).then(m)},t.getDotStates=function(e){return r.default.post(`${Zeplin.urls.baseURL}/projects/dots`,e).then(p)},t.getDots=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`;return r.default.get(n).then(p)},t.createDot=function(e,t,n){return r.default.post(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,n).then(p)},t.updateDot=function(e,t,n,i){return r.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`,i).then(m)},t.deleteDot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return r.default.delete(i).then(m)},t.updateCommitMessage=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return r.default.put(o,{message:i}).then(m)},t.createDotComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return r.default.post(o,{note:i}).then(p)},t.updateDotCommentNote=function(e,t,n,i,o){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return r.default.put(s,{note:o}).then(m)},t.deleteComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return r.default.delete(o).then(m)},t.updateProjectThumbnail=Te,t.updateScreensTags=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return r.default.put(n,{screens:t}).then(m)},t.updateProjectsWorkflowStatus=_e,t.deleteProjectsWorkflowStatus=Pe,t.getProjectDesignTokens=Ie,t.getProjectDesignTokensFile=je,t.getProjectComponentVersionAssets=De,t.processProjectComponentVersionAssetContent=ke,t.getNotifications=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;return e&&(n+=`&date_before=${e}`),r.default.get(n).then(p)},t.updateNotificationEventsReadStatus=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/notifications/events`,{eventIds:e,markedAsRead:t}).then(m)},t.getUserAcquaintances=function(){return r.default.get(`${Zeplin.urls.baseURL}/users/acquaintances`).then(p)},t.updateNotificationLastReadTime=function(){return r.default.put(`${Zeplin.urls.baseURL}/users/notificationLastReadTime`).then(p)},t.logoutUser=function(){return r.default.post(`${Zeplin.urls.baseURL}/users/logout`)},t.getSsoLoginParams=function(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return r.default.get(t).then(p)},t.requestPassword=function(e){const t=`${Zeplin.urls.baseURL}/users/requests/password`;return r.default.post(t,{handle:e}).then(m)},t.resetPassword=function(e){const t=`${Zeplin.urls.baseURL}/users/resets/password`;return r.default.post(t,{password:e}).then(p)},t.deleteUserSSOProvider=function(e,t,n,i){return r.default.delete(`${Zeplin.urls.baseURL}/users/sso/${e}`,{password:i,code:t,redirectUri:n}).then(p)},t.updateEmailNotifications=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/emailNotifications`,{emailNotifications:e}).then(m)},t.muteProjectNotifications=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/projects/${e}/mute`).then(m)},t.muteStyleguideNotifications=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/styleguides/${e}/mute`).then(m)},t.unmuteProjectNotifications=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/projects/${e}/unmute`).then(m)},t.unmuteStyleguideNotifications=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/styleguides/${e}/unmute`).then(m)},t.updateUserEmotar=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/emotar`,{emotar:e}).then(m)},t.cancelUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return r.default.delete(t,e).then(m)},t.updateUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return r.default.put(t,e).then(m)},t.createUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return r.default.post(t,e).then(m)},t.cancelOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return r.default.delete(n,t).then(m)},t.downgradeOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return r.default.post(n,t).then(m)},t.transferUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return r.default.post(t).then(p)},t.createIntercomMessage=function(e){return r.default.post(`${Zeplin.urls.baseURL}/intercom/messages`,{message:e}).then(m)},t.getUserUpcomingInvoice=function(){return r.default.get(`${Zeplin.urls.baseURL}/stripe/users/invoices/next`).then(p)},t.getOrganizationUpcomingInvoice=function(e){return r.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(p)},t.createIntercomUserTag=function(e){return r.default.post(`${Zeplin.urls.baseURL}/intercom/users/tags`,{name:e}).then(m)},t.getStyleguides=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:`${Zeplin.urls.baseURL}/styleguides`;return r.default.get(t,{cache:"no-cache"}).then(p).then((({styleguides:e})=>e))},t.getStyleguide=Re,t.getStyleguideOrganization=Ae,t.getStyleguideProjects=function(e){return r.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(p)},t.createStyleguide=function({oid:e,platform:t,parent:n,name:i="Untitled"}){const o=e&&"user"!==e?`/organizations/${e}`:"";return r.default.post(`${Zeplin.urls.baseURL}${o}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(p)},t.deleteStyleguide=we,t.copyStyleguide=Ne,t.archiveStyleguide=Le,t.activateStyleguide=Me,t.transferStyleguideOwnership=xe,t.inviteStyleguideUser=Ue,t.inviteStyleguideUsersByTag=Be,t.removeUserFromStyleguide=Ve,t.updateStyleguideUserRole=ze,t.updateStyleguideName=Fe,t.updateStyleguideDescription=We,t.updateStyleguideDensityScale=He,t.updateStyleguideAccessibility=Ge,t.updateStyleguideThumbnail=$e,t.getStyleguideExtensions=qe,t.authStyleguideSlack=Ze,t.getStyleguideSlackIntegrationEmojis=Ke,t.deleteStyleguideIntegration=Ye,t.createStyleguideColor=Je,t.updateStyleguideColor=Xe,t.deleteStyleguideColor=Qe,t.deleteStyleguideAllColors=et,t.createStyleguideTextStyle=tt,t.updateStyleguideTextStyle=nt,t.deleteStyleguideTextStyle=it,t.deleteStyleguideAllTextStyles=ot,t.createStyleguideSpacingSection=st,t.updateStyleguideSpacingSection=at,t.deleteStyleguideSpacingSection=rt,t.createStyleguideSpacingToken=lt,t.updateStyleguideSpacingToken=ct,t.deleteStyleguideSpacingToken=dt,t.updateStyleguideRemPreferences=ut,t.addStyleguideComponentSection=ht,t.updateStyleguideComponentSection=pt,t.mergeStyleguideComponentSection=ft,t.convertStyleguideComponentSectionToVariantSection=gt,t.convertStyleguideVariantSectionToComponentSection=mt,t.createStyleguideComponentSectionVariantProperty=bt,t.updateStyleguideComponentSectionVariantProperty=St,t.updateStyleguideComponentSectionVariantPropertiesOrder=yt,t.updateStyleguideComponentsVariantProperty=vt,t.deleteStyleguideComponentSectionVariantProperty=Ot,t.createStyleguideComponentSectionVariantGroups=Ct,t.updateStyleguideComponent=Et,t.deleteStyleguideComponent=Tt,t.updateStyleguideParent=function(e,t){return r.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(m)},t.removeStyleguideParent=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return r.default.delete(t).then(m)},t.getStyleguideIntegrationEvents=_t,t.addStyleguideIntegrationEvent=Pt,t.deleteStyleguideIntegrationEvent=It,t.getStyleguideTeamsIntegration=jt,t.updateStyleguideComponentsOrder=Dt,t.updateStyleguideComponentSectionsOrder=kt,t.getStyleguideConnectedComponents=Rt,t.getStyleguideLocalConnectedComponents=At,t.updateStyleguidesWorkflowStatus=wt,t.deleteStyleguidesWorkflowStatus=Nt,t.getStyleguideDesignTokens=Lt,t.getStyleguideDesignTokensFile=Mt,t.getStyleguideComponentVersionAssets=xt,t.processStyleguideComponentVersionAssetContent=Ut,t.getUserProfile=function(){return r.default.get(`${Zeplin.urls.baseURL}/v2/users`).then(p)},t.getUserStatus=Bt,t.checkUsernameAvailable=Vt,t.updateUsername=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/username`,{username:e}).then(m)},t.updateEmail=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/email`,e).then(p)},t.updateUser=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users`,e).then(m)},t.updateUserTrackingPreference=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/privacy/trackingOptOut`,{value:e}).then(m)},t.deleteUser=function(e){return r.default.post(`${Zeplin.urls.baseURL}/users/delete`,{password:e}).then(m)},t.updatePassword=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/password`,e).then(p)},t.updateUserBilling=function(e){return r.default.put(`${Zeplin.urls.baseURL}/users/billing`,e).then(m)},t.getUserCards=function(){return r.default.get(`${Zeplin.urls.baseURL}/stripe/users/cards`).then(p).then((({cards:e})=>e))},t.updateUserCard=function(e){return r.default.put(`${Zeplin.urls.baseURL}/stripe/users/cards`,{stripeToken:e}).then(m)},t.requestInvoice=function(e,t){let n;return n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`,r.default.post(n).then(m)},t.getUserInvoices=function(e){const t=new URL(`${Zeplin.urls.baseURL}/stripe/users/invoices`);return t.search=new URLSearchParams(e).toString(),r.default.get(t.toString()).then(p)},t.requestVerification=function(){return r.default.post(`${Zeplin.urls.baseURL}/users/requests/verification`).then(m)},t.verifyUser=function(){const e=`${Zeplin.urls.baseURL}/users/verify`;return r.default.post(e).then(p)},t.loginUser=zt,t.createUser=Ft,t.createAuthGrantCredentials=Wt,t.createAuthGrantCode=Ht,t.getLinkedTokenOfAuthKey=function(e,t){return i(this,void 0,void 0,(function*(){const n=`client_id=${e}&auth_key=${t}`;return p(yield r.default.get(`${d.BASE_URL}/oauth/linkedToken?${n}`))}))},t.revokeAppToken=function(e){return r.default.delete(`${Zeplin.urls.baseURL}/oauth/token`,{client_id:e}).then(m)},t.updateProjectColorsStyleguide=Gt,t.updateProjectTextStylesStyleguide=$t,t.updateProjectComponentSectionsStyleguide=qt,t.updateStyleguideColorsStyleguide=Zt,t.updateStyleguideTextStylesStyleguide=Kt,t.updateStyleguideComponentSectionsStyleguide=Yt,t.getAuthorizedApplications=Jt,t.revokeAuthorizedApplication=Xt,t.getOwnedApplications=Qt,t.getOwnedApplication=en,t.createApplication=tn,t.updateApplication=nn,t.deleteApplication=on,t.getPersonalAccessTokens=sn,t.createPersonalAccessToken=an,t.deletePersonalAccessToken=rn,t.renamePersonalAccessToken=ln,t.getAppStatus=cn,t.getWebhooks=dn,t.getWebhook=un,t.createWebhook=hn,t.updateWebhook=pn,t.deleteWebhook=fn,t.checkWebhookUrlHealth=gn;const mn={get:b,inviteUser:O,inviteUsersByTag:C,activate:y,archive:v,delete:P,copy:I,getOrganization:S,updateName:j,updateDescription:D,updateDensityScale:k,updateThumbnail:Te,updateAccessibility:R,updateUserRole:T,transferOwnership:E,removeUser:_,getSlackIntegrationEmojis:w,deleteIntegration:N,getExtensions:L,addExtension:x,removeExtension:M,createColor:V,updateColor:z,deleteColor:F,deleteAllColors:W,updateColorsStyleguide:Gt,createTextStyle:H,updateTextStyle:G,deleteTextStyle:$,deleteAllTextStyles:q,updateTextStylesStyleguide:$t,createSpacingSection:Z,updateSpacingSection:K,deleteSpacingSection:Y,createSpacingToken:J,updateSpacingToken:X,deleteSpacingToken:Q,updateRemPreferences:ee,getComponentSections:te,addComponentSection:oe,updateComponentSection:se,mergeComponentSection:ae,convertComponentSectionToVariantSection:re,convertVariantSectionToComponentSection:le,createComponentSectionVariantProperty:ce,updateComponentSectionVariantProperty:de,updateComponentSectionVariantPropertiesOrder:ue,updateComponentsVariantProperty:he,deleteComponentSectionVariantProperty:pe,createComponentSectionVariantGroups:fe,updateComponent:ge,deleteComponent:me,updateComponentsOrder:be,updateComponentSectionsOrder:Se,updateComponentSectionsStyleguide:qt,authSlack:A,getIntegrationEvents:ye,addIntegrationEvent:ve,deleteIntegrationEvent:Oe,getTeamsIntegration:Ce,getConnectedComponents:ne,getLocalConnectedComponents:ie,updateWorkflowStatus:_e,deleteWorkflowStatus:Pe,getDesignTokens:Ie,getDesignTokensFile:je,getComponentVersionAssets:De,processComponentVersionAssetContent:ke};t.project=mn;const bn={get:Re,inviteUser:Ue,inviteUsersByTag:Be,activate:Me,archive:Le,delete:we,copy:Ne,getOrganization:Ae,updateName:Fe,updateDescription:We,updateDensityScale:He,updateThumbnail:$e,updateAccessibility:Ge,updateUserRole:ze,transferOwnership:xe,removeUser:Ve,getSlackIntegrationEmojis:Ke,deleteIntegration:Ye,getExtensions:qe,addExtension:B,removeExtension:U,createColor:Je,updateColor:Xe,deleteColor:Qe,deleteAllColors:et,updateColorsStyleguide:Zt,createTextStyle:tt,updateTextStyle:nt,deleteTextStyle:it,deleteAllTextStyles:ot,updateTextStylesStyleguide:Kt,createSpacingSection:st,updateSpacingSection:at,deleteSpacingSection:rt,createSpacingToken:lt,updateSpacingToken:ct,deleteSpacingToken:dt,updateRemPreferences:ut,addComponentSection:ht,updateComponentSection:pt,mergeComponentSection:ft,convertComponentSectionToVariantSection:gt,convertVariantSectionToComponentSection:mt,createComponentSectionVariantProperty:bt,updateComponentSectionVariantProperty:St,updateComponentSectionVariantPropertiesOrder:yt,updateComponentsVariantProperty:vt,deleteComponentSectionVariantProperty:Ot,createComponentSectionVariantGroups:Ct,updateComponent:Et,deleteComponent:Tt,updateComponentsOrder:Dt,updateComponentSectionsOrder:kt,updateComponentSectionsStyleguide:Yt,authSlack:Ze,getIntegrationEvents:_t,addIntegrationEvent:Pt,deleteIntegrationEvent:It,getTeamsIntegration:jt,getConnectedComponents:Rt,getLocalConnectedComponents:At,updateWorkflowStatus:wt,deleteWorkflowStatus:Nt,getDesignTokens:Lt,getDesignTokensFile:Mt,getComponentVersionAssets:xt,processComponentVersionAssetContent:Ut};t.styleguide=bn;const Sn={checkUsernameAvailable:Vt,getUserStatus:Bt,loginUser:zt,createUser:Ft};t.user=Sn;const yn={createAuthGrantCredentials:Wt,createAuthGrantCode:Ht};t.auth=yn;const vn={getAuthorizedApplications:Jt,revokeAuthorizedApplication:Xt,getOwnedApplications:Qt,getOwnedApplication:en,createApplication:tn,updateApplication:nn,deleteApplication:on,getPersonalAccessTokens:sn,createPersonalAccessToken:an,renamePersonalAccessToken:ln,deletePersonalAccessToken:rn,getAppStatus:cn,getWebhooks:dn,getWebhook:un,createWebhook:hn,updateWebhook:pn,deleteWebhook:fn,checkWebhookUrlHealth:gn};t.developer=vn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,GONE:410,PRECONDITION_FAILED:412},head(e,t={}){const n=Object.assign({headers:Zeplin.headers,method:"HEAD"},t);return fetch(e,n)},get:(e,t={})=>fetch(e,Object.assign({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.default=i},,function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(824));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724));n(825),t.default=function({class:e}){return o.h("div",{class:s.default("loadingOverlay",e)},o.h("div",{class:"ripple ripple1"}),o.h("div",{class:"ripple ripple2"}),o.h("div",{class:"ripple ripple3"}),o.h("div",{class:"ripple ripple4"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(827);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(828),r=n(724),l=n.n(r);n(830);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:u}=i;class h extends i.Component{constructor(...e){super(...e),d(this,"state",{error:null,isFocused:!1}),d(this,"handleChange",(e=>{const{name:t,onChange:n,validate:i}=this.props,o=e.target.value;i&&this.setState({error:i(t,o)}),n&&n(t,o)})),d(this,"handleFocus",(()=>{this.setState({isFocused:!0});const{onFocus:e,name:t}=this.props;e&&e(t)})),d(this,"handleBlur",(()=>{const{name:e,value:t,validate:n,onBlur:i}=this.props;n?this.setState({error:n(e,t),isFocused:!1}):this.setState({isFocused:!1}),i&&i()})),d(this,"handleKeyDown",(e=>{const{name:t,onEscape:n,onEnter:i}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC?(e.preventDefault(),e.target.blur(),n&&n(t)):e.keyCode===Zeplin.KEY_CODE.ENTER&&i&&(e.preventDefault(),e.target.blur(),i())}))}get shouldDisplayCountDown(){const{maxLength:e,shouldDisplayCountDown:t}=this.props,{isFocused:n}=this.state;return t&&Boolean(e)&&n}get remainingCharCount(){const{maxLength:e,value:t}=this.props;return e-t.length}render(){const{error:e,isFocused:t}=this.state,{name:n,class:o,label:s,value:r,placeholder:d,customSuccessMessage:u,customErrorMessage:h,tipText:p,pendingText:f,nativeProps:g,maxLength:m,rows:b,disabled:S,autoFocus:y,shouldAlwaysDisplayTipText:v,isPending:O,adornment:C}=this.props;return i.h(a.default,{class:l()("textFormField",o,{hasCountDown:this.shouldDisplayCountDown,hasAdornment:C}),label:s,successMessage:!this.shouldDisplayCountDown&&u,errorMessage:!this.shouldDisplayCountDown&&(h||e),tipText:p,pendingText:f,disabled:S,shouldDisplayErrorMessageIcon:Boolean(r),shouldDisplayTipText:t||v,isPending:O},i.h("div",{class:"formFieldInput"},b?i.h("textarea",c({name:n,value:r,placeholder:d,maxlength:m,rows:b,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)):i.h("input",c({name:n,value:r,placeholder:d,maxlength:m,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)),C&&i.h("div",{class:"adornment",tabIndex:-1},C)),this.shouldDisplayCountDown&&i.h("div",{class:l()("countDown",{exceed:0===this.remainingCharCount})},this.remainingCharCount))}}h.propTypes={name:s.a.string.isRequired,class:s.a.string,label:s.a.string,value:s.a.string,placeholder:s.a.string,customSuccessMessage:s.a.node,customErrorMessage:s.a.node,tipText:s.a.node,pendingText:s.a.string,nativeProps:s.a.object,maxLength:s.a.number,rows:s.a.number,disabled:s.a.bool,autoFocus:s.a.bool,shouldDisplayCountDown:s.a.bool,shouldAlwaysDisplayTipText:s.a.bool,isPending:s.a.bool,adornment:s.a.node,onChange:s.a.func.isRequired,onFocus:s.a.func,onBlur:s.a.func,onEscape:s.a.func,onEnter:s.a.func,validate:s.a.func},h.defaultProps={value:"",shouldDisplayCountDown:!0},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(803),r=n.n(a),l=n(813),c=n.n(l),d=n(772),u=n.n(d),h=n(724),p=n.n(h);n(829);const{h:f}=i;function g(e){const{children:t,class:n,label:o,successMessage:s,errorMessage:a,tipText:l,pendingText:d,disabled:h,shouldDisplayErrorMessageIcon:f,shouldDisplayTipText:g,isPending:m}=e;let b;return a?b=i.h("div",{class:"formFieldMessageContainer error"},f&&i.h(c.a,null),i.h("p",{class:"formFieldMessage"},a)):m?b=i.h("div",{class:"formFieldMessageContainer pending"},i.h(u.a,null),i.h("p",{class:"formFieldMessage"},d)):s&&(b=i.h("div",{class:"formFieldMessageContainer success"},i.h(r.a,null),i.h("p",{class:"formFieldMessage"},s))),i.h("div",{class:p()("formField",n,{disabled:h,hasMessage:Boolean(s||a)||m})},o&&i.h("div",{class:"formFieldLabel"},o),i.h("div",{class:"formFieldContent"},t,b,Boolean(l)&&g&&i.h("div",{className:"formFieldTipText"},l)))}g.propTypes={class:s.a.string,label:s.a.string,children:s.a.node.isRequired,successMessage:s.a.node,errorMessage:s.a.node,tipText:s.a.node,pendingText:s.a.string,disabled:s.a.bool,shouldDisplayErrorMessageIcon:s.a.bool,shouldDisplayTipText:s.a.bool,isPending:s.a.bool},t.default=g},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(832);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a);n(833);const{h:l}=i;function c(e){const{children:t,baseRef:n,class:o,style:s,type:a,disabled:l,inverted:c,ninja:d,primary:u,secondary:h,warning:p,onClick:f,onMouseEnter:g,onMouseLeave:m,"data-testid":b}=e,S=r()("button",o,{inverted:!!c,ninja:!!d,primary:!!u,secondary:!!h,warning:!!p});return i.h("button",{style:s,ref:n,type:a,disabled:l,onClick:f,onMouseEnter:g,onMouseLeave:m,class:S},t)}c.propTypes={class:s.a.string,style:s.a.object,disabled:s.a.bool,children:s.a.node,onClick:s.a.func,primary:s.a.bool,secondary:s.a.bool},c.defaultProps={type:"button"},t.default=c},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582);function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.default=function(e){const{asset:t,descriptors:n}=e,a=s(e,["asset","descriptors"]),r=Object(o.imageUrl)(t);return i.h("img",Object.assign({src:r,srcset:Object(o.srcset)(r,n)},a))}},,,,,,function(e,t,n){"use strict";n.r(t);var i=n(848);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(583),s=n(5),a=n.n(s),r=n(724),l=n.n(r),c=n(582),d=n(849),u=n.n(d),h=n(852);n(853);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:f}=i;class g extends i.Component{constructor(e){super(e),p(this,"handleInitialInteractions",(()=>{const e=this.nodeRefs&&this.nodeRefs.inputWithLabelContainerRef,t=e&&e.querySelector("input");if(!t)return;const{autofocus:n,autohighlight:i}=this.props;n&&t.focus(),i&&t.select()})),p(this,"handleInputChange",(e=>{const{value:t}=e.target;this.setState({value:t});const{onInput:n}=this.props;n(t)})),p(this,"handleBlur",(()=>{const{onBlur:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!1})})),p(this,"handleFocus",(()=>{const{onFocus:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!0})})),p(this,"handleMaskChange",(()=>{this.setState((e=>({isMasked:!e.isMasked})))})),this.state={value:e.value,focusWithin:!1,isMasked:"password"===e.type}}componentDidMount(){this.handleInitialInteractions()}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}render(){const{value:e,focusWithin:t,isMasked:n}=this.state,{label:s,onKeyPress:a,primary:r,valid:d,extraInfoText:p,extraInfoLoading:f,tipText:g,showTipText:m,minLength:b,maxLength:S,autoComplete:y,inputRef:v,type:O}=this.props;let C;r&&d?C="img/icTickBlue.svg":d?C="img/icTick.svg":!1===d&&(C="img/icInvalid.svg");let E=O;const T="password"===O;T&&!n&&(E="text");const _=Object(o.getRandomString)(),P=(t||m)&&!!g,I=l()("inputArea",{focus:t,typed:!!e});return i.h("div",{ref:Object(h.default)(this,"inputWithLabelContainerRef"),class:l()("inputWithLabelContainer",{primary:r,invalid:!1===d})},i.h("div",{class:I,title:s},i.h("input",{id:_,value:e,name:"textInput",type:E,placeholder:s,minLength:b,maxLength:S,ref:v,autoComplete:y,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:a}),i.h("label",{for:_,class:"inputLabel"},s),i.h("div",{class:"extraInputInfo"},f&&i.h("img",{src:Object(c.imageUrl)("img/icSpinnerBlueTheme.svg"),class:"spinner"}),!!C&&i.h("img",{src:Object(c.imageUrl)(C)}),i.h("span",{class:"extraInfoText"},p),T&&i.h("label",{class:"showPasswordContainer"},i.h(u.a,{onChange:this.handleMaskChange,checked:!n}),i.h("span",{class:"showText"},"Show")))),P&&i.h("div",{class:"tipText"},g))}}g.defaultProps={value:"",type:"text",maxLength:100,autoComplete:"off",autofocus:!1,autohighlight:!1},g.propTypes={value:a.a.string,label:a.a.string,onKeyPress:a.a.func,onInput:a.a.func,onBlur:a.a.func,onFocus:a.a.func,primary:a.a.bool,valid:a.a.bool,extraInfoText:a.a.string,extraInfoLoading:a.a.bool,tipText:a.a.object,showTipText:a.a.boolean,maxLength:a.a.number,autoComplete:a.a.string,type:a.a.string,inputRef:a.a.func},t.default=g},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(850));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=o(n(724));n(851),t.default=function(e){const{class:t,partialSelect:n}=e,o=i(e,["class","partialSelect"]);return s.h("div",{class:a.default("checkboxComponent",t,{partialSelect:n})},s.h("input",Object.assign(o,{type:"checkbox"})),s.h("div",{class:"indicator"}))}},function(e,t,n){},function(e,t,n){"use strict";function i(e,t,n="nodeRefs"){n in e||(e[n]={}),"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:o}=e;return"function"!=typeof o[t]&&(o[t]=e=>{i[t]=e}),o[t]}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfession=void 0,function(e){e.Designer="designer",e.Developer="developer",e.ProductManager="productManager",e.QualityAssurance="qualityAssurance",e.Copywriter="copywriter",e.Marketing="marketing",e.Other="other"}(t.UserProfession||(t.UserProfession={}))},,,,function(e,t,n){"use strict";n.r(t);var i=n(889);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(890),r=n(892),l=n(731),c=n(724),d=n.n(c),u=n(852);n(893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:p}=i;function f(e,t,n){const{children:o}=e.props;return i.toChildArray(o).map((e=>e.type&&e.type.name===r.default.name?i.cloneElement(e,{showCheck:t,onSelect:n}):e.props&&e.props.children?i.cloneElement(e,{children:f(e,t,n)}):e))}function g(e,t=0){if(t===e.length)return;const n=e[t];if(n.type&&n.type.name===r.default.name){if(n.props.selected)return n}else if(n.props&&n.props.children)return g(i.toChildArray(n.props.children));return g(e,t+1)}class m extends i.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}positionOptions(){const{top:e,left:t,fixedTop:n,autoScroll:i,centerX:o,alignRight:s,posRef:a}=this.props,r=a.getBoundingClientRect(),l=this.nodeRefs.options.getBoundingClientRect(),c=e||r.height,d=t||0;let u=r.top+c,h=r.left;o?h+=(r.width-l.width)/2:s?h=r.right-l.width:h+=d,!n&&u<this.edgeOffset?u=this.edgeOffset:!n&&u+l.height+this.edgeOffset>window.innerHeight&&(u=window.innerHeight-l.height-this.edgeOffset,i&&u<this.edgeOffset&&(u=this.edgeOffset)),i&&(this.nodeRefs.options.style.maxHeight=window.innerHeight-u-this.edgeOffset+"px",this.nodeRefs.options.style.overflowY="auto"),h<this.edgeOffset?h=this.edgeOffset:h+l.width+this.edgeOffset>window.innerWidth&&(h=window.innerWidth-l.width-this.edgeOffset),this.nodeRefs.options.style.transform=`translate3d(${h}px, ${u}px, 0)`}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){const{disableClosingWithESC:t,onClose:n}=this.props;!t&&n&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:d()("dropdownOptions",t),ref:Object(u.default)(this,"options")},e))}}class b extends i.Component{constructor(...e){super(...e),h(this,"state",{open:!1}),h(this,"hideOptions",(()=>{this.setState({open:!1})})),h(this,"toggleOptions",(e=>{const{onDropdownClick:t,disabled:n}=this.props;n||(t?t(e):(e.stopPropagation(),this.setState((e=>({open:!e.open})))))})),h(this,"handleItemSelect",(e=>{this.props.multiSelect||this.setState({open:!1}),this.props.onChange(e)}))}get labelAndTitle(){const{children:e,multiSelect:t,defaultLabel:n,showSelectedAsLabel:o}=this.props;if(!o)return{label:n,title:null};const s=g(i.toChildArray(e));let a,r=n;if(!t&&s){const{dropdownLabel:e,label:t}=s.props;r=e||t}return!t&&s&&"string"==typeof s.props.label?a=s.props.label:"string"==typeof n&&(a=n),{label:r,title:a}}componentDidUpdate(e,t){const{onDropdownStateChange:n}=this.props,{open:i}=this.state;n&&t.open!==i&&n(i)}renderOptions(){const{portalInto:e,showCheck:t,top:n,left:o,fixedTop:s,autoScroll:r,centerX:l,alignRight:c,optionsClass:d,disableClosingWithESC:u}=this.props,h=f(this,t,this.handleItemSelect);return i.h(a.default,{into:e},i.h(m,{class:d,onClose:this.hideOptions,fixedTop:s,autoScroll:r,posRef:this.nodeRefs.base,top:n,left:o,centerX:l,alignRight:c,disableClosingWithESC:u},h))}render(){const{open:e}=this.state,{class:t,labelClass:n,showLabel:o,showChevron:s,disabled:a,chevronColor:r}=this.props,c=d()("dropdown","noSelect",t,{open:e,disabled:a}),{label:h,title:p}=this.labelAndTitle,f=a?void 0:"0";return i.h("div",{ref:Object(u.default)(this,"base"),class:c,title:p,tabIndex:f,onClick:this.toggleOptions},o&&i.h("span",{class:d()("ellipsis",n)},h),s&&i.h(l.IconArrowDown,{width:"9",color:r,class:"chevron"}),e&&this.renderOptions())}}b.propTypes={portalInto:s.a.oneOfType([s.a.element,s.a.object]),showCheck:s.a.bool,defaultLabel:s.a.oneOfType([s.a.object,s.a.string]),multiSelect:s.a.bool,top:s.a.number,left:s.a.number,fixedTop:s.a.bool,autoScroll:s.a.bool,centerX:s.a.bool,children:s.a.oneOfType([s.a.arrayOf(s.a.instanceOf(r.default)),s.a.node]),onChange:s.a.func.isRequired,onDropdownStateChange:s.a.func,disableClosingWithESC:s.a.bool,showLabel:s.a.bool,labelClass:s.a.string,showChevron:s.a.bool,chevronColor:s.a.string,alignRight:s.a.bool,disabled:s.a.bool},b.defaultProps={portalInto:document.body,fixedTop:!1,autoScroll:!1,showCheck:!0,showLabel:!0,showChevron:!0,multiSelect:!1,disableClosingWithESC:!1,showSelectedAsLabel:!0},b.Item=r.default,t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(891);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(852);const{h:a}=i;class r extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>"string"==typeof e?document.querySelector(e):e,(n="findNode")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{didRender:e}=this.props,{portal:t}=this.nodeRefs;e&&e(t.firstChild)}render(){const{children:e,into:t}=this.props;return Object(o.createPortal)(i.h("div",{ref:Object(s.default)(this,"portal")},e),this.findNode(t))}}r.defaultProps={into:document.body},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(582);const{h:c}=i;class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:o,children:s}=this.props,a=r()("dropdownItem","noSelect",o,{selected:t});return i.h("div",{class:a,onClick:this.handleClick},i.h("div",{class:"dropdownItemContent ellipsis"},s||e),n&&t&&i.h("img",{class:"dropdownCheck",src:Object(l.imageUrl)("img/icMenuCheck.svg"),alt:"&check;"}))}}d.displayName="Dropdown.Item",d.propTypes={label:s.a.oneOfType([s.a.string,s.a.node,s.a.element]),dropdownLabel:s.a.string,value:s.a.string.isRequired,selected:s.a.bool,showCheck:s.a.bool,children:s.a.oneOfType([s.a.node,s.a.element]),onSelect:s.a.func.isRequired},d.defaultProps={selected:!1,showCheck:!0},t.default=d},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(686),s=n(918),a=n.n(s),r=n(551),l=n(549),c=n(559),d=n(688),u=n.n(d),h=n(919),p=n(545),f=n(548),g=n(2377),m=(n(1040),n(2378)),b=n(2386),S=n(567),y=n.n(S),v=n(2389),O=n.n(v),C=n(2471),E=n(2472),T=n(2473),_=n(2487),P=n(2488);n(2489),n(2490),n(2491),n(717),n(2493),n(565),n(2494),n(2495);function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function R(){const e=await(p.isWindowsApp&&r.userPrefs.get("lastAppLocation")),t=function(){const e=new URLSearchParams(location.search).get("uri");if(!e)return null;try{const t=new URL(e);if(p.isWindowsApp&&t.pathname.startsWith("//export-xd")&&!p.supports.xdPlugin)return c.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(`${f.ZPL_PROTOCOL}//update`)}},cancel:{name:"CANCEL"}}),null;return Object(o.convertURItoWebURL)(t)||null}catch(t){return null}}()||e;t?history.replaceState(null,null,t):await Object(b.goToLastOrganizationWorkspace)()}function A(e){return e?e.map((e=>D(D({},e),{},{complete:!1}))):null}l.default.get("userToken")?(y.a.initializeStores(),O()(),Object(m.registerProjectRouteHandlers)(),Object(b.registerWorkspaceRouteHandlers)(),Object(T.registerWorkspaceSocketBindings)(),Object(E.default)(),Object(_.registerSSOTokenExpiration)(),Object(P.registerSentryToDispatcherAndStores)(),Object(g.setMixpanelGroupProperties)(),i.render(i.h(h.default),document.body),function(){if("apiData"in Zeplin){const e=Zeplin.apiData,{projects:t,styleguides:n,focusedBarrels:i,oid:o,organizations:s,organizationProfiles:r,barrel:l,project:c,linkedStyleguides:d=[],ancestors:u,versions:h,dots:p}=e,f=I(e,["projects","styleguides","focusedBarrels","oid","organizations","organizationProfiles","barrel","project","linkedStyleguides","ancestors","versions","dots"]);a.a.hydrateEmbeddedData({config:Zeplin.apiConfig,projects:A(t),styleguides:A(n),focusedBarrels:i,oid:o,organizations:s,organizationProfiles:r,project:c,linkedStyleguides:d,versions:h,dots:p,styleguide:l,ancestors:u,user:Zeplin.user}),Zeplin.apiData=f}else a.a.hydrateEmbeddedData({config:Zeplin.apiConfig,user:Zeplin.user})}(),Object(C.default)(),async function(){await R(),window.addEventListener("online",(()=>{l.default.get("userToken")&&(a.a.reset(),setTimeout((async()=>{try{await u.a.reload()}catch(e){location.reload()}}),1e3))})),u.a.onSetBackButton=a.a.setBackButton,u.a.onResetBackButton=a.a.resetBackButton,u.a.start(document.body)}()):Zeplin.requireLogin(),u.a.route(/.*/,(e=>Object(g.trackVisitiedAppEvent)(e.url.pathname)))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(571)),s=i(n(567)),a=n(693),r={loadWorkspaceData({organizations:e,organizationProfiles:t,organization:n,focusedBarrels:i,projects:a,styleguides:r,dialogDismissParams:l,oid:c}){s.default.dispatcher.dispatch({type:o.default.LOAD_WORKSPACE_DATA,organizations:e,organizationProfiles:t,organization:n,focusedBarrels:i,projects:a,styleguides:r,dialogDismissParams:l,oid:c})},reset(){s.default.dispatcher.dispatch({type:o.default.RESET})},hydrateEmbeddedData({projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:a,organizationProfiles:r,styleguide:l,project:c,linkedStyleguides:d,ancestors:u,organization:h,user:p,config:f}){s.default.dispatcher.dispatch({type:o.default.HYDRATE_EMBEDDED_DATA,projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:a,organizationProfiles:r,styleguide:l,project:c,linkedStyleguides:d,ancestors:u,organization:h,user:p,config:f})},initRecentlyLoadedBarrels({projects:e,styleguides:t}){s.default.dispatcher.dispatch({type:o.default.INIT_RECENTLY_LOADED_BARRELS,projects:e,styleguides:t})},resetBackButton(){s.default.dispatcher.dispatch({type:o.default.RESET_BACK_BUTTON})},setBackButton(e,t){s.default.dispatcher.dispatch({type:o.default.SET_BACK_BUTTON,label:e,link:t})},setPage(e){s.default.dispatcher.dispatch({type:o.default.SET_PAGE,page:e})},ssoTokenExpired(e){const{organizations:t}=s.default.OrganizationStore.getState();if(!t)return void Zeplin.logout();const n=t.find((t=>t.sso&&t.sso.provider.identifier===e)),{sessionDuration:i}=n.sso;s.default.dispatcher.dispatch({type:o.default.SSO_TOKEN_EXPIRED,frequency:a.turnMinutesIntoHumanReadableInterval(i)})},unsetSSOTokenExpired(){s.default.dispatcher.dispatch({type:o.default.UNSET_SSO_TOKEN_EXPIRED})},loginSSO(){s.default.dispatcher.dispatch({type:o.default.LOGIN_SSO})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(920);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(921),s=n(1124),a=n(1493),r=n(2266),l=n.n(r),c=n(2365),d=n(2370),u=n(2373),h=n(918),p=n.n(h),f=n(567),g=n.n(f),m=n(545),b=n(929),S=n.n(b);n(2376);class y extends i.Component{static getStores(){return[g.a.AppStore]}static calculateState(){const{page:e,ssoTokenExpired:t}=g.a.AppStore.getState();return{page:e,ssoTokenExpired:t}}getChildContext(){const{page:e}=this.state;return{page:e}}componentDidMount(){document.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation()})),document.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation()}))}render(){const{page:e,ssoTokenExpired:t}=this.state;if(m.isWindowsApp&&!m.supports.SPA)return i.h(d.default,null);let n;return n="barrel"===e?a.default:"activities"===e?l.a:s.default,i.h(i.Fragment,null,i.h(o.default,null),i.h(n,null),i.h(c.default,null),t&&i.h(u.default,{onLogin:p.a.loginSSO,onLogout:Zeplin.logout,frequency:t}))}}t.default=S()(y)},function(e,t,n){"use strict";n.r(t);var i=n(922),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(583),a=n(686),r=n(545),l=i(n(590)),c=n(547),d=i(n(923)),u=i(n(929)),h=i(n(931)),p=i(n(940)),f=i(n(943)),g=i(n(948)),m=i(n(997)),b=i(n(1117)),S=i(n(684)),y=i(n(691)),v=i(n(685)),O=i(n(567)),C=i(n(709)),E=i(n(1123)),T=i(n(707)),_=i(n(546)),P=n(610);class I extends o.Component{constructor(){super(...arguments),this.getAllNotifications=()=>{setTimeout((()=>{E.default.getNotifications(null,500)}),4)},this.getHeaderMessage=()=>{const{processingSnapshotTiles:e}=this.state;if(e)return"Processing image..."}}static getStores(){return[O.default.AppStore,O.default.SpaceStore,O.default.OrganizationStore,O.default.UserStore,O.default.BarrelStore,O.default.DashboardStore,O.default.ScreenStore,O.default.ProjectsDataStore,O.default.StyleguidesDataStore,O.default.NotificationsStore,O.default.ActivitiesViewStore]}static calculateState(){const{loading:e,selectedTab:t,selectedOrganizationId:n}=O.default.SpaceStore.getState(),{loading:i,loadingOrganization:o,loadingProfiles:r,loadingBarrels:d,organizations:u}=O.default.OrganizationStore.getState(),{loading:h,username:p,avatar:f}=O.default.UserStore.getState(),{loading:g,initingNewlyIntegratedSlackChannel:m,barrelId:b,barrelType:C,organizationId:E,selectedView:_}=O.default.BarrelStore.getState(),{partial:P=!1,name:I=""}=S.default.getBarrel()||{},{tagFilter:{tags:j,untagged:D},filterValue:k,jiraIssueFilter:R}=O.default.DashboardStore.getState(),{loadingSnapshot:A,processingSnapshotTiles:w,screenId:N}=O.default.ScreenStore.getState(),{loading:L,notifications:M}=O.default.NotificationsStore.getState(),{selectedOrganizationId:x,listScrollData:U}=O.default.ActivitiesViewStore.getState(),{name:B=""}=y.default.getScreen()||{},V=O.default.AppStore.getState();let{backButtonLink:z}=V,F=V.backButtonLabel;const{page:W}=O.default.AppStore.getState();let H,G=!1;"workspace"===W?(G=e||i||o||r||h||d,H=n):"activities"===W?(G=L||o||d||!!U,H=x||n):_===c.ProjectViewTypes.SCREEN?(G=g||A||!!w,H=E||n):(G=g||m,H=E||n);const $=!!H&&"user"!==H;if("activities"!==W||F&&z){if(!("workspace"===W||g||F&&z))if(_===c.ProjectViewTypes.SCREEN){const e={q:k,ja:R,sid:N};Object.assign(e,D?{untagged:"true"}:{tag:j}),F="Dashboard",z=a.urlResolve("project-dashboard",{url:{pid:b},query:e})}else{const{name:e}=v.default.getOrganization(H)||{},t=C===l.default.PROJECT?"projects":"styleguides",n={[C===l.default.PROJECT?"pid":"stid"]:b};z=$?a.urlResolve(`workspace-${t}`,{url:{oid:H},query:n}):a.urlResolve(t,{query:n}),F=this.getBackButtonLabel($,e)}}else{const{name:e}=v.default.getOrganization(H)||{};z=$?a.urlResolve("workspace-projects",{url:{oid:H}}):a.urlResolve("projects"),F=this.getBackButtonLabel($,e)}let q,Z,K,Y;if("barrel"===W&&(_===c.ProjectViewTypes.STYLEGUIDE?q="Styleguide":_===c.ProjectViewTypes.DASHBOARD?q="Dashboard":_===c.ProjectViewTypes.SCREEN&&(q=B)),Z=G?"Zeplin":"workspace"===W?`Workspace - ${s.uppercaseFirst(t)} - Zeplin`:"activities"===W?"Notifications - Zeplin":_===c.ProjectViewTypes.SCREEN?`${B} - ${I} - Zeplin`:`${I} - Zeplin`,"barrel"===W&&_===c.ProjectViewTypes.SCREEN){const e=y.default.getPreviousScreen(N);e&&(K=a.urlResolve("project-screen",{url:{pid:b,sid:e._id}}));const t=y.default.getNextScreen(N);t&&(Y=a.urlResolve("project-screen",{url:{pid:b,sid:t._id}}))}return{loading:G,selectedView:_,page:W,title:Z,backButtonLink:z,backButtonLabel:F,activitiesBackButtonLabel:q,organizations:u,username:p,avatar:f,selectedOrganizationId:H,screenName:B,previousScreenURL:K,nextScreenURL:Y,barrelType:C,isPreview:P,barrelId:b,barrelName:I,hasUnreadNotifications:T.default.hasAnyUnread(H),notifications:M,processingSnapshotTiles:w}}static getBackButtonLabel(e,t){return e?o.h("div",{class:"backButtonLabel",title:t},o.h("div",{class:"organizationName ellipsis"},t),o.h("div",null,"’s Workspace")):"Workspace"}componentDidMount(){this.getAllNotifications(),window.addEventListener("online",this.getAllNotifications)}componentDidUpdate(e,t){_.default&&(!t.hasUnreadNotifications&&this.state.hasUnreadNotifications?_.default.ipcRenderer.send("unread-notifications",P.calculateOverlayIcon()):t.hasUnreadNotifications&&!this.state.hasUnreadNotifications&&_.default.ipcRenderer.send("read-notifications"))}componentWillUnmount(){window.removeEventListener("online",this.getAllNotifications)}renderHeaderCenter(){const{loading:e,page:t,selectedView:n,organizations:i,username:s,avatar:a,selectedOrganizationId:r,screenName:d,previousScreenURL:u,nextScreenURL:g,barrelType:m,isPreview:b,barrelId:S,barrelName:y}=this.state;return"workspace"===t?i.length?o.h(h.default,{organizations:i,username:s,avatar:a,selectedOrganizationId:r,onOrganizationChange:C.default.changeSelectedOrganization}):o.h("div",{class:"noOrganizationsLabel noSelect"},"Workspace"):"activities"===t?o.h("span",{title:"Notifications"},"Notifications"):n===c.ProjectViewTypes.SCREEN?o.h(p.default,{loading:e,loadingMessage:this.getHeaderMessage(),title:d,previousScreenURL:u,nextScreenURL:g}):m===l.default.STYLEGUIDE||b?o.h("span",{title:y},y):o.h(f.default,{barrelId:S,selectedTab:n})}renderHeaderRight(){const{selectedOrganizationId:e,hasUnreadNotifications:t,page:n,backButtonLink:i,activitiesBackButtonLabel:s}=this.state;let r;const l="activities"===n;return r=l?i:"user"===e?a.urlResolve("activities"):a.urlResolve("workspace-activities",{url:{oid:e}}),o.h(o.Fragment,null,o.h(g.default,null),o.h(b.default,{hasUnreadNotifications:t,active:l,backLabel:l?"":s,backLink:r}),o.h(m.default,null))}render(){const{loading:e,backButtonLabel:t,backButtonLink:n,title:i}=this.state;return document.title=i,o.h(d.default,{loading:e,hideLogo:r.isWindowsApp,backButtonLabel:t,backButtonLink:n,headerCenter:this.renderHeaderCenter(),headerRight:this.renderHeaderRight()})}}t.default=u.default(I)},function(e,t,n){"use strict";n.r(t);var i=n(924),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(925)),a=n(731),r=i(n(724)),l=n(582);function c({headerLeft:e,headerCenter:t,headerRight:n,homeURL:i,backButtonLabel:c,backButtonLink:d,hideLogo:u,tall:h,hidden:p,loading:f,class:g}){return o.h("header",{class:r.default(g,{tall:h,hidden:p})},o.h("div",{class:"headerLeft noSelect"},!u&&o.h("a",{class:"homeLink",href:i,"data-link-type":"inApp","data-back":""},o.h("img",{src:l.imageUrl("img/icZeplin.svg"),alt:"Zeplin",class:"logo"})),c&&o.h("a",{class:"backLink ellipsis",href:d,"data-link-type":"inApp","data-back":""},o.h(a.IconArrowLeft,{color:"var(--gandalf)"}),o.h("span",null,c)),e),o.h("div",{class:"headerCenter noSelect"},t),o.h("div",{class:"headerRight noSelect"},n),o.h(s.default,{running:f}))}n(928),c.defaultProps={homeURL:"/"},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(926);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852);n(927);class s extends i.Component{constructor(e){super(e),this.state={stopRequested:!1,backgroundColor:e.initialColor},this.colorIndex=0}animate(){const{running:e,colors:t,initialColor:n,duration:i,easing:o}=this.props,{stopRequested:s}=this.state;if(!this.nodeRefs.bar||!e&&!s)return;const a=s?n:t[this.colorIndex];this.nodeRefs.bar.animate([{transform:"scaleX(0)",backgroundColor:a},{transform:"scaleX(1)",backgroundColor:a}],{duration:i,easing:o}).addEventListener("finish",(()=>{if(s)return this.colorIndex=0,void this.setState({stopRequested:!1,backgroundColor:a});this.colorIndex=(this.colorIndex+1)%t.length,this.setState({backgroundColor:a}),this.animate()}))}componentDidMount(){this.props.running&&this.animate()}componentDidUpdate(e){const{running:t}=this.props;e.running&&!t?this.setState({stopRequested:!0}):!e.running&&t&&this.animate()}render(){const{backgroundColor:e}=this.state;return i.h("div",{class:"loadingBar",style:{backgroundColor:e}},i.h("div",{ref:Object(o.default)(this,"bar")}))}}s.defaultProps={initialColor:"var(--snowman)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(20)),s=i(n(930)),a={pure:!0,withProps:!1,withContext:!1};t.default=(e,t={})=>{const n=class extends e{constructor(n,i){super(n,i),this.getState=(t,n,i)=>{const o=this.options.withProps?n:void 0,s=this.options.withContext?i:void 0;return e.calculateState(t,o,s)},this.options=Object.assign(Object.assign({},a),t),this.fluxContainerSubscriptions=new o.default,this.fluxContainerSubscriptions.setStores(this.getStores(n)),this.fluxContainerSubscriptions.addListener((()=>{this.setState(((e,t)=>this.getState(e,t,i)))})),this.state=Object.assign(Object.assign({},this.state||{}),this.getState(void 0,n,i))}getStores(t,n){const i=this.options.withProps?t:void 0,o=this.options.withContext?n:void 0;return e.getStores(i,o)}componentWillReceiveProps(e,t){var n;null===(n=super.componentWillReceiveProps)||void 0===n||n.call(this,e,t),(this.options.withProps||this.options.withContext)&&(this.fluxContainerSubscriptions.setStores(this.getStores(e,t)),this.setState((n=>this.getState(n,e,t))))}shouldComponentUpdate(e,t,n){return this.options.pure?s.default(this.props,e)||s.default(this.state,t):!super.shouldComponentUpdate||super.shouldComponentUpdate(e,t,n)}componentWillUnmount(){var e;null===(e=super.componentWillUnmount)||void 0===e||e.call(this),this.fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n}},function(e,t,n){"use strict";n.r(t);t.default=(e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}},function(e,t,n){"use strict";n.r(t);var i=n(932);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(888),s=n(933),a=n(634);n(939);function r(e){const{username:t,avatar:n,organizations:r,selectedOrganizationId:l,onOrganizationChange:c}=e,d=[{id:"user",name:t,logoUrl:n},...r.map((e=>({id:e._id,name:e.name,logoUrl:e.logo}))).sort(a.sortBy.name)];return i.h("div",{class:"organizationDropdownWrapper"},i.h(o.default,{optionsClass:"organizationDropdownOptions",top:35,fixedTop:!0,centerX:!0,onChange:c},d.map((({id:e,name:t,logoUrl:n})=>i.h(o.default.Item,{key:e,class:"organizationDropdownItem",label:i.h(s.default,{name:t,logoUrl:n,personal:"user"===e}),value:e,selected:l===e})))))}r.defaultProps={selectedOrganizationId:"user"},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(934);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(935),s=n.n(o),a=n(724),r=n.n(a);n(938);t.default=function({logoUrl:e,name:t,personal:n}){const o=(n?"Personal":t+"’s")+" Workspace",a=n?"user":"organization",l=r()("organizationItem",{personal:n});return i.h("div",{class:l},i.h(s.a,{class:"organizationLogo",src:e,type:a,size:24,bgSize:15}),i.h("div",{class:"organizationName ellipsis"},o))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(936);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724));n(937);function r({class:e,src:t,srcset:n,type:i,title:r,size:l,bgSize:c}){const[d,u]=s.useState(!0),[h,p]=s.useState(!1),f=s.useRef();function g(){u(!1),p(!1)}s.useEffect((()=>{var e;(null===(e=f.current)||void 0===e?void 0:e.src)&&f.current.complete?g():(u(!0),p(!1))}),[t,n]);const m=a.default("avatarFrame",e,i,{placeholder:d||h}),b={width:l,height:l,backgroundSize:null!=c?c:"contain"};return o.h("div",{class:m,style:b,title:r},o.h("img",{ref:f,srcSet:n,src:t,width:l,height:l,onLoad:g,onError:function(){p(!0)},alt:"👤"}))}r.defaultProps={type:"user",size:32},t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(941);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(731),r=n(852),l=n(724),c=n.n(l);n(942);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{titleWidth:null,offline:!1,online:!1}),d(this,"fixTitleWidth",(()=>{this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})})),d(this,"restoreTitleWidth",(()=>{const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})})),d(this,"setOffline",(()=>{this.setState({offline:!0})})),d(this,"setOnline",(()=>{this.setState({offline:!1,online:!0}),document.hidden?document.addEventListener("visibilitychange",this.unsetOnline,{once:!0}):this.unsetOnline()})),d(this,"unsetOnline",(()=>{this.onlineTimeout=setTimeout((()=>{this.setState({online:!1})}),1e4)}))}get titleExtra(){const{offline:e,online:t}=this.state,{loadingMessage:n}=this.props;return n||(e?"Looks like there is a problem with the connection.":t?"Keep working! Connection is back…":"Loading layers…")}componentDidMount(){window.addEventListener("offline",this.setOffline),window.addEventListener("online",this.setOnline)}componentWillUnmount(){clearTimeout(this.onlineTimeout),window.removeEventListener("offline",this.setOffline),window.removeEventListener("online",this.setOnline),document.removeEventListener("visibilitychange",this.unsetOnline)}render(){const{loading:e,title:t,previousScreenURL:n,nextScreenURL:o}=this.props,{titleWidth:s,offline:l,online:d}=this.state,u=c()("screenNavigator",{loading:e,offline:l,online:d}),h=null===s?{}:{width:s};return i.h("div",{class:u,ref:Object(r.default)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.h("a",{href:n,title:"← Previous screen",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(a.IconArrowLeft,null)),i.h("div",{class:"screenTitle"},i.h("h2",{class:"ellipsis",ref:Object(r.default)(this,"title"),style:h,title:t},t),i.h("div",{class:"titleExtra"},this.titleExtra)),i.h("a",{href:o,title:"Next screen →",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(a.IconArrowRight,null)))}}u.propTypes={loading:s.a.bool,title:s.a.string,previousScreenURL:s.a.string,nextScreenURL:s.a.string},u.defaultProps={loading:!1,title:""},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(944);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(544),s=n(686),a=n(547),r=n(945);function l({barrelId:e,selectedTab:t}){if(!e)return null;const n=Object(o.getOS)()===o.OS.MAC?"⌥":"Alt+",l=Object(s.urlResolve)("project-dashboard",{url:{pid:e}}),c=Object(s.urlResolve)("project-styleguide",{url:{bid:e}});return i.h(r.default,null,i.h(r.default.Tab,{label:"Dashboard",shortcut:`${n}A`,selected:t===a.ProjectViewTypes.DASHBOARD,href:l}),i.h(r.default.Tab,{label:"Styleguide",shortcut:`${n}S`,selected:t===a.ProjectViewTypes.STYLEGUIDE,href:c}))}},function(e,t,n){"use strict";n.r(t);var i=n(946);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(947);function a({children:e}){return i.h("div",{class:"headerTabView"},e)}a.Tab=function({label:e,shortcut:t,href:n,selected:o}){const a=s()("tab","noSelect",{selected:o});return i.h("a",{href:n,class:a,"data-link-type":"inApp"},i.h("span",{class:"label"},e),i.h("span",{class:"shortcut"},t))},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(949);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(567),s=n.n(o),a=n(950),r=n(951),l=n(929),c=n.n(l);n(996);function d(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:o},progress:{update:s,isGettingProject:a,isGettingProjectFailed:r,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:h}}=e,{_id:p,name:f,type:g}=n;let m=h;if("string"==typeof h)try{m=JSON.parse(h)}catch(b){}return{id:t,versionCollectionId:p,versionCollectionName:f,versionCollectionType:g,barrelId:i,barrelType:o,update:s,gettingProject:a,gettingProjectFailed:r,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:m}}class u extends i.Component{static getStores(){return[s.a.VersionImportsStore]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:o,multipleColorsSupportedHintBoxVisible:a,exportToStyleguideHintBoxVisible:r,xdPluginReleasedMessageVisible:l}=s.a.VersionImportsStore.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const c=t.reduce(((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:o,anyVersionImportFailed:s}=e,a=Math.floor((o*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),r=s||!!t.progress.isApiOperationFailed,l=i.find((e=>e._id===t.barrel._id));let c=i;return l?l.versionImports.push(d(t)):c.unshift({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[d(t)]}),{importsByBarrel:c,versionImportsProgress:a,anyVersionImportFailed:r}}),{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:u,versionImportsProgress:h,anyVersionImportFailed:p}=c;return{suggestedResourcesByBarrel:o,indicatorVisible:n,versionImportsProgress:h,anyVersionImportFailed:p,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:u,multipleColorsSupportedHintBoxVisible:a,exportToStyleguideHintBoxVisible:r,xdPluginReleasedMessageVisible:l}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,importsSource:s,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,multipleColorsSupportedHintBoxVisible:u,exportToStyleguideHintBoxVisible:h,xdPluginReleasedMessageVisible:p}=this.state;return e?i.h(r.default,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListOpen:a.default.showImportsList,onListClose:a.default.hideImportsList,importsSource:s,componentRejections:l,suggestedResourcesByBarrel:c,multipleColorsSupportedHintBoxVisible:u,xdPluginReleasedMessageVisible:p,exportToStyleguideHintBoxVisible:h,importsByBarrel:d,onImportClick:a.default.goToImportedVersion,onRetryImport:a.default.retryImport,onCancelImport:a.default.cancelImport,onRetryGetProject:a.default.retryGetProjectForImports,onClearImports:a.default.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:a.default.hideComponentLimitHint,onComponentLimitActionClick:a.default.seePlans}):null}}t.default=c()(u)},function(e,t,n){"use strict";n.r(t);var i=n(661),o=n(567),s=n.n(o);const a={hideImportsIndicator(){s.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_INDICATOR})},showImportsList(){s.a.dispatcher.dispatch({type:i.default.SHOW_IMPORTS_LIST})},hideImportsList(){s.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_LIST})},handleImports(e){s.a.dispatcher.dispatch({type:i.default.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){s.a.dispatcher.dispatch({type:i.default.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(){s.a.dispatcher.dispatch({type:i.default.GO_TO_IMPORTED_VERSION})},retryImport(e){s.a.dispatcher.dispatch({type:i.default.RETRY_IMPORT,id:e})},cancelImport(e){s.a.dispatcher.dispatch({type:i.default.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){s.a.dispatcher.dispatch({type:i.default.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){s.a.dispatcher.dispatch({type:i.default.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){s.a.dispatcher.dispatch({type:i.default.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){s.a.dispatcher.dispatch({type:i.default.SEE_PLANS})},hideMultipleColorsSupportedHintBox(){s.a.dispatcher.dispatch({type:i.default.HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX})},hideExportToStyleguideHintBox(){s.a.dispatcher.dispatch({type:i.default.HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX})},showXdPluginReleasedMessage(){s.a.dispatcher.dispatch({type:i.default.SHOW_XD_PLUGIN_RELEASED_MESSAGE})},hideXdPluginReleasedMessage(){s.a.dispatcher.dispatch({type:i.default.HIDE_XD_PLUGIN_RELEASED_MESSAGE})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(952);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(953),r=n.n(a),l=n(956),c=n(841),d=n(959),u=n(962),h=n(831),p=n(981),f=n(986),g=n(989),m=n(992),b=n.n(m),S=n(950);n(995);class y extends i.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}handleExportToStyleguideHintBoxClick(){S.default.hideExportToStyleguideHintBox(),Object(d.openLink)("https://zpl.io/exporting-to-a-styleguide")}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:o,onRetryGetProject:s}=this.props,{id:a,versionCollectionId:r,versionCollectionName:l,versionCollectionType:c,barrelId:d,barrelType:h,update:p,gettingProject:f,gettingProjectFailed:g,countOfUploadedImages:m,countOfImagesToUpload:b,apiOperationCompleted:S,apiOperationFailed:y,apiOperationFailedError:v}=e;return f&&!g?i.h(u.GettingProject,null):f&&g?i.h(u.GettingProjectFailed,{id:a,onRetry:s}):b===m&&S&&!y?i.h(u.Done,{key:a,id:a,update:p,barrelId:d,barrelType:h,versionCollectionId:r,versionCollectionName:l,versionCollectionType:c,onClick:t}):S&&y?i.h(u.Failed,{key:a,id:a,update:p,versionCollectionName:l,errorMessage:v?v.message:null,onRetry:n}):S?void 0:i.h(u.InProgress,{key:a,id:a,update:p,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:m,onCancel:o})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:o,onComponentLimitActionClick:s}=this.props;if(!t[e])return null;const{owner:a,ownerPlan:r,rejected:l,total:c}=t[e];return i.h(p.default,{key:"componentLimitHintBox",onHideClick:o,onActionClick:s,owner:a,currentUser:n,ownerPlan:r,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.h("div",{key:e._id},i.h("div",{class:"barrelInformation"},i.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:o}=this.props,{colors:s=[],textStyles:a=[]}=n[e]||{};return i.h(f.default,{onClick:o,colors:s,textStyles:a,barrelType:t,barrelId:e})}renderMultipleColorsSupportedHintBox(e,t){const{multipleColorsSupportedHintBoxVisible:n,exportToStyleguideHintBoxVisible:o}=this.props;if(o){const n="Zeplin now supports multiple colors with same values, you can re-export your colors to your styleguide to start using them.";return i.h(g.default,{barrelType:t,barrelId:e,content:n,onClick:this.handleExportToStyleguideHintBoxClick})}if(n){const n="Zeplin now supports multiple colors with same values, we updated the colors in the styleguide.";return i.h(g.default,{barrelType:t,barrelId:e,content:n,onClick:S.default.hideMultipleColorsSupportedHintBox})}return null}renderXdPluginReleasedMessage(){const{xdPluginReleasedMessageVisible:e}=this.props;return e?i.h(b.a,{onClick:S.default.hideXdPluginReleasedMessage}):null}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,o=1===t.length?t[0].name:"Zeplin";return i.h("div",{class:"versionImports"},i.h("div",{class:"body"},i.h("div",{class:"title"},i.h("div",null,e),i.h(c.default,{asset:"img/icHand.png"}),i.h("div",{class:"ellipsis"},o)),1===t.length?i.h(i.Fragment,null,this.renderComponentRejection(t[0]._id),this.renderSuggestedResources(t[0]._id,t[0].barrelType),this.renderMultipleColorsSupportedHintBox(t[0]._id,t[0].barrelType),this.renderXdPluginReleasedMessage(),i.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport))):t.map(this.renderBarrelGroup)),i.h(h.default,{onClick:n},i.h("div",null),i.h("div",null),i.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListClose:s,onListOpen:a}=this.props;return i.h(r.a,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:o,onClose:s,onOpen:a,left:2,top:2},i.h(l.default,{warning:n,progress:t}))}}y.propTypes={versionImportsProgress:s.a.number.isRequired,anyVersionImportFailed:s.a.bool.isRequired,listOpen:s.a.bool.isRequired,onListOpen:s.a.func.isRequired,onListClose:s.a.func.isRequired,importsSource:s.a.string.isRequired,importsByBarrel:s.a.arrayOf(s.a.shape({_id:s.a.string.isRequired,name:s.a.string.isRequired,type:s.a.string.isRequired,versionImports:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired,versionCollectionId:s.a.string,versionCollectionName:s.a.string.isRequired,barrelId:s.a.string.isRequired,barrelType:s.a.oneOf(["project","styleguide"]),update:s.a.bool.isRequired,countOfImagesToUpload:s.a.number.isRequired,countOfUploadedImages:s.a.number.isRequired,apiOperationCompleted:s.a.bool.isRequired,apiOperationFailed:s.a.bool.isRequired,apiOperationFailedError:s.a.shape({message:s.a.string.isRequired})}))})),onImportClick:s.a.func.isRequired,onRetryImport:s.a.func.isRequired,onCancelImport:s.a.func.isRequired,onRetryGetProject:s.a.func.isRequired,onClearImports:s.a.func.isRequired},t.default=y},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(954);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(890)),a=i(n(724)),r=i(n(852)),l=n(610),c=n(547);n(955);class d extends o.Component{constructor(){super(...arguments),this.nodeRefs={},this.positionPopover=()=>{const{open:e,targetNode:t,faceLeft:n,faceTop:i,centerX:o,centerY:s,stickToEdge:a,showAnchor:r,openToLeft:l,offsetX:c,topOffset:d,bottomOffset:u,left:h,top:p,anchorTop:f}=this.props,g=null!=t?t:this.nodeRefs.container,{popover:m,anchor:b}=this.nodeRefs,S=window.innerWidth,y=window.innerHeight;if(!e||!m||!g)return;const v=g.getBoundingClientRect(),O=m.getBoundingClientRect(),C=h,E=p;let T=n?v.left:v.right;T+=o?(v.width-O.width)/2:C;let _=i||r?v.top:v.bottom;_+=s?(v.height-O.height)/2:E;let P=!1;const I=v.right-O.width-v.width-h;if((l&&I>c||T+O.width+c>S)&&(T=I,P=!0),a&&_+d<0?_=d||64:_+O.height+d>y&&(_=a?y-O.height-u:Math.max(_-O.height,0)),d&&_<d&&(_=d),m.style.transform=`translate3d(${T}px, ${_}px, 0)`,r){const e=v.top-_+(v.height-b.offsetHeight)/2+f;b.style.top=`${Math.min(Math.max(e,28),O.height-28)}px`,b.classList.toggle("faceLeft",P)}},this.registerListeners=()=>{window.addEventListener("resize",this.handleResize),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown)},this.removeListeners=()=>{window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown)},this.handleToggle=e=>{const{open:t,onOpen:n,onClose:i}=this.props;e.stopPropagation(),t&&i?i():!t&&n&&n()},this.handleClose=()=>{const{onClose:e}=this.props;e&&e()},this.handleDocumentClick=e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{container:t,popover:n}=this.nodeRefs;if(t.contains(e.target))return;(null==n?void 0:n.contains(e.target))||this.handleClose()},this.handleKeyDown=e=>{e.key===c.Keyboard.Key.Escape&&this.handleClose()},this.handleResize=()=>{requestAnimationFrame(this.positionPopover)},this.handleMouseEnter=e=>{const{onMouseEnter:t}=this.props;t&&t(e)},this.handleMouseLeave=e=>{const{onMouseLeave:t}=this.props;t&&t(e)}}componentDidMount(){const{targetNode:e,open:t}=this.props;e&&t&&this.registerListeners()}componentDidUpdate(e){!e.open&&this.props.open?this.registerListeners():e.open&&!this.props.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}renderAnchor(){const{faceLeft:e}=this.props,t=a.default("popoverAnchor",{faceLeft:e});return o.h("div",{ref:r.default(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n,overlay:i}=this.props,s=a.default("popoverContent",n),c="function"==typeof e?e():e,d=o.h("div",{class:s,ref:r.default(this,"popover"),onClick:l.stopPropagation,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t&&this.renderAnchor(),o.toChildArray(c));return i?o.h("div",{class:"popoverContentOverlay"},d):d}render(){const{open:e,children:t,portalInto:n,class:i}=this.props,l=a.default(i,"popoverContainer");return o.h("div",{ref:r.default(this,"container"),class:l,onClick:this.handleToggle,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.h(o.Fragment,null,t,e&&o.h(s.default,{didRender:this.positionPopover,into:n},this.renderPopoverContent())))}}d.defaultProps={offsetX:0,topOffset:0,bottomOffset:12,left:0,top:0,anchorTop:0},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(957);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(831),r=n(582);n(958);const l=30*Math.PI;function c(e){const{progress:t=0,warning:n=!1}=e,o=`${l*t/100} ${l*(100-t)/100}`;return i.h(a.default,{class:"versionImportsIndicator"},i.h("svg",{width:"32",height:"32",version:"1.1"},i.h("circle",{cx:"16",cy:"16",r:15}),i.h("circle",{cx:"16",cy:"16",r:15,"stroke-dasharray":o})),100===t&&i.h("img",{src:Object(r.imageUrl)("img/icImportsDone.svg")}),n&&i.h("div",{class:"warning"}))}c.defaultProps={progress:0,warning:!1},c.propTypes={progress:s.a.number,warning:s.a.bool},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"findFirstPositionedAncestor",(function(){return h})),n.d(t,"scrollIfNecessary",(function(){return f})),n.d(t,"getFirstScrollableParent",(function(){return p})),n.d(t,"selectContent",(function(){return g})),n.d(t,"isElementVisible",(function(){return m})),n.d(t,"wiggle",(function(){return b})),n.d(t,"highlightInput",(function(){return S})),n.d(t,"highlightAndScrollToInput",(function(){return y})),n.d(t,"highlightMatchedParts",(function(){return v})),n.d(t,"isEditableElement",(function(){return O})),n.d(t,"canCopy",(function(){return C})),n.d(t,"canDownload",(function(){return E})),n.d(t,"getTextWidth",(function(){return T})),n.d(t,"setAvatar",(function(){return _})),n.d(t,"getUserAvatar",(function(){return j})),n.d(t,"openLink",(function(){return D})),n.d(t,"notify",(function(){return k}));var i=n(211),o=n.n(i),s=n(713),a=n(583),r=n(582),l=n(546),c=n(551),d=n(694),u=n(960);function h(e){if(!e)return null;let t=e.parentElement,n=getComputedStyle(t);for(;t&&"static"===n.position;)t=t.parentElement,n=getComputedStyle(t);return t}function p(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function f(e,t){const{container:n=p(e),offset:i=0}=t||{};if(!e||!n)return;const o=e.getBoundingClientRect(),s=n.getBoundingClientRect();setTimeout((()=>{o.top<s.top?n.scrollTop-=s.top-o.top+i:o.bottom>s.bottom&&(n.scrollTop+=o.bottom-s.bottom+i)}),4)}function g(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function m(e,t=p(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function b(e){e.addEventListener("animationend",(()=>{e.classList.remove("wiggle")})),e.classList.add("wiggle")}function S(e){setTimeout((()=>{e.focus(),e.select()}),4)}function y(e){setTimeout((()=>{e.scrollIntoView(),e.focus(),e.select()}),4)}function v(e,t,{caseInsensitive:n,excludeZeroScore:i}={}){const o=n?e.toLowerCase():e,a=n?t.toLowerCase():t;let r=0,l="";if(i&&!Object(d.calculateMatchingScore)(a,o))return Object(s.escapeHTML)(e);const c=o.indexOf(a);if(c>-1)l+=Object(s.escapeHTML)(e.substring(0,c)),l+=`<span class="highlight">${Object(s.escapeHTML)(e.substr(c,a.length))}</span>`,l+=Object(s.escapeHTML)(e.substring(c+a.length));else{for(const t of a){const n=o.indexOf(t,r);if(-1===n)break;l+=Object(s.escapeHTML)(e.substring(r,n)),l+=`<span class="highlight">${Object(s.escapeHTML)(e.substr(n,t.length))}</span>`,r=n+t.length}l+=Object(s.escapeHTML)(e.substring(r))}return l}function O(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function C(){return document.queryCommandSupported("copy")}function E(){return"download"in document.createElement("a")}n.d(t,"copyContent",(function(){return u.copyContent}));const T=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function _(e,t,{size:n,ignoreRandomEmotar:i}={}){const o=e.parentElement;o.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",(function t(){e.removeEventListener("load",t),o.classList.remove("loading")}));const s=j(t,{ignoreRandomEmotar:!!i,size:n||e.width});s&&Object.assign(e,s)}const P=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],I={};function j(e,{ignoreRandomEmotar:t=!1,size:n}={}){if(!e||!e.email)return{src:"/img/emotars/emotarAnonymous.png"};if(!t&&e.emotar)return{src:Object(r.emotarUrl)(e.emotar)};if(e.avatar)return{src:e.avatar};let i;if(t)return{src:"/img/emotars/icRandom.svg"};let s=I[e._id];s||(s=Array.from(o()(e._id)).reduce(((e,t)=>e+t.charCodeAt()),0),I[e._id]=s),i=P[s%P.length].replace(/_\w/g,(e=>e.charAt(1).toUpperCase())),i=`https://app.zeplin.io/img/emotars/emotar${Object(a.uppercaseFirst)(i)}.png`;const l="https://secure.gravatar.com/avatar/"+o()(e.email);return{src:`${l}?${n?"s="+n+"&":""}d=${i}`,srcset:`${l}?${n?"s="+2*n+"&":""}d=${i} 2x`}}function D(e,{inNewTab:t=!0}={}){if(l.default)return void l.default.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}async function k({title:e,body:t,notifier:n,handler:i}={}){if(!window.Notification||"granted"!==Notification.permission)return;if(!await c.userPrefs.get("notificationStatus"))return;const{src:o}=j(n,{size:160}),s=new Notification(e,{body:t,icon:o,name:0});s.addEventListener("show",(function(){setTimeout(s.close.bind(s),5e3)})),i&&s.addEventListener("click",i)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.copyContent=void 0;const o=n(544),s=i(n(961));function a(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(o.isiOS()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function r(e){return navigator.clipboard.writeText(e).then((()=>!0)).catch((()=>!1))}t.copyContent=function({content:e,toastContainer:t}){(navigator.clipboard?r:a)(e).then((n=>{n&&t&&s.default({text:"Copied to clipboard!",container:t,source:e})}))}},function(e,t,n){"use strict";n.r(t);const i={source:null,text:null,container:null,visible:!1,removeTimeout:null};function o(e){return setTimeout((()=>{e.addEventListener("transitionend",(()=>{e.remove(),i.visible=!1})),e.classList.remove("show")}),3e3)}t.default=function({text:e,source:t,container:n=document.body}){let s=i.container&&i.container.querySelector(".toastContainer");if(i.visible&&!document.body.contains(s)&&(i.visible=!1),i.visible&&s){if(t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=o(s));s.remove()}const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),s.classList.add("toastContainer"),a.classList.add("toast"),a.textContent=e,n.appendChild(s),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout((()=>{s.classList.add("show"),i.removeTimeout=o(s)}),50)}},function(e,t,n){"use strict";n.r(t);var i=n(963);n.d(t,"GettingProject",(function(){return i.default}));var o=n(966);n.d(t,"GettingProjectFailed",(function(){return o.default}));var s=n(970);n.d(t,"Done",(function(){return s.default}));var a=n(976);n.d(t,"InProgress",(function(){return a.default}));var r=n(978);n.d(t,"Failed",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var i=n(964);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(965);function o(){return i.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(967);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(968),r=n(831),l=n(582);n(969);class c extends a.default{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.h(r.default,{onClick:this.handleRetryClick},i.h("img",{src:Object(l.imageUrl)("img/icImportProgressFetchProjectRetry.svg")})))}}c.propTypes={id:s.a.string.isRequired,onRetry:s.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(930);class s extends i.Component{shouldComponentUpdate(e,t){return Object(o.default)(this.props,e)||Object(o.default)(this.state,t)}}s.isPureReactComponent=!0,t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(971);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(841),r=n(972),l=n(724),c=n.n(l),d=n(968),u=n(686),h=n(590),p=n.n(h);n(975);const f={};function g(e){switch(e){case"type1":return[i.h("div",null,"Done!"),i.h(a.default,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.h("span",{class:"wow"},"wow."),i.h("span",{class:"suchDesigns"},"such designs."),i.h("span",{class:"amaze"},"amaze."),i.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}class m extends d.default{get versionCollectionLink(){const{barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:i}=this.props;if("screen"===i)return Object(u.urlResolve)("project-screen",{url:{pid:e,sid:n}});const o={url:{bid:e},query:{coid:n}},s=t===p.a.PROJECT?"project-styleguide-components":"styleguide-components";return Object(u.urlResolve)(s,o)}render(){const{id:e,update:t,versionCollectionName:n,onClick:o}=this.props;f[e]||(f[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const s=f[e];return i.h(r.default,{class:c()("done",s),update:t,success:!0,versionCollectionName:n,progress:100,detail:g(s),buttonIcon:"img/icImportDone.svg",link:this.versionCollectionLink,onClick:o})}}m.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,versionCollectionId:s.a.string.isRequired,versionCollectionName:s.a.string.isRequired,barrelId:s.a.string.isRequired,barrelType:s.a.oneOf(["project","styleguide"]),onClick:s.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(973);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(831),s=n(724),a=n.n(s),r=n(582);n(974);function l(e){const{class:t,update:n,success:s,versionCollectionName:l,progress:c,detail:d,detailTitle:u,buttonIcon:h,onButtonClick:p,onClick:f,link:g}=e;let m=n?"Replacing":"Importing";m=s?m.replace("ing","ed"):m;const b=[i.h("div",{class:"information",key:"information"},i.h("div",{class:"title ellipsis"},m," “",l,"”"),i.h("div",{class:"progress"},c?i.h("div",{style:{width:`${c}%`}}):null),i.h("div",{class:"detail ellipsis",title:u||""},d)),g?i.h("img",{key:"img",src:Object(r.imageUrl)(h)}):i.h(o.default,{key:"button",onClick:p},i.h("img",{src:Object(r.imageUrl)(h)}))];return g?i.h("a",{class:a()("versionImport",t),href:g,"data-link-type":"inApp",onClick:f},b):i.h("div",{class:a()("versionImport",t),onClick:f},b)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(977);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(972),r=n(968);class l extends r.default{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.h("div",{class:"progress"},i.h("div",{style:{width:`${this.calculateProgress()}%`}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.h(a.default,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,versionCollectionName:s.a.string.isRequired,countOfUploadedImages:s.a.number.isRequired,countOfImagesToUpload:s.a.number.isRequired,onCancel:s.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(979);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(972),r=n(968);n(980);class l extends r.default{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.h(a.default,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}l.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,versionCollectionName:s.a.string.isRequired,errorMessage:s.a.string,onRetry:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(982);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o);n(985);const a=new Date(2016,11,1);class r extends i.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:o,currentUser:r,onActionClick:l}=this.props,c=e._id===r._id;let d,u,h;return"Company"===t.name?(d=`${c?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-a)/2592e6)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,u=c?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",h="Upgrade"):c?(h="See plans",d=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,u="Upgrade to access more space!"):(h="See plans",d=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,u="Ping them to upgrade and access more space!"),i.h(s.a,{class:"componentLimitHintBox",actionContent:h,onHideClick:this.handleHideClick,onActionClick:l},"Out of ",o," components you exported, ",n," not added to the project.",i.h("br",null),i.h("br",null),d,i.h("br",null),i.h("br",null),u)}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(831)),a=n(731),r=i(n(724));function l({class:e,children:t,type:n,emoji:i,actionContent:l,onHideClick:c,onActionClick:d,hideButtonText:u,hideEmoji:h}){const p=[],f="warning"===n?"⚠️":"💁‍♀️";return l&&p.push(o.h(s.default,{class:"hintAction",onClick:d},l)),c&&p.push(o.h(s.default,{class:"hideHintButton",onClick:c},o.h(a.IconDelete,{transparent:!0}),u)),o.h("div",{class:r.default("hintBox",e,n)},!h&&o.h("span",{class:"emoji"},i||f),o.h("div",{class:"hintContent"},t,p.length>0&&o.h("div",{class:"hintFooter"},p)))}n(984),l.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(987);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o),a=n(583),r=n(686),l=n(590),c=n.n(l);n(988);const d={[c.a.PROJECT]:"project-styleguide",[c.a.STYLEGUIDE]:"styleguide"};t.default=function(e){const{colors:t,textStyles:n,barrelId:o,barrelType:l,onClick:c}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(a.pluralize)(t.length,"color")} and ${Object(a.pluralize)(n.length,"text style")}`),t.length&&!n.length&&(u=`Found ${Object(a.pluralize)(t.length,"color")}`),!t.length&&n.length&&(u=`Found ${Object(a.pluralize)(n.length,"text style")}`);let h=Object(r.urlResolve)(`${d[l]}-colors`,{url:{bid:o}});return t.length||(h=Object(r.urlResolve)(`${d[l]}-textstyles`,{url:{bid:o}})),i.h("a",{href:h,class:"suggestedResourcesHintBox",onClick:c,"data-link-type":"inApp"},i.h(s.a,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(990),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(983)),a=i(n(590)),r=n(686);n(991);const l={[a.default.PROJECT]:"project-styleguide",[a.default.STYLEGUIDE]:"styleguide"};t.default=function({barrelId:e,barrelType:t,content:n,onClick:i}){const a=r.urlResolve(`${l[t]}-colors`,{url:{bid:e}});return o.h("a",{href:a,class:"multipleColorsSupportedHintBox",onClick:i,"data-link-type":"inApp"},o.h(s.default,null,n))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(993);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(983));n(994),t.default=function({onClick:e}){return o.h("a",{href:"https://zpl.io/blog/xd-plugin",class:"xdPluginReleasedMessage",onClick:e},o.h(s.default,null,"We’ve made some big improvements to Zeplin for Adobe XD. Check out our new plugin that lets you publish designs from cloud documents to Zeplin!"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(998);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(999),s=n.n(o),a=n(1017),r=n(1027),l=n(929),c=n.n(l),d=n(935),u=n.n(d),h=n(953),p=n.n(h),f=n(634),g=n(724),m=n.n(g),b=n(852),S=n(959),y=n(1039),v=n.n(y),O=n(567),C=n.n(O),E=n(672),T=n(1040);n(1116);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class j extends i.Component{constructor(e){super(e),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this)}handleUserMenuSelect(){this.props.onSelectedViewChange(E.USER_MENU)}handleEmotarsSelect(){this.props.onSelectedViewChange(E.EMOTARS)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}renderEmotarsSection(){const{avatar:e,selectedEmotar:t}=this.props;return i.h("section",{class:"emotarsSection",ref:Object(b.default)(this,E.EMOTARS)},i.h(a.default,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{currentAvatar:e,username:t,fullName:n,email:o,organizations:a,verified:r,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:u,onDesktopNotificationToggle:h,onUpdatePlanClick:p,onLogout:f}=this.props;return i.h("section",{class:"userMenuSection",ref:Object(b.default)(this,E.USER_MENU)},i.h(s.a,{avatarUrl:e,username:t,fullName:n,email:o,organizations:a,verified:r,paymentPlanName:l.name,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:p,onEmailNotificationToggle:u,onDesktopNotificationToggle:h,onLogoutClick:f,onAvatarClick:this.handleEmotarsSelect}))}render(){const{selectedView:e}=this.props,t=m()("userMenuContainer",e);return i.h("div",{ref:Object(b.default)(this,"container"),class:t},this.renderUserMenuSection(),this.renderEmotarsSection())}}class D extends i.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(){const{organizations:e,loadingProfiles:t,organizationProfiles:n}=C.a.OrganizationStore.getState(),i=t?[]:e.filter((({_id:e})=>n[e]&&!n[e].restricted)).sort(f.sortBy.name),o=C.a.UserStore.getState(),{userId:s,email:a,avatar:r,emotar:l}=o,c=I(o,["userId","email","avatar","emotar"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({organizations:i,userId:s,email:a,emotar:l,avatar:r,currentAvatar:Object(S.getUserAvatar)({email:a,emotar:l,avatar:r,_id:s}).src},c)}static getStores(){return[C.a.UserStore,C.a.OrganizationStore]}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;v.a.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission((e=>{v.a.setDesktopNotifications("granted"===e)})):"granted"===Notification.permission?v.a.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},(()=>{Object(T.showPlanChooserOverlay)({source:"Profile"})}))}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),v.a.setSelectedView(E.USER_MENU)}render(){const{username:e,fullName:t,email:n,avatar:o,emotar:s,currentAvatar:a,verified:l,paymentPlan:c,organizations:d,isEmailNotificationEnabled:h,isDesktopNotificationEnabled:f,isDialogVisible:g,selectedView:m,showUserMenu:b}=this.state,S=i.h("div",null,i.h(j,{username:e,fullName:t,email:n,avatar:o,currentAvatar:a,verified:l,paymentPlan:c,selectedEmotar:s,organizations:d,selectedView:m,isDesktopNotificationEnabled:f,isEmailNotificationEnabled:h,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:v.a.setSelectedView,onEmotarChange:v.a.updateUserEmotar,onLogout:v.a.logout}),g&&i.h(r.BasicOverlayDialog,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0}));return i.h(p.a,{open:b,content:S,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.h("button",{class:"currentUser noSelect",title:e},i.h(u.a,{src:a,size:28})))}}t.default=c()(D,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1e3);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1001)),a=i(n(1007)),r=i(n(1010)),l=i(n(831)),c=i(n(1013)),d=n(686);n(1016),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,email:u,verified:h,paymentPlanName:p,organizations:f,isDesktopNotificationEnabled:g,isEmailNotificationEnabled:m,onUpdatePlanClick:b,onDesktopNotificationToggle:S,onEmailNotificationToggle:y,onAvatarClick:v,onLogoutClick:O}=e;return o.h("div",{class:"userMenu"},o.h(s.default,{profileLink:"/profile",avatarUrl:t,username:n,fullName:i,info:u,verified:h,onAvatarClick:v}),f.length>0&&o.h(o.Fragment,null,o.h("div",{class:"menuSeparator"}),f.map((e=>{const t=d.urlResolve("workspace-members",{url:{oid:e._id}});return o.h(a.default,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationStatus:e.status,organizationLink:t})}))),o.h("div",{class:"menuSeparator"}),0===f.length&&o.h(r.default,{menuLabel:p,iconUrl:"img/icPlan.svg",actionContent:o.h(l.default,{class:"updatePlanButton"},"Update Plan"),onClick:b}),o.h(r.default,{menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:o.h(c.default,{checked:g}),onClick:S}),o.h(r.default,{menuLabel:"Email Notifications",actionContent:o.h(c.default,{checked:m}),onClick:y}),o.h("div",{class:"menuSeparator"}),o.h(r.default,{menuLabel:"Log out",onClick:O}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1002);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1003));n(1006),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,info:a,profileLink:r,verified:l,onAvatarClick:c}=e,d=i||n;return o.h("a",{class:"menuUserItem",href:r},o.h(s.default,{onClick:function(e){e.preventDefault(),c()},src:t,size:64}),o.h("div",{class:"infoContainer"},o.h("span",{class:"username ellipsis",title:d},d),o.h("span",{class:"info ellipsis"},a),!l&&o.h("span",{class:"status"},"Not verified yet.")))}},function(e,t,n){"use strict";n.r(t);var i=n(1004);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(935),s=n.n(o);n(1005);t.default=function(e){const t=Object.assign({},e);return delete t.onClick,i.h("div",{class:"updatableAvatar",onClick:e.onClick},i.h(s.a,t))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1008);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(935));n(1009),t.default=function({organizationName:e,organizationLink:t,organizationStatus:n,avatarUrl:i}){return o.h("a",{class:"menuOrganizationItem",href:t},o.h(s.default,{src:i,type:"organization",size:64,bgSize:36}),o.h("div",{class:"infoContainer"},o.h("span",{class:"organizationName ellipsis",title:e},e),o.h("span",{class:"info"},"Workspace"),"frozen"===n&&o.h("span",{class:"status"},"Workspace suspended")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1011);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(582);n(1012),t.default=function({menuLabel:e,iconUrl:t,actionContent:n,onClick:s}){return i.h("div",{onClick:s,class:"menuItem noSelect"},i.h("div",{class:"menuIcon"},t&&i.h("img",{src:o.imageUrl(t)})),i.h("span",{class:"menuLabel ellipsis"},e),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1014);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1015);class a extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.h("div",{onClick:this.handleChange,class:s()("switch",{switchOn:e})},i.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.h("div",{class:"switchKnob"}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1018);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1019),r=n(1003),l=n(831),c=n(731),d=n(582),u=n(686);n(1026);function h(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:o,selectedEmotar:s}=e;let h=null;return s?h=Object(d.emotarUrl)(s):o&&(h=o),i.h("div",{class:"emotars"},i.h("h2",null,i.h(l.default,{class:"backButton",onClick:n},i.h(c.IconArrowLeft,{color:"var(--gandalf)"})," ",i.h("span",null,"Back")),i.h("span",null,"How is your mood today?")),i.h("div",{class:"avatarContainer"},i.h("a",{href:Object(u.urlResolve)("profile")},i.h(r.default,{src:h,size:64}))),i.h(a.default,{onEmotarClick:t,avatarUrl:o,selectedEmotar:s}))}h.propTypes={onEmotarClick:s.a.func.isRequired,onBackButtonClick:s.a.func.isRequired,avatarUrl:s.a.string,selectedEmotar:s.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1020);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1021),r=n(935),l=n.n(r),c=n(1024),d=n(724),u=n.n(d);n(1025);class h extends i.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*c.default.length);e(c.default[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,o=u()("emotar",{selected:!!t&&!n});return i.h("div",{class:"emotarList"},t?i.h("div",{onClick:this.handleSmallAvatarClick,class:o},i.h(l.a,{src:t,size:36})):i.h(a.default,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),c.default.map((t=>i.h(a.default,{key:t,onClick:e,emotar:t,selected:t===n}))))}}h.propTypes={onEmotarClick:s.a.func.isRequired,selectedEmotar:s.a.bool,avatarUrl:s.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1022);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(935),r=n.n(a),l=n(724),c=n.n(l),d=n(582);n(1023);class u extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=c()("emotar","noSelect",{selected:t}),o=Object(d.emotarUrl)(e);return i.h("div",{onClick:this.handleClick,class:n},i.h(r.a,{src:o,size:36}))}}u.propTypes={onClick:s.a.func.isRequired,emotar:s.a.string.isRequired,selected:s.a.bool},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1028);n.d(t,"BasicOverlayDialog",(function(){return i.default}));var o=n(1036);n.d(t,"DismissibleOverlayDialog",(function(){return o.default}));var s=n(1030);n.d(t,"default",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1029);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(1030);n(1035);function c(e){const{title:t,message:n,positiveButtonText:o,negativeButtonText:s,fallbackButtonText:a,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,onClose:p,width:f,loading:g,class:m}=e;return i.h(l.default,{class:r()("basicDialog",m,{onlyMessage:!t}),positiveButtonText:o,negativeButtonText:s,fallbackButtonText:a,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,width:f,loading:g,onClose:p},i.h("div",{class:"dialogBody"},t&&i.h("h1",{class:"title"},t),i.h("div",{class:"message"},n)))}c.displayName="BasicDialog",c.defaultProps={width:400},c.propTypes={title:s.a.string,message:s.a.string.isRequired,positiveButtonText:s.a.string,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hideNegativeButton:s.a.bool,onClose:s.a.func,width:s.a.number,loading:s.a.bool},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1031),r=n(890),l=n(724),c=n.n(l),d=n(610);n(1034);const{h:u}=i;class h extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.isDismissable&&document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{baseRef:e,class:t,children:n,positiveButtonText:o,negativeButtonText:s,fallbackButtonText:l,positiveButtonType:u,negativeButtonType:h,fallbackButtonType:p,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b,onNegativeButtonClick:S,onFallbackButtonClick:y,hideNegativeButton:v,onClose:O,width:C,height:E,footer:T,showBackdrop:_,isDismissable:P,loading:I,loadingText:j,hideFooter:D}=this.props;return i.h(r.default,null,i.h("div",{class:c()("overlayDialogContainer",{showBackdrop:_}),onClick:P&&O},i.h("div",{ref:e,class:c()("overlayDialog",t,{loading:I,hasLoadingText:Boolean(j)}),style:{width:C,height:E},onClick:d.stopPropagation},i.h("div",{class:"overlayDialogContent"},n),!D&&i.h(a.default,{positiveButtonText:o,negativeButtonText:s,fallbackButtonText:l,positiveButtonType:u,negativeButtonType:h,fallbackButtonType:p,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b||O,onNegativeButtonClick:S||O,onFallbackButtonClick:y||O,hideNegativeButton:v,footer:T,loading:I,loadingText:j}))))}}h.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit",hideNegativeButton:!0,showBackdrop:!0,isDismissable:!0},h.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,positiveButtonType:s.a.string.isRequired,negativeButtonType:s.a.string.isRequired,fallbackButtonType:s.a.string.isRequired,positiveButtonDisabled:s.a.bool,negativeButtonDisabled:s.a.bool,fallbackButtonDisabled:s.a.bool,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hideNegativeButton:s.a.bool,width:s.a.number.isRequired,height:s.a.number,class:s.a.string,onClose:s.a.func.isRequired,children:s.a.node.isRequired,footer:s.a.node,showBackdrop:s.a.bool,isDismissable:s.a.bool,hideFooter:s.a.bool,loading:s.a.bool,loadingText:s.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1032);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(582);n(1033);const{h:c}=i;function d(e){const{positiveButtonText:t,negativeButtonText:n,fallbackButtonText:o,positiveButtonType:s,negativeButtonType:a,fallbackButtonType:c,positiveButtonDisabled:d,negativeButtonDisabled:u,fallbackButtonDisabled:h,onPositiveButtonClick:p,onNegativeButtonClick:f,onFallbackButtonClick:g,hidePositiveButton:m,hideNegativeButton:b,footer:S,loading:y,loadingText:v}=e;return i.h("form",{method:"dialog",class:r()("buttonsContainer",{loading:y,hasLoadingText:Boolean(v)})},S&&i.h("div",{class:"footer"},S),!y&&o&&i.h("button",{class:"secondary fallback",onClick:g,type:c,disabled:h},o),!y&&!b&&i.h("button",{class:"secondary",onClick:f,type:a,disabled:u},n),!m&&i.h("button",{autoFocus:!0,className:"primary",onClick:p,type:s,disabled:y||d},y?i.h(i.Fragment,null,i.h("img",{src:Object(l.imageUrl)("img/icSpinnerBlue.svg"),className:"spinning"}),v):t))}d.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},d.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,positiveButtonType:s.a.string.isRequired,negativeButtonType:s.a.string.isRequired,fallbackButtonType:s.a.string.isRequired,positiveButtonDisabled:s.a.bool,negativeButtonDisabled:s.a.bool,fallbackButtonDisabled:s.a.bool,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hidePositiveButton:s.a.bool,hideNegativeButton:s.a.bool,footer:s.a.node,loading:s.a.bool,loadingText:s.a.string},t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1037);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(1030),c=(n(1038),n(849)),d=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{dismissChecked:!1}),u(this,"handleDismissCheckChange",(e=>{this.setState({dismissChecked:e.target.checked})})),u(this,"handlePositiveButtonClick",(()=>{const{dismissPrefKey:e,onPositiveButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})),u(this,"handleNegativeButtonClick",(()=>{const{dismissPrefKey:e,onNegativeButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})),u(this,"handleFallbackButtonClick",(()=>{const{dismissPrefKey:e,onFallbackButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})),u(this,"handleClose",(()=>{const{dismissPrefKey:e,onClose:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}))}componentDidMount(){const{dismissChecked:e}=this.props;this.setState({dismissChecked:e})}componentDidUpdate(e){e.dismissChecked!==this.props.dismissChecked&&this.setState({dismissChecked:this.props.dismissChecked})}render(){const{title:e,message:t,positiveButtonText:n,negativeButtonText:o,fallbackButtonText:s,dismissText:a,hideNegativeButton:c,width:u,loading:h,class:p}=this.props,{dismissChecked:f}=this.state,g=Array.isArray(t)?t:[t];return i.h(l.default,{class:r()("dismissibleDialog",p,{onlyMessage:!e}),positiveButtonText:n,negativeButtonText:o,fallbackButtonText:s,onPositiveButtonClick:this.handlePositiveButtonClick,onNegativeButtonClick:this.handleNegativeButtonClick,onFallbackButtonClick:this.handleFallbackButtonClick,hideNegativeButton:c,width:u,loading:h,onClose:this.handleClose},i.h("div",{class:"dialogBody"},e&&i.h("h1",{class:"title"},e),i.h("div",{class:"message"},g.map(((e,t)=>i.h("p",{key:t},e)))),i.h("label",{class:"dismissText"},i.h(d.a,{onChange:this.handleDismissCheckChange,checked:f}),i.h("span",null,a))))}}h.displayName="DismissibleOverlayDialog",h.defaultProps={dismissText:"Do not show this message again",dismissChecked:!1,width:400},h.propTypes={title:s.a.string,message:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),dismissPrefKey:s.a.string.isRequired,dismissText:s.a.string,dismissChecked:s.a.bool,positiveButtonText:s.a.string,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hideNegativeButton:s.a.bool,onClose:s.a.func,width:s.a.number,loading:s.a.bool},t.default=h},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(573)),l=a(n(567)),c=s(n(561)),d=n(610),u=n(819),h=d.debouncePromise(u.updateEmailNotifications);function p(e,t){l.default.dispatcher.dispatch({type:r.default.SET_USER_ATTRIBUTE,name:e,value:t})}const f={loadUser(e){l.default.dispatcher.dispatch({type:r.default.LOAD_USER,user:e})},updateUser(e){l.default.dispatcher.dispatch({type:r.default.UPDATE_USER,user:e})},setUsername(e){p("username",e)},setEmail(e){p("email",e)},setFullName(e){p("fullName",e)},setBio(e){p("bio",e)},setEmotar(e){p("emotar",e)},setAvatar(e){p("avatar",e)},setEmailNotifications(e){p("isEmailNotificationEnabled",e)},setVerified(){p("verified",!0)},setDesktopNotifications(e){p("isDesktopNotificationEnabled",e)},setBilling(e){p("billing",e)},setSelectedView(e){l.default.dispatcher.dispatch({type:r.default.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){const t=Zeplin.user.emailNotifications;f.setEmailNotifications(e),h(e).then((()=>{Zeplin.updateUser({emailNotifications:e})})).catch((e=>{f.setEmailNotifications(t),c.handleError(e)}))},muteProjectNotifications({pid:e,syncWithApi:t=!1}){l.default.dispatcher.dispatch({type:r.default.MUTE_PROJECT_NOTIFICATIONS,pid:e,syncWithApi:t})},muteStyleguideNotifications({stid:e,syncWithApi:t=!1}){l.default.dispatcher.dispatch({type:r.default.MUTE_STYLEGUIDE_NOTIFICATIONS,stid:e,syncWithApi:t})},unmuteProjectNotifications({pid:e,syncWithApi:t=!1}){l.default.dispatcher.dispatch({type:r.default.UNMUTE_PROJECT_NOTIFICATIONS,pid:e,syncWithApi:t})},unmuteStyleguideNotifications({stid:e,syncWithApi:t=!1}){l.default.dispatcher.dispatch({type:r.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS,stid:e,syncWithApi:t})},updateUserEmotar(e){const t=Zeplin.user.emotar;f.setEmotar(e),u.updateUserEmotar(e).then((()=>{Zeplin.updateUser({emotar:e}),mixpanel.master.track("Updated emotar",{Emoji:e})})).catch((e=>{f.setEmotar(t),c.handleError(e)}))},markZeplinThreeZeroWhatsNewAsSeen(){l.default.dispatcher.dispatch({type:r.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN})},stopPromotingSpacingSectionDescriptionEditButton(){l.default.dispatcher.dispatch({type:r.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON})},hideStyleguideTutorial(){l.default.dispatcher.dispatch({type:r.default.HIDE_STYLEGUIDE_TUTORIAL})},hideDashboardOnboardingHintbox(){l.default.dispatcher.dispatch({type:r.default.HIDE_DASHBOARD_ONBOARDING_HINTBOX})},stopPromotingExportDesignTokens(){l.default.dispatcher.dispatch({type:r.default.STOP_PROMOTING_EXPORT_DESIGN_TOKENS})},hideInvitedUserHintbox(){l.default.dispatcher.dispatch({type:r.default.HIDE_INVITED_USER_HINTBOX})},acquaintancesRequested(){l.default.dispatcher.dispatch({type:r.default.ACQUAINTANCES_REQUESTED})},setAcquaintances(e){l.default.dispatcher.dispatch({type:r.default.SET_ACQUAINTANCES,acquaintances:e})},getAcquaintancesFailed(e){l.default.dispatcher.dispatch({type:r.default.GET_ACQUAINTANCES_FAILED,error:e})},logout(){u.logoutUser().finally(Zeplin.logout)},terminateSession(){l.default.dispatcher.dispatch({type:r.default.TERMINATE_SESSION})}};t.default=f},function(e,t,n){"use strict";n.r(t),n.d(t,"showPlanChooserOverlay",(function(){return S}));var i=n(561),o=n(819),s=n(686),a=n(719),r=n(1041),l=n(1099),c=n(1100),d=n(610),u=n(1101),h=n.n(u),p=n(718);const f=document.createElement("div");f.id="paymentDialogsContainer",document.body.appendChild(f);const g=new a.default(r.default,f),m=new a.default(h.a,f);let b;function S({source:e,upgradeTrigger:t,cb:n,oid:i,bid:o,displayFullMode:s=!1}={}){l.default.setOverridingCategory(c.default.PRICING),b=n,m.render({oid:i,bid:o,upgradeTrigger:t,displayFullMode:s,cancelEnabled:s,onCancelPlan:E,onUpdateSubscription:v,onCreateWorkspace:y,onClose:O}),mixpanel.master.track("Viewed pricing modal",{Source:e,Trigger:t}),Object(p.sendGAPageView)({source:"/pricing-popup"})}function y(e){location.assign(Object(s.urlResolve)("workspace-create",{query:{period:e.period,plan:e.group}}))}function v(e,t){setTimeout((()=>O({action:"updatePlan",plan:t})),3e3)}function O(e={}){m.remove(),l.default.setOverridingCategory(null),b&&(b(e),b=null)}function C(e){(function(e){return e?o.getOrganizationUpcomingInvoice(e):o.getUserUpcomingInvoice()})(e).then((({invoice:t})=>{O({action:"cancelPlan"});const n=Object(d.formatTime)(1e3*t.period_end,{year:"numeric",month:"long",day:"numeric"});g.render({oid:e,periodEndDate:n,onClose(){g.remove()},onBackClick(){g.remove(),S({source:"Cancel modal, back click",oid:e,displayFullMode:!0})}})})).catch((e=>{i.handleError(e)}))}function E(e){C(e)}},function(e,t,n){"use strict";n.r(t);var i=n(1042);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(561),s=n(819),a=n(686),r=n(823),l=n.n(r),c=n(1043),d=n(1093),u=n(1096),h=n(1027);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){location.replace(Object(a.urlResolve)("profile-account"))}function g(){Intercom("showNewMessage")}class m extends i.Component{constructor(...e){super(...e),p(this,"state",{loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelPlanDialogShown:!1}),p(this,"hideTransferPlanWarningDialog",(()=>{this.setState({transferPlanWarningDialogShown:!1})})),p(this,"hideTransferOrgOwnershipDialog",(()=>{this.setState({transferOrgOwnershipDialogShown:!1})})),p(this,"hideCancelPlanDialog",(()=>{this.setState({cancelPlanDialogShown:!1})})),p(this,"hideSubscriptionCancelledDialog",(()=>{this.setState({subscriptionCancelledDialogShown:!1})})),p(this,"performTransferUserPlan",(()=>{const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(s.transferUserSubscription)(e).then((()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(a.urlResolve)("profile-billing"))})).catch((e=>{this.setState({loading:!1}),Object(o.handleError)(e)}))})),p(this,"performCancelUserPlan",(()=>{const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(s.cancelUserSubscription)({reason:e,description:t}).then((()=>{Zeplin.updateUser({subscriptionStatus:"will_cancel_at_period_end"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})})).catch((e=>{this.setState({loading:!1}),Object(o.handleError)(e)}))})),p(this,"performCancelOrgPlan",(()=>{const{oid:e}=this.props,{cancelReason:t,cancelDescription:n}=this.state;this.setState({loading:!0}),Object(s.cancelOrganizationSubscription)(e,{reason:t,description:n}).then((()=>{this.setState({loading:!1,subscriptionCancelledDialogShown:!0})})).catch((e=>{this.setState({loading:!1}),Object(o.handleError)(e)}))})),p(this,"performCancelPlan",(()=>{this.props.oid?this.performCancelOrgPlan():this.performCancelUserPlan()})),p(this,"handleQuestionChange",(()=>{this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})})),p(this,"handleGoToOrgDashboardClick",(()=>{const{oid:e}=this.props;location.replace(Object(a.urlResolve)("workspace-members",{url:{oid:e}}))})),p(this,"handleCancelPlanClick",((e,t)=>{this.setState({cancelReason:e,cancelDescription:t,cancelPlanDialogShown:!0})})),p(this,"handleTransferPlanFormSubmit",(e=>{this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise(((t,n)=>{Object(s.getUserStatus)(e).then((e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))})).catch((e=>{Object(o.handleError)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})}))}))}(e).then((()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})})).catch((e=>{this.setState({transferPlanFormError:e.message})}))})),p(this,"handleTransferPlanClick",(()=>{const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})})),p(this,"handleCancelPlanSuccess",(()=>{const{oid:e}=this.props;e?location.replace(Object(a.urlResolve)("workspace-profile-billing",{url:{oid:e}})):location.replace(Object(a.urlResolve)("profile-billing"))}))}render(){const{onClose:e,onBackClick:t,periodEndDate:n}=this.props,{loading:o,transferEmail:s,transferPlanFormError:a,transferPlanFormShown:r,subscriptionCancelledDialogShown:p,cancelPlanDialogShown:m,transferPlanWarningDialogShown:b,transferOrgOwnershipDialogShown:S}=this.state;return i.h(i.Fragment,null,i.h(c.default,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:f,onContactSupportClick:g,transferPlanFormError:a,transferPlanFormShown:r}),o&&i.h(l.a,null),b&&i.h(d.default,{email:s,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),S&&i.h(h.BasicOverlayDialog,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),m&&i.h(u.default,{periodEndDate:n,onCancelPlan:this.performCancelPlan,onClose:this.hideCancelPlanDialog}),p&&i.h(h.BasicOverlayDialog,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:this.handleCancelPlanSuccess,onClose:this.hideSubscriptionCancelledDialog}))}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1044);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1045),s=n(1048),a=n(1051),r=n(731);n(1092);t.default=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:h,onQuestionChange:p,transferPlanFormError:f,transferPlanFormShown:g}=e;return i.h(o.default,{onClose:t},i.h("div",{class:"cancelPlanModal"},i.h("div",{class:"cancelPlanHeader"},i.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.h(r.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.h("div",{class:"cancelPlanHero"},i.h("h2",{class:"title"},"Why are you cancelling?"),i.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.h(s.default,null),i.h(a.default,{onBackClick:n,onQuestionChange:p,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:h,transferPlanFormShown:g,transferPlanFormError:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(1046);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(610);n(1047);class r extends i.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){const{children:e}=this.props;return i.h("div",{class:"overlay",onClick:this.handleClose},i.toChildArray(e).map((e=>i.cloneElement(e,{onClick:a.stopPropagation}))))}}r.propTypes={onClose:s.a.func},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1049);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1050);function o(){return i.h("div",{class:"covidNotice"},"Here at Zeplin, we value our community—if you’re having financial/budgetary issues due to the current state of events, please contact us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io"),". We’d love to help.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1052);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1053),s=n(1055);n(1091);t.default=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:a,onTransferPlanClick:r,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:h}=e;return i.h(o.default,{class:"cancelPlanSurvey",onChange:h},i.h(s.WrongAccount,{onTransferPlanClick:r,onTransferPlanFormSubmit:a,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.h(s.SubscribedAnnually,{onBackClick:t}),i.h(s.MovedToTeamPlan,{onCancelPlanClick:n}),i.h(s.SwitchedToAnotherTool,{onCancelPlanClick:n}),i.h(s.RanIntoIssue,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(s.TooExpensive,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(s.ProjectEnded,{onCancelPlanClick:n}),i.h(s.Other,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";n.r(t);var i=n(1054);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t,children:n}=this.props;return i.h("div",{class:t},i.toChildArray(n).map(((t,n)=>i.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion}))))}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1056);n.d(t,"MovedToTeamPlan",(function(){return i.default}));var o=n(1070);n.d(t,"Other",(function(){return o.default}));var s=n(1080);n.d(t,"ProjectEnded",(function(){return s.default}));var a=n(1081);n.d(t,"RanIntoIssue",(function(){return a.default}));var r=n(1082);n.d(t,"SubscribedAnnually",(function(){return r.default}));var l=n(1086);n.d(t,"SwitchedToAnotherTool",(function(){return l.default}));var c=n(1087);n.d(t,"TooExpensive",(function(){return c.default}));var d=n(1088);n.d(t,"WrongAccount",(function(){return d.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1057),s=n(1060),a=n(1063),r=n(1069);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.MOVED_TO_TEAM_PLAN)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! 👨‍👩‍👦‍👦"),i.h(o.default,null,i.h(s.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(a.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Moved to a team plan"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1058);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1059);t.default=function(e){return i.h("div",{class:"questionButtons"},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1061);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(724),a=n.n(s);n(1062);t.default=function(e){const{secondary:t,class:n}=e,s=a()("questionButton",n,{primary:!t,secondary:t}),r=Object.assign({},e,{class:s});return delete r.secondary,i.h(o.default,r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1064);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1065),s=n.n(o),a=n(724),r=n.n(a);n(1068);t.default=function(e){const{content:t,mainText:n,subText:o,onSelect:a,selected:l,value:c}=e;return i.h("div",{class:"cancelPlanSurveyQuestion"},i.h("label",{class:r()("selectWithText",{hasSubText:!!o})},i.h(s.a,{onClick:a,checked:l,value:c}),i.h("div",{class:"textContainer"},i.h("p",{class:"mainText"},n),o&&i.h("p",{class:"subText"},o))),l&&i.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1066);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=o(n(724));n(1067),t.default=function(e){const{class:t}=e,n=i(e,["class"]);return s.h(s.Fragment,null,s.h("input",Object.assign(n,{type:"radio",class:"radioButtonRadio"})),s.h("div",{class:a.default("radioButton",t)},s.h("div",{class:"radioButtonInner"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"PROJECT_ENDED",(function(){return i})),n.d(t,"MOVED_TO_TEAM_PLAN",(function(){return o})),n.d(t,"SWITCHED_TO_ANOTHER_TOOL",(function(){return s})),n.d(t,"RAN_INTO_ISSUE",(function(){return a})),n.d(t,"TOO_EXPENSIVE",(function(){return r})),n.d(t,"OTHER",(function(){return l}));const i="Project ended",o="Moved to team plan",s="Switched to another tool",a="Ran into issue",r="Too expensive",l="Other"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1071),s=n(1063),a=n(1069);class r extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(a.OTHER,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.h(s.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Other"})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1072);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852),r=n(1060),l=n(1073),c=n(1076);n(1079);class d extends i.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:o,error:d,maxLength:u,class:h}=this.props,{value:p,dirty:f,isInputValid:g}=this.state,m="email"===o&&c.default||l.default,b=!f&&!!d,S=p&&p.trim()&&g;return i.h("form",{class:s()("questionTextForm",{hasError:b},h),onSubmit:this.handleSubmit},n&&i.h("label",{class:"questionTextFormLabel"},n),i.h(m,{class:"formInput",maxLength:u,onInput:this.handleInput,type:o,placeholder:e,value:p,inputRef:Object(a.default)(this,"textInput")}),b&&i.h("div",{class:"errorText"},d),i.h(r.default,{class:"questionTextFormButton",disabled:!S,type:"submit"},t))}}d.defaultProps={maxLength:2048},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1074);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1075);class a extends i.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:o,class:a}=this.props;return i.h("div",{class:s()("questionTextArea",a)},i.h("div",{class:"mirror"},i.h("pre",null,e," ")),i.h("textarea",{value:e,maxLength:o,placeholder:t,ref:n,onInput:this.handleInput}))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1077);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1078);t.default=function(e){const t=Object.assign({},e,{class:s()("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.h("input",t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1057),s=n(1060),a=n(1063),r=n(1069);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.PROJECT_ENDED)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! 👋"),i.h(o.default,null,i.h(s.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(a.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Project ended, won't need Zeplin for a while"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1057),s=n(1060),a=n(1063),r=n(1069);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.RAN_INTO_ISSUE)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. 💪"),i.h(o.default,null,i.h(s.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(s.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(a.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1063),s=n(1083);t.default=function(e){const{onSelect:t,selected:n,value:a,onBackClick:r}=e,l=[i.h("p",null,"You can always switch your billing frequency. ",i.h(s.default,{onClick:r},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.h("br",null),i.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.h(o.default,{onSelect:t,selected:n,value:a,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";n.r(t);var i=n(1084);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1085);t.default=function(e){return i.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1071),s=n(1063),a=n(1069);class r extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(a.SWITCHED_TO_ANOTHER_TOOL,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.h(s.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Switched to another tool"})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1057),s=n(1060),a=n(1063),r=n(1069);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.TOO_EXPENSIVE)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=i.h(i.Fragment,null,i.h("p",null,"We wouldn’t want to lose you over pricing. Mind contacting us and sharing why? We’d love to figure out the best plan for you and your team."),i.h(o.default,null,i.h(s.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(s.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan")));return i.h(a.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Too expensive",subText:"e.g. It’s difficult to pay in USD"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1089);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1057),s=n(1060),a=n(1071),r=n(1063);n(1090);function l(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:r,transferPlanFormError:l,transferPlanFormShown:c}=e;return c?[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h("div",{class:"transferPlanFormContainer"},i.h("span",{class:"emoji"},"☝️"),i.h("div",{class:"text"},i.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.h("br",null),i.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.h(a.default,{class:"transferPlanForm",type:"email",maxLength:254,label:"Enter the email of the user to transfer to:",error:l,onSubmit:r,placeholder:"Email",buttonText:"Transfer plan"})]:[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h(o.default,null,i.h(s.default,{onClick:n},"Transfer plan"),i.h(s.default,{onClick:t},"Change email"))]}t.default=function(e){const{onSelect:t,selected:n,value:o}=e;return i.h(r.default,{onSelect:t,selected:n,value:o,content:l(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1094);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1027);n(1095);t.default=function(e){const{email:t}=e;return i.h(o.default,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.h("div",{class:"dialogBody"},i.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.h("strong",null,'"',t,'"'),"."),i.h("p",null,"By transferring the subscription, you will ",i.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1097);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1027);n(1098);t.default=function(e){const{periodEndDate:t,onCancelPlan:n,onClose:s}=e;return i.h(o.default,{width:484,class:"cancelPlanDialog",positiveButtonText:"CANCEL PLAN",negativeButtonText:"KEEP PLAN",onClose:s,onPositiveButtonClick:n,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Cancel Plan"),i.h("div",{class:"dialogBody"},i.h("p",null,"You can continue using your plan until your billing period ends on",i.h("strong",null," ",t),". Once the billing period ends, your projects and styleguides will be archived automatically."))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(567),o=n.n(i),s=n(664);const a={setOverridingCategory(e){o.a.dispatcher.dispatch({type:s.default.SET_OVERRIDING_CATEGORY,overridingCategory:e})}};t.default=a},function(e,t,n){"use strict";n.r(t),t.default={DEFAULT:"default",PROFILE:"profile",PRICING:"pricing",PROJECTS:"projects",STYLEGUIDES:"styleguides",STYLEGUIDE:"styleguide",PROJECT_DASHBOARD:"project-dashboard",PROJECT_STYLEGUIDE:"project-styleguide",PROJECT_SCREEN:"project-screen",ORGANIZATION_PROJECTS:"organization-projects",ORGANIZATION_PROFILE:"organization-profile",ORGANIZATION_DASHBOARD:"organization-dashboard"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1102);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),l=a(n(929)),c=a(n(1027)),d=a(n(823)),u=a(n(831)),h=n(547),p=s(n(559)),f=a(n(724)),g=n(1103),m=a(n(852)),b=n(686),S=n(959),y=a(n(567)),v=a(n(684)),O=a(n(1104)),C=n(1105),E=n(583),T=a(n(1108)),_=a(n(1112)),P=n(718);n(1115);class I extends r.Component{constructor(){super(...arguments),this.nodeRefs={},this.updateSubscription=e=>{var t;const{currentPlan:n,organization:i}=this.state,{oid:o}=this.props,s=n&&h.PLAN_ORDER[e.group]<h.PLAN_ORDER[n.group],a=n&&h.PLAN_ORDER[e.group]>h.PLAN_ORDER[n.group]&&e.group===h.PlanGroup.ORGANIZATION,r=(s?"Downgrade":"Update")+" subscription?",l=s&&e.projectLimit?`You'll have ${e.projectLimit} active projects and styleguides on the ${e.name} plan. You can upgrade it again, anytime!`:"You can update it again, anytime!",c=null===(t=this.nodeRefs)||void 0===t?void 0:t.dialogContent;p.create({title:r,message:l,done:{name:"UPDATE",cb:()=>{this.setState({loading:!0}),O.default.updateOrganizationSubscription({oid:o,plan:e.id,oldPlan:i.paymentPlan,isReactivation:!n,toastContainer:c,onSuccess:(e,t)=>{a&&P.sendWorkspaceConversion(h.WorkspacePlanType.ORGANIZATION),this.handleUpdateSubscriptionSuccess(e,t)},syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleUpdateSubscriptionSuccess=(e,t)=>{const{onUpdateSubscription:n}=this.props;this.setState({loading:!1}),n&&n(e,t)},this.createChangePlanHandler=e=>{const{oid:t,dialogSource:n,onCreateWorkspace:i}=this.props;return()=>{if(e.group===h.PlanGroup.ENTERPRISE){const e="mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan";if("macApp"===n)return void history.replaceState(null,"",b.urlResolve("workspace-create",{query:{source:n,close:!0,redirect:e}}));P.sendEnterpriseInquiry(),S.openLink(e)}else t?this.updateSubscription(e):i(e)}},this.createCancelPlanHandler=e=>{const{oid:t}=this.props;return()=>{this.setState({loading:!0}),this.props.onCancelPlan(t,e)}},this.createPeriodClickHandler=e=>()=>{this.setState({period:e})},this.renderTitleAndDescription=()=>{const{currentPlan:e,organization:t,maxUserLimit:n}=this.state,{upgradeTrigger:i,displayFullMode:o}=this.props;let s,a;switch(i){case h.PlanUpgradeTrigger.USER_LIMIT:s="Your Zeplin team is growing 👨‍👩‍👧‍👦",a=r.h("p",null,"You are currently on the ",r.h("strong",null,"Free")," plan where you can have up to ",n," members. Upgrade below to invite as many members as you need.");break;case h.PlanUpgradeTrigger.VERSION_LIMIT:s="Access unlimited version history ⌛",a=r.h("p",null,"You are currently on the ",r.h("strong",null,"Free")," plan where you can view 30 days of version history. Upgrade below to access unlimited version history, including access to your existing versions.");break;case h.PlanUpgradeTrigger.PROJECT_LIMIT:{s="More projects, more opportunities 🍧";const n=(null==t?void 0:t.projectLimit)||e.projectLimit;a=r.h("p",null,"You are currently on the ",r.h("strong",null,e.name)," plan️ where you can have up to ",E.pluralize(n,"project"),". Upgrade below to create as many as you need.");break}case h.PlanUpgradeTrigger.STYLEGUIDE_LIMIT:{const n=(null==t?void 0:t.styleguideLimit)||e.styleguideLimit;s="More styleguides, more coherence 🍧",a=r.h("p",null,"You are currently on the ",r.h("strong",null,e.name)," plan️ where you can have up to ",n," styleguide(s). Upgrade below to create as many as you need.");break}case h.PlanUpgradeTrigger.VARIANT_GROUP_LIMIT:s="Your project is evolving 🦕",a=r.h("p",null,"You are currently on the ",r.h("strong",null,e.name)," plan where you can have up to ",e.variantGroupLimit," screen variants. To better organize your screens, upgrade below to create as many variants as you need.");break;default:s="Change plan",a=r.h("p",null,"You can upgrade or downgrade to another plan, change your plan’s billing cycle or cancel your plan below.")}return r.h(r.Fragment,null,r.h("h1",null,s),r.h("div",{class:f.default("plansDescription",{fixedHeight:!o})},a))},this.renderDeprecatedPlanBanner=()=>{const{currentPlan:e,organization:t}=this.state,n=(null==t?void 0:t.subscriptionStatus)||Zeplin.user.subscriptionStatus,i="active"===n||"past_due"===n;return"deprecated"===(null==e?void 0:e.status)?r.h("div",{class:"deprecatedPlanBanner"},r.h("p",null,"You’re on the deprecated ",r.h("strong",null,e.name)," plan."," ",i&&r.h("span",null,"If you’d like to, you can cancel your plan ",r.h("a",{class:"cancelLink",href:"#",onClick:this.createCancelPlanHandler(e)},r.h("strong",null,"here")),".")),r.h("p",null,"Reach out to us if you have any questions: ",r.h("a",{href:"mailto:support@zeplin.io",target:"_blank",rel:"noopener noreferrer"},"support@zeplin.io"))):null},this.renderPlanContent=e=>{const{unitPrice:t}=g.getPlanPrice({plan:e,period:e.period===h.BillingPeriod.ETERNAL?h.BillingPeriod.ANNUALLY:e.period,seatCount:1});switch(e.name){case"Team":return r.h(C.TeamPlanContent,{projectLimit:e.projectLimit,selectedUnitPrice:t});case"Organization":return r.h(C.OrganizationPlanContent,{minUserCount:e.quantity,selectedUnitPrice:t});case"Enterprise":return r.h(C.EnterprisePlanContent,null)}},this.renderPlanFooter=e=>{const{currentPlan:t}=this.state,{cancelEnabled:n}=this.props;if(e.group===h.PlanGroup.ENTERPRISE)return r.h(u.default,{primary:!0,onClick:this.createChangePlanHandler(e)},"Contact us");if(t&&h.PLAN_ORDER[e.group]<h.PLAN_ORDER[t.group])return r.h(u.default,{secondary:!0,onClick:this.createChangePlanHandler(e)},"Downgrade to ",e.name," Plan");if("active"===e.status&&"active"===(null==t?void 0:t.status)&&(null==t?void 0:t.group)===e.group){const i=e.period===t.period;return r.h(r.Fragment,null,i?r.h("div",{className:"currentPlanLabel"},"Current plan"):r.h(u.default,{class:f.default("changePeriod",{primary:e.period===h.BillingPeriod.ANNUALLY,secondary:e.period===h.BillingPeriod.MONTHLY}),onClick:this.createChangePlanHandler(e)},"Change period"),n&&r.h(u.default,{class:"cancelButton",secondary:!0,onClick:this.createCancelPlanHandler(e)},"Cancel plan"))}return r.h(u.default,{primary:!0,onClick:this.createChangePlanHandler(e)},"Upgrade to ",e.name," Plan")}}static calculateState(e,t){const{oid:n,bid:i}=t,{plans:o}=y.default.AppStore.getState().config,{paymentPlan:s,userId:a}=y.default.UserStore.getState(),{maxUserLimit:r}=v.default.getBarrel({bid:i})||{},{organizations:l}=y.default.OrganizationStore.getState(),c="string"==typeof s?o.find((e=>e.id===s)):s,d=l.find((({_id:e})=>e===n)),u=d?o.find((e=>e.id===d.paymentPlan)):c;let p=h.BillingPeriod.ANNUALLY;return!(null==e?void 0:e.period)&&t.period?p=t.period:u&&u.period!==h.BillingPeriod.ETERNAL&&(p=u.period),{period:p,plans:o,currentPlan:u,userId:a,organization:d,maxUserLimit:r,loading:null==e?void 0:e.loading}}static getStores(){return[y.default.AppStore,y.default.UserStore,y.default.OrganizationStore,y.default.BarrelStore,y.default.ProjectsDataStore,y.default.StyleguidesDataStore]}render(){const{isDismissable:e,displayFullMode:t,dialogSource:n,onClose:i}=this.props,{period:o,plans:s,loading:a}=this.state,l=s.find((e=>"active"===e.status&&e.group===h.PlanGroup.TEAM&&e.period===o)),p=s.find((e=>"active"===e.status&&e.group===h.PlanGroup.ORGANIZATION&&e.period===o)),g=s.find((e=>"active"===e.status&&e.group===h.PlanGroup.ENTERPRISE));return r.h(c.default,{class:f.default("planChooserDialog",{displayFullMode:t,noRadius:"macApp"===n}),width:960,onClose:i,isDismissable:e,hideFooter:!0},r.h("div",{class:"planChooserDialogContent",ref:m.default(this,"dialogContent")},a&&r.h(d.default,{class:"planChooserLoading"}),this.renderTitleAndDescription(),t&&r.h(r.Fragment,null,this.renderDeprecatedPlanBanner(),r.h("div",{class:"periodTabsContainer"},r.h("div",{className:f.default("periodTabSlider","noSelect",{[o]:!0})}),r.h(u.default,{ninja:!0,class:f.default("periodTab",{selected:o===h.BillingPeriod.MONTHLY}),onClick:this.createPeriodClickHandler(h.BillingPeriod.MONTHLY)},"Monthly"),r.h(u.default,{ninja:!0,className:f.default("periodTab",{selected:o===h.BillingPeriod.ANNUALLY}),onClick:this.createPeriodClickHandler(h.BillingPeriod.ANNUALLY)},"Annually"))),r.h("div",{class:"plans"},[l,p,g].map((e=>r.h("div",{key:e.id,class:"plan"},this.renderPlanContent(e),r.h("div",{class:"footer"},this.renderPlanFooter(e)))))),t&&r.h("div",{class:"planComparisonAndFaq"},r.h(T.default,{plans:s,period:o}),r.h(_.default,null))))}}I.defaultProps={displayFullMode:!1,cancelEnabled:!1,isDismissable:!0},t.default=l.default(I,{withProps:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPeriodText=t.hasTeamPlan=t.isOfferValid=t.formatPriceForStripe=t.getDiscountedPrice=t.getPlanPrice=t.formatPriceForUI=t.getDiscountNotice=t.isCouponValid=void 0;const i=n(610),o=n(547);function s({coupon:e,period:t}){return!!e&&(!(!t||"monthly"!==t)&&(!(e.redeem_by&&Date.now()/1e3>e.redeem_by)&&!(e.max_redemptions&&e.times_redeemed>=e.max_redemptions)))}function a(e){return e/100}function r(e,t){return e-e*t/100}t.isCouponValid=s,t.getDiscountNotice=function(e,t){return e&&"monthly"===t?e.redeem_by&&Date.now()/1e3>e.redeem_by?"This coupon is expired":e.max_redemptions&&e.times_redeemed>=e.max_redemptions?"This coupon is maxed out":`${e.percent_off?`${e.percent_off}% off`:`${i.formatCurrency(e.amount_off/100)} off`} ${function(e,t){switch(e.duration){case"once":return"for the first "+("monthly"===t?"month":"year");case"repeating":return`for ${e.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}`:""},t.formatPriceForUI=a,t.getPlanPrice=function({plan:e,period:t,seatCount:n,coupon:i,offer:l,credit:c}){let d=0,u=e.price,h=0,p=0;return s({coupon:i,period:t})&&(i.amount_off?d-=i.amount_off:u=r(u,i.percent_off)),d+=u*n,t===o.BillingPeriod.ANNUALLY&&(u/=12),!i&&l&&(l.amount?d-=l.amount:l.percentage&&(d=r(d,l.percentage),u=r(u,l.percentage)),p=d,c&&(h=c.credit+c.balance,d-=h,d<0&&(h+=d))),d=Math.max(0,a(d)),u=Math.max(0,a(u)),h=Math.max(0,a(h)),p=Math.max(0,a(p)),{totalPrice:d,unitPrice:u,creditUsed:h,totalPriceBeforeCredit:p}},t.getDiscountedPrice=r,t.formatPriceForStripe=function(e){return Math.max(0,100*e)},t.isOfferValid=function(e){return new Date(e.validUntil).getTime()-(new Date).getTime()>0},t.hasTeamPlan=function(e){return["team_monthly_unit_price_v1","team_annual_unit_price_v1"].includes(e)},t.getPeriodText=function(e){return e===o.BillingPeriod.MONTHLY?"monthly":"annually"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(617)),s=i(n(685)),a=i(n(567));function r(e={}){var t,n;const i=null!==(n=null!==(t=e.selectedOrganizationId)&&void 0!==t?t:e.oid)&&void 0!==n?n:a.default.SpaceStore.getState().selectedOrganizationId;return Object.assign(Object.assign({},e),{oid:i})}const l={getBarrels(e){a.default.dispatcher.dispatch({type:o.default.GET_BARRELS,oid:e})},requestInvite(e,t){a.default.dispatcher.dispatch({type:o.default.REQUEST_INVITE,id:e,container:t})},addOrganization(e){a.default.dispatcher.dispatch({type:o.default.ADD_ORGANIZATION,organization:e})},addOrganizationWorkflowStatus(e){const{oid:t,workflowStatusData:n,syncWithApi:i=!1}=r(e);a.default.dispatcher.dispatch({type:o.default.ADD_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusData:n,syncWithApi:i})},updateOrganization(e,t){a.default.dispatcher.dispatch({type:o.default.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){a.default.dispatcher.dispatch({type:o.default.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},updateOrganizationSubscription({oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:s,onSuccess:r,syncWithApi:l}){a.default.dispatcher.dispatch({type:o.default.UPDATE_ORGANIZATION_SUBSCRIPTION,oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:s,onSuccess:r,syncWithApi:l})},updateOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,workflowStatusData:i,syncWithApi:l=!1}=r(e),c=l?s.default.getOrganizationWorkflowStatus(t,n):{};a.default.dispatcher.dispatch({type:o.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:c,syncWithApi:l})},updateOrganizationWorkflowStatusName({workflowStatusId:e,name:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{name:t},syncWithApi:n})},updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{color:t},syncWithApi:n})},removeOrganization(e){a.default.dispatcher.dispatch({type:o.default.REMOVE_ORGANIZATION,id:e})},deleteOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,syncWithApi:i=!1}=r(e),l=i?s.default.getOrganizationWorkflowStatus(t,n):{};a.default.dispatcher.dispatch({type:o.default.DELETE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,oldWorkflowStatusData:l,syncWithApi:i})},getOrganizationSectionsSuccess(e,t){a.default.dispatcher.dispatch({type:o.default.GET_ORGANIZATION_SECTIONS_SUCCESS,sections:e,oid:t})},organizationMembersRequested(e){a.default.dispatcher.dispatch({type:o.default.ORGANIZATION_MEMBERS_REQUESTED,oid:e})},getOrganizationMembersSuccess(e){a.default.dispatcher.dispatch({type:o.default.GET_ORGANIZATION_MEMBERS_SUCCESS,organizationMembers:e})},getOrganizationMembersFailed(e,t){a.default.dispatcher.dispatch({type:o.default.GET_ORGANIZATION_MEMBERS_FAILED,oid:e,error:t})},addOrganizationProfile(e,t){a.default.dispatcher.dispatch({type:o.default.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})},addBarrelToFocus(e){var t;const{mid:n,bid:i,barrelType:s,shouldPopOldestBarrel:l,oid:c,syncWithApi:d}=r(e),{focusedBarrels:u}=a.default.OrganizationStore.getState();let h;(null===(t=u[c])||void 0===t?void 0:t.length)&&([h]=u[c]),a.default.dispatcher.dispatch({type:o.default.ADD_BARREL_TO_FOCUS,oid:c,mid:n,bid:i,barrelType:s,poppedBarrel:h,shouldPopOldestBarrel:l,syncWithApi:d})},addBarrelToFocusSuccess(){a.default.dispatcher.dispatch({type:o.default.ADD_BARREL_TO_FOCUS_SUCCESS})},removeBarrelFromFocus(e){const{mid:t,bid:n,barrelType:i,poppedBarrel:s,oid:l,syncWithApi:c}=r(e);a.default.dispatcher.dispatch({type:o.default.REMOVE_BARREL_FROM_FOCUS,oid:l,mid:t,bid:n,barrelType:i,poppedBarrel:s,syncWithApi:c})},unpinBarrelFromFocus(e){const{mid:t,bid:n,barrelType:i,oid:s,syncWithApi:l}=r(e);a.default.dispatcher.dispatch({type:o.default.UNPIN_BARREL_FROM_FOCUS,oid:s,mid:t,bid:n,barrelType:i,syncWithApi:l})},unpinBarrelFromFocusSuccess({bid:e}){a.default.dispatcher.dispatch({type:o.default.UNPIN_BARREL_FROM_FOCUS_SUCCESS,bid:e})},repinBarrelToFocus({oid:e,bid:t}){a.default.dispatcher.dispatch({type:o.default.REPIN_BARREL_TO_FOCUS,oid:e,bid:t})},hitPinLimit({pinnedAnyway:e,focusCountLimit:t}){a.default.dispatcher.dispatch({type:o.default.HIT_PIN_LIMIT,pinnedAnyway:e,focusCountLimit:t})},removeUnjoinedBarrels({oid:e,mid:t}){const n=s.default.getOrganizationProjects(e),i=s.default.getOrganizationStyleguides(e),r=n.filter((({users:e})=>e.some((({user:e})=>e._id===t)))).map((({_id:e})=>e)),l=i.filter((({users:e})=>e.some((({user:e})=>e._id===t)))).map((({_id:e})=>e));a.default.dispatcher.dispatch({type:o.default.REMOVE_UNJOINED_BARRELS,oid:e,remainingProjects:r,remainingStyleguides:l})},updateMemberTags({oid:e,mid:t,operation:n,tags:i}){a.default.dispatcher.dispatch({type:o.default.UPDATE_MEMBER_TAGS,oid:e,mid:t,operation:n,tags:i})},addProjectSection(e){const{oid:t,index:n,sectionData:i,shouldCalculateActualIndex:l,dialogDismissParams:c,syncWithApi:d,bulkOperation:u=!1}=r(e),{sections:h}=s.default.getOrganization(t);let p;d&&(p=s.default.findSectionIndicesOfProjects(t,i.projects));let f=n;if(void 0===f){const e=h.findIndex((({projects:e})=>e.includes(i.projects[0])));f=0===e?h.length:e+1}l&&(f=s.default.whereToDropSectionInWorkspace({oid:t,index:f})),a.default.dispatcher.dispatch({type:o.default.ADD_PROJECT_SECTION,oid:t,index:f,sectionData:i,oldIndices:p,dialogDismissParams:c,syncWithApi:d,bulkOperation:u})},addProjectSectionId(e){const{oid:t,index:n,oseid:i}=r(e);a.default.dispatcher.dispatch({type:o.default.ADD_PROJECT_SECTION_ID,oid:t,index:n,oseid:i})},updateProjectSection(e){const{oid:t,oseid:n,sectionData:i,syncWithApi:l=!1}=r(e);let c;if(l){c=s.default.getOrganization(t).sections.find((e=>e._id===n))}a.default.dispatcher.dispatch({type:o.default.UPDATE_PROJECT_SECTION,oid:t,oseid:n,sectionData:i,oldSectionData:c,syncWithApi:l})},removeProjectSection(e){const{oid:t,oseid:n,syncWithApi:i=!1}=r(e);let l,c;if(i){const e=s.default.getOrganization(t);c=e.sections.findIndex((e=>e._id===n)),l=e.sections[c]}a.default.dispatcher.dispatch({type:o.default.REMOVE_PROJECT_SECTION,oid:t,oseid:n,oldSectionIndex:c,oldSectionData:l,syncWithApi:i})},updateProjectSectionOrder(e){const{oid:t,oseid:n,index:i,shouldCalculateActualIndex:l,dialogDismissParams:c,syncWithApi:d=!1}=r(e);let u;if(d){const{sections:e}=s.default.getOrganization(t);u=e.findIndex((e=>e._id===n))}let h=i;l&&(h=s.default.whereToDropSectionInWorkspace({oid:t,index:i})),a.default.dispatcher.dispatch({type:o.default.UPDATE_PROJECT_SECTION_ORDER,oid:t,oseid:n,index:h,oldSectionIndex:u,dialogDismissParams:c,syncWithApi:d})},updateProjectOrder(e){const{oid:t,oseid:n,projects:i,index:l,shouldCalculateActualIndex:c,dialogDismissParams:d,syncWithApi:u=!1,bulkOperation:h=!1}=r(e);let p,f=[];if(u){const{sections:e}=s.default.getOrganization(t);p=n===e[0]._id,f=s.default.findSectionIndicesOfProjects(t,i)}let g=l;c&&(g=s.default.whereToDropProjectInSection({oid:t,oseid:n,index:l})),a.default.dispatcher.dispatch({type:o.default.UPDATE_PROJECT_ORDER,oid:t,oseid:n,projects:i,index:g,oldIndices:f,isDefaultSection:p,dialogDismissParams:d,syncWithApi:u,bulkOperation:h})},addSectionLink(e){const{oid:t,oseid:n,linkData:i,syncWithApi:s=!1}=r(e);a.default.dispatcher.dispatch({type:o.default.ADD_SECTION_LINK,oid:t,oseid:n,linkData:i,syncWithApi:s})},updateSectionLink(e){const{oid:t,oseid:n,oselid:i,linkData:l,syncWithApi:c=!1}=r(e);let d;if(c){d=s.default.getOrganization(t).sections.find((({_id:e})=>e===n)).links.find((e=>e._id===i))}a.default.dispatcher.dispatch({type:o.default.UPDATE_SECTION_LINK,oid:t,oseid:n,oselid:i,linkData:l,oldLink:d,syncWithApi:c})},removeSectionLink(e){const{oid:t,oseid:n,oselid:i,syncWithApi:l=!1}=r(e);let c;if(l){c=s.default.getOrganization(t).sections.find((({_id:e})=>e===n)).links.find((e=>e._id===i))}a.default.dispatcher.dispatch({type:o.default.REMOVE_SECTION_LINK,oid:t,oseid:n,oselid:i,oldLink:c,syncWithApi:l})}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnterprisePlanContent=t.OrganizationPlanContent=t.TeamPlanContent=void 0;var i=n(1106);Object.defineProperty(t,"TeamPlanContent",{enumerable:!0,get:function(){return i.TeamPlanContent}}),Object.defineProperty(t,"OrganizationPlanContent",{enumerable:!0,get:function(){return i.OrganizationPlanContent}}),Object.defineProperty(t,"EnterprisePlanContent",{enumerable:!0,get:function(){return i.EnterprisePlanContent}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnterprisePlanContent=t.OrganizationPlanContent=t.TeamPlanContent=void 0;const o=n(4),s=n(731),a=i(n(841)),r=i(n(724)),l=n(582);function c({children:e,newFeature:t}){return o.h("li",{class:r.default({newFeature:t})},o.h(s.IconTick,{color:"var(--gandalf)"}),e)}function d(){return o.h("div",{class:"seatInfoTooltip"},o.h("div",{class:"tooltipContainer"},o.h("span",null,"💁‍♀️ "),o.h("p",null,"Per designers and developers.",o.h("br",null),o.h("br",null),"You can invite unlimited reviewers with no charge. They can view the designs and add notes.")))}n(1107),t.TeamPlanContent=function({projectLimit:e,selectedUnitPrice:t,offer:n}){const i=!!(null==n?void 0:n.percentage),s=(null==n?void 0:n.projectLimit)&&n.projectLimit>e?n.projectLimit:void 0;return o.h("div",{class:"planContent"},o.h(a.default,{class:"planLogo",asset:"/img/icTeamPlan.png"}),o.h("h2",null,"Team"),o.h("p",{className:"description"},"Best for small teams"),o.h("p",{className:r.default("priceText",{hasDiscount:i})},o.h("span",{className:"unitPriceWrapper"},o.h("span",{className:"monthlyUnitPrice"},"$",t," "),o.h("span",{className:"seatText"},"seat*",o.h(d,null)),"/mo"),i&&o.h("a",null,"  Offer applied")),o.h("ul",null,s?o.h(c,{newFeature:!!n},o.h("s",null,e)," ",o.h("a",null,s)," Projects"):o.h(c,{newFeature:!!n},e," Projects"),o.h(c,{newFeature:!!n},"Team Workspace"),o.h(c,{newFeature:!!n},"User Management"),o.h(c,{newFeature:!!n},"Unlimited version history"),o.h(c,null,"Unlimited Reviewers")))},t.OrganizationPlanContent=function({minUserCount:e,selectedUnitPrice:t}){return o.h("div",{class:"planContent"},o.h(a.default,{class:"planLogo",asset:"/img/icOrganizationPlan.png"}),o.h("h2",null,"Organization"),o.h("p",{class:"description"},"Best for medium size teams"),o.h("p",{class:"priceText"},o.h("span",{class:"monthlyUnitPrice"},"$",t," "),o.h("span",{class:"seatText"},"seat*",o.h(d,null)),"/mo",o.h("br",null),o.h("span",{class:"minUserCount"},e," seat minimum")),o.h("h4",null,"Everything in Team, plus;"),o.h("ul",null,o.h(c,null,"Unlimited Projects"),o.h(c,null,"Advanced User Permissions"),o.h(c,null,"Jira Server and Data Center Integration"),o.h(c,null,"Priority support")))},t.EnterprisePlanContent=function(){return o.h("div",{class:"planContent"},o.h(a.default,{class:"planLogo",asset:"/img/icEnterprisePlan.png"}),o.h("h2",null,"Enterprise"),o.h("p",{class:"description"},"Best for large teams"),o.h("p",{className:"priceText"},o.h("img",{src:l.imageUrl("img/icTalk.svg")}),o.h("span",{className:"minUserCount"},"Custom Pricing")),o.h("h4",null,"Everything in Organization, plus;"),o.h("ul",null,o.h(c,null,"Single Sign on (SSO)"),o.h(c,null,"Invoiced billing"),o.h(c,null,"Dedicated success manager"),o.h(c,null,"24hr support SLA")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1109);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(731),a=i(n(1110)),r=n(1103),l=n(583),c=i(n(724)),d=n(582),u=n(718);n(1111);const h="free",p="team_annual_unit_price_v1",f="team_monthly_unit_price_v1",g="organization_annual_unit_price_v4",m="organization_monthly_unit_price_v3",b="enterprise_annual_unit_price_v1";t.default=function({plans:e,period:t}){const n=function(e,t){const n=e.free[t],i=e.team[t],s=e.organization[t],a=e.enterprise[t];return{sidebar:o.h("div",{class:"row header border"},o.h("h2",null,"Compare features")),body:o.h("div",{class:"row header border"},[n,i,s].map((e=>{const t=`$${r.formatPriceForUI(e.price/("annual"===e.period?12:1))}`,n=0===e.price?"Always free":"seat/month",i=o.h("div",{class:"subText"},n,e.quantity>1?o.h(o.Fragment,null,o.h("br",null),e.quantity," seat minimum"):""),s=-1===e.projectLimit?"Unlimited projects":l.pluralize(e.projectLimit,"Project");return o.h("div",{key:e.id,class:"cell"},o.h("h3",null,e.name),o.h("h2",null,t),i,o.h("div",{class:"smallText"},s))})),o.h("div",{class:"cell"},o.h("h3",null,a.name),o.h("img",{src:d.imageUrl("img/icTalk.svg")}),o.h("div",{class:"subText"},o.h("a",{href:"mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan",target:"_blank",rel:"noopener noreferrer",onClick:u.sendEnterpriseInquiry},"Contact Us")),o.h("div",{class:"smallText"},"Custom Pricing")))}}(function(e){const t=e.find((e=>e.id===h)),n=e.find((e=>e.id===p)),i=e.find((e=>e.id===f)),o=e.find((e=>e.id===g)),s=e.find((e=>e.id===m)),a=e.find((e=>e.id===b));return{free:{monthly:t,annual:t},team:{annual:n,monthly:i},organization:{annual:o,monthly:s},enterprise:{annual:a,monthly:a}}}(e),t),i=function(e){const t=[],n=[];for(const i of e){t.push(o.h("div",{class:"row border"},o.h("h3",null,i.label))),n.push(o.h("div",{class:"row empty border"}));for(const e of i.features)t.push(o.h("div",{class:"row"},o.h("li",{class:c.default({comingSoon:e.comingSoon,hasList:e.values.some((e=>Array.isArray(e)))})},e.label))),n.push(o.h("div",{class:"row border"},e.values.map(((e,t)=>"boolean"==typeof e?o.h("div",{key:t,class:"cell"},e&&o.h(s.IconTick,{color:"var(--cornflower-blue)"})):Array.isArray(e)?o.h("div",{key:t,class:"cell"},o.h("ul",null,e.map((e=>o.h("li",{key:e},"• ",e))))):o.h("div",{key:t,class:"cell"},e)))))}return{sidebar:t,body:n}}(a.default);return o.h("div",{class:"planComparison"},o.h("div",{class:"sidebar"},n.sidebar,i.sidebar),o.h("div",{class:"body"},n.body,i.body))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{label:"Handoff+",features:[{label:"Show specs",values:[!0,!0,!0,!0]},{label:"Generate assets",values:[!0,!0,!0,!0]},{label:"Generate code snippets",values:[!0,!0,!0,!0]},{label:"Pop out designs",values:[!0,!0,!0,!0]}]},{label:"Collaboration",features:[{label:"Screen Variants",values:["2 variant groups","Unlimited","Unlimited","Unlimited"]},{label:"Screen version history, commit messages",values:["30 days","Unlimited","Unlimited","Unlimited"]},{label:"Sections and tags to manage screens",values:[!0,!0,!0,!0]},{label:"Notes and comments",values:[!0,!0,!0,!0]}]},{label:"Styleguides",features:[{label:"Number of styleguides",values:["4 styleguides","12 styleguides","Unlimited","Unlimited"]},{label:"Colors, Text Styles",values:[!0,!0,!0,!0]},{label:"Number of Components",values:["99","Unlimited","Unlimited","Unlimited"]},{label:"Connected Components",values:[!0,!0,!0,!0]},{label:"Spacing",values:[!0,!0,!0,!0]}]},{label:"Open Platform",features:[{label:"Slack integration",values:[!0,!0,!0,!0]},{label:"Trello integration",values:[!0,!0,!0,!0]},{label:"Microsoft team integration",values:[!0,!0,!0,!0]},{label:"Jira Cloud integration",values:[!0,!0,!0,!0]},{label:"Jira Server and Data Center integrations",values:[!1,!1,!0,!0]},{label:"API and Webhook",values:[!0,!0,!0,!0]}]},{label:"Workspace management",features:[{label:"Workspace to manage projects",values:[!1,!0,!0,!0]},{label:"Project sections and statuses",values:[!1,!0,!0,!0]},{label:"Pin projects",values:[!1,!0,!0,!0]},{label:"Invite multiple users by tag",values:[!1,!1,!0,!0]},{label:"Content ownership",values:[!1,!1,!1,!0]},{label:"Multiple teams",values:[!1,!1,!1,!0]},{label:"Private projects",values:[!1,!1,!0,!0],comingSoon:!0}]},{label:"User management",features:[{label:"Dashboard to manage users",values:[!1,!0,!0,!0]},{label:"User permissions",values:[!1,["Admin","Editor"],["Admin","Editor","Developer"],["Admin","Editor","Developer"]]},{label:"Reviewer (free)",values:[!1,"Unlimited","Unlimited","Unlimited"]},{label:"Restricted members",values:[!1,!0,!0,!0]},{label:"Priority support",values:[!1,!1,!0,!0]},{label:"SCIM",values:[!1,!1,!1,!0]},{label:"Domain Capture",values:[!1,!1,!1,!0],comingSoon:!0}]}]},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1113);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(548),s=n(718);n(1114),t.default=function(){return i.h("div",{class:"planChooserFAQ"},i.h("h2",null,"FAQ"),i.h("h3",null,"Who requires a seat in Zeplin?"),i.h("p",null,"A seat is required to publish designs, access technical specs and download assets. Viewing a project and reading/adding notes is available for Reviewers and does not require a seat."),i.h("h3",null,"Why do developers require a seat?"),i.h("p",null,"Zeplin provides capabilities much needed by developers including clarity on “finalized” designs, an accessible design workspace friendly to non-designers, added structure to design screens and of course tailored technical specs built by developers for developers."),i.h("h3",null,"As a designer, do I have to pay for developers?"),i.h("p",null,"If you would like to divide billing between designers and developers, we can customize our Zeplin Enterprise plan to meet your needs,"," ",i.h("a",{href:"mailto:enterprise@zeplin.io",target:"_blank",onClick:s.sendEnterpriseInquiry},"click here")," ",'to contact our sales team."'),i.h("h3",null,"How does Zeplin work with Figma?"),i.h("p",null,"Figma is better together with Zeplin, learn more about how leading design teams use"," ",i.h("a",{href:`${o.WEB_URL}/figma`,target:"_blank"},"Figma & Zeplin together"),"."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1118);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1119));t.default=function({hasUnreadNotifications:e,active:t,backLabel:n,backLink:i}){return o.h("a",{href:i,"data-link-type":"inApp","data-back":n},o.h(s.default,{hasUnread:e,active:t}))}},function(e,t,n){"use strict";n.r(t);var i=n(1120);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(1121),c=n.n(l);n(1122);function d({hasUnread:e,active:t}){return i.h("button",{class:r()("notificationsButton",{active:t})},e&&i.h("div",{class:"unreadBadge"}),i.h(c.a,null))}d.propTypes={hasUnread:s.a.bool,active:s.a.bool},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({width:e=24,height:t=26}){return i.h("svg",{width:e,height:t,viewBox:"0 0 24 26"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(572)),s=i(n(567)),a=n(610),r=n(819),l=a.debouncePromise(r.updateNotificationLastReadTime),c={addNotification(e){s.default.dispatcher.dispatch({type:o.default.AddNotification,notification:e})},getNotifications(e,t){s.default.dispatcher.dispatch({type:o.default.GetNotificationsRequested}),r.getNotifications(e,t).then((e=>{s.default.dispatcher.dispatch({type:o.default.GetNotificationsSuccess,notifications:e.notifications})})).catch((e=>{s.default.dispatcher.dispatch({type:o.default.GetNotificationsFailed,error:e})}))},updateNotificationLastReadTime(){l()},markAllAsRead(e){s.default.dispatcher.dispatch({type:o.default.MarkAllAsRead,notifications:e})},restoreReadStatus(e){s.default.dispatcher.dispatch({type:o.default.RestoreReadStatus,notifications:e})},setReadStatusOffline(e,t){s.default.dispatcher.dispatch({type:o.default.SetReadStatusOffline,nids:e,markedAsRead:t})},setReadStatusOfflineByNotifications(e,t){s.default.dispatcher.dispatch({type:o.default.SetReadStatusOfflineByNotifications,notifications:e,markedAsRead:t})},setEventReadStatus(e,t,n){s.default.dispatcher.dispatch({type:o.default.SetEventReadStatus,notification:e,eventIds:t,markedAsRead:n})},setEventReadStatusOffline(e,t,n){s.default.dispatcher.dispatch({type:o.default.SetEventReadStatusOffline,nid:e,eventIds:t,markedAsRead:n})},deleteEvent(e,t){s.default.dispatcher.dispatch({type:o.default.DeleteEvent,nid:e,eventId:t})}};t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1125);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1126),s=n(709),a=n.n(s),r=n(685),l=n.n(r),c=n(567),d=n.n(c),u=n(929),h=n.n(u),p=n(852),f=n(686),g=n(610),m=n(546),b=n(545),S=n(547),y=n(1027),v=n(1040);n(1492);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),O(this,"handleEnableSelectMode",(({pid:e,focusAreaVisible:t})=>{const n=document.querySelector(".focusedProjects"),i=document.querySelector(".organizationSummary"),o=document.querySelector(".tabs"),s=i.clientHeight+o.clientHeight+(t?n.clientHeight:0);if(this.prevWorkspaceScrollTop=this.nodeRefs.workspace.scrollTop,s>this.prevWorkspaceScrollTop){const r=s-this.prevWorkspaceScrollTop+1,l=new IntersectionObserver((s=>{s[0].isIntersecting||(l.unobserve(s[0].target),i.remove(),o.remove(),t&&n.remove(),this.nodeRefs.workspace.scrollTop=1,a.a.toggleProjectSelection(e))}),{root:this.nodeRefs.workspace});l.observe(t?n:o),this.nodeRefs.workspace.scrollBy({top:r,left:0,behavior:"smooth"})}else this.nodeRefs.workspace.scrollTop-=s,i.remove(),o.remove(),t&&n.remove(),a.a.toggleProjectSelection(e)})),O(this,"renderDialogs",(()=>{const{visibleDialogType:e,visibleDialogParams:t,selectedOrganization:n,canChangePlan:o}=this.state;if(e===S.DialogTypes.PLAN_CHOOSER){const{barrelType:e,planUpgradeTrigger:s}=t;if(!o)return i.h(y.BasicOverlayDialog,{title:`Cannot create ${e}`,message:`Your workspace reached the ${e} limit. Contact the workspace Admins to upgrade your plan.`,positiveButtonText:"OK",hideNegativeButton:!0,onPositiveButtonClick:a.a.closeDialog,onClose:a.a.closeDialog});Object(v.showPlanChooserOverlay)({source:`Workspace, Reached ${e} limit`,displayFullMode:!1,upgradeTrigger:s,oid:n&&n._id,cb:a.a.closeDialog})}return null}))}static calculateState(){const{loading:e,selectedOrganizationId:t,selectedTab:n,visibleDialogType:i,visibleDialogParams:o}=d.a.SpaceStore.getState(),{selectedProjects:s}=d.a.ProjectSelectionStore.getState(),{organizations:a,organizationProfiles:r,loading:c,loadingOrganization:u,loadingProfiles:h,loadingBarrels:p}=d.a.OrganizationStore.getState(),{loading:m}=d.a.UserStore.getState(),b=e||c||u||h||m||p,S=a.find((({_id:e})=>e===t))||{},y=l.a.getOrganizationProjects(S._id),v=l.a.getOrganizationStyleguides(S._id),{members:O,sections:C}=S,E=r[t],T="user"===t||g.permissions.canChangePlan(E);return{selectedTab:n,loading:b,organizationDashboardLink:h||!E||E.restricted?null:Object(f.urlResolve)("workspace-members",{url:{oid:t}}),visibleDialogType:i,visibleDialogParams:o,selectedOrganization:S,selectedOrganizationProfile:E,canChangePlan:T,projectsCount:y&&y.length,styleguidesCount:v&&v.length,membersCount:O&&O.length,selectedProjects:s,hideTopSection:s.length>0,sectionsCount:C&&C.length}}static getStores(){return[d.a.SpaceStore,d.a.ProjectSelectionStore,d.a.OrganizationStore,d.a.ProjectsDataStore,d.a.StyleguidesDataStore,d.a.UserStore]}componentDidMount(){b.isWindowsApp&&m.default.ipcRenderer.send("on-login",Zeplin.user)}componentDidUpdate(e,t){!this.state.hideTopSection&&t.hideTopSection&&t.sectionsCount===this.state.sectionsCount&&(this.nodeRefs.workspace.scrollTop=this.prevWorkspaceScrollTop)}render(){const{loading:e,selectedTab:t,hideTopSection:n,selectedOrganization:s,selectedOrganizationProfile:r,organizationDashboardLink:l,projectsCount:c,styleguidesCount:d,membersCount:u}=this.state;return i.h("main",{class:"spaceContainer",ref:Object(p.default)(this,"base")},i.h(o.default,{baseRef:Object(p.default)(this,"workspace"),loading:e,selectedOrganization:s,selectedOrganizationProfile:r,organizationDashboardLink:l,hideTopSection:n,selectedTab:t,toastContainer:this.nodeRefs.base,projectsCount:c,styleguidesCount:d,membersCount:u,onDialogClose:a.a.closeDialog,onEnableSelectMode:this.handleEnableSelectMode}),this.renderDialogs())}}t.default=h()(C)},function(e,t,n){"use strict";n.r(t);var i=n(1127);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(223),s=n(1128),a=n(1131),r=n(1398),l=n(1484),c=n.n(l),d=n(724),u=n.n(d),h=n(959),p=n(1103),f=n(583),g=n(547),m=n(1169),b=n(1490),S=n(709),y=n.n(S);n(1491);function v({label:e,value:t,selected:n}){const o=u()("tab","noSelect",{selected:n});return i.h("label",{class:o},e,i.h("input",{type:"radio",name:"workspaceTab",value:t,checked:n,onChange:e=>{e.stopPropagation(),y.a.changeSelectedTab(t)}}))}function O({baseRef:e,onEnableSelectMode:t,loading:n,toastContainer:l,hideTopSection:d,selectedOrganization:{_id:u,logo:m,name:S,status:y,paymentPlan:O},selectedOrganizationProfile:C,organizationDashboardLink:E,projectsCount:T,styleguidesCount:_,membersCount:P,selectedTab:I}){const j=C&&C.role,D=Object(o.useRef)(null);function k(e,{increment:t=!1}={}){t?D.current.scrollTop+=e:D.current.scrollTop=e}Object(o.useEffect)((()=>{Object(b.hideOrganizationFrozenBanner)(),"frozen"===y&&Object(b.showOrganizationFrozenBanner)({oid:u,currentRole:j,isTeamPlan:Object(p.hasTeamPlan)(O)})}),[y,u,j,I]);function R(e){Object(h.copyContent)({content:e,toastContainer:l})}return i.h("div",{class:"workspace",ref:function(t){D.current=t,e(t)}},d?null:i.h(i.Fragment,null,(()=>{if(!u)return null;if(n)return i.h(c.a.Loading,null);const e=P?Object(f.pluralize)(P,"member"):"",t=[void 0!==T?Object(f.pluralize)(T,"project"):"",void 0!==_?Object(f.pluralize)(_,"styleguide"):"",e].filter(Boolean).join(", ");return i.h(c.a,{imageSrc:m,dashboardLink:E,title:S,subInfo:t,projectsCount:T,styleguidesCount:_,membersCount:P})})(),i.h("div",{class:"tabs"},i.h(v,{label:"Projects",value:g.WorkspaceTabs.PROJECTS,selected:I===g.WorkspaceTabs.PROJECTS}),i.h(v,{label:"Styleguides",value:g.WorkspaceTabs.STYLEGUIDES,selected:I===g.WorkspaceTabs.STYLEGUIDES}),i.h("hr",null))),n?i.h(s.default,null):I===g.WorkspaceTabs.PROJECTS?i.h(a.default,{onEnableSelectMode:t,toastContainer:l,onCopyLink:R,hideFocusedProjectsSection:d,setScrollPositionOfWorkspace:k}):I===g.WorkspaceTabs.STYLEGUIDES?i.h(r.default,{onCopyLink:R}):null)}t.default=function(e){return i.h(m.SectionObserverProvider,null,i.h(O,e))}},function(e,t,n){"use strict";n.r(t);var i=n(1129);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1130);t.default=function(){return i.h("div",{class:"overviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"})),i.h("div",{class:"cardGridLoading"},i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1132);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1133),s=n(1195),a=n(1262),r=n(1269),l=n(1332),c=n(1157),d=n(1334),u=n(1027),h=n(1337),p=n(1348),f=n(1363),g=n.n(f),m=n(1366),b=n.n(m),S=n(1369),y=n.n(S),v=n(1375),O=n(1378),C=n(1381),E=n(1384),T=n.n(E),_=n(1388),P=n.n(_),I=n(1391),j=n.n(I),D=n(709),k=n.n(D),R=n(1039),A=n.n(R),w=n(683),N=n.n(w),L=n(685),M=n.n(L),x=n(1104),U=n.n(x),B=n(702),V=n.n(B),z=n(1260),F=n.n(z),W=n(567),H=n.n(W),G=n(929),$=n.n(G),q=n(1392),Z=n(852),K=n(724),Y=n.n(K),J=n(610),X=n(692),Q=n(544),ee=n(687),te=n(693),ne=n(590),ie=n.n(ne),oe=n(622),se=n.n(oe),ae=n(884),re=n(547),le=n(1330),ce=n(1393),de=n(1396),ue=n.n(de),he=n(1394);n(1397);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const me="x1RPNx8Jsp4";function be(e,t,n){if(!t||t===n)return[n];const i=e.indexOf(t),o=e.indexOf(n),s=Math.min(i,o),a=Math.max(i,o);return e.slice(s>=0?s:0,a+1)}class Se extends i.Component{constructor(...e){super(...e),ge(this,"multipleSelectionBaseProject",null),ge(this,"state",{hoveredProjects:[],scrollPositionOfWorkspace:0}),ge(this,"shiftKeyPressed",!1),ge(this,"projectRefs",{}),ge(this,"visibleSections",new Set),ge(this,"getSelectableProjects",(()=>{const{sections:e,collapsedSections:t}=this.state,n=e.reduce(((e,n)=>(t[n._id]||n.projects.forEach((t=>{e.add(t.id)})),e)),new Set);return Array.from(n)})),ge(this,"getSectionName",(e=>{const{selectedOrganization:t}=this.state,[n]=t.sections.filter((t=>t._id===e));return n&&n.name})),ge(this,"getMoveToSectionMessage",((e,t)=>t.length>1?[`Moving ${t.length} projects out of their sections may cause you to lose access to these sections.`,"Are you sure you want to move these projects from their sections?"]:[`Moving this project out of the "${this.getSectionName(e)}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"])),ge(this,"getSectionsToBeEmptied",(e=>{const{selectedOrganization:t}=this.state;return t.sections.reduce(((n,i)=>{const o=M.a.getVisibleProjectsOfSection(t._id,i._id);return o.length>0&&o.every((t=>e.includes(t._id)))?(n.push(i._id),n):n}),[])})),ge(this,"openMultiselectMoveProjectsDialog",((e,t,n)=>{const i=1===e.length?e[0]:null,o=this.getMoveToSectionMessage(i,t);k.a.openDialog(re.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:o,positiveButtonClick:n,positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})})),ge(this,"handleProjectPreviewJoin",(()=>{V.a.join({barrelType:ie.a.PROJECT,bid:this.state.previewProject._id,mixpanelSource:"Preview",actionSource:F.a.PREVIEW_DIALOG})})),ge(this,"handleOpenCreateProjectDialog",(({oseid:e})=>{const{currentPlan:t,currentUserId:n,selectedOrganization:i,isPersonalWorkspace:o,organizationProjects:s}=this.state,a=i&&i.projectLimit?i.projectLimit:t.projectLimit,r=(o?s.filter((e=>e.users.some((({user:{_id:e},role:t})=>e===n&&"owner"===t)))):s).filter((e=>"archived"!==e.status));a>0&&r.length>=a?k.a.openDialog(re.DialogTypes.PLAN_CHOOSER,{barrelType:ie.a.PROJECT,planUpgradeTrigger:re.PlanUpgradeTrigger.PROJECT_LIMIT}):k.a.openDialog(re.DialogTypes.CREATE_PROJECT,{oseid:e})})),ge(this,"handleCreateProject",(e=>{const{selectedOrganizationId:t,visibleDialogParams:{oseid:n}}=this.state;j.a.createProject({oid:t,platform:e,oseid:n})})),ge(this,"handleProjectDidMount",((e,t)=>{this.projectRefs[e]=t})),ge(this,"handleProjectClick",((e,t,n=!1)=>{const{projects:i,currentUserId:o}=this.state,s=i[t];if(s&&"active"===s.status&&!s.users.some((e=>e.user._id===o)))return e.preventDefault(),e.stopPropagation(),void k.a.openDialog(re.DialogTypes.PREVIEW_PROJECT,{previewBarrelId:t});k.a.trackBarrelClick({isFromPinArea:n})})),ge(this,"handleArchiveProject",(({pid:e})=>{V.a.archive({bid:e,barrelType:ie.a.PROJECT,syncWithApi:!0})})),ge(this,"handleActivateProject",(({pid:e})=>{V.a.activate({bid:e,barrelType:ie.a.PROJECT,syncWithApi:!0})})),ge(this,"handleJoinProject",(({pid:e,actionSource:t})=>{V.a.join({barrelType:ie.a.PROJECT,bid:e,actionSource:t})})),ge(this,"handleDeleteProject",(({pid:e})=>{V.a.remove({bid:e,barrelType:ie.a.PROJECT,syncWithApi:!0})})),ge(this,"handleCopyProject",(({bid:e,barrelName:t,options:n})=>{V.a.copy({bid:e,barrelName:t,barrelType:ie.a.PROJECT,options:n,syncWithApi:!0})})),ge(this,"handleLeaveProject",(({bid:e,mid:t})=>{V.a.removeMember({barrelType:ie.a.PROJECT,bid:e,mid:t,syncWithApi:!0})})),ge(this,"handlePin",(e=>{const{pinnedBarrels:t,focusCountLimit:n}=this.state;U.a.addBarrelToFocus({mid:this.state.currentUserId,bid:e,barrelType:ie.a.PROJECT,shouldPopOldestBarrel:t.length===n,syncWithApi:!0}),this.showToast({text:"Project pinned",source:"projectsContainer"}),k.a.updatePageState({highlightedBarrels:[e]})})),ge(this,"handleUnpinFromFocusArea",(e=>{U.a.unpinBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:ie.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})})),ge(this,"handleUnpin",(e=>{U.a.removeBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:ie.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})})),ge(this,"handleRemoveUnpinned",(e=>{U.a.removeBarrelFromFocus({bid:e})})),ge(this,"handleScrollToUnpinnedBarrel",(e=>{const{sections:t,collapsedSections:n}=this.state,i=t.find((t=>t.projects.find((({_id:t})=>t===e))));i&&n[i._id]&&k.a.expandSections([i._id]),k.a.updatePageState({highlightedBarrels:[e],scrollToHighlightedBarrel:!0})})),ge(this,"handleReorderProject",(({sourceSectionId:e,targetSectionId:t,pid:n,index:i})=>{const{selectedOrganization:o,restrictedUser:s,dismissedDialogs:a}=this.state,r={oseid:t,projects:[n],index:i,shouldCalculateActualIndex:!0,syncWithApi:!0};if(s){if(e===t&&!a.reorderProjectDismissed)return void k.a.openDialog(re.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Project?",message:["Reordering this project will affect other projects in the section that may not be visible to you.","Are you sure you want to change the order in this section?"],positiveButtonClick:e=>U.a.updateProjectOrder(fe(fe({},r),{},{dialogDismissParams:e})),positiveButtonText:"REORDER PROJECT",dismissPrefKey:"reorderProjectDismissed"});const i=M.a.findProjectOrganizationSection(n),s=i._id===o.sections[0]._id,l=M.a.getVisibleProjectsOfSection(o._id,i._id);if(!s&&1===l.length&&!a.moveProjectOutOfSectionDismissed)return void k.a.openDialog(re.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${i.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>U.a.updateProjectOrder(fe(fe({},r),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}U.a.updateProjectOrder(r)})),ge(this,"handleCreateNewSectionWithProjects",(e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o=this.getSectionsToBeEmptied(e),s={sectionData:{name:le.NEW_SECTION_TITLE,description:le.NEW_SECTION_DESCRIPTION,projects:e},syncWithApi:!0};if(n){if(!(1===o.length&&o[0]===t.sections[0]._id)&&o.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(o,e,(e=>{U.a.addProjectSection(fe(fe({},s),{},{dialogDismissParams:e,bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})}))}U.a.addProjectSection(fe(fe({},s),{},{bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})})),ge(this,"handleMoveSelectedProjectsToSection",((e,t)=>{const{selectedOrganization:n,dismissedDialogs:i,restrictedUser:o}=this.state,s=this.getSectionsToBeEmptied(t),a=n.sections.find((t=>t._id===e));if(o){if(!(1===s.length&&s[0]===n.sections[0]._id)&&s.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(s,t,(n=>{U.a.updateProjectOrder({oseid:e,projects:t,dialogDismissParams:n,index:a.projects.length,syncWithApi:!0,bulkOperation:!0})}))}U.a.updateProjectOrder({oseid:e,projects:t,index:a.projects.length,syncWithApi:!0,bulkOperation:!0})})),ge(this,"handleMoveProjectToSection",((e,t)=>{this.handleReorderProject({targetSectionId:t,pid:e})})),ge(this,"handleProjectToSectionHeaderDrop",((e,t)=>{const n=M.a.findProjectOrganizationSectionId(e);n!==t&&this.handleReorderProject({sourceSectionId:n,targetSectionId:t,pid:e})})),ge(this,"handleProjectToSectionDrop",(({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:o,targetSectionId:s})=>{const{isPersonalWorkspace:a,sections:r}=this.state;if(a)return;const l=r.find((e=>e._id===s)),c=l.projects[o],d=this.projectRefs[c._id].getBoundingClientRect(),u=e.left>d.left+d.width/2?"right":"left";let h;if(i===s){if("individual"===l.type)return;h=o,n>o&&"right"===u&&(h=o+1),n<o&&"left"===u&&(h=o-1)}else"right"===u?h=o+1:"individual"!==l.type&&o&&(h=o);i===s&&n===h||this.handleReorderProject({sourceSectionId:i,targetSectionId:s,pid:t,index:h})})),ge(this,"handleSectionDrop",(({sourceId:e,sourceIndex:t,moveIndex:n})=>{const{selectedOrganizationName:i,sections:o,restrictedUser:s,dismissedDialogs:a}=this.state;if(t===n||n===o.length)return;const r={oseid:e,index:n,shouldCalculateActualIndex:!0,syncWithApi:!0};!s||a.reorderSectionDismissed?U.a.updateProjectSectionOrder(r):k.a.openDialog(re.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Section?",message:[`Reordering this section will affect other sections in the ${i} Workspace that may not be visible to you.`,"Are you sure you want to change the order of this section?"],positiveButtonClick:e=>U.a.updateProjectSectionOrder(fe(fe({},r),{},{dialogDismissParams:e})),positiveButtonText:"REORDER SECTION",dismissPrefKey:"reorderSectionDismissed"})})),ge(this,"handleCreateEmptySection",(()=>{U.a.addProjectSection({index:1,sectionData:{name:le.NEW_SECTION_TITLE,description:le.NEW_SECTION_DESCRIPTION,projects:[]},shouldCalculateActualIndex:!0}),this.showToast({text:"Section created",source:"projectsContainer"})})),ge(this,"handleCreateSectionFromProject",(e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o={sectionData:{name:le.NEW_SECTION_TITLE,description:le.NEW_SECTION_DESCRIPTION,projects:[e]},shouldCalculateActualIndex:!0,syncWithApi:!0};if(n){const n=M.a.findProjectOrganizationSection(e),s=n._id===t.sections[0]._id,a=M.a.getVisibleProjectsOfSection(t._id,n._id);if(!s&&1===a.length&&!i.moveProjectOutOfSectionDismissed)return void k.a.openDialog(re.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${n.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>U.a.addProjectSection(fe(fe({},o),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}U.a.addProjectSection(o),this.showToast({text:"Section created",source:"projectsContainer"})})),ge(this,"handleShowCannotDragToast",(()=>{const{selectedSortType:e,filterValue:t}=this.state;let n;e!==re.SortTypes.SECTIONS?n="Unselect sort option to reorder":this.isWorkflowStatusFilterApplied?n="Reset status filter to reorder":t&&(n="Reset search to reorder"),n&&this.showToast({text:n,source:"showCannotDragToast"})})),ge(this,"handleMouseDown",(e=>{const{isPersonalWorkspace:t}=this.state;t||this.canEditSections||e.button!==Zeplin.MOUSE_BUTTON.LEFT||(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.handleShowCannotDragToast,le.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS),document.addEventListener("mouseup",this.handleMouseUp))})),ge(this,"handleMouseUp",(()=>{clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)})),ge(this,"handleCollapseAllSections",(()=>{const e=M.a.getExpandedSectionIds();e.length>0&&k.a.collapseSections(e)})),ge(this,"handleExpandAllSections",(()=>{const e=M.a.getCollapsedSectionIds();e.length>0&&k.a.expandSections(e)})),ge(this,"handleKeyPress",(e=>{this.shiftKeyPressed=e.shiftKey,this.shiftKeyPressed&&this.handleProjectHover(this.hoveredProjectId),Object(Q.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(Q.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())})),ge(this,"handleKeyRelease",(e=>{const{hoveredProjects:t}=this.state;t.length>0&&e.keyCode===Zeplin.KEY_CODE.SHIFT&&(this.shiftKeyPressed=!1,this.setState({hoveredProjects:[]}))})),ge(this,"handleProjectHover",(e=>{if(this.hoveredProjectId=e,this.selectionModeEnabled)if(this.shiftKeyPressed&&this.multipleSelectionBaseProject){const t=be(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);this.setState({hoveredProjects:t})}else this.setState({hoveredProjects:[]});else{const{highlightedBarrels:t,pinnedBarrels:n}=this.state;!n.some((({barrelId:t})=>t===e))&&t.includes(e)&&k.a.unhighlightBarrel(e)}})),ge(this,"handleProjectSelect",(e=>{const{onEnableSelectMode:t}=this.props,{selectedProjects:n,pinnedBarrels:i}=this.state;if(0!==n.length)if(this.shiftKeyPressed&&this.selectionModeEnabled){const t=be(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);t.every((e=>n.includes(e)))?(this.multipleSelectionBaseProject=null,k.a.deselectProjects(t),this.setState({hoveredProjects:[]})):(this.multipleSelectionBaseProject=e,k.a.selectProjects(t))}else n.includes(e)?this.multipleSelectionBaseProject=null:this.multipleSelectionBaseProject=e,k.a.toggleProjectSelection(e);else t({pid:e,focusAreaVisible:i.length>0})})),ge(this,"handleChangeBulkStatus",(()=>{this.showToast({text:"Projects status changed",source:"projectsContainer"})})),ge(this,"handleSectionClickFromElevator",(e=>{k.a.highlightSection(e)})),ge(this,"handlePinWarningAuntieAction",(e=>{const{focusCountLimit:t}=this.state;U.a.hitPinLimit(fe(fe({},e),{},{focusCountLimit:t}))})),ge(this,"handleOpenCopyProjectDialog",(({barrelId:e,barrelName:t})=>{k.a.openDialog(re.DialogTypes.COPY_BARREL,{barrelId:e,barrelName:t})})),ge(this,"handleWorkflowStatusChange",(e=>{k.a.changeWorkflowStatusFilter({workflowStatus:e})})),ge(this,"handleDismissibleDialogPositiveButtonClick",(()=>{k.a.closeDialog(),this.state.visibleDialogParams.positiveButtonClick()})),ge(this,"handleTransferOwnership",(({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o})=>{const{currentUserId:s}=this.state,a=n===s,r=i&&M.a.getOrganizationProfile(n),l=r?J.permissions.canChangePlan(r):a;j.a.initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o,canChangePlanAtTarget:l})})),ge(this,"handleUseOfferClick",(()=>{location.assign(Object(ee.urlResolve)("workspace-create",{query:{useOffer:!0,plan:"team"}}))})),ge(this,"handleHideOfferClick",(()=>{const{offer:{validUntil:e}}=this.state,t=new Date(e),n=new Date,i=Object(te.getDateDifference)("d",n,t),o=864e5;let s;s=i>10?new Date(n.getTime()+7*o):i>3?new Date(t.getTime()-3*o):new Date(n.getTime()+o),k.a.postponeOfferReminder(s)})),ge(this,"handleWorkspaceScroll",(e=>{cancelAnimationFrame(this.setScrollPositionDelayId),this.setScrollPositionDelayId=requestAnimationFrame((()=>{this.setState({scrollPositionOfWorkspace:e.target.scrollTop})}))})),ge(this,"renderProject",((e,t,n)=>{const{onCopyLink:o}=this.props,{currentOrganizationProfile:s,isPersonalWorkspace:a,currentUserId:r,pinnedBarrels:c,highlightedBarrels:d,scrollToHighlightedBarrel:u,firstHighlightedProject:h,selectedOrganization:p,selectedProjects:f,hoveredProjects:g,focusCountLimit:m,workflowStatuses:b}=this.state,S=c.some((({barrelId:t})=>t===e._id)),y=!S&&d.includes(e._id),v=!S&&h===e._id&&u;let O;O=a?e.users.find((e=>e.user._id===r)):s;const C=f.includes(e._id),E=g.includes(e._id);return i.h(l.default,{key:e._id,sectionId:n,sections:p&&p.sections,onDrop:this.handleProjectToSectionDrop,index:t,onProjectHover:this.handleProjectHover,onClick:this.handleProjectClick,onMouseDown:this.handleMouseDown,project:e,currentUser:O,onArchive:this.handleArchiveProject,onActivate:this.handleActivateProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:this.handleTransferOwnership,onDelete:this.handleDeleteProject,onInvite:j.a.inviteUser,onCopyLink:o,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,highlight:y,onProjectDidMount:this.handleProjectDidMount,pinned:S,scroll:v,onScrolled:k.a.scrolledToProject,shouldDisplayPinWarningAuntie:c.length===m,onPinWarningAuntieAction:this.handlePinWarningAuntieAction,onOpenCopyProjectDialog:this.handleOpenCopyProjectDialog,onPin:this.handlePin,onUnpin:this.handleUnpin,onSelect:this.handleProjectSelect,isSelected:C,hasHover:E,workflowStatuses:b,selectionModeEnabled:this.selectionModeEnabled})})),ge(this,"renderProjectSection",((e,t)=>{const{onCopyLink:n}=this.props,{highlightedSection:o,collapsedSections:s,selectedSortType:l}=this.state,c="individual"!==e.type||!!e.projects.length,d=l===re.SortTypes.SECTIONS&&"default"!==e.type&&"individual"!==e.type&&(e.links.length||e.projects.length||this.canEditSections);return c&&i.h(r.default,{collapsed:s[e._id],ref:Object(Z.default)(this,e._id,"componentRefs"),key:e.key,index:t+1,data:e,highlight:e._id===o,actionsDisabled:l!==re.SortTypes.SECTIONS||"individual"===e.type,defaultSection:"default"===e.type,readOnly:!this.canEditSections||"individual"===e.type,shouldRenderSummary:d,showDescription:l===re.SortTypes.SECTIONS,onSectionDrop:this.handleSectionDrop,onProjectDrop:this.handleProjectToSectionHeaderDrop,onProjectToSectionDrop:this.handleProjectToSectionDrop,onCreateProjectClick:this.handleOpenCreateProjectDialog,onCopyLink:n},i.h(a.default,null,e.projects&&e.projects.map(((t,n)=>this.renderProject(t,n,e._id)))))})),ge(this,"renderFocusedProjects",(()=>{const{hideFocusedProjectsSection:e,onCopyLink:t}=this.props;if(e)return null;const{highlightedBarrels:n,firstHighlightedProject:o,focusedProjects:a,pinnedBarrelOnce:r,selectedOrganizationId:l,selectedOrganization:c={},workflowStatuses:d}=this.state;return i.h("div",{key:"focus",ref:Object(Z.default)(this,"focusedProjectsSection"),class:"projects"},i.h(s.default,{projects:a,highlightedProjects:n,firstHighlightedProject:o,pinnedBarrelOnce:r,sections:c.sections,organizationId:l,organizationStatus:c.status,organizationSubscriptionStatus:c.subscriptionStatus,workflowStatuses:d,onArchive:this.handleArchiveProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:j.a.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:j.a.inviteUser,onProjectHover:k.a.unhighlightBarrel,onCopyLink:t,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,onProjectClick:this.handleProjectClick,onScrollToUnpinnedBarrel:this.handleScrollToUnpinnedBarrel,onOpenCopyProjectDialog:this.handleOpenCopyProjectDialog,onPin:this.handlePin,onUnpin:this.handleUnpinFromFocusArea,onRemoveUnpinned:this.handleRemoveUnpinned}))})),ge(this,"renderTopSection",(()=>{const{sections:e,filterValue:t,selectedSortType:n,selectedWorkflowStatusFilter:s,selectedProjects:a,movableSectionsForSelectMode:r,workflowStatuses:l}=this.state;return this.selectionModeEnabled?i.h(C.default,{workflowStatuses:l,sections:r,selectedProjects:a,onCreateSection:this.handleCreateNewSectionWithProjects,onMoveToSection:this.handleMoveSelectedProjectsToSection,onChangeStatus:this.handleChangeBulkStatus,onCancelSelectionMode:k.a.clearProjectSelection}):i.h(o.default,{workflowStatuses:l,onSort:k.a.changeProjectSelectedSortType,onToggleArchivedProjects:k.a.toggleArchivedProjects,onFilter:k.a.changeFilterValue,onSectionClick:this.handleSectionClickFromElevator,onSectionReorder:this.handleSectionDrop,onWorkflowStatusChange:this.handleWorkflowStatusChange,onCreateProject:this.handleOpenCreateProjectDialog,onCreateSection:this.handleCreateEmptySection,selectedSortType:n,selectedWorkflowStatusFilter:s,filterValue:t,sections:e})})),ge(this,"renderOfferHintbox",(()=>{const{shouldDisplayOfferHintbox:e,offer:t,currentPlan:n}=this.state;return e?i.h("div",{class:"offerHintboxContainer"},i.h(T.a,{currentPlan:n,offer:t,onUseOfferClick:this.handleUseOfferClick,onHideClick:this.handleHideOfferClick})):null})),ge(this,"renderInvitedUserHintbox",(()=>{const{displayInvitedUserHintbox:e,isPersonalWorkspace:t,canCreateProject:n}=this.state;if(!e||t)return null;const o=n?this.handleOpenCreateProjectDialog:null;return i.h("div",{class:"invitedUserHintboxContainer"},i.h(P.a,{barrelType:ie.a.PROJECT,onCreate:o,onHideClick:A.a.hideInvitedUserHintbox}))})),ge(this,"renderProjects",(()=>{if(this.shouldDisplayEmptyState)return this.renderProjectsEmptyState();const{sections:e,collapsedSections:t,pinnedBarrels:n,scrollToHighlightedBarrel:o,highlightedSection:s,firstHighlightedProject:r,selectedOrganization:l,scrollPositionOfWorkspace:u}=this.state,h=e.find((e=>e.newSection)),p=r&&!n.find((({barrelId:e})=>e===r))&&o?r:null,f=Math.max(0,u-Object(he.calculateScrollTopToIgnore)(n.length)),{surplusProjects:g,sections:m,placeholders:b}=l?Object(ce.virtualScrollProjectSections)({sections:e,collapsedSections:t,highlightedSection:h?h._id:s,projectToScroll:p,scrollPosition:f}):Object(ce.virtualScrollPersonalWorkspace)({section:e[0],projectToScroll:p,scrollPosition:f});return i.h(i.Fragment,null,this.shouldDisplaySectionOnboarding&&i.h(d.default,{onCreateSection:this.handleCreateEmptySection}),i.h(c.default,{key:"projectSectionsDragDropContainer",class:"projects",itemsClass:"projectsDragDropItems",disabled:!this.canEditSections||this.selectionModeEnabled},i.h("div",{key:"topPlaceholder",style:{height:b.top}}),g.length>0&&i.h(a.default,null,g.map((({project:e,indexInSection:t,sectionId:n})=>this.renderProject(e,t,n)))),m.map((({rawSection:e,indexInWorkspace:t})=>this.renderProjectSection(e,t))),i.h("div",{key:"bottomPlaceholder",style:{height:b.bottom}})))}))}static calculateState(){const{highlightedBarrels:e,highlightedSection:t,collapsedSections:n,selectedOrganizationId:i,filterValue:o,selectedProjectSortType:s,pinnedBarrelOnce:a,selectedWorkflowStatusFilter:r,visibleDialogType:l,visibleDialogParams:c,showArchivedProjects:d,offerReminderNextDate:u}=H.a.SpaceStore.getState(),{scrollToHighlightedBarrel:h}=H.a.WorkspaceScrollStore.getState(),{selectedProjects:p}=H.a.ProjectSelectionStore.getState(),{organizations:f,organizationProfiles:g,focusedBarrels:m,dialogDismissStates:b}=H.a.OrganizationStore.getState(),{projects:S,loadingProject:y}=H.a.ProjectsDataStore.getState(),{paymentPlan:v,userId:O,offers:C,profession:E,shouldDisplayInvitedUserHintbox:T,registeredAt:_}=H.a.UserStore.getState(),{config:{countLimit:{focus:P},plans:I,onboardingVideos:j,minRegistrationDateToShowOnboarding:D}}=H.a.AppStore.getState(),k=!!(new Date(D)<new Date(_))&&T,R=M.a.getOrganizationStyleguides(i)||[],A=S[c.previewBarrelId],w=f.find((e=>e._id===i)),L=w&&w.name,x=w&&w.status,U=w&&w.subscriptionStatus,B=w?I.find((e=>e.id===w.paymentPlan)):v,V=g[i],z=V&&V.restricted,F="user"===i,W=g[i],G=J.permissions.canUpdateProject(W),$=!!e.length&&e[0],q=b[i],Z="suspended"===x||d,{projects:K=[],lookup:Y={}}=M.a.getOrganizationProjectsWithLookup({oid:i,archivedProjectsVisible:Z})||{};let Q,ee=!1;if(ee=Z?K.some((e=>"archived"===e.status)):M.a.hasArchivedProjects(i),!F)if(r===se.a.NoStatus._id)Q=se.a.NoStatus.name;else{const{name:e}=w&&w.workflowStatuses.find((({_id:e})=>e===r))||{};Q=e}let te=[],ne=[];if(w){if(w.complete&&w.sections.length){const[e,...t]=w.sections;if(e.name="Individual Projects",e.type="individual",e.description="Individual projects that are not assigned to a section.",te=Object(X.filterSortProjectSections)({sections:[...t,e],projects:K,projectsLookup:Y,sortType:s,filterValue:o,statusFilter:r,shouldPutResultsToDefaultSection:!1}),ne=w.sections.filter((e=>"individual"!==e.type&&!p.every((t=>e.projects.includes(t))))),s===re.SortTypes.SECTIONS&&te.length){const e=te[te.length-1];e.projects=function(e,t){const n=e.reduce(((e,{_id:n,users:i,updated:o})=>(e[n]={isJoined:i.some((({user:e})=>e._id===t)),updatedDate:new Date(o)},e)),{}),i=[...e];return i.sort(((e,t)=>{const i=n[e._id].isJoined,o=n[t._id].isJoined;return i===o?n[t._id].updatedDate-n[e._id].updatedDate:o-i})),i}(e.projects,O)}}}else te=Object(X.filterSortProjectSections)({sections:[{_id:"personalProjectDefaultSection",name:"default",type:"default",projects:K.map((e=>e._id))}],projects:K,projectsLookup:Y,sortType:s,filterValue:o,shouldPutResultsToDefaultSection:!0});let ie=[],oe=[];const ae=m[i];ae&&(ie=ae.map((({barrelId:e,unpinned:t})=>{const n=K.find((t=>t._id===e));return n?fe(fe({},n),{},{unpinned:t}):null})).filter(Boolean),oe=ae.filter((e=>!e.unpinned)));const le=N.a.canCreateProject(),ce=V&&J.permissions.canManageWorkflowStatuses({role:V.role}),de=new Date,[he]=C||[],pe=he&&new Date(he.validUntil),ge=F&&he&&pe>de&&u<de,me=ue()({projects:K,archivedProjectsVisible:Z}),{workflowStatuses:be}=f.find((({_id:e})=>e===i))||{};return{sections:te,focusedProjects:ie,pinnedBarrels:oe,pinnedBarrelOnce:a,selectedOrganizationId:i,selectedOrganizationName:L,selectedOrganizationStatus:x,selectedOrganizationSubscriptionStatus:U,isPersonalWorkspace:F,projects:S,highlightedBarrels:e,scrollToHighlightedBarrel:h,highlightedSection:t,collapsedSections:n,firstHighlightedProject:$,selectedSortType:s,archivedProjectsVisible:Z,selectedWorkflowStatusFilter:r,selectedWorkflowStatusName:Q,filterValue:o,visibleDialogType:l,visibleDialogParams:c,dismissedDialogs:q,organizations:f,organizationProfiles:g,organizationProjects:K,organizationStyleguides:R,selectedOrganization:w,canCreateProject:le,canUpdateProject:G,currentOrganizationProfile:V,restrictedUser:z,currentPlan:B,currentUserId:O,loadingProject:y,previewProject:A,selectedProjects:p,movableSectionsForSelectMode:ne,canManageWorkflowStatuses:ce,focusCountLimit:P,shouldDisplayOfferHintbox:ge,offer:he,workflowStatusCounts:me,workflowStatuses:be,profession:E,displayInvitedUserHintbox:k,hasArchivedProjects:ee,onboardingVideos:j}}static getStores(){return[H.a.ProjectsDataStore,H.a.SpaceStore,H.a.WorkspaceScrollStore,H.a.ProjectSelectionStore,H.a.OrganizationStore,H.a.UserStore,H.a.AppStore]}get hasPaidPlan(){const{currentPlan:e}=this.state;return e.group!==re.PlanGroup.FREE}get selectionModeEnabled(){const{selectedProjects:e}=this.state;return e.length>0}get isWorkflowStatusFilterApplied(){const{selectedWorkflowStatusFilter:e}=this.state;return e&&e!==se.a.All._id}get canEditSections(){const{isPersonalWorkspace:e,canCreateProject:t,selectedSortType:n,filterValue:i}=this.state;return!e&&t&&n===re.SortTypes.SECTIONS&&!this.isWorkflowStatusFilterApplied&&!i}get isOrganizationSuspended(){const{selectedOrganizationStatus:e}=this.state;return"suspended"===e}get shouldDisplaySectionOnboarding(){const{sections:e}=this.state;return this.canEditSections&&e.length<=1}get shouldDisplayEmptyState(){const{sections:e}=this.state;return 0===e.reduce(((e,t)=>t.projects.length+e),0)}componentDidMount(){this.toastContainer=this.props.toastContainer,document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("keyup",this.handleKeyRelease);const e=document.querySelector(".workspace");e&&e.addEventListener("scroll",this.handleWorkspaceScroll)}componentDidUpdate(e,t){const{setScrollPositionOfWorkspace:n}=this.props;this.state.selectedOrganizationId!==t.selectedOrganizationId?n(0):1===this.state.pinnedBarrels.length&&0===t.pinnedBarrels.length&&this.state.pinnedBarrelOnce&&this.nodeRefs.focusedProjectsSection&&n(this.nodeRefs.focusedProjectsSection.clientHeight,{increment:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("keyup",this.handleKeyRelease);const e=document.querySelector(".workspace");e&&e.removeEventListener("scroll",this.handleWorkspaceScroll)}getChildContext(){const{organizations:e,organizationProfiles:t,selectedOrganizationId:n,selectedOrganizationName:i,currentOrganizationProfile:o,canCreateProject:s,canManageWorkflowStatuses:a,filterValue:r,currentUserId:l,organizationProjects:c,organizationStyleguides:d,archivedProjectsVisible:u,selectedWorkflowStatusName:h,focusCountLimit:p,workflowStatusCounts:f,hasArchivedProjects:g}=this.state;return fe(fe({},this.context),{},{selectedOrganizationId:n,selectedOrganizationName:i,selectedOrganizationProjects:c,selectedOrganizationStyleguides:d,selectedWorkflowStatusName:h,organizations:e,organizationProfiles:t,currentOrganizationProfile:o,canCreateProject:s,canManageWorkflowStatuses:a,canEditSections:this.canEditSections,filterValue:r,currentUserId:l,focusCountLimit:p,archivedProjectsVisible:u,workflowStatusCounts:f,hasArchivedProjects:g,onSetSectionDescriptionHeight:ce.setSectionDescriptionHeight})}renderDialogs(){const{visibleDialogType:e,visibleDialogParams:t,loadingProject:n,previewProject:o}=this.state;switch(e){case re.DialogTypes.CREATE_PROJECT:return i.h(p.default,{oseid:t.oseid,onCreate:this.handleCreateProject,onClose:k.a.closeDialog});case re.DialogTypes.RESTRICTED_EDITOR_WARNING:return i.h(u.DismissibleOverlayDialog,{title:t.title,message:t.message,dismissPrefKey:t.dismissPrefKey,onPositiveButtonClick:this.handleDismissibleDialogPositiveButtonClick,onNegativeButtonClick:k.a.closeDialog,onClose:k.a.closeDialog,positiveButtonText:t.positiveButtonText,negativeButtonText:"CANCEL",hideNegativeButton:!1});case re.DialogTypes.PREVIEW_PROJECT:return i.h(h.default,{loading:n,onClose:k.a.closeDialog,onJoin:this.handleProjectPreviewJoin,project:o});case re.DialogTypes.COPY_BARREL:return i.h(g.a,{barrelType:ie.a.PROJECT,barrelName:t.barrelName,barrelId:t.barrelId,onCopy:this.handleCopyProject,onClose:k.a.closeDialog});case re.DialogTypes.ASYNC_COPY_BARREL:return i.h(b.a,{barrelType:ie.a.PROJECT,barrelName:t.barrelName,onClose:k.a.closeDialog})}}renderNoProjects(){const{organizations:e,profession:t,onboardingVideos:n}=this.state,o=e.filter((({status:e})=>"deleted"!==e)),s=t||ae.UserProfession.Designer,{videoId:a=me}=n.find((e=>e.barrelTypes.includes(ie.a.PROJECT)&&e.targetProfessions.includes(s)))||{};return i.h(y.a,{userProfession:t,videoId:a,availableOrganizations:o,onCreate:this.handleOpenCreateProjectDialog,onCheckoutOrganization:k.a.changeSelectedOrganization})}renderSuspendedOrganization(){const{selectedOrganizationId:e,selectedOrganizationSubscriptionStatus:t,currentOrganizationProfile:{role:n}}=this.state;return i.h(O.default,{organizationId:e,subscriptionStatus:t,memberRole:n})}renderProjectsEmptyState(){return!this.isOrganizationSuspended&&i.h(v.default,null)}render(){const{organizationProjects:e,hasArchivedProjects:t}=this.state,n=0===e.length;return i.h("div",{ref:Object(Z.default)(this,"base"),class:Y()("projectsContainer",{showNoProjects:n})},n?i.h(i.Fragment,null,t&&this.renderTopSection(),this.renderNoProjects()):i.h(i.Fragment,null,this.renderFocusedProjects(),this.renderTopSection(),this.isOrganizationSuspended&&this.renderSuspendedOrganization(),this.renderOfferHintbox(),this.renderInvitedUserHintbox(),this.renderProjects()),this.renderDialogs())}}t.default=$()(Object(q.default)(Se),{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1134);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1135),s=n(1141),a=n(888),r=n(1147),l=n(1171),c=n(622),d=n.n(c),u=n(547);n(1194);function h(e,t){const{onSectionClick:n,onSectionReorder:o,onWorkflowStatusChange:s,onSort:c,onToggleArchivedProjects:h,selectedSortType:p,selectedWorkflowStatusFilter:f,sections:g,workflowStatuses:m}=e,{selectedOrganizationId:b,canEditSections:S,archivedProjectsVisible:y}=t,v="user"===b,O=!v&&g.length>=3,C=function(e){const t=[{label:"Sort by Created",dropdownLabel:"Created",value:u.SortTypes.CREATED},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:u.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:u.SortTypes.NAME},{label:"Show Archived Projects",dropdownLabel:"Show Archived Projects",value:"showArchivedProjects",class:"archivedProjectsOption"}];return e?t:[{label:"Sort by Sections",dropdownLabel:"Sections",value:u.SortTypes.SECTIONS},...t]}(v);return i.h(i.Fragment,null,O&&i.h(r.default,{sections:g,onSectionClick:function(e){n(e),mixpanel.master.track("Navigated to project section",{"Sorted By":C.find((({value:e})=>e===p)).dropdownLabel})},onSectionReorder:o,selectedSortType:p,reorderEnabled:S}),i.h(a.default,{class:"projectsSortDropdown",optionsClass:"projectsSortOptions",onChange:function(e){"showArchivedProjects"===e?h():c(e)}},C.map((({label:e,dropdownLabel:t,value:n,class:o})=>i.h(a.default.Item,{class:o,key:n,value:n,label:e,dropdownLabel:t,selected:n===p||"showArchivedProjects"===n&&y})))),!v&&i.h(l.default,{workflowStatuses:m,onWorkflowStatusChange:s,selectedWorkflowStatusFilter:f,defaultWorkflowStatus:d.a.All,showAllStatus:!0,showDropdownChevron:!0}))}function p(e,t){const{onCreateProject:n,onCreateSection:s}=e,{currentOrganizationProfile:a,selectedOrganizationId:r,canCreateProject:l}=t;if(!l)return null;const c=a&&a.restricted,d="user"===r;return i.h(o.default,{onCreateProject:n,canCreateSection:!c&&!d,onCreateSection:s})}t.default=function({onFilter:e,onCreateProject:t,onCreateSection:n,onSectionClick:o,onSort:a,onToggleArchivedProjects:r,onSectionReorder:l,onWorkflowStatusChange:c,filterValue:d,sections:u,selectedSortType:f,selectedWorkflowStatusFilter:g,workflowStatuses:m}){return i.h(s.default,{onFilter:e,filterValue:d,searchPlaceholder:"Search for a project",searchPlaceholderWidth:131,leftContent:!d&&i.h(h,{workflowStatuses:m,onSectionClick:o,onSectionReorder:l,onWorkflowStatusChange:c,onSort:a,onToggleArchivedProjects:r,sections:u,sortOptionsClass:"projectsSortOptionsClass",selectedSortType:f,selectedWorkflowStatusFilter:g}),rightContent:i.h(p,{onCreateProject:t,onCreateSection:n}),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(1136);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(223),r=n(724),l=n.n(r),c=n(831),d=n(731),u=n(1137),h=n.n(u);n(1140);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m({onCreateProject:e,onCreateSection:t,canCreateSection:n}){const o=Object(a.useRef)(null),[s,r]=Object(a.useReducer)(((e,t)=>f(f({},e),t)),{menuOpen:!1,menuOrigin:{}});function u(){if(o.current&&!s.menuOpen){const{left:e,top:t,height:n}=o.current.getBoundingClientRect(),i=28;return r({menuOpen:!s.menuOpen,menuOrigin:{x:e-i,y:t+n}})}r({menuOpen:!s.menuOpen})}return i.h("div",{class:"buttonDropdownWrapper",ref:o},i.h(c.default,{class:l()({canCreateSection:n}),onClick:e,primary:!0},"Create Project"),n&&i.h("button",{class:"buttonDropdown",onClick:u},i.h(d.IconArrowDown,{width:"9",color:"white",class:"chevron"})),s.menuOpen&&i.h(h.a.overlay,{class:"createContextMenu",onClose:u,autoPosition:{clickOrigin:s.menuOrigin}},i.h(h.a.Item,{onClick:t},"Create section")))}m.propTypes={onCreateProjectClick:s.a.func.isRequired,canCreateSection:s.a.bool,onCreateSectionClick:s.a.func},t.default=m},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1138);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=n(223),r=o(n(724)),l=o(n(852)),c=n(610),d=o(n(890)),u=n(547);n(1139);class h extends s.Component{constructor(){super(...arguments),this.handleClick=e=>{this.props.onClick(e),this.context.close()}}render(){const{children:e,warning:t}=this.props;return s.h("button",{type:"button",class:r.default("menuitem",{warning:t}),"data-testid":this.props["data-testid"],onClick:this.handleClick},e)}}class p extends s.Component{constructor(){super(...arguments),this.nodeRefs={},this.handleOnClose=()=>{this.props.onClose&&this.props.onClose()},this.handleDocumentClick=e=>{var t;e.button===Zeplin.MOUSE_BUTTON.LEFT&&((null===(t=this.nodeRefs.base)||void 0===t?void 0:t.contains(e.target))||this.handleOnClose())},this.handleDocumentKeyDown=e=>{e.key===u.Keyboard.Key.Escape&&(e.stopPropagation(),this.handleOnClose())}}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0);const{onOpen:e}=this.props;e&&e()}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:i,style:o,onMouseDown:a}=this.props;return s.h("div",{ref:l.default(this,"base"),class:r.default("contextMenu",i,{toLeft:t,toTop:n}),style:o,"data-testid":"contextMenu",onMouseDown:a,onClick:c.stopPropagation},e)}}class f extends s.Component{constructor(){super(...arguments),this.nodeRefs={},this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{limitingElement:t,menuContainer:n,clickOrigin:i,preventOverflow:o,offset:s}=e,{left:a,top:r,toLeft:l,toTop:c}=this.state,d=this.nodeRefs.contextMenu.base,u=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),h="string"==typeof t?document.querySelector(t):t,p=h?window.innerWidth-h.getBoundingClientRect().x+4:0,f=i.x-u.left+2+"px";let g=i.y-u.top+2+"px";const m=i.x+p+d.offsetWidth>window.innerWidth,b=i.y+d.offsetHeight>window.innerHeight,S=u.top+window.pageYOffset;b&&o&&S<d.offsetHeight&&(g=`${d.offsetHeight-S+s}px`),f===a&&g===r&&m===l&&b===c||this.setState({left:f,top:g,toLeft:m,toTop:b})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){var e;const t=this.props,{class:n,autoPosition:o}=t,a=i(t,["class","autoPosition"]),{left:c,top:d,toLeft:u,toTop:h}=this.state,f=Object.assign({class:n},a),g=null!==(e=null==o?void 0:o.zIndex)&&void 0!==e?e:null,m={toTop:h,toLeft:u,class:r.default(n,{autoPositioned:!!o}),style:{left:c,top:d,zIndex:g},ref:l.default(this,"contextMenu")},b=Object.assign(Object.assign({},f),m);return s.h(p,Object.assign({},b))}}p.Item=h,p.ItemDivider=()=>s.h("hr",null),p.withAutoPosition=f,p.overlay=function(e){var t;const[n,o]=a.useState({top:null,left:null}),l=a.useRef();a.useLayoutEffect((()=>{!function(){const{autoPosition:t}=e;if(!t)return;const{clickOrigin:i,menuContainer:s}=t,{left:a,top:r}=n,c="string"==typeof s?document.querySelector(s):s,d=null==c?void 0:c.getBoundingClientRect(),u=d?d.right:window.innerWidth,h=d?d.bottom:window.innerHeight,p=l.current.base,f=Math.min(i.x+2,u-p.offsetWidth-12),g=Math.min(i.y+2,h-p.offsetHeight-12);f===a&&g===r||o({left:f,top:g})}()}));const{class:c,autoPosition:u}=e,h=i(e,["class","autoPosition"]),{left:f,top:g}=n,m=null!==(t=null==u?void 0:u.zIndex)&&void 0!==t?t:null;return s.h(d.default,null,s.h("div",{class:"overlayContextMenuContainer"},s.h(p,Object.assign({},h,{class:r.default(c,{autoPositioned:!!u}),style:{left:f,top:g,zIndex:m},ref:l}))))},t.default=p},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1142);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(1143);n(1146);function c({class:e,filterValue:t,onFilter:n,leftContent:o,rightContent:s,searchPlaceholder:a,searchPlaceholderWidth:c,searchDisabled:d,sticky:u}){return i.h("div",{class:r()("filterBar",{sticky:u},e)},i.h("div",{class:"bumper"},o),i.h(l.default,{placeholder:a,placeholderWidth:c,value:t,onFilter:n,disabled:d}),i.h("div",{class:"bumper"},s))}c.propTypes={searchPlaceholder:s.a.string,searchPlaceholderWidth:s.a.number.isRequired,filterValue:s.a.string,onFilter:s.a.func.isRequired,leftContent:s.a.node,rightContent:s.a.node,searchDisabled:s.a.bool,sticky:s.a.bool},c.defaultProps={filterValue:"",searchDisabled:!1,sticky:!1,class:""},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1144);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731),s=n(724),a=n.n(s),r=n(852),l=n(959),c=n(544),d=n(610);n(1145);const{h:u}=i;class h extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){const{onBlur:e}=this.props;e&&e(),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e}=this.props;e&&e(),this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,200,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){Object(c.cmdKey)(e)&&e.keyCode===Zeplin.KEY_CODE.KeyF&&(e.preventDefault(),Object(l.highlightInput)(this.nodeRefs.input),this.nodeRefs.input.scrollIntoView())}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{class:e,placeholder:t,placeholderWidth:n,disabled:o,icon:s}=this.props,{focusWithin:l,value:c}=this.state,u=a()("filterInput noSelect",e,{focusWithin:l}),h=l||c?null:{width:n};return i.h("label",{onClick:d.stopPropagation,onMouseDown:d.preventDefault,class:u},s,i.h("input",{style:h,type:"search",placeholder:t,value:c,ref:Object(r.default)(this,"input"),disabled:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onMouseDown:d.stopPropagation}))}}h.defaultProps={icon:i.h(o.IconMagnifier,null)},t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1148);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(223),s=n(1149),a=n(5),r=n.n(a),l=n(1157),c=n(1163),d=n(1166),u=n(547),h=n(724),p=n.n(h),f=n(624),g=n(1169);n(1170);const m=()=>i.h("hr",{class:"sectionElevatorDivider"});function b({sections:e,selectedSortType:t,reorderEnabled:n,onSectionClick:a,onSectionReorder:r}){const[h,b]=Object(o.useState)(!1),[S,y]=Object(o.useState)(!1),[v,O]=Object(o.useState)(null),[C,E]=Object(o.useState)(null),{initSectionObserver:T,disconnectSectionObserver:_}=Object(g.useSectionObserver)(),P=Object(o.useRef)(null),I=Object(o.useRef)(new Set),j=Object(o.useRef)(null),D=Object(o.useRef)(e);if(!e.length)return null;const k=function(e,t){if(t===u.SortTypes.SECTIONS){if("default"===e[0].type)return 1;if("individual"===e[e.length-1].type)return e.length-1}return t===u.SortTypes.NAME&&"#"===e[0].name?1:-1}(e,t);function R(){S||b(!1)}function A(e){a(e),R()}function w(e){let t=!1;const{current:n}=I,{current:i}=D;if(e.forEach((e=>{const{isIntersecting:i,target:{dataset:{id:o}},intersectionRatio:s,intersectionRect:{height:a}}=e,r=n.has(o),l=i&&(1===s||a>100);l&&!r?(n.add(o),t=!0):!l&&r&&(n.delete(o),t=!0)})),!t)return;n.forEach((e=>{i.some((t=>t._id===e))||n.delete(e)}));const o=i.find((e=>n.has(e._id)));o&&C!==o._id&&(window.clearTimeout(j.current),j.current=window.setTimeout((e=>{E(o._id)}),80))}return Object(s.useDidMountWillUnmountEffect)((()=>{const e=Object(f.populateArrayOfConstantIncrements)(0,1,20);return T(new IntersectionObserver(w,{threshold:e})),function(){_()}})),Object(o.useLayoutEffect)((()=>{D.current=e,I.current=new Set}),[e]),i.h(l.default,{key:"elevatorDragDropContainer",itemsClass:"elevatorItems",onStartDrag:function(){y(!0)},getScrollableDropContainers:function(){return[P.current]},onEndDrag:function(){y(!1),O(null)}},i.h(c.default,{open:h,class:p()("sectionElevator",{narrow:t===u.SortTypes.NAME}),dragMode:S,onOpen:function(){b(!0)},onContentRef:function(e){P.current=e},onClose:R},e.map(((e,t)=>function(e){return!("individual"===e.type&&!e.projects.length||"default"===e.type&&!e.screens.length)}(e)&&i.h(i.Fragment,{key:`sectionElevatorItem-${e._id}`},t===k&&i.h(m,null),i.h(d.DragDropSectionElevatorItem,{index:t+1,dragMode:S,isDragging:v===e._id,setDragSection:O,reorderEnabled:n&&"individual"!==e.type&&"default"!==e.type,section:e,onClick:A,highlight:C===e._id,onSectionDrop:r}))))))}b.defaultProps={sections:[]},b.propTypes={sections:r.a.array,selectedSortType:r.a.string.isRequired,reorderEnabled:r.a.bool,onSectionClick:r.a.func.isRequired,onSectionReorder:r.a.func},t.default=b},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWindowEventListener=t.useResize=t.usePrevious=t.useDidMountWillUnmountEffect=t.useWillUnmountEffect=t.useDidMountEffect=void 0;const o=i(n(1150));t.useDidMountEffect=o.default;const s=i(n(1152));t.useWillUnmountEffect=s.default;const a=i(n(1153));t.useDidMountWillUnmountEffect=a.default;const r=i(n(1154));t.usePrevious=r.default;const l=i(n(1155));t.useResize=l.default;const c=i(n(1156));t.useWindowEventListener=c.default},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1151));t.default=function(e,t){return o.default(e,[],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(223);t.default=function(e,t,n){((null==n?void 0:n.onLayout)?i.useLayoutEffect:i.useEffect)(e,t)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1151));t.default=function(e,t){return o.default((()=>e),[],t)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1151));t.default=function(e,t){return o.default(e,[],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(223);t.default=function(e){const t=i.useRef();return i.useEffect((()=>{t.current=e})),t.current}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(223),s=i(n(1151));t.default=function(e,t,n){const i=o.useRef(null);s.default((()=>{var n;return null===(n=i.current)||void 0===n||n.disconnect(),i.current=new ResizeObserver(t),e&&i.current.observe(e),()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.disconnect()}}),[e],n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(223);t.default=function(e,t){i.useEffect((()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t))))}},function(e,t,n){"use strict";n.r(t);var i=n(1158);n.d(t,"DragSource",(function(){return i.default}));var o=n(1159);n.d(t,"DropTarget",(function(){return o.default}));var s=n(1161);n.d(t,"default",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),s=n(610);const{h:a}=i,r={allowX:!0,allowY:!0,movingThreshold:12};t.default=function(e={}){const t=Object.assign({},r,e);return Component=>class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(o.default)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=t.allowX?Math.abs(e.clientX-this.state.originX):0,i=t.allowY?Math.abs(e.clientY-this.state.originY):0;Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(e.stopPropagation(),this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){let n=this.nodeRefs.base;t.getSourceRef&&(n=t.getSourceRef(this.props)||n);const i=n.getBoundingClientRect(),o={left:e.clientX-i.left,top:e.clientY-i.top};this.dragStartTimeout=!1;const s=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:i,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:s,dragOffset:o,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:s.preventDefault},i.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),s=n(1160);const{h:a}=i;t.default=function(e={}){return Component=>class extends i.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const o=()=>{i=!1},a=this.nodeRefs.base.getBoundingClientRect(),r={x:t.left,y:t.top},{discardHorizontalPosition:l,discardVerticalPosition:c}=e;return!!Object(s.rectContainsPoint)(a,r,{discardHorizontalPosition:l,discardVerticalPosition:c})&&(e.onDrop&&e.onDrop(this.props,n,o),i)}checkHover(t,n){if(!this.acceptsItemType(n.draggingItemType,"drag"))return;const i=this.nodeRefs.base.getBoundingClientRect(),o={x:t.left,y:t.top},{discardHorizontalPosition:a,discardVerticalPosition:r}=e;if(Object(s.rectContainsPoint)(i,o,{discardHorizontalPosition:a,discardVerticalPosition:r}))return e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0));this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.h("div",{style:e.style,ref:Object(o.default)(this,"base")},i.h(Component,this.props))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rectanglesIntersect=t.rectContainsPoint=t.rectContains=void 0,t.rectContains=function(e,t){const n=e.x+e.width,i=e.y+e.height,o=t.x+t.width,s=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=o&&i>=s},t.rectContainsPoint=function(e,t,n={}){const{left:i,right:o,top:s,bottom:a}=e,{x:r,y:l}=t,c=n.discardHorizontalPosition||r>=i&&r<o,d=n.discardVerticalPosition||l>=s&&l<a;return c&&d},t.rectanglesIntersect=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(890),s=n(968),a=n(724),r=n.n(a),l=n(852),c=n(959),d=n(1160),u=n(5),h=n.n(u);n(1162);const{h:p}=i;class f extends s.default{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:s}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:s}}render(){const{class:e,baseRef:t,items:n,onScroll:o}=this.props;return i.h("div",{class:e,ref:t,onScroll:o},n)}}function g(e){return{top:e.top+window.scrollY,left:e.left}}class m extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.scrollableDropContainers=null,this.lastScrolledDropContainer=null,this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){const{base:e,mirror:t}=this.nodeRefs;if(!t)return;cancelAnimationFrame(this.scrollRootAF);const{mirrorPosition:n}=this.state;let i=this.lastScrolledDropContainer||e;if(i.scrollHeight<=i.clientHeight&&(i=Object(c.getFirstScrollableParent)(i)||i),this.scrollableDropContainers)for(let c of this.scrollableDropContainers){const e=c.getBoundingClientRect(),t={x:n.left,y:n.top};if(Object(d.rectContainsPoint)(e,t)){i=c,this.lastScrolledDropContainer=c;break}}const o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a=o.top-.1*o.height-s.top;if(a<0&&i.scrollTop>0)return i.scrollTop+=a,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const r=n.top-window.scrollY,l=o.top+.1*o.height-s.bottom,u=r+30-s.bottom,h=l>0?l:u;h>0&&i.scrollTop+i.offsetHeight+.1*o.height<i.scrollHeight&&(i.scrollTop+=h,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach((t=>{t.checkHover(e,this.state)}))}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach((n=>{!this.props.enableDropOntoMultipleTargets&&t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)}))}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:s,position:a}){const{disabled:r,getScrollableDropContainers:l}=this.props;r||(this.lastScrolledDropContainer=null,this.scrollableDropContainers=l&&l(),this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:s,mirrorPosition:g(a)},(()=>{document.body.classList.add("dragging"),this.props.onStartDrag&&this.props.onStartDrag()})))}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:g(e)})}handleEndDrag(){this.props.disabled||(this.scrollableDropContainers=null,this.setState({dragging:!1},(()=>{document.body.classList.remove("dragging"),this.props.onEndDrag&&this.props.onEndDrag()})))}handleBaseRef(e){Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&this.setState((e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}})))}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel),document.body.classList.remove("dragging")}render(){const{class:e,children:t,disabled:n,itemsClass:s,noScroll:a,onScroll:c}=this.props,{dragging:d,sourceRect:u,mirrorComponent:h,mirrorZIndex:p,dragData:g,mirrorPosition:m,dragOffset:b}=this.state,S=r()("dragDropItems",s,{noScroll:a});return i.h("div",{class:r()("dragDropContainer",e)},i.h(f,{class:S,onScroll:c,dragDisabled:n,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:t}),d&&i.h(o.default,null,i.h("div",{ref:Object(l.default)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${m.left-b.left}px, ${m.top-b.top}px)`,zIndex:p}},i.h(h,Object.assign({},g,{sourceRect:u})))))}}m.propTypes={onStartDrag:h.a.func,onEndDrag:h.a.func,disabled:h.a.bool,class:h.a.string,itemsClass:h.a.string,noScroll:h.a.bool,enableDropOntoMultipleTargets:h.a.bool,children:h.a.node},t.default=m},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1164);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(223),s=n(5),a=n.n(s),r=n(890),l=n(797),c=n.n(l),d=n(724),u=n.n(d);n(1165);function h({class:e,open:t,onOpen:n,onClose:s,onContentRef:a,dragMode:l,children:d}){const h=Object(o.useRef)(null),p=Object(o.useRef)(null),f=Object(o.useRef)(t),[g,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,v]=Object(o.useState)(0);function O(){n(),m(!1)}function C(){s(),S(!1)}return Object(o.useLayoutEffect)((()=>{f.current=t}),[t]),Object(o.useLayoutEffect)((()=>{if(!t)return;if(p.current.scrollHeight>p.current.clientHeight)return void v(78);const e=h.current.getBoundingClientRect(),n=(e.top+e.bottom)/2,i=n/window.innerHeight,o=Math.max(n-p.current.clientHeight*i,78);v(o)}),[window.innerHeight,t,p.current?p.current.clientHeight:0]),i.h(i.Fragment,null,i.h("div",{class:"elevatorIconWrapper",ref:h,onMouseEnter:function(){l||(clearTimeout(C),m(!0),setTimeout(O,300))}},i.h(c.a,null)),(g||t)&&i.h(r.default,null,i.h("div",{class:"elevatorBackdrop"},i.h("div",{class:u()("elevatorContent",{open:t,closing:b},e),style:{top:y},ref:function(e){p.current=e,a(e)},onMouseLeave:function(){!f.current||g||l||(S(!0),setTimeout(C,350))}},d))))}h.propTypes={class:a.a.string,open:a.a.bool.isRequired,onOpen:a.a.func.isRequired,onClose:a.a.func.isRequired,children:a.a.node},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1167);n.d(t,"default",(function(){return i.default})),n.d(t,"DragDropSectionElevatorItem",(function(){return i.DragDropSectionElevatorItem}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropSectionElevatorItem",(function(){return g}));var i=n(4),o=n(223),s=n(1157),a=n(798),r=n.n(a),l=n(724),c=n.n(l),d=n(610);n(1168);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const h=["projects","screens","components"];function p({section:e,reorderEnabled:t,highlight:n,mirror:s,isDragging:a,dragMode:l,targetPosition:d,onClick:u}){const p=Object(o.useRef)(null);return Object(o.useEffect)((()=>{n&&p.current.scrollIntoView()}),[n]),i.h("div",{ref:p,class:c()("sectionElevatorItem","noSelect",d,{hidden:a,dragMode:l,mirror:s}),onClick:function(){u(e._id)}},i.h("div",{class:c()("sectionElevatorItemContent",{highlight:n})},t&&i.h("div",{class:"dragHandleWrapper"},i.h(r.a,null)),i.h("span",{className:"sectionName ellipsis"},"default"===e.type?"No Section":e.name),i.h("span",{className:"sectionItemCount"},function(e){const t=h.find((t=>t in e));return t?e[t].length:0}(e))))}const f=Object(d.pipe)(Object(s.DragSource)({itemType:"SectionElevatorItem",mirrorComponent:e=>{let t=Object.assign({},e);return i.h(p,u({mirror:!0},t))},mirrorZIndex:1e3,onStartDrag:e=>e.onStartDrag(),provideDragData:e=>e}),Object(s.DropTarget)({acceptsItemType:"SectionElevatorItem",discardHorizontalPosition:!0,onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.section._id,sourceIndex:t.dragData.index}),onHover:(e,t)=>e.onMirrorHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left}),onHoverOut:(e,t)=>e.onMirrorHoverOut({top:t.mirrorPosition.top,left:t.mirrorPosition.left})}))(p);function g(e){const t=Object(o.useRef)(null),[n,s]=Object(o.useState)("");return e.reorderEnabled?i.h(f,u({},e,{ref:t,targetPosition:n,onStartDrag:function(){const{setDragSection:t,section:{_id:n}}=e;t(n)},onMirrorHover:function(e){const{base:i}=t.current,o=i.getBoundingClientRect(),a=n?34:0,r=("top"===n?o.top+a:o.top)+(o.height-a)/2,l=e.top>=r?"bottom":"top";n!==l&&s(l)},onMirrorHoverOut:function(e){n&&s("")},onDrop:function({sourceId:t,sourceIndex:i}){if(!n)return;const{index:o,onSectionDrop:s}=e,a="bottom"===n;let r=o;i>o&&a&&(r=o+1),i<o&&!a&&(r=o-1),s({sourceId:t,sourceIndex:i,moveIndex:r})}})):i.h(p,e)}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"SectionObserverContext",(function(){return s})),n.d(t,"SectionObserverProvider",(function(){return a})),n.d(t,"useSectionObserver",(function(){return r}));var i=n(4),o=n(223);const s=i.createContext({});function a(e){const[t,n]=Object(o.useState)(null),a=Object(o.useRef)(null);return i.h(s.Provider,{value:{sectionObserver:t,initSectionObserver:function(e){n(e),a.current=e},disconnectSectionObserver:function(){a.current&&a.current.disconnect()}}},e.children)}const r=()=>Object(o.useContext)(s)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1172);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1173),s=n(1104),a=n.n(s),r=n(622),l=n.n(r),c=n(559),d=n(583);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),p(this,"handleWorkflowStatusChange",(e=>{const{onWorkflowStatusChange:t}=this.props,{workflowStatus:n}=this.workflowStatuses.find((({workflowStatus:{_id:t}})=>t===e));t(n)})),p(this,"handleAddButtonClick",(e=>{e.stopPropagation();const t=this.workflowStatuses.filter((({workflowStatus:{name:e}})=>e.startsWith("New Status"))),{workflowStatus:{name:n}={}}=t[t.length-1]||{},i=l.a.generateNew(n);a.a.addOrganizationWorkflowStatus({workflowStatusData:i,syncWithApi:!1})})),p(this,"handleWorkflowInputBlur",((e,t,n)=>{const{_id:i}=e,o=h(h({},e),{},{name:t});i.startsWith("newWorkflowStatusId")?n?a.a.deleteOrganizationWorkflowStatus({workflowStatusId:o._id,syncWithApi:!1}):a.a.addOrganizationWorkflowStatus({workflowStatusData:o,syncWithApi:!0}):n||e.name===t||a.a.updateOrganizationWorkflowStatusName({workflowStatusId:i,name:t,syncWithApi:!0})})),p(this,"handleUpdateWorkflowStatusColor",((e,t)=>{a.a.updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:!0})})),p(this,"handleDeleteWorkflowStatus",(e=>{const{count:t}=this.workflowStatuses.find((({workflowStatus:{_id:t}})=>t===e)),n=1===t?"is":"are",i=1===t?"this project.":"all of these projects.";if(t)return c.create({message:`There ${n} ${Object(d.pluralize)(t,"project")} using this status. Deleting the status will remove it from ${i}`,done:{name:"DELETE",cb(){a.a.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}});const o=e.startsWith("newWorkflowStatusId");a.a.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!o})}))}get workflowStatuses(){const{showAllStatus:e,hideNoStatusWhenCountIsZero:t,workflowStatuses:n}=this.props,{workflowStatusCounts:i}=this.context;return function({workflowStatusCounts:e,workflowStatuses:t=[],options:{showAllStatus:n=!1,hideNoStatusWhenCountIsZero:i=!0}}){const o=[],s={workflowStatus:l.a.All};n&&o.push(s);const a=t.map((({_id:t,name:n,color:i})=>({workflowStatus:new l.a({_id:t,name:n,color:i}),count:e[t]||0})));o.push(...a);const r=e[l.a.NoStatus._id];return(r>0||!i)&&o.push({workflowStatus:l.a.NoStatus,count:r}),o}({workflowStatusCounts:i,workflowStatuses:n,options:{showAllStatus:e,hideNoStatusWhenCountIsZero:t}})}render(){const{defaultLabel:e,defaultWorkflowStatus:t,showDropdownChevron:n,dropdownAlignRight:s,showSelectedAsLabel:a,selectedWorkflowStatusFilter:r,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d,dropdownClass:u,disabled:h,onDropdownClick:p}=this.props;return i.h(o.default,{dropdownClass:u,onDropdownClick:p,workflowStatuses:this.workflowStatuses,selectedWorkflowStatusFilter:r,onWorkflowStatusChange:this.handleWorkflowStatusChange,onAddButtonClick:this.handleAddButtonClick,onWorkflowInputBlur:this.handleWorkflowInputBlur,onUpdateWorkflowStatusColor:this.handleUpdateWorkflowStatusColor,onDeleteWorkflowStatus:this.handleDeleteWorkflowStatus,defaultLabel:e,defaultWorkflowStatus:t,showSelectedAsLabel:a,showChevron:n,alignRight:s,disabled:h,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d})}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1174);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(888),s=n(831),a=n(1175),r=n(1178),l=n(1180),c=n.n(l),d=n(1188),u=n(852),h=n(724),p=n.n(h),f=n(1192),g=n(610),m=n(631),b=n(622),S=n.n(b);n(1193);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(...e){super(...e),y(this,"state",{customizing:1===this.props.workflowStatuses.length&&this.props.openCustomizeEmptyStateInitially,dropdownOpen:!1}),y(this,"handleDropdownStateChange",(e=>{const{workflowStatuses:t}=this.props,n=!e&&1!==t.length;this.setState((t=>({dropdownOpen:e,customizing:!n&&t.customizing})))})),y(this,"handleCustomizeClick",(e=>{e.stopPropagation(),this.setState({customizing:!0})})),y(this,"handleDoneClick",(e=>{const{workflowStatuses:t,openCustomizeEmptyStateInitially:n}=this.props;(!n||t.length>1)&&(e.stopPropagation(),this.setState({customizing:!1}))})),y(this,"renderWorkflowStatusLabel",(({color:e,name:t})=>i.h("div",{class:"workflowStatusDropdownLabel"},i.h(c.a,{color:Object(m.getColorName)(e)}),i.h("span",{class:"ellipsis"},t)))),y(this,"renderFooter",(()=>{const{customizing:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:n}=this.context;return i.h("div",{key:"workflowStatusOptionsFooter",class:p()("workflowStatusOptionsFooter",{customizing:e}),onClick:g.stopPropagation},t?i.h(s.default,{key:"customize",onClick:this.handleCustomizeClick,ninja:!0},"Customize"):i.h(d.default,{content:Object(f.default)(n.role,"customize statuses")},i.h(s.default,{ninja:!0,disabled:!0},"Customize")))})),y(this,"renderCustomize",(()=>{const{workflowStatuses:e,onAddButtonClick:t,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:s}=this.props,r=e.filter((({workflowStatus:{_id:e}})=>e!==S.a.All._id&&e!==S.a.NoStatus._id));return i.h(a.default,{workflowStatuses:r,onAddButtonClick:t,onDoneButtonClick:this.handleDoneClick,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:s})})),y(this,"renderWorkflowStatusItem",(({workflowStatus:{_id:e,name:t,color:n},count:s})=>{const{selectedWorkflowStatusFilter:a,onUpdateWorkflowStatusColor:l,hideStatusCount:c,hideNoStatusIfSelected:d}=this.props,u=e===a;if(d&&e===S.a.NoStatus._id&&u)return null;const h=![S.a.All._id,S.a.NoStatus._id].includes(e);return i.h(o.default.Item,{key:e,label:this.renderWorkflowStatusLabel({color:n,name:t}),value:e,selected:u},i.h("div",{class:"workflowStatusItemWrapper"},i.h(r.default,{itemId:e,selectedColor:Object(m.getColorName)(n),colorSelectable:h,onColorClick:l,selected:u}),i.h("div",{class:"label ellipsis"},t),!c&&s>0&&i.h("span",{class:"labelInfo"},s)))})),y(this,"renderWorkflowStatuses",(()=>{const{workflowStatuses:e}=this.props,{customizing:t}=this.state;return i.h("div",{key:"workflowStatusOptions",class:p()("workflowStatusDropdownOptionsWrapper",{customizing:t})},e.map((e=>this.renderWorkflowStatusItem(e))))}))}componentDidUpdate(e,t){const{workflowStatuses:n,openCustomizeEmptyStateInitially:i}=this.props;if(e.workflowStatuses.length!==n.length&&i){const e=n.length,i=e>1&&t.customizing&&t.dropdownOpen;1===e||i?this.setState({customizing:!0}):e>1&&!t.dropdownOpen&&this.setState({customizing:!1})}}render(){const{dropdownClass:e,onWorkflowStatusChange:t,disabled:n,defaultLabel:s,defaultWorkflowStatus:a,showChevron:r,alignRight:l,showSelectedAsLabel:c,onDropdownClick:d}=this.props,{customizing:h,dropdownOpen:f}=this.state,g=p()("workflowStatusFilter",e,{dropdownOpen:f}),m=a?this.renderWorkflowStatusLabel(a):s;return i.h(o.default,{class:g,ref:Object(u.default)(this,"dropdown"),defaultLabel:m,showSelectedAsLabel:c,optionsClass:"workflowStatusOptions",onChange:t,onDropdownClick:d,onDropdownStateChange:this.handleDropdownStateChange,disableClosingWithESC:h,showCheck:!1,showChevron:!!r,alignRight:!!l,disabled:n},this.renderWorkflowStatuses(),this.renderFooter(),h&&this.renderCustomize())}}t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1176);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(1177),a=n(1185),r=n(1188),l=n(610),c=n(724),d=n.n(c),u=n(852);n(1191);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{inputFocused:!1,discard:!1,scrolling:!1}),h(this,"updateScrolling",(()=>{const{scrolling:e}=this.state,{workflowStatusItemsWrapper:t}=this.nodeRefs||{};t&&(t.clientHeight<t.scrollHeight&&!e?this.setState({scrolling:!0}):t.clientHeight===t.scrollHeight&&e&&this.setState({scrolling:!1}))})),h(this,"handleInputDeleteClick",((e,t)=>{e.stopPropagation();const{onDeleteWorkflowStatus:n}=this.props;n(t._id)})),h(this,"handleInputFocus",(()=>{this.setState({inputFocused:!0})})),h(this,"handleInputBlur",((e,t)=>{const{onWorkflowInputBlur:n}=this.props,{discard:i}=this.state,o=t._id.startsWith("newWorkflowStatusId")&&e.relatedTarget&&e.relatedTarget.className.includes("inputDelete")&&e.relatedTarget.previousSibling.firstChild.value===t.name,s=i||o||!e.target.value;n(t,e.target.value,s),this.setState({discard:!1,inputFocused:!1})})),h(this,"handleKeyDown",(e=>{e.stopPropagation();const{onDoneButtonClick:t}=this.props,{inputFocused:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(n?this.setState({discard:!0},(()=>{e.target.blur()})):t(e)),e.keyCode===Zeplin.KEY_CODE.ENTER&&e.target.blur()})),h(this,"renderAddButton",(()=>{const{workflowStatuses:{length:e},onAddButtonClick:t}=this.props;return 20===e?i.h(r.default,{content:"A workspace can have at most 20 statuses."},i.h(o.default,{ninja:!0,disabled:!0},"Add")):i.h(o.default,{key:"add",onClick:t,ninja:!0},"Add")})),h(this,"renderInputsOrEmptyState",(()=>{const{workflowStatuses:e,onUpdateWorkflowStatusColor:t}=this.props;return e.length?i.h("div",{class:"workflowStatusItemsWrapper",ref:Object(u.default)(this,"workflowStatusItemsWrapper")},e.map((({workflowStatus:e})=>i.h(s.default,{key:e._id,workflowStatus:e,onUpdateWorkflowStatusColor:t,onInputFocus:this.handleInputFocus,onInputBlur:this.handleInputBlur,onInputDelete:this.handleInputDeleteClick,colorSelectable:!e._id.startsWith("newWorkflowStatusId")})))):i.h(a.default,null)}))}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),this.updateScrolling()}componentDidUpdate(){this.updateScrolling()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selectedWorkflowStatus:e,onDoneButtonClick:t}=this.props,{scrolling:n}=this.state;return i.h("div",{class:d()("customizeWorkflowStatus",{scrolling:n}),selected:e},this.renderInputsOrEmptyState(),i.h("div",{class:"workflowStatusOptionsFooter",onClick:l.stopPropagation},this.renderAddButton(),i.h(o.default,{key:"done",onClick:t,ninja:!0},"Done")))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1178),s=n(731),a=n(852),r=n(610),l=n(631);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleInputBlur",((e,t)=>{const{onInputBlur:n}=this.props;n&&n(e,t)})),c(this,"handleInputDeleteClick",((e,t)=>{const{onInputDelete:n}=this.props;n&&n(e,t)}))}componentDidMount(){const{workflowStatus:{_id:e}}=this.props;e.startsWith("newWorkflowStatusId")&&(this.nodeRefs.inputRef.select(),this.nodeRefs.inputRef.scrollIntoView())}render(){const{workflowStatus:e,colorSelectable:t,onUpdateWorkflowStatusColor:n,onInputFocus:c}=this.props,d=Object(l.getColorName)(e.color);return i.h("div",{key:e.name,class:"workflowStatusItem",onClick:r.stopPropagation},d&&i.h(o.default,{itemId:e._id,selectedColor:d,colorSelectable:t,onColorClick:n}),i.h("div",{class:"inputWrapper"},i.h("input",{ref:Object(a.default)(this,"inputRef"),type:"text",name:e.name,value:e.name,onFocus:c,onBlur:t=>this.handleInputBlur(t,e),maxLength:20})),i.h("button",{type:"button",class:"inputDelete deleteButton",onClick:t=>this.handleInputDeleteClick(t,e),tabIndex:"-1"},i.h(s.IconDelete,null)))}}d.defaultProps={colorSelectable:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1179);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1180),r=n.n(a),l=n(631),c=n(610),d=n(724),u=n.n(d),h=n(1183);n(1184);class p extends i.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{itemId:n,onColorClick:i,selectedColor:o}=this.props;t!==o&&i&&(e.stopPropagation(),i(n,new h.Color(Object(l.getColorValueByName)(t))))},(n="handleColorClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selectedColor:e,colorSelectable:t,selected:n}=this.props;return i.h("div",{class:u()("colorSelector",{selectable:t}),onClick:c.stopPropagation},i.h(r.a,{key:`${e}-viewOnly`,color:e,selected:n,mainColor:!0}),t&&i.h("div",{class:"colorDotsContainer"},i.h("div",{class:"colorDots"},l.colorNames.map((t=>i.h(r.a,{key:`${t}-colorDot`,color:t,selected:t===e,onClick:this.handleColorClick}))))))}}p.propTypes={itemId:s.a.string,selected:s.a.bool,selectedColor:s.a.string,colorSelectable:s.a.bool,onColorClick:s.a.func},p.defaultProps={size:"small",colorSelectable:!0},t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1181);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724));n(1182);t.default=({class:e,size:t="small",color:n="karl",selected:i,mainColor:a,onClick:r})=>o.h("div",{class:s.default("colorDot",e,t,n,{selected:i,mainColor:a,clickable:!!r}),onClick:e=>{null==r||r(e,n)}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(584),o=n.n(i);n.d(t,"Color",(function(){return o.a}));var s=n(603);n.d(t,"Fill",(function(){return s.default}));var a=n(606),r=n.n(a);n.d(t,"Font",(function(){return r.a}));var l=n(604);n.d(t,"Gradient",(function(){return l.default}));var c=n(599);n.d(t,"Layer",(function(){return c.default}));var d=n(630),u=n.n(d);n.d(t,"Barrel",(function(){return u.a}));var h=n(608);n.d(t,"Shadow",(function(){return h.default}))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1186);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1187);t.default=()=>i.h("div",{class:"workflowEmptyState"},i.h("div",null,"No custom status. 🤷‍♀️"),i.h("br",null),i.h("div",null,"You can create status by clicking on “Add” button"))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1189);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(610),r=n(890),l=n(852);n(1190);const{h:c}=i,d=12;class u extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?500:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout((()=>{this.setState({visible:!0})}),this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout((()=>{this.setState({visible:!1})}),200)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-2,o=t.left+(t.width-n.width)/2;o<d?o=d:o+n.width+d>window.innerWidth&&(o=window.innerWidth-d-n.width),i+n.height+d>window.innerHeight&&(i=i-n.height-d),e.style.transform=`translate3d(${o}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:a.stopPropagation},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.h("div",{ref:Object(l.default)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.toChildArray(e),n&&i.h(r.default,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}u.propTypes={children:s.a.oneOfType([s.a.array,s.a.node,s.a.element,s.a.object]),content:s.a.oneOfType([s.a.node,s.a.element]).isRequired,delay:s.a.number,targetClass:s.a.string},u.defaultProps={delay:500},t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(582),s=n(610);function a(e){const t=s.getRoleIconName(e);return i.h("img",{src:Object(o.imageUrl)(`img/${t}.png`),srcSet:`${Object(o.imageUrl)(`img/${t}@2x.png`)} 2x, ${Object(o.imageUrl)(`img/${t}@3x.png`)} 3x`})}function r(e,t){return[i.h("p",{key:"tooltipExplanation"},"Your workspace role is ",s.getUserRoleString(e)," ",a(e)," , only ",s.getUserRoleString("rook"),"s or higher can ",t,"."),i.h("p",{key:"tooltipLink"},i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact workspace Admins to update your role!")]}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1196);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1197),s=n(1262),a=n(1265);n(1268);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),r(this,"handleProjectClick",((e,t)=>{this.props.onProjectClick(e,t,!0)})),r(this,"renderFocusedProject",(e=>{const{currentOrganizationProfile:t}=this.context,{highlightedProjects:n,firstHighlightedProject:s,pinnedBarrelOnce:a,sections:r,workflowStatuses:l,onDelete:c,onInvite:d,onTransferOwnership:u,onArchive:h,onLeave:p,onProjectHover:f,onJoin:g,onCopyLink:m,onCreateNewSection:b,onMoveProjectToSection:S,onOpenCopyProjectDialog:y,onUnpin:v}=this.props,O=n.includes(e._id),C=!a&&s===e._id;return i.h(o.default,{key:e._id,sections:r,onProjectHover:O?f:null,onClick:this.handleProjectClick,project:e,currentUser:t,workflowStatuses:l,onArchive:h,onLeave:p,onTransferOwnership:u,onDelete:c,onInvite:d,onJoin:g,onCopyLink:m,onCreateNewSection:b,onMoveProjectToSection:S,onOpenCopyProjectDialog:y,highlight:O,scroll:C,pinned:!0,onUnpin:v,cardVisible:!0,selectable:!1})}))}render(){const{projects:e,onScrollToUnpinnedBarrel:t,onRemoveUnpinned:n}=this.props;return e.length?i.h("section",{class:"focusedProjects"},i.h(s.default,null,e.map((e=>e.unpinned?i.h(a.default,{barrelId:e._id,onScrollToUnpinnedBarrel:t,onDismiss:n}):this.renderFocusedProject(e))))):null}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1198);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1199),s=n(1239),a=n(1246),r=n(1249),l=n(953),c=n.n(l),d=n(1027),u=n(1251),h=n(1254),p=n(634),f=n(686),g=n(1255),m=n(724),b=n.n(m),S=n(852),y=n(553),v=n(547),O=n(590),C=n.n(O),E=n(1256),T=n(1259),_=n(548),P=n(1220),I=n(1260),j=n.n(I);n(1261);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"transferOwnershipPayload",{}),D(this,"projectThumbnailObserver",null),D(this,"state",{transferOwnershipPopupVisible:!1,moveProjectToSectionPopupVisible:!1,visibleDialogType:null,contextMenu:null,projectThumbnail:null}),D(this,"showTransferOwnershipPopup",(()=>{this.setState({transferOwnershipPopupVisible:!0})})),D(this,"hideTransferOwnershipPopup",(()=>{this.setState({transferOwnershipPopupVisible:!1})})),D(this,"showMoveProjectToSectionPopup",(()=>{this.setState({moveProjectToSectionPopupVisible:!0})})),D(this,"hideMoveProjectToSectionPopup",(()=>{this.setState({moveProjectToSectionPopupVisible:!1})})),D(this,"openArchiveDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.ARCHIVE})})),D(this,"openLeaveDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.LEAVE})})),D(this,"openDeleteDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.DELETE})})),D(this,"openTransferDialog",((e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:v.DialogTypes.TRANSFER})})),D(this,"generateShortlink",(()=>{Object(P.fetchShortlink)(this.webURL)})),D(this,"handlePopoverClose",(()=>{const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;e?this.hideTransferOwnershipPopup():t&&this.hideMoveProjectToSectionPopup()})),D(this,"handleDialogClose",(()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null})})),D(this,"handleContextMenu",(e=>{this.setState({contextMenu:{origin:e}})})),D(this,"handleContextMenuClose",(()=>{this.setState({contextMenu:null})})),D(this,"handleJoinFromContextMenu",(()=>{const{project:{_id:e},onJoin:t}=this.props;t({pid:e,actionSource:j.a.CONTEXT_MENU})})),D(this,"handleJoinFromCard",(e=>{e.stopPropagation();const{project:{_id:t},onJoin:n}=this.props;n({pid:t,actionSource:j.a.SPACE_CARD})})),D(this,"handleArchive",(()=>{const{project:{_id:e},onArchive:t}=this.props;this.handleDialogClose(),t({pid:e})})),D(this,"handleActivate",(()=>{const{project:{_id:e},onActivate:t}=this.props;t({pid:e})})),D(this,"handleDelete",(()=>{const{project:{_id:e},onDelete:t}=this.props;t({pid:e})})),D(this,"handleLeave",(()=>{const{project:{_id:e},currentUser:t,onLeave:n}=this.props;this.handleDialogClose(),n({bid:e,mid:t.user._id})})),D(this,"handleInvite",(()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,project:{_id:n,users:i}}=this.props;t({container:this.nodeRefs.base,pid:n,users:i,oid:e}),this.hideTransferOwnershipPopup()})),D(this,"handleMoveProjectToSection",(e=>{const{project:{_id:t},onMoveProjectToSection:n}=this.props;this.setState({moveProjectToSectionPopupVisible:!1},(()=>n(t,e)))})),D(this,"handleCreateNewSection",(()=>{const{project:{_id:e},onCreateNewSection:t}=this.props;t(e)})),D(this,"handleRemoveProjectFromSection",(()=>{const{project:{_id:e},sections:t=[],onMoveProjectToSection:n}=this.props,[i]=t;n(e,i._id)})),D(this,"handleOpenCopyBarrelDialog",(()=>{const{project:{_id:e,name:t},onOpenCopyProjectDialog:n}=this.props;n({barrelId:e,barrelName:t})})),D(this,"handleCopyWebLink",(()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(Object(P.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project",Source:"Workspace",project_id:e})})),D(this,"handleCopyAppUri",(()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project",Source:"Workspace",project_id:e})})),D(this,"handleTransferOwnership",(()=>{const{selectedOrganizationId:e}=this.context,{onTransferOwnership:t,project:{_id:n},currentUser:i}=this.props,{selected:o,toOrganization:s}=this.transferOwnershipPayload;this.handleDialogClose(),t({pid:n,fromUserId:i.user._id,targetId:o,toOrganization:s,oid:e})})),D(this,"handleIntersection",(e=>{0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback((()=>{this.nodeRefs.base&&(this.projectThumbnailObserver.unobserve(this.nodeRefs.base),this.setState({projectThumbnail:this.props.project.thumbnail||null}))}),{timeout:300}):cancelIdleCallback(this.cropTimeout)})),D(this,"handleBaseRef",(e=>{Object(S.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}))}get webURL(){return Object(f.urlResolve)("project",{url:{bid:this.props.project._id}})}get appURI(){return`${_.ZPL_PROTOCOL}//project?pid=${this.props.project._id}`}get isPopoverOpen(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e||t}get targetSectionsForMovePopup(){const{project:{_id:e},sections:t=[]}=this.props;return t.filter((t=>"individual"!==t.type&&!t.projects.includes(e)))}get removeFromSectionsVisible(){const{project:{_id:e},sections:t=[]}=this.props,n=t.find((t=>t.projects.includes(e)));return n&&"individual"!==n.type}componentDidMount(){const{scroll:e,onScrolled:t}=this.props,{base:n}=this.nodeRefs;e&&(n.scrollIntoView(),t&&t()),this.projectThumbnailObserver=Object(h.getThumbnailObserver)(),this.projectThumbnailObserver.observe(n,this.handleIntersection)}componentWillReceiveProps(e){const{projectThumbnail:t}=this.state;null!==t&&e.project.thumbnail!==t&&this.setState({projectThumbnail:e.project.thumbnail})}componentDidUpdate(e,t){const{project:{_id:n},scroll:i,onProjectDidMount:o}=this.props,{scroll:s}=e;o&&o(n,this.nodeRefs.base),!s&&i&&this.nodeRefs.base.scrollIntoView()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.projectThumbnailObserver.unobserve(this.nodeRefs.base)}renderPopoverContent(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e?this.renderTransferOwnershipPopup():t?this.renderMoveProjectToSectionsPopup():null}renderTransferOwnershipPopup(){const{project:{users:e}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:a}=this.context,r=Object(g.getTransferableUsers)(e,a,n),l=Object(g.getTransferableOrganizations)(t,o,n);return i.h(s.default,{barrelType:C.a.PROJECT,users:r,organizations:l,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderMoveProjectToSectionsPopup(){return i.h(a.default,{barrelType:C.a.PROJECT,sections:this.targetSectionsForMovePopup,onSelect:this.handleMoveProjectToSection})}renderContextMenu(){const{contextMenu:e}=this.state;if(!e)return null;const{currentUser:t,project:n}=this.props;return i.h(r.default,{currentUser:t,project:n,moveToSectionVisible:!!this.targetSectionsForMovePopup.length,removeFromSectionsVisible:this.removeFromSectionsVisible,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onJoin:this.handleJoinFromContextMenu,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onLeave:this.openLeaveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.showTransferOwnershipPopup,onInvite:this.handleInvite,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,onMoveProjectToSection:this.showMoveProjectToSectionPopup,onCreateNewSection:this.handleCreateNewSection,onRemoveProjectFromSection:this.handleRemoveProjectFromSection,onCopyProject:this.handleOpenCopyBarrelDialog,autoPosition:{clickOrigin:e.origin}})}renderDialog(e){const{organizations:t}=this.context,{project:{name:n,users:o}}=this.props,{selected:s,toOrganization:a}=this.transferOwnershipPayload;if(e===v.DialogTypes.DELETE)return i.h(u.default,{title:"Enter the name of the project to confirm:",placeholder:"Project name",confirmationText:n,onDelete:this.handleDelete,onClose:this.handleDialogClose});let r,l,c;if(e===v.DialogTypes.TRANSFER){let e;if(a)e=t.find((e=>e._id===s)).name;else{const t=o.find((e=>e.user._id===s)).user;e=Object(y.getUserDisplayName)(t)}r="TRANSFER",l=`Transfer ownership of “${n}” to ${e}?`,c=this.handleTransferOwnership}return e===v.DialogTypes.LEAVE&&(r="LEAVE",l=`Leave “${n}”?`,c=this.handleLeave),e===v.DialogTypes.ARCHIVE&&(r="ARCHIVE",l=`Archive “${n}”?`,c=this.handleArchive),i.h(d.BasicOverlayDialog,{positiveButtonText:r,onPositiveButtonClick:c,onClose:this.handleDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:l})}render(){const{filterValue:e}=this.context,{visibleDialogType:t,projectThumbnail:n}=this.state,{project:{_id:s,name:a,type:r,users:l,updated:d,status:u,workflowStatus:h},moveCubukPosition:g,dragging:m,highlight:S,onClick:y,onProjectHover:v,pinned:O,shouldDisplayPinWarningAuntie:C,onPinWarningAuntieAction:_,onPin:P,onUnpin:I,onMouseDown:j,isSelected:D,hasHover:k,onSelect:R,selectionModeEnabled:A,selectable:w,cardVisible:N,workflowStatuses:L}=this.props,M=Object(f.urlResolve)("project",{url:{bid:s}}),x=N?l.sort(p.sortBy.role):[],U=i.h(E.default,{top:12,height:191}),B="archived"===u;return i.h("div",{class:"projectWrapper"},i.h("div",{class:"projectPaddingArea left"},g===T.CUBUK_POSITION.LEFT&&U),i.h("div",{class:"projectCardWrapper"},i.h(c.a,{open:this.isPopoverOpen,onClose:this.handlePopoverClose,content:this.renderPopoverContent(),top:-12,left:-236,faceTop:!0,overlay:!0},i.h(o.default,{id:s,workflowStatuses:L,class:b()("projectCard",{dragging:m,hovered:k}),baseRef:this.handleBaseRef,onClick:y,onHover:v,link:M,type:r,name:a,members:x,source:n,updated:d,filterValue:e,onContextMenu:this.handleContextMenu,contextMenu:this.renderContextMenu(),highlight:S,archived:B,pinned:O,shouldDisplayPinWarningAuntie:C,onPinWarningAuntieAction:_,onPin:P,onUnpin:I,onJoin:this.handleJoinFromCard,onMouseDown:j,workflowStatus:h,onSelect:R,isSelected:D,selectionModeEnabled:A,selectable:w}),t&&this.renderDialog(t))),i.h("div",{class:"projectPaddingArea right"},g===T.CUBUK_POSITION.RIGHT&&U))}}t.default=k},function(e,t,n){"use strict";n.r(t);var i=n(1200);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SpaceCardMirror",(function(){return _}));var i=n(4),o=n(5),s=n.n(o),a=n(1201),r=n(1205),l=n(831),c=n(1226),d=n(1171),u=n(1229),h=n(849),p=n.n(h),f=n(1235),g=n(702),m=n.n(g),b=n(724),S=n.n(b),y=n(852),v=n(610),O=n(634),C=n(622),E=n.n(C);n(1238);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=({source:e,users:t,type:n,name:o})=>{const s=t.sort(O.sortBy.role);return i.h("div",{class:"spaceCard noSelect mirror"},i.h(a.default,{source:e,isMirror:!0}),i.h(r.default,{name:o,type:n,members:s}))};class P extends i.Component{constructor(...e){super(...e),T(this,"state",{showPinWarningAuntie:!1,showWorkflowStatusAuntie:!1,visited:!1}),T(this,"showPinWarningAuntie",(()=>{document.addEventListener("scroll",this.hidePinWarningAuntie,!0),document.addEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!0})})),T(this,"hidePinWarningAuntie",(()=>{document.removeEventListener("scroll",this.hidePinWarningAuntie,!0),document.removeEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!1})})),T(this,"handleClick",(e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;!i&&t&&t(e,n)})),T(this,"handleCardClick",(e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;i?this.handleCardCheckboxClick(e):t&&t(e,n)})),T(this,"handleMouseEnter",(()=>{const{onHover:e,id:t,selectionModeEnabled:n}=this.props;e&&e(t),n&&!this.isUserJoined&&this.setState({visited:!0})})),T(this,"handleCardCheckboxClick",(e=>{e.preventDefault();const{onSelect:t,id:n}=this.props;t(n)})),T(this,"handleContextMenu",(e=>{e.preventDefault();const{onContextMenu:t,selectionModeEnabled:n}=this.props;t&&!n&&t({x:e.clientX-12,y:e.clientY-12})})),T(this,"handleOptionsClick",(e=>{e.preventDefault(),e.stopPropagation();const{id:t,onContextMenu:n}=this.props;if(n){const e=this.nodeRefs.optionsButton.getBoundingClientRect();n({x:e.left+12,y:e.top-12},t)}})),T(this,"handlePinButtonClick",(e=>{e.preventDefault(),e.stopPropagation();const{id:t,pinned:n,shouldDisplayPinWarningAuntie:i,onPin:o,onUnpin:s}=this.props;n?s(t):i?this.showPinWarningAuntie():o(t)})),T(this,"handlePinAnyway",(()=>{const{id:e,onPin:t,onPinWarningAuntieAction:n}=this.props;t(e),n({pinnedAnyway:!0}),this.hidePinWarningAuntie()})),T(this,"handleHideAuntie",(()=>{const{onPinWarningAuntieAction:e}=this.props;e({pinnedAnyway:!1}),this.hidePinWarningAuntie()})),T(this,"handleWorkflowStatusChange",(e=>{const{id:t}=this.props;e._id===E.a.NoStatus._id?m.a.deleteWorkflowStatus({bid:t,syncWithApi:!0}):m.a.updateWorkflowStatus({bid:t,workflowStatus:e,syncWithApi:!0})})),T(this,"handleWorkflowStatusDropdownClick",(e=>{e.stopPropagation(),this.setState({showWorkflowStatusAuntie:!0})})),T(this,"handleWorkflowStatusAuntieClick",(()=>{this.setState({showWorkflowStatusAuntie:!1})})),T(this,"renderPinButtonAndAuntie",(()=>{if(!this.canPin)return null;const{focusCountLimit:e}=this.context,{pinned:t}=this.props,{pinWarningAuntieVisible:n}=this.state;return i.h("div",{class:"pinButtonContainer"},i.h(u.default,{class:"pinButton",pinned:t,onClick:this.handlePinButtonClick}),n&&i.h(f.default,{class:"pinWarningAuntie",content:`You can only pin ${e} projects at once. Pinning this project will unpin the oldest.`,popover:!0,buttonText:"OK, got it!",actionButton:{text:"Pin anyway",callback:this.handlePinAnyway},hideCallback:this.handleHideAuntie}))})),T(this,"renderActionButtons",(()=>i.h(i.Fragment,null,this.canSelect&&i.h("label",{class:"cardCheckbox",onClick:this.handleCardCheckboxClick},i.h(p.a,{class:"round",checked:this.props.isSelected})),this.renderPinButtonAndAuntie(),i.h(c.default,{class:"optionsButton",baseRef:Object(y.default)(this,"optionsButton"),onClick:this.handleOptionsClick})))),T(this,"renderCardActions",(()=>{const{showWorkflowStatusAuntie:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:{role:n}={}}=this.context,{archived:o,contextMenu:s,workflowStatus:a,selectionModeEnabled:r,workflowStatuses:l}=this.props,c=!this.isPersonalWorkspace&&a;return i.h("div",{class:S()("cardActions",{archivedCardActions:o})},i.h("div",{class:"cardButtons",onClick:v.stopPropagation},this.renderActionButtons(),s),c&&i.h("div",{className:"spaceCardWorkflowStatusContainer"},i.h(d.default,{workflowStatuses:l,dropdownClass:"spaceCardWorkflowStatusDropdown",onDropdownClick:!t&&this.handleWorkflowStatusDropdownClick,onWorkflowStatusChange:this.handleWorkflowStatusChange,selectedWorkflowStatusFilter:a._id,defaultWorkflowStatus:E.a.NoStatus,disabled:o||r,openCustomizeEmptyStateInitially:!0,dropdownAlignRight:!0,hideNoStatusIfSelected:!0,hideStatusCount:!0,hideNoStatusWhenCountIsZero:!1}),e&&i.h(f.default,{class:"workflowStatusAuntie",content:`Your workspace role is ${Object(v.getUserRoleString)(n)}, only ${Object(v.getUserRoleString)("rook")}s or higher can customize statuses.`,popover:!0,anchor:"top",buttonText:"OK, got it!",hideCallback:this.handleWorkflowStatusAuntieClick})))})),T(this,"renderContent",(()=>{const{source:e,archived:t,name:n,type:o,link:s,updated:l,members:c,filterValue:d,selectionModeEnabled:u}=this.props,h=i.h(i.Fragment,null,i.h(a.default,{source:e}),i.h(r.default,{filterValue:this.shouldHighlightWhenSearched?d:"",members:c,name:n,type:o,updated:l}));return t?i.h("div",{class:S()({archived:t})},h):i.h("a",{onClick:this.handleClick,href:this.isUserJoined&&!u?s:null,"data-link-type":"inApp"},h)})),T(this,"renderBottomOverlay",(()=>this.isUserJoined?null:i.h("span",{onClick:v.stopPropagation,className:"unjoinedOverlay"},"Not joined yet, ",i.h(l.default,{class:"joinButton",ninja:!0,onClick:this.props.onJoin},"join now"),".")))}get isPersonalWorkspace(){return"user"===this.context.selectedOrganizationId}get isUserJoined(){return this.props.members.some((({user:e})=>e._id===this.context.currentUserId))}get canSelect(){const{selectable:e}=this.props,{selectedOrganizationId:t,canCreateProject:n}=this.context;return e&&n&&"user"!==t}get canPin(){const{archived:e,pinnable:t}=this.props,{selectedOrganizationId:n}=this.context;return t&&!e&&"user"!==n}get shouldHighlightWhenSearched(){return this.props.selectable}componentDidUpdate(e){const{selectionModeEnabled:t}=this.props;!t&&e.selectionModeEnabled&&this.setState({visited:!1})}render(){const{highlight:e,workflowStatus:t,onMouseDown:n,baseRef:o,class:s,selectionModeEnabled:a,isSelected:r,pinned:l,contextMenu:c}=this.props,{visited:d}=this.state,u=S()("spaceCard","noSelect",{highlight:e,noStatus:t&&t._id===E.a.NoStatus._id,isSelected:r,selectionModeEnabled:a,visited:d,multiselect:this.canSelect,pinned:l,contextMenuOpen:!!c},s);return i.h("div",{onContextMenu:this.handleContextMenu,onClick:this.handleCardClick,onMouseEnter:this.handleMouseEnter,onMouseDown:n,class:u,ref:o},this.renderCardActions(),this.renderContent(),this.renderBottomOverlay())}}P.propTypes={id:s.a.string.isRequired,source:s.a.string,archived:s.a.bool,highlight:s.a.bool,name:s.a.string.isRequired,type:s.a.string.isRequired,link:s.a.string.isRequired,updated:s.a.string.isRequired,members:s.a.array.isRequired,filterValue:s.a.string,onContextMenu:s.a.func,contextMenu:s.a.element,pinned:s.a.bool,pinnable:s.a.bool,onPin:s.a.func,onUnpin:s.a.func,shouldDisplayPinWarningAuntie:s.a.bool,onPinWarningAuntieAction:s.a.func,onSelect:s.a.func,isSelected:s.a.bool,selectable:s.a.bool,selectionModeEnabled:s.a.bool,workflowStatuses:s.a.array},P.defaultProps={selectable:!0,pinnable:!0},t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(1202);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1203),s=n.n(o),a=n(724),r=n.n(a);n(1204);class l extends i.Component{constructor(e){super(e),this.handleImageLoad=this.handleImageLoad.bind(this),this.state={source:null,loading:!1}}handleImageLoad(){this.setState({loading:!1})}componentDidMount(){const{source:e}=this.props;this.setState({source:e,loading:!!e})}componentWillReceiveProps(e){const{source:t}=this.state;e.source!==t&&this.setState({source:e.source,loading:!0})}render(){const{loading:e,source:t}=this.state,n=r()("cardThumbnailFrame",{breathe:e});return i.h("div",{class:n},t&&i.h(s.a,{class:"cardThumbnail",source:t,onLoad:this.handleImageLoad,width:270,height:92}))}}t.default=l},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(582);class r extends o.Component{constructor(){super(...arguments),this.state={src:null,srcset:null},this.imgRef=s.useRef(),this.handleError=()=>{const{source:e}=this.props;if(!e)return null;if(!this.dimensions)return;const{width:t,height:n}=this.dimensions;Promise.all([a.cropImage(e,{width:t,height:n}),a.cropImage(e,{width:2*t,height:2*n})]).then((([e,t])=>{this.setState({src:e,srcset:t})}))}}get dimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};if(!this.imgRef.current)return null;const{width:n,height:i}=this.imgRef.current;return{width:n,height:i}}load(e){if(!this.dimensions)return;const{src:t,srcset:n}=a.getResizedImageSources(e,this.dimensions);this.setState({src:t,srcset:n})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:s}=n,a=i(n,["source"]);return o.h("img",Object.assign({},a,{src:e,srcSet:t,onError:this.handleError,ref:this.imgRef}))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1206);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1207),s=n(959);n(1225);const a=Object.freeze({base:"BASE",android:"ANDROID",ios:"iOS",osx:"macOS",web:"WEB"});function r({type:e,filterValue:t}){const n=a[e];if(!t)return i.h("div",{class:"type"},n);const o=n.toLowerCase();return new RegExp(`\\s*\\b${o}\\b\\s*`,"ig").test(t)?i.h("div",{class:"type"},i.h("span",{class:"highlight"},n)):i.h("div",{class:"type"},n)}function l({name:e,filterValue:t}){if(!t)return i.h("div",{title:e,class:"name ellipsis"},e);const n=Object(s.highlightMatchedParts)(e,t,{caseInsensitive:!0});return i.h("div",{title:e,class:"name ellipsis",dangerouslySetInnerHTML:{__html:n}})}t.default=function({members:e=[],name:t,type:n,updated:s,filterValue:a=""}){const c=e.find((e=>e.user._id===Zeplin.user._id)),d=c?c.role:null;return i.h("div",{class:"cardInfo"},i.h("div",{class:"subInfo"},i.h(r,{type:n,filterValue:a}),i.h("zpl-time-ago",{format:"micro",class:"updated",datetime:s})),i.h(l,{name:t,filterValue:a}),i.h(o.default,{members:e,currentMemberRole:d}))}},function(e,t,n){"use strict";n.r(t);var i=n(1208);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(935),s=n.n(o),a=n(959),r=n(724),l=n.n(r),c=n(1209),d=n(553),u=n(611);n(1224);function h(e,t){const n=t&&u.permissions.canSeeOthersEmail(t);return"invited"!==e.status?Object(d.getUserDisplayName)(e)+(n?` (${e.email})`:""):`Pending… (${e.email})`}function p({remainingMembers:e,currentMemberRole:t,class:n}){const o=`+${e.length}`,s=e.map((e=>h(e.user,t))).join("\n");return i.h("div",{class:l()("remainingMembers",n),title:s},o)}function f({member:e,avatarSize:t,currentMemberRole:n,showCardOnHover:o}){const{user:r}=e,l=Object(a.getUserAvatar)(r).src,d=h(r,n),u=i.h(s.a,{class:o?null:"avatar",src:l,title:o?null:d,size:t});return o?i.h(c.default,{class:"avatar",member:e},u):u}t.default=function({members:e,memberLimit:t=7,currentMemberRole:n,class:o,remainingMembersClass:s,avatarSize:a=30,stacked:r,showCardOnHover:c=!1}){const d=e.slice(0,t-1),u=e.length;let h;return u>t?h=i.h(p,{class:s,key:"remainingMembers",currentMemberRole:n,remainingMembers:e.slice(t-1)}):u===t&&(h=i.h(f,{key:"lastUser",member:e[u-1],avatarSize:a,currentMemberRole:n,showCardOnHover:c})),i.h("div",{class:l()("memberAvatarList",o,{stacked:r})},d.map((e=>i.h(f,{key:e.user._id,member:e,avatarSize:a,currentMemberRole:n,showCardOnHover:c}))),h)}},function(e,t,n){"use strict";n.r(t);var i=n(1210);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(953),r=n.n(a),l=n(1211),c=n(685),d=n.n(c),u=n(684),h=n.n(u),p=n(852),f=n(724),g=n.n(f),m=n(567),b=n.n(m),S=n(929),y=n.n(S);n(1223);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:O}=i;class C extends i.Component{constructor(...e){super(...e),v(this,"state",{open:this.props.open||!1}),v(this,"popoverMouseEventTimer",null),v(this,"handleMouseEnter",(()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout((()=>{this.setState({open:!0}),t&&t(!0)}),300))})),v(this,"handleMouseLeave",(()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout((()=>{this.setState({open:!1}),t&&t(!1)}),100))})),v(this,"handleUserProfileCardContentChange",(()=>{this.componentRefs&&this.componentRefs.userProfileCardPopoverContainer.positionPopover()}))}static calculateState(e,t){const{userId:n,member:i}=t;if(i){const{user:e,tags:t}=i;return{user:e,tags:t}}const{selectedOrganizationId:o}=b.a.SpaceStore.getState(),{organizationId:s}=b.a.BarrelStore.getState(),{members:a=[]}=d.a.getOrganization(s||o)||{},{users:r=[]}=h.a.getBarrel()||{},l=[...a,...r],{user:c,tags:u}=l.find((e=>e.user._id===n))||{};return{user:c,tags:u}}static getStores(){return[b.a.SpaceStore,b.a.OrganizationStore,b.a.BarrelStore,b.a.ProjectsDataStore,b.a.StyleguidesDataStore]}componentDidUpdate(){this.handleUserProfileCardContentChange()}componentWillUnmount(){clearTimeout(this.popoverMouseEventTimer)}render(){if(!this.state.user)return;const{targetNode:e,topOffset:t,openToLeft:n,class:o,contentClass:s,children:a}=this.props,{user:c,tags:d,open:u}=this.state;return i.h(r.a,{ref:Object(p.default)(this,"userProfileCardPopoverContainer","componentRefs"),class:g()("userProfileCardPopoverContainer",o),targetNode:e,content:i.h(l.default,{user:c,tags:d,onContentChange:this.handleUserProfileCardContentChange}),contentClass:g()("userProfileCardPopoverContainerContent",s),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,left:19,topOffset:t,bottomOffset:6,offsetX:6,openToLeft:n,open:u,centerY:!0,stickToEdge:!0,showAnchor:!0,centerAnchorVerticaly:!0},a)}}C.propTypes={targetNode:s.a.object,userId:s.a.string,member:s.a.object,topOffset:s.a.number,openToLeft:s.a.bool,open:s.a.bool,class:s.a.string,contentClass:s.a.string,children:s.a.node,onVisibilityChange:s.a.func},C.defaultProps={topOffset:58,openToLeft:!0},t.default=y()(C,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1212);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(935),r=n.n(a),l=n(831),c=n(1188),d=n(1213),u=n(1215),h=n(731),p=n(959),f=n(686),g=n(724),m=n.n(g),b=n(852);n(1222);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:y}=i;class v extends i.Component{constructor(...e){super(...e),S(this,"handleEmailCopy",(()=>{Object(p.copyContent)({content:this.props.user.email,toastContainer:this.nodeRefs.userProfileCard})})),S(this,"renderTags",(()=>{if(!this.hasTags)return null;const{tags:e}=this.props;return i.h("div",{class:"userProfileCardTagsContainer"},e.map((e=>i.h("div",{key:e,class:"userProfileCardTag ellipsis"},e))))}))}get actionButtonText(){const{fullName:e,bio:t}=this.props.user;let n="Add";return e||(n+=" full name",t||(n+=" and")),t||(n+=" bio"),n}get hasTags(){const{tags:e}=this.props;return Boolean(e&&e.length)}componentDidUpdate(){const{onContentChange:e}=this.props;e&&e()}render(){const{user:e,onContentChange:t}=this.props,{src:n,srcset:o}=Object(p.getUserAvatar)(e,{size:64}),{_id:s,email:a,fullName:g,bio:S,status:y}=e,v=Boolean(S),O=!(g&&S||s!==Zeplin.user._id),C=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.IMAGE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING],E="invited"===y;return i.h("div",{ref:Object(b.default)(this,"userProfileCard"),class:m()("userProfileCard",{hasBio:v,hasTags:this.hasTags,footerVisible:O})},i.h("div",{class:"userProfileCardHeader"},i.h(r.a,{class:"userProfileCardAvatar",src:n,srcset:o,size:64}),i.h("div",{class:"userProfileCardMetaData"},Boolean(g)&&i.h("div",{class:"userProfileCardFullName ellipsis",title:g},i.h("strong",null,g)),i.h("div",{class:m()("userProfileCardEmail",{userProfileCardSubInfo:!E}),title:a},i.h("span",{class:"ellipsis"},a),i.h(c.default,{targetClass:"userProfileCardCopyEmailButtonContainer",content:"Copy email address"},i.h(l.default,{onClick:this.handleEmailCopy},i.h(h.IconCopy,null)))),E&&i.h("div",{class:"userProfileCardSubInfo"},"Pending Invitation"))),(v||this.hasTags)&&i.h("div",{class:"userProfileCardBody"},v&&i.h("div",{class:"userProfileCardBio"},i.h(d.default,{onMarkdownUpdate:t,disabledFeatures:C},S)),this.renderTags()),O&&i.h("div",{class:"userProfileCardFooter"},i.h("a",{target:"_blank",rel:"noopener",href:Object(f.urlResolve)("profile-account"),class:"userProfileCardActionButton button ninja"},this.actionButtonText)))}}v.propTypes={user:s.a.object,tags:s.a.array,onContentChange:s.a.func},t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1214);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(684),s=n.n(o),a=n(567),r=n.n(a),l=n(685),c=n.n(l),d=n(929),u=n.n(d),h=n(1215);class p extends i.Component{static getStores(){return[r.a.BarrelStore,r.a.OrganizationStore,r.a.ProjectsDataStore,r.a.SpaceStore,r.a.StyleguidesDataStore,r.a.UserStore,r.a.EmojisStore]}static calculateState(e,t){const{organizations:n}=r.a.OrganizationStore.getState(),{selectedOrganizationId:i}=r.a.SpaceStore.getState(),o=r.a.BarrelStore.getState(),{organizationId:a}=o,l=t.barrelId||o.barrelId,{username:d,userId:u}=r.a.UserStore.getState(),{projects:h}=r.a.ProjectsDataStore.getState(),{styleguides:p}=r.a.StyleguidesDataStore.getState(),f=!!r.a.EmojisStore.getState().projectsEmojis[l],g=s.a.getBarrel({bid:l}),{members:m=[]}=c.a.getOrganization(a||i)||{},{users:b=[]}=g||{};return{organizations:n,barrelId:l,username:d,userId:u,members:[...m,...b],barrel:g,projects:h,styleguides:p,emojisLoaded:f}}render(){const{children:e,disabledFeatures:t,onUpdate:n,onImageLoad:o,onMarkdownUpdate:s}=this.props,{organizations:a,barrelId:r,barrel:l,username:c,userId:d,members:u,projects:p,styleguides:f,emojisLoaded:g}=this.state;return i.h(h.default,{disabledFeatures:t,organizations:a,barrelId:r,barrel:l,emojisLoaded:g,username:c,userId:d,members:u,projects:p,styleguides:f,onUpdate:n,onMarkdownUpdate:s,onImageLoad:o},e)}}t.default=u()(p,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1216);n.d(t,"default",(function(){return i.default})),n.d(t,"MarkdownRules",(function(){return i.MarkdownRules})),n.d(t,"CustomRules",(function(){return i.CustomRules}))},function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownRules",(function(){return L})),n.d(t,"CustomRules",(function(){return N}));var i=n(4),o=n(210),s=n.n(o),a=n(1217),r=n(610),l=n(632),c=n(686),d=n(712),u=n(724),h=n.n(u),p=n(852),f=n(548),g=n(584),m=n.n(g),b=n(1218),S=n(1219),y=n.n(S),v=n(1220),O=n(713);n(1221);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}const{h:T}=i,_=/#([\w-]+)/g,P=/^#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})$/i,I=/rgba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,j=/hsla?\s*\(\s*(\d*\.?\d+(?:deg)?)\s*,?\s*(\d*\.?\d+%)\s*,?\s*(\d*\.?\d+%)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,D=new RegExp(`(${f.ZPL_PROTOCOL}//\\S+)`,"g"),k=/tel:([\d+.-]+)\b/g,R=/spotify:([\w:]+)\b/g,A=/youtube\.com\/watch\?v=(\w+)/,w=/youtu\.be\/(\w+)/;s.a.setOptions({headerIds:!1,highlight(e,t,n){t?Object(b.getPrismInstance)().then((i=>{const o=i.languages[t];o||n(null,e),n(null,i.highlight(e,o))})):n(null,e)}});const N={SPOTIFY:"spotify",YOUTUBE:"youtube"},L={HEADING:"heading",TABLE:"table",IMAGE:"image",CHECKBOX:"checkbox"};class M extends i.Component{constructor(e){super(e),x.set(this,{writable:!0,value:void 0}),C(this,"disabledHeadingRenderer",((e,t)=>`${"#".repeat(t)} ${e}`)),C(this,"checkboxRenderer",(e=>{const{disabledFeatures:t}=this.props;return t.includes(L.CHECKBOX)?e?"[x] ":"[ ] ":`<input type="checkbox" data-index="${this.checkboxCounter++}" ${e?"checked":""}/>`})),C(this,"imageRenderer",((e,t,n)=>{const{disabledFeatures:i}=this.props,o=t||"";return i.includes(L.IMAGE)?`<a\n                href="${e}"\n                title="${o}"\n                rel="nofollow external noopener noreferrer"\n                target="_blank">${n}</a>`:`<span class="image">\n            <a href="${e}" target="_blank" rel="nofollow external noopener noreferrer">\n                <img\n                    src="${e}"\n                    srcset="${e} ${window.devicePixelRatio}x"\n                    title="${o}"\n                    alt="${n}"/>\n            </a>\n        </span>`})),C(this,"spotifyURLRenderer",(e=>{const{disabledFeatures:t}=this.props;return t.includes(N.SPOTIFY)?e:`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`})),C(this,"spotifyURIRenderer",(e=>{const{disabledFeatures:t}=this.props;return t.includes(N.SPOTIFY)?e:e.replace(R,((e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`))})),C(this,"youtubeRenderer",(e=>{const{disabledFeatures:t}=this.props;if(t.includes(N.YOUTUBE))return e;const n="youtu.be"===e.hostname?w:A,[,i]=e.href.match(n);return`<iframe\n                src="https://www.youtube.com/embed/${i}"\n                width="480" height="270"\n                frameborder="0"></iframe>`})),C(this,"linkRenderer",((e,t,n="")=>{const{barrelId:i}=this.props,o=Object(c.urlResolve)("project",{url:{bid:i}});let s=new URL(e.replace(/&amp;/g,"&"),o);const r=t||"";let l=!1;if(s.origin===f.SHORTLINK_URL){const e=Object(v.getLongLinkFromCache)(s);e?s=new URL(e):(l=!0,Object(v.fetchLongLink)(s).then((()=>this.convertToMarkdown(this.props.children))).catch((e=>{})))}if(Object(a.isZeplinWebURL)(s.origin)||s.protocol===f.ZPL_PROTOCOL){const t=this.parseURL(s,n!==e&&n);if(t){const e=n.startsWith("<")?n:t.anchorText;return`<a\n                    href="${t.href}"\n                    title="${r}"\n                    data-link-type="inApp">${e}</a>`}}return["spotify.com","open.spotify.com"].includes(s.hostname)?this.spotifyURLRenderer(s):["youtube.com","www.youtube.com","youtu.be"].includes(s.hostname)?this.youtubeRenderer(s):`<a class="${l?"waiting":""}"\n            href="${e}"\n            title="${r}"\n            rel="nofollow external noopener noreferrer"\n            target="_blank">${n}</a>`})),C(this,"colorRenderer",(e=>{const{barrelId:t,barrel:n}=this.props,i=[];return e.replace(_,((e,o)=>{let s,a=n&&n.colors.find((e=>e.name===o)),r=e;if(a)s=`{{color${i.length}}}`,i.push(a.toCSS()),r=`<span class="color">${e}<span class="colorPreview" style="background-color: ${s};"></span></span>`;else if(P.test(e)){const t=m.a.fromHex(o);a=n&&n.colors.find((e=>e.equals(t)));s=a?e:"",r=`<span class="color">#${a?a.name:o}<span class="colorPreview" style="background-color: ${e};"></span></span>`}if(a){const e=Object(c.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:a.id}});return this.linkRenderer(e,s,r)}return r})).replace(I,((e,...i)=>{const{r:o,g:s,b:r,a:l}=Object(a.parseRGBA)(...i),d=n&&n.colors.find((e=>e.equals({r:o,g:s,b:r,a:l})));let u;if(u=d?`<span class="color">#${d.name}<span class="colorPreview" style="background-color: ${d.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,d){const n=Object(c.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:d.id}});return this.linkRenderer(n,e,u)}return u})).replace(j,((e,...i)=>{const{h:o,s:s,l:r,a:l}=Object(a.parseHSLA)(...i),d=m.a.fromHSLA(o,s,r,l),u=n&&n.colors.find((e=>e.equals(d)));let h;if(h=u?`<span class="color">#${u.name}<span class="colorPreview" style="background-color: ${u.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,u){const n=Object(c.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:u.id}});return this.linkRenderer(n,e,h)}return h})).replace(/{{color(\d+)}}/g,((e,t)=>i[parseInt(t,10)]))})),C(this,"mentionRendererReplacer",(e=>{const{username:t,userId:n,members:i}=this.props,o=Object(l.mentionRegexFn)(t),s=e.substring(1);let a,r=e;return i&&!l.groupMentionKeywords.includes(s)&&(a=i.find((({user:e})=>e.username===s))),a&&a.user&&a.user.fullName&&(r=`@${a.user.fullName}`),o.test(e)?`<span data-unique-id="${n}" class="user self">${r}</span>`:a?`<span data-unique-id="${a&&a.user._id}" class="user">${r}</span>`:r})),C(this,"mentionRenderer",(e=>e.replace(/@\w+\b/g,this.mentionRendererReplacer))),C(this,"telRenderer",(e=>e.replace(k,((e,t)=>`<a href="tel:${t}">${t}</a>`)))),C(this,"emojiRenderer",(e=>e.replace(y.a.EMOJI_CANDIDATE_REGEX,((e,t)=>{const{barrelId:n}=this.props,i=y.a.searchEmoji(t,n);return i?i.customEmoji?`<img class="customEmoji" src="${i.emoji}" title="${t}" alt=":${t}:">`:i.emoji:`<span class="customEmojiPlainText">${e}</span>`})))),C(this,"textRenderer",(e=>{let t=e.replace(/&amp;/g,"&");const n=(t.match(D)||[]).sort(((e,t)=>t.length-e.length));for(const i of n)t=t.replace(i,this.linkRenderer(i));return Object(r.pipe)(this.colorRenderer,this.mentionRenderer,this.telRenderer,this.spotifyURIRenderer,this.emojiRenderer,y.a.spanEmojis)(t)})),C(this,"bindCheckboxEventListeners",(()=>{const{disabledFeatures:e,onUpdate:t}=this.props;if(e.includes(L.CHECKBOX)||!t)return;this.nodeRefs.base.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.addEventListener("change",this.handleChange)}))})),C(this,"bindImageEventListeners",(()=>{const{disabledFeatures:e,onImageLoad:t}=this.props;if(e.includes(L.IMAGE)||!t)return;this.nodeRefs.base.querySelectorAll(".image img").forEach((e=>{e.addEventListener("load",t,{once:!0})}))})),C(this,"bindEventListeners",(()=>{this.bindCheckboxEventListeners(),this.bindImageEventListeners()})),C(this,"convertToMarkdown",(e=>{s()(e,{sanitize:!0,mangle:!1,silent:!0,renderer:E(this,x),sanitizer:O.escapeHTML},((e,t)=>{e||this.setState({markdown:t},(()=>{const{onMarkdownUpdate:e}=this.props;e&&e()}))}))})),C(this,"handleChange",(e=>{const{children:t,onUpdate:n}=this.props,i=parseInt(e.target.dataset.index,10);let o=-1;n(t.replace(/- \[(x| )\]/g,((e,t)=>(o++,o===i?" "===t?"- [x]":"- [ ]":e))))}));const{disabledFeatures:t,children:n}=e;!function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,x,new s.a.Renderer),E(this,x).checkbox=this.checkboxRenderer,E(this,x).link=this.linkRenderer,E(this,x).image=this.imageRenderer,E(this,x).text=this.textRenderer,t.includes(L.HEADING)&&(E(this,x).heading=this.disabledHeadingRenderer),t.includes(L.TABLE)&&((new s.a.Lexer).tokenizer.rules.block.table={exec:()=>{}}),this.checkboxCounter=0,this.state={markdown:Object(O.escapeHTML)(n)}}getBarrel(e){const{projects:t,styleguides:n}=this.props;return t[e]||n[e]||{}}parseURL(e,t){const{organizations:n,projects:i,styleguides:o,barrelId:s}=this.props,r=Object(a.parseAppLink)(e);if(!r)return null;const{url:l={},query:u={},urlSlug:h}=r;if(t)return{anchorText:t,href:Object(c.urlResolve)(h,{url:l,query:u})};const{oid:p,bid:f,sid:g}=l,m=this.getBarrel(f);let b=Object(c.urlResolve)(h,{url:l,query:u});switch(h){case"workspace-projects":{const{name:e="Organization"}=n.find((e=>e._id===p))||{};b=`${e}ʼs Projects`;break}case"workspace-styleguides":{const{name:e="Organization"}=n.find((e=>e._id===p))||{};b=`${e}ʼs Styleguides`;break}case"projects":b="Projects";break;case"styleguides":b="Styleguides";break;case"project-screen":{const{did:e=[],cmid:t=[]}=u;if(f!==s){if(!m.name)break;b=t.length?`Comment${t.length>1?"s":""} on screen of ${m.name}`:e.length?`Note${e.length>1?"s":""} on screen of ${m.name}`:`Screen in ${m.name}`;break}const{name:n="screen",dots:i=[]}=(m.screens||[]).find((e=>e._id===g))||{};if(e.length)if(e.length>1)b=`Notes on ${n}`;else{const{name:o=""}=i.find((t=>t._id===e[0]))||{},s=`Note #${o}, ${n}`;b=t.length?`Comment${t.length>1?"s":""} on ${s}`:s}else b=n;break}case"project-screen-version":{const{name:e="screen"}=(m.screens||[]).find((e=>e._id===g))||{};b=`Version of ${e}`;break}case"project-styleguide":case"styleguide":m.name&&(b=f===s?m.name:"Styleguide");break;case"project-styleguide-colors":case"styleguide-colors":m.name&&(b=`${f===s?"":m.name} Colors`);break;case"project-styleguide-textstyles":case"styleguide-textstyles":m.name&&(b=`${f===s?"":m.name} Text Styles`);break;case"project-styleguide-spacing":case"styleguide-spacing":m.name&&(b=`${f===s?"":m.name} Spacing`);break;case"project-styleguide-components":case"styleguide-components":{const{query:{coid:[e]=[]}}=r;if(e){const{component:t}=Object(d.findComponentById)([...Object.values(i),...Object.values(o)].filter((e=>e.complete)),e)||{};if(t){b=t.name;break}}m.name&&(b=`${f===s?"":m.name} Components`);break}case"styleguide-about":m.name&&(b=`${f===s?"":m.name} About`);break;case"project-dashboard":default:{if(!m.name)break;const{sid:e=[]}=u;b=e.length?`${e.length} screens in ${f===s?"dashboard":m.name}`:f===s?"Dashboard":m.name;break}}return{anchorText:b,href:Object(c.urlResolve)(h,{url:l,query:u})}}componentDidMount(){this.bindEventListeners(),this.convertToMarkdown(this.props.children)}componentWillReceiveProps(e){(e.children!==this.props.children||e.emojisLoaded&&!this.props.emojisLoaded)&&this.convertToMarkdown(e.children)}componentDidUpdate(){this.bindEventListeners()}render(){const e=h()("markdown",{jumboEmojis:y.a.canWeMakeThisJumbo(this.props.children)});return i.h("div",{ref:Object(p.default)(this,"base"),class:e,dangerouslySetInnerHTML:{__html:this.state.markdown}})}}var x=new WeakMap;M.defaultProps={disabledFeatures:[],organizations:[]},t.default=M},function(e,t,n){"use strict";n.r(t),n.d(t,"parseAppLink",(function(){return g})),n.d(t,"parseRGBA",(function(){return y})),n.d(t,"parseHSLA",(function(){return v})),n.d(t,"isZeplinWebURL",(function(){return u}));var i=n(590),o=n.n(i),s=n(548);const a=/\/workspace\/([\da-f]{24})\/(projects|styleguides)?/i,r=/\/(styleguide|project)\/([\da-f]{24})/i,l=/\/(dashboard|screen|styleguide)/,c=/\/(about|colors|textStyles|spacing|components)/i,d=/\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i;function u(e){return s.APP_URLS.includes(e)}function h(e){return e===o.a.PROJECT?"dashboard":"about"}function p(e){return e===o.a.PROJECT?"colors":"about"}function f(e){const[t,n="project",i]=e.match(r)||[];if(!i)return null;const s=e.substring(t.length),[,a=h(n)]=s.match(l)||[],u={url:{pid:i,stid:i,bid:i}};if(n===o.a.STYLEGUIDE||"styleguide"===a){const[,e=p(n)]=s.match(c)||[];u.urlSlug=`${function(e){return e===o.a.PROJECT?"project-styleguide":"styleguide"}(n)}-${e.toLowerCase()}`}else if("screen"===a){const[,e,t]=s.match(d)||[];u.urlSlug=t?"project-screen-version":"project-screen",Object.assign(u.url,{sid:e,vid:t})}else u.urlSlug="project-dashboard";return u}function g(e){const t=u(e.origin);return e.protocol===s.ZPL_PROTOCOL?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),o=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:o}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),o=e.searchParams.getAll("tsid"),s=e.searchParams.getAll("sptid"),a=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:o,sptid:s,coid:a}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}(e):t?function(e){const t={};if(e.pathname.startsWith("/organization")){const[,n,i="projects"]=e.pathname.match(a)||[],o=e.searchParams.getAll("pid"),s=e.searchParams.getAll("stid");t.urlSlug=`workspace-${i}`,t.url={oid:n},t.query={pid:o,stid:s}}else if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("/styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=f(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":case"styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":case"styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-spacing":case"styleguide-spacing":{const n=e.searchParams.getAll("sptid");t.query={sptid:n};break}case"project-styleguide-components":case"styleguide-components":{const n=e.searchParams.getAll("coid"),i=e.searchParams.getAll("seid");t.query={coid:n,seid:i};break}case"project-dashboard":{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.query={sid:n,seid:i}}}}return t}(e):null}function m(e){const t=parseFloat(e);return e.endsWith("%")?Math.round(255*t/100):t}function b(e){return parseFloat(e)/100}function S(e){const t=parseFloat(e);return e.endsWith("%")?t/100:t}function y(e,t,n,i="1"){return{r:m(e),g:m(t),b:m(n),a:S(i)}}function v(e,t,n,i="1"){return{h:(o=e,parseFloat(o)/360),s:b(t),l:b(n),a:S(i)};var o}},function(e,t,n){"use strict";async function i(){await n.e(33).then(n.t.bind(null,2814,7));return await Promise.resolve().then(n.t.bind(null,2815,7))}n.r(t),n.d(t,"getPrismInstance",(function(){return i}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(209)),s=i(n(678)),a=n(583),r=i(n(567)),l=o.default(),c=/:(\S+?):/g,d=/\ud83c[\udffb-\udfff]/g;function u(e,t){var n,i;const o=e.replace(/_/g," "),{projectsEmojis:a}=r.default.EmojisStore.getState(),l=t?a[t]:void 0,{customEmojis:c,defaultEmojiAliases:d}=null!=l?l:{};for(let r=0;r<s.default.length;r++){const{emoji:e,aliases:t}=s.default[r],i=[...t,...null!==(n=null==d?void 0:d[r])&&void 0!==n?n:[]].find((e=>e===o));if(i)return h(e,i,!1)}for(let s=0;s<(null!==(i=null==c?void 0:c.length)&&void 0!==i?i:0);s++){const{emoji:e,aliases:t}=c[s],n=t.find((e=>e===o));if(n)return h(e,n,!0)}}function h(e,t,n){return{emoji:e,alias:t,customEmoji:n,formattedAlias:t.replace(/\s/g,"_")}}t.default={EMOJI_CANDIDATE_REGEX:c,searchEmoji:u,getSuggestedEmojis:function(e,t){const n=e.toLowerCase().replace(/_/g," ").trim(),{projectsEmojis:i}=r.default.EmojisStore.getState(),o=t?i[t]:void 0,{customEmojis:l,defaultEmojiAliases:c}=null!=o?o:{},d=[];return s.default.forEach(((e,t)=>{var i;for(const o of[...e.aliases,...null!==(i=null==c?void 0:c[t])&&void 0!==i?i:[]])if(a.anyWordStartsWith(o,n)||o.startsWith(n))return void d.push(h(e.emoji,o,!1))})),null==l||l.forEach((e=>{for(const t of e.aliases)if(a.anyWordStartsWith(t,n)||t.startsWith(n))return void d.push(h(e.emoji,t,!0))})),d},spanEmojis:function(e){return e.replace(l,(e=>d.test(e)?`<span class="emoji skinType">${e}</span>`:`<span class="emoji">${e}</span>`)).replace(/<\/span><span class="emoji skinType">/g,"")},formatEmojiString:function(e,t){return e.replace(c,((e,n)=>{const i=u(n,t);return i?i.customEmoji?`<img class="customEmoji" src="${i.emoji}" title="${n}">`:i.emoji:`<span class="customEmojiPlainText">${e}</span>`}))},canWeMakeThisJumbo:function(e,t=5){var n,i;const o=(null!==(n=e.match(l))&&void 0!==n?n:[]).length+(null!==(i=e.match(c))&&void 0!==i?i:[]).length,s=e.replace(l,"").replace(c,"");return!s.trim()&&s.length<=t&&o>0&&o<=t}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getLongLinkFromCache=t.fetchLongLink=t.hasShortlink=t.getShortlink=t.fetchShortlink=void 0;const r=s(n(819)),l={};function c(e){return t=l,n=e.toString(),Object.keys(t).find((e=>t[e]===n));var t,n}t.fetchShortlink=function(e,t){var n;return a(this,void 0,void 0,(function*(){try{return null!==(n=l[e])&&void 0!==n?n:l[e]=yield r.generateShortlink(e,t)}catch(i){return e}}))},t.getShortlink=function(e){var t;return null!==(t=l[e])&&void 0!==t?t:e},t.hasShortlink=function(e){return Boolean(l[e])},t.fetchLongLink=function(e){return a(this,void 0,void 0,(function*(){const t=c(e);if(t)return t;const n=e.toString(),i=yield r.getLongURL(n);return l[i]=n,i}))},t.getLongLinkFromCache=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1227);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731),s=n(724),a=n.n(s),r=n(831);n(1228);t.default=function({onClick:e,baseRef:t,class:n}){const s=a()("optionsButton",n);return i.h(r.default,{secondary:!0,baseRef:t,onClick:e,class:s},i.h(o.IconSettings,null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1230);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(774),s=n.n(o),a=n(775),r=n.n(a),l=n(724),c=n.n(l),d=n(831),u=n(1231),h=n.n(u);n(1234);const p=h()((function({pinned:e,class:t,onClick:n,hover:o}){const a=c()("pinButton",t,{pinned:e});return i.h(d.default,{secondary:!0,class:a,onClick:n},e&&o?i.h(r.a,null):i.h(s.a,{color:e?"var(--cornflower-blue)":"var(--teflon)"}))}));t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1232);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(1160);function s(e){return class extends i.Component{constructor(){super(...arguments),this.state={hover:!1},this.changeHover=e=>{var t,n;this.setState({hover:e}),null===(n=(t=this.props).onHoverChange)||void 0===n||n.call(t,e)},this.handleMouseEnter=()=>{this.changeHover(!0)},this.handleMouseLeave=e=>{const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:s,relatedTarget:a}=e,r=e.target.getBoundingClientRect();if(!t)if(n&&a&&o.rectContainsPoint(r,{x:i,y:s})){const e=()=>this.changeHover(!1);a.addEventListener("mouseleave",(function t(n){o.rectContainsPoint(r,{x:n.clientX,y:n.clientY})||e(),a.removeEventListener("mouseleave",t)}))}else this.changeHover(!1)}}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){return i.h("div",{class:"hoverRegion",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(e,Object.assign({},this.props,{hover:this.state.hover})))}}}n(1233),s.displayName="HoverRegion",s.defaultProps={initialHover:!1,ignoreOverlays:!0},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1236);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(4),o=n(610),s=n(724),a=n.n(s),r=n(582),l=n(852);n(1237);class c extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach((e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])}))}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,actionButton:n,content:s,noControls:c,buttonText:d,anchor:u,class:h}=this.props,p=a()("hideableInfo",h,{popover:e,padBottom:t});let f=null;n&&n.text&&n.callback&&(f=i.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},n.text));let g=null;return c||(g=i.h("div",{class:"infoButtons"},i.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.h("div",null,i.h("img",{src:r.imageUrl("img/icGuidelineRemove.svg"),alt:"×"}),i.h("span",{class:"infoHideButtonText"},d||"OK, hide it!"))),f)),i.h("div",{class:p,onClick:o.stopPropagation,ref:Object(l.default)(this,"base")},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"infoBody"},i.h("div",{class:"infoText"},s),g),i.h("div",{class:a()("anchor",u||"bottom")}))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1240);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1241),s=n(831),a=n(935),r=n.n(a),l=n(959),c=n(582),d=n(852),u=n(724),h=n.n(u),p=n(553),f=n(590),g=n.n(f);n(1245);function m({selected:e,avatarUrl:t,avatarType:n,avatarBgSize:o,info:s,subInfo:a}){const l=h()("listItem",{selected:e});return i.h("div",{class:l},i.h(r.a,{class:"itemAvatar",src:t,size:36,bgSize:o,type:n}),i.h("div",{class:"infoContainer"},i.h("div",{class:"info ellipsis"},s),a&&i.h("div",{class:"subInfo ellipsis"},a)))}class b extends i.Component{constructor(e){super(e),this.renderOrganizationListItem=this.renderOrganizationListItem.bind(this),this.renderUserListItem=this.renderUserListItem.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,organizations:n}=this.props,i=n.find((t=>t._id===e));t(e,i)}renderOrganizationListItem(e){const t=e._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderOrganizationListItemContent})}renderOrganizationListItemContent({logo:e,name:t},n){return i.h(m,{selected:n,avatarUrl:e,avatarType:"organization",avatarBgSize:19,info:t})}renderUserListItem(e){const t=e.user._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderUserListItemContent})}renderUserListItemContent(e,t){const{user:n,user:{email:o}}=e,s=Object(l.getUserAvatar)(n).src;return i.h(m,{selected:t,avatarUrl:s,avatarType:"user",info:Object(p.getUserDisplayName)(n),subInfo:o})}renderListBody(){const{onInvite:e,organizations:t,users:n}=this.props;return t.length+n.length===0?i.h("div",{class:"targetOwnersEmpty"},"No invited team members yet.",i.h(s.default,{class:"inviteButton",onClick:e},"INVITE NOW")):i.h("div",{class:"transferOwnershipBody"},i.h(o.default,{class:"targetOwners",onSelect:this.handleSelect},[t.length>0&&i.h("h5",null,"To a workspace:"),t.map(this.renderOrganizationListItem),n.length>0&&i.h("h5",null,"To a member:"),n.map(this.renderUserListItem)]),i.h("div",{class:"transferOwnershipFooter"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg"),alt:"ℹ"}),"We’ll notify them via email"))}render(){const{barrelType:e}=this.props;return i.h("div",{class:"transferOwnership noSelect",ref:Object(d.default)(this,"base")},i.h("h5",{class:"transferOwnershipHeader"},"You can only transfer your ",e,"s to invited team members or workspaces.",e===g.a.STYLEGUIDE&&" Transferring a styleguide will also transfer its children."),this.renderListBody())}}b.defaultProps={organizations:[],users:[]},t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(1242);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1243),r=n(930),l=n(852),c=n(724),d=n.n(c),u=n(959);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return e.filter((e=>e&&e.type&&e.type.name===a.default.name)).map((e=>e.props.value))}class f extends i.Component{constructor(...e){super(...e),h(this,"values",p(this.listItems)),h(this,"state",{selected:this.values[0]}),h(this,"handleKeyDown",(e=>{if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])})),h(this,"handleItemHover",(e=>{this.mouseActive&&this.changeSelected(e)})),h(this,"handleMouseMove",(()=>{this.mouseActive=!0}))}get listItems(){return i.toChildArray(this.props.children)}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},(()=>{Object(u.scrollIfNecessary)(this.nodeRefs[`selectedListItem-${e}`])}))}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const t=p(i.toChildArray(e.children));Object(r.default)(t,this.values)&&(this.values=t,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{onSelect:t}=this.props;return this.listItems.map((n=>{if(!n||!n.type||n.type.name!==a.default.name)return n;const o=n.props.value,s=o===e;return i.cloneElement(n,{key:o,onClick:t,onHover:this.handleItemHover,selected:s,baseRef:Object(l.default)(this,`selectedListItem-${o}`)})}))}render(){const{class:e}=this.props,t=d()("selectableListView",e);return i.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}f.propTypes={onSelect:s.a.func.isRequired,children:s.a.oneOfType([s.a.instanceOf(a.default),s.a.node])},f.ListItem=a.default,t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1244);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:o,baseRef:s,class:a}=this.props;return i.h("div",{ref:s,class:a,onClick:this.handleClick,onMouseEnter:this.handleHover,style:o},n(t,e))}}a.propTypes={renderItem:s.a.func.isRequired,onClick:s.a.func,onHover:s.a.func,value:s.a.string.isRequired,selected:s.a.bool},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1247);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1241),r=n(724),l=n.n(r);n(1248);function c(e,t){return i.h("div",{class:l()("listItem",{selected:t})},e.name)}function d({sections:e,onSelect:t}){return i.h("div",{class:"moveProjectToSection noSelect"},i.h("div",{class:"moveProjectToSectionBody"},i.h(a.default,{class:"targetSections",onSelect:t},e.map((({_id:e,name:t})=>i.h(a.default.ListItem,{key:e,class:"selectableListItem",value:e,item:{name:t},renderItem:c}))))))}d.defaultProps={sections:s.a.array,onSelect:s.a.func},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1250);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(1137),s=n.n(o),a=n(610);function r(e,t){const{project:{users:n,status:o},currentUser:r,moveToSectionVisible:l,removeFromSectionsVisible:c,autoPosition:d,onInvite:u,onJoin:h,onActivate:p,onArchive:f,onTransferOwnership:g,onDelete:m,onLeave:b,onClose:S,onOpen:y,onCopyWebLink:v,onCopyAppUri:O,onMoveProjectToSection:C,onRemoveProjectFromSection:E,onCreateNewSection:T,onCopyProject:_}=e,{organizations:P,selectedOrganizationId:I}=t,j=n.some((e=>e.user._id===Zeplin.user._id)),D=P.find((e=>e._id===I)),k=D&&"suspended"===D.status,R="archived"===o,A=j&&!k,w=!R&&j&&!k&&a.permissions.canChangeProjectStatus(r),N=R&&j&&!k&&a.permissions.canChangeProjectStatus(r),L=j&&a.permissions.canUpdateProject(r),M=c&&L&&!k,x=l&&L&&!k,U=D&&a.permissions.canCreateProjectSection(r)&&!k,B=a.permissions.canCopyBarrel(r),V=j&&a.permissions.canTransferOwnership(r),z=j&&!k&&a.permissions.canLeaveProject(r),F=j&&a.permissions.canDeleteProject(r);return i.h(s.a.overlay,{autoPosition:d,onOpen:y,onClose:S},!j&&i.h(s.a.Item,{key:"join",onClick:h},"Join"),A&&i.h(s.a.Item,{key:"invite",onClick:u},"Invite…"),!R&&i.h(s.a.Item,{key:"copyWebLink",onClick:v},"Copy project web link"),!R&&i.h(s.a.Item,{key:"copyApiUri",onClick:O},"Copy project app URI"),(B||V)&&i.h(s.a.ItemDivider,{key:"ownershipDivider"}),B&&i.h(s.a.Item,{key:"copyProject",onClick:_},"Make a copy…"),V&&i.h(s.a.Item,{key:"transferOwnership",onClick:g},"Transfer ownership…"),(U||x)&&i.h(s.a.ItemDivider,{key:"sectionOptionsDivider"}),x&&i.h(s.a.Item,{key:"moveProjectToSection",onClick:C},"Move project to section…"),U&&i.h(s.a.Item,{key:"createNewSection",onClick:T},"Create a new section"),M&&i.h(s.a.Item,{key:"removeProjectFromSection",onClick:E},"Remove project from section"),(z||F)&&i.h(s.a.ItemDivider,{key:"warningDivider"}),w&&i.h(s.a.Item,{key:"archive",onClick:f},"Archive project"),N&&i.h(s.a.Item,{key:"activate",onClick:p},"Activate project"),z&&i.h(s.a.Item,{key:"leave",onClick:b,warning:!0},"Leave project"),F&&i.h(s.a.Item,{key:"delete",onClick:m,warning:!0},"Delete project…"))}},function(e,t,n){"use strict";n.r(t);var i=n(1252);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1027),s=n(847);n(1253);const{h:a}=i;class r extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={value:""}}handleInputChange(e){this.setState({value:e})}handleKeyPress(e){if(e.keyCode!==Zeplin.KEY_CODE.ENTER)return;const{value:t}=this.state,{confirmationText:n,onDelete:i}=this.props;t===n&&i()}render(){const{value:e}=this.state,{onDelete:t,onClose:n,title:a,placeholder:r,confirmationText:l,loading:c}=this.props,d=l!==e;return i.h(o.default,{class:"deleteDialog",positiveButtonText:"DELETE",negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:t,hideNegativeButton:!1,onClose:n,width:400,loading:c},i.h("div",{class:"deleteDialogBody"},i.h("h2",null,a),i.h(s.default,{autofocus:!0,label:r,onInput:this.handleInputChange,onKeyPress:this.handleKeyPress,primary:!0})))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";let i,o;n.r(t),n.d(t,"getThumbnailObserver",(function(){return r}));const s=new WeakMap;function a(e){e.forEach((e=>{const t=s.get(e.target);t&&t(e)}))}function r(e){return o||(i=new IntersectionObserver(a,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),o={observe(e,t){s.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),s.delete(e)}}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferableUsers=t.getTransferableOrganizations=void 0;const i=n(610);t.getTransferableOrganizations=function(e,t,n){return e.filter((({_id:e,status:o})=>{const s=t[e];return s&&i.permissions.canReceiveOwnership(s)&&"active"===o&&n!==e}))},t.getTransferableUsers=function(e,t,n){return e.filter((({user:{_id:e,status:i}})=>"invited"!==i&&!(e===t&&"user"===n)))}},function(e,t,n){"use strict";n.r(t);var i=n(1257);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1258);t.default=function(e){const{height:t,top:n,left:o}=e;return i.h("div",{class:"moveCubuk",style:{height:t,top:n,left:o}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"CUBUK_POSITION",(function(){return i}));const i=Object.freeze({LEFT:"left",RIGHT:"right"})},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTEXT_MENU="contextMenu",e.ACTIVITIES="activities",e.SPACE_CARD="spaceCard",e.PREVIEW_DIALOG="previewDialog",e.PREVIEW_PAGE="previewPage"}(i||(i={})),t.default=i},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1263);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1264);t.default=function({children:e}){return i.h("div",{class:"projectsList"},e)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1266);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(744),s=n.n(o);n(1267);t.default=function(e){const{barrelId:t,onScrollToUnpinnedBarrel:n,onDismiss:o}=e;return i.h("div",{class:"unpinnedBarrel"},i.h("p",null,"Project unpinned."),i.h("a",{href:"#",onClick:e=>function(e,t,n){e.preventDefault(),t(n)}(e,n,t)},i.h("strong",null,"Scroll to project")),i.h("div",{onClick:()=>o(t)},i.h(s.a,null),i.h("span",null,"Got it!")))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1270);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1271),s=n(1274),a=n(1312),r=n(1169),l=n(1027),c=n(709),d=n.n(c),u=n(1104),h=n.n(u),p=n(1309),f=n(852),g=n(583),m=n(724),b=n.n(m),S=n(544),y=n(626),v=n(686),O=n(1330),C=n(548),E=n(1220);n(1331);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),I(this,"state",{editingDescription:!1,deleteDialogVisible:!1}),I(this,"subscribedToObserver",!1),I(this,"generateShortlink",(()=>{Object(E.fetchShortlink)(this.webURL)})),I(this,"highlightDescription",(()=>{this.componentRefs.section.highlightDescription()})),I(this,"highlightNameAndScrollTo",(()=>{this.componentRefs.section.highlightNameAndScrollTo()})),I(this,"registerToObserverIfReady",(()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)})),I(this,"handleNameBlur",(({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;if(n===y.TEMPORARY_PROJECT_SECTION_ID)return h.a.removeProjectSection({oseid:n}),void(e||h.a.addProjectSection({index:1,sectionData:{name:t,description:O.NEW_SECTION_DESCRIPTION,projects:[],newSection:!1},shouldCalculateActualIndex:!0,syncWithApi:!0}));e||i===t||h.a.updateProjectSection({oseid:n,sectionData:{name:t},syncWithApi:!0})})),I(this,"handleDescriptionUpdate",(e=>{const{data:{_id:t}}=this.props;h.a.updateProjectSection({oseid:t,sectionData:{description:e},syncWithApi:!0}),this.handleEditingStateChange()})),I(this,"handleEditingStateChange",(()=>{this.setState((e=>({editingDescription:!e.editingDescription})))})),I(this,"handleExpand",(e=>{d.a.expandSections([e])})),I(this,"handleCollapse",(e=>{d.a.collapseSections([e])})),I(this,"handleCopyWebLink",(()=>{const{onCopyLink:e}=this.props;e(Object(E.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project section"})})),I(this,"handleCopyAppURI",(()=>{const{onCopyLink:e}=this.props;e(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project section"})})),I(this,"handleDeleteSectionClick",(()=>{this.setState({deleteDialogVisible:!0})})),I(this,"handleDeleteDialogClose",(()=>{this.setState({deleteDialogVisible:!1})})),I(this,"handleDeleteSection",(()=>{const{data:{_id:e}}=this.props;h.a.removeProjectSection({oseid:e,syncWithApi:!0}),this.context.showToast({text:"Section deleted",source:"projectsContainer"})})),I(this,"handleMoveSectionClick",(e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})})),I(this,"handleAddCustomLinkClick",(e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props,i=P(P({},e),{},{_id:"tempCustomLinkId"});h.a.addSectionLink({oid:t,oseid:n,linkData:i,syncWithApi:!0})})),I(this,"handleUpdateCustomLinkClick",(e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;h.a.updateSectionLink({oid:t,oseid:n,oselid:e._id,linkData:e,syncWithApi:!0})})),I(this,"handleRemoveCustomLinkClick",(e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;h.a.removeSectionLink({oid:t,oseid:n,oselid:e,syncWithApi:!0})})),I(this,"handleAddNewDescription",(()=>{this.handleDescriptionUpdate(O.NEW_SECTION_DESCRIPTION)})),I(this,"handleCreateProjectClick",(()=>{const{data:{_id:e},onCreateProjectClick:t}=this.props;t({oseid:e})})),I(this,"renderOptionsMenu",(()=>{const{data:{description:e}}=this.props,{canCreateProject:t,canEditSections:n}=this.context;return i.h(o.default,{onOpen:this.generateShortlink},i.h(i.Fragment,null,n&&!e&&i.h(i.Fragment,null,i.h(o.default.Item,{onClick:this.handleAddNewDescription},"Add description"),i.h(o.default.ItemDivider,null)),i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy section web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy section app URI"),t&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCreateProjectClick},"Create project in section")),n&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{warning:!0,onClick:this.handleDeleteSectionClick},"Delete section"))))})),I(this,"renderSummary",(()=>{const{shouldRenderSummary:e}=this.props,{editingDescription:t}=this.state;if(!e||t)return null;const{actionsDisabled:n,readOnly:o,data:{numberOfProjects:s,links:r}}=this.props;return i.h(a.default,{projectCount:s,styleguides:this.sectionStyleguides,links:r,readOnly:o||n,onAddLinkButtonClick:this.handleAddCustomLinkClick,onUpdateLinkButtonClick:this.handleUpdateCustomLinkClick,onRemoveLinkButtonClick:this.handleRemoveCustomLinkClick})}))}get webURL(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return Object(v.urlResolve)("workspace-projects",{url:{oid:e},query:{seid:t}})}get appURI(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return`${C.ZPL_PROTOCOL}//projects?oid=${e}&seid=${t}`}get sectionStyleguides(){const{data:{projects:e}}=this.props,{selectedOrganizationStyleguides:t}=this.context;return e.reduce(((e,n)=>{const{styleguideLink:i}=n,{styleguide:{_id:o}={}}=i||{},s=t.find((({_id:e})=>e===o));return s&&!e.includes(s)?[...e,s]:e}),[])}componentDidMount(){this.props.data.newSection&&this.highlightNameAndScrollTo(),this.registerToObserverIfReady()}componentDidUpdate(e,t){this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}renderDeleteDialog(){return i.h(l.BasicOverlayDialog,{title:"Delete Section?",message:"Deleting a section will delete the section links and descriptions, the projects will still remain. Are you sure you want to delete this section?",positiveButtonText:"DELETE",onPositiveButtonClick:this.handleDeleteSection,onClose:this.handleDeleteDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{editingDescription:e,deleteDialogVisible:t}=this.state,{data:{projects:n,name:o,type:a,description:r,_id:l},index:c,collapsed:u,readOnly:h,actionsDisabled:m,highlight:y,showDescription:v,onSectionDrop:O,onProjectDrop:C,onProjectToSectionDrop:E,children:T}=this.props,_=n&&n.length?`${Object(g.pluralize)(n.length,"project")} collapsed`:"",P=this.renderOptionsMenu();return i.h(i.Fragment,null,i.h(s.DragDropProjectSection,{id:l,class:b()("projectSection",{safari:Object(S.getBrowser)()===S.BROWSER.SAFARI}),name:o,index:c,type:p.PROJECT_SECTION,collapsed:u,baseRef:Object(f.default)(this,"base"),optionsButtonRef:Object(f.default)(this,"sectionOptionsButton"),componentRef:Object(f.default)(this,"section","componentRefs"),empty:0===n.length,headerClass:"projectSectionHeader",description:r,countInfoText:_,optionsMenu:P,defaultSection:"default"===a,actionsDisabled:m,readOnly:h,highlight:y,scroll:y,draggable:!0,isWorkspace:!0,showDescription:v,editingDescription:e,onSectionDrop:O,onProjectDrop:C,onProjectToSectionDrop:E,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionUpdate,onEditingStateChange:this.handleEditingStateChange,onExpand:this.handleExpand,onCollapse:this.handleCollapse,onHighlightEnd:d.a.unhighlightSection,summary:this.renderSummary()},!u&&i.toChildArray(T)),t&&this.renderDeleteDialog())}}t.default=e=>i.h(r.SectionObserverContext.Consumer,null,(({sectionObserver:t})=>i.h(j,T({sectionObserver:t},e))))},function(e,t,n){"use strict";n.r(t);var i=n(1272);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o);n(1273);const a=e=>i.h(s.a,Object.assign({},e,{class:"sectionMenu"}));a.Item=s.a.Item,a.ItemDivider=s.a.ItemDivider,t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1275);n.d(t,"default",(function(){return i.default}));var o=n(1307);n.d(t,"DragDropScreenThumbnailSection",(function(){return o.default}));var s=n(1310);n.d(t,"DragDropComponentSection",(function(){return s.default}));var a=n(1311);n.d(t,"DragDropProjectSection",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSectionComponent",(function(){return h}));var i=n(4),o=n(5),s=n.n(o),a=n(610),r=n(724),l=n.n(r),c=n(852),d=n(1276);n(1306);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){class t extends i.Component{constructor(...e){super(...e),u(this,"state",{menuShown:!1,hidden:!1}),u(this,"collapseExpandSection",(e=>{const{id:t,collapsed:n,onExpand:i,onCollapse:o}=this.props;e.stopPropagation(),n?i(t):o(t)})),u(this,"showOptionsMenu",(e=>{e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})})),u(this,"hideOptionsMenu",(()=>{this.state.menuShown&&this.setState({menuShown:!1})})),u(this,"highlight",(()=>{const{scroll:e,highlight:t,onScroll:n}=this.props;if((e||t)&&this.nodeRefs.base.scrollIntoView(),t)if(this.highlighting=!0,this.nodeRefs&&this.nodeRefs.headerBase){this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}).addEventListener("finish",this.handleHighlightEnd,{once:!0})}else setTimeout(this.handleHighlightEnd);e&&n&&n()})),u(this,"highlightName",(()=>{this.componentRefs.header.highlightName()})),u(this,"highlightNameAndScrollTo",(()=>{this.componentRefs.header.highlightNameAndScrollTo()})),u(this,"highlightDescription",(()=>{const{id:e,collapsed:t,onExpand:n}=this.props;if(t)return n(e),void(this.shouldHighlightDescription=!0);this.componentRefs.header.highlightDescription()})),u(this,"handleHeaderClick",(()=>{const{id:e,collapsed:t,onExpand:n}=this.props;t&&n(e)})),u(this,"handleHighlightEnd",(()=>{const{onHighlightEnd:e}=this.props;this.highlighting=!1,e&&e()})),u(this,"handleStartDrag",(()=>{const{id:e,collapsed:t,empty:n,isWorkspace:i,onCollapse:o}=this.props;!t&&(!n||i)&&o(e),this.setState(Object(a.getStateUpdateFunction)({hidden:!0,menuShown:!1}))})),u(this,"handleEndDrag",(()=>{this.setState({hidden:!1})})),u(this,"handleBaseRef",(e=>{Object(c.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}))}componentDidMount(){this.highlight()}componentDidUpdate(e){e.collapsed&&!this.props.collapsed&&this.shouldHighlightDescription&&(this.componentRefs.header.highlightDescription(),this.shouldHighlightDescription=!1),this.highlighting||this.highlight()}renderHeader(){const{id:t,name:n,index:o,collapsed:s,styleguideId:a,defaultSection:r,countInfoText:l,componentCount:d,emptyText:u,empty:h,isWorkspace:p,readOnly:f,headerClass:g,actionsDisabled:m,description:b,showDescription:S,optionsMenu:y,editingDescription:v,onNameBlur:O,onDescriptionBlur:C,onEditingStateChange:E,draggable:T,optionsButtonRef:_,optionsActive:P,sectionHeaderHover:I,summary:j,variantOptionsButton:D,onHover:k,onHoverOut:R,onDrop:A}=this.props,{menuShown:w}=this.state;return r?null:i.h(e,{baseRef:Object(c.default)(this,"headerBase"),componentRef:Object(c.default)(this,"header","componentRefs"),class:g,hasDragHover:I,id:t,index:o,styleguideId:a,name:n,countInfoText:l,componentCount:d,empty:h,emptyText:u,isWorkspace:p,defaultSection:r,readOnly:f,actionsDisabled:m,description:b,showDescription:S,onNameBlur:O,onDescriptionBlur:C,collapsed:s,optionsMenu:w&&y,draggable:T,optionsButtonRef:_,optionsActive:P,editingDescription:v,onEditingStateChange:E,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,summary:j,variantOptionsButton:D,onHover:k,onHoverOut:R,onDrop:A})}render(){const{id:e,collapsed:t,children:n,targetPosition:o,empty:s,isWorkspace:a,putComponentGroupInto:r,class:c}=this.props,{hidden:d,menuShown:u}=this.state,h=l()("section",c,o,{putComponentGroupInto:r,collapsed:t,empty:s,menuShown:u,isWorkspace:a,hidden:d});return i.h("div",{class:h,"data-id":e,ref:this.handleBaseRef},this.renderHeader(),!t&&!s&&n)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.h(t,n)}}const p=h(d.default);p.displayName="Section",p.propTypes={onNameBlur:s.a.func.isRequired,onDescriptionBlur:s.a.func.isRequired,name:s.a.string,description:s.a.string,id:s.a.string.isRequired,defaultSection:s.a.bool,countInfoText:s.a.string,showOptionsButton:s.a.bool,optionsMenu:s.a.element,readOnly:s.a.bool,actionsDisabled:s.a.bool},p.defaultProps={showOptionsButton:!1,defaultSection:!1},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1277);n.d(t,"default",(function(){return i.default})),n.d(t,"DragSourceSectionHeader",(function(){return i.DragSourceSectionHeader}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragSourceSectionHeader",(function(){return S}));var i=n(4),o=n(852),s=n(1278),a=n(1157),r=n(731),l=n(724),c=n.n(l),d=n(610),u=n(1281),h=n(1289);n(1305);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class g extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{const{onDescriptionBlur:t}=this.props;t(e)},(n="handleDescriptionUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightNameAndScrollTo(){this.componentRefs.nameInput.highlightAndScrollTo()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(o.default)(this,"header")(e),this.props.baseRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenu:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=60){const i=e.getBoundingClientRect(),o=window.innerHeight;if(i.bottom+12>o)e.style.top=o+-36-i.bottom-12+"px";else if(i.top-n-12<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=12+n-i+"px"}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.cloneElement(e,{onClose:t});return i.h("div",{class:"sectionContextMenuContainer",ref:Object(o.default)(this,"contextMenu")},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:a,readOnly:l,actionsDisabled:c,onNameBlur:d,collapsed:u,empty:h,countInfoText:p,emptyText:f}=this.props,g=t&&!c&&(e||n);return i.h("div",{class:"sectionInfo"},g&&i.h(r.IconSectionDrag,{class:"moveHandleIcon"}),i.h(s.default,{ref:Object(o.default)(this,"nameInput","componentRefs"),value:a,required:!0,readOnly:l||c,onBlur:d}),u&&i.h("span",{class:"countInfo"},p),h&&i.h("span",{class:"countInfo"},f))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:o,isWorkspace:s,mirror:a,editingDescription:l,collapsed:u,variantOptionsButton:h,onEditingStateChange:p,onExpandCollapseSection:f,onShowOptionsMenu:g}=this.props;const m=!a&&s?!t:!e;return i.h("div",{class:c()("sectionActions",{disabled:t})},h,m&&i.h("button",{class:"collapseButton",onMouseDown:d.stopPropagation,onClick:function(e){s&&!u&&l&&p(),f(e)}},i.h(r.IconCollapse,null)),!t&&i.h("button",{class:c()("sectionOptionsButton",{active:o}),ref:n,onMouseDown:d.stopPropagation,onClick:g},i.h(r.IconMenu,null)))}renderDescriptionInfo(){const{id:e,description:t,readOnly:n,actionsDisabled:a,isWorkspace:r,showDescription:l,empty:c,editingDescription:d,onEditingStateChange:u,collapsed:p,onDescriptionBlur:f}=this.props,g=n||a||r&&p;return r&&!l?null:i.h("div",{key:"descriptionInfo",class:"descriptionInfo"},r?i.h(h.default,{description:t,readOnly:g,editing:d,emptyWorkspaceSection:c,sectionCollapsed:p,onEditingStateChange:u,onUpdateDescription:this.handleDescriptionUpdate,sectionId:e}):i.h(s.default,{value:t,ref:Object(o.default)(this,"descriptionInput","componentRefs"),required:!1,readOnly:g,showRemaining:!0,onBlur:f}))}renderJiraIntegrations(){const{id:e}=this.props;return i.h("div",{key:"jiraAttachmentsContainer",class:"jiraIntegrationArea"},i.h(u.default,{items:[{itemType:"section",itemId:e,label:"Attached to "}]}),i.h("div",{class:"bumper"}))}render(){const{width:e,isWorkspace:t,description:n,collapsed:o,class:s,onHeaderClick:a,hasDragHover:r,empty:l,summary:d,optionsMenu:u}=this.props,h=t||!o&&n;return i.h("div",{class:c()("sectionHead",s,{collapsed:o,empty:l,dragHover:r}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:a},i.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),u&&this.renderMenu()),d,h&&this.renderDescriptionInfo(),!o&&!t&&this.renderJiraIntegrations())}}const m=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.h(g,t)},b=Object(a.DragSource)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n,variantOptionsButton:o}=e,s=f(e,["sourceRect","class","variantOptionsButton"]);return i.h(g,p({},s,{width:t.width,mirror:!0,class:c()("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty||e.isWorkspace,optionsMenu:null})})(m),S=e=>i.h(b,Object.assign({draggable:!0},e));t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1279);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(610),r=n(852),l=n(959);n(1280);const c=100;function d(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function u(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class h extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{Object(l.highlightAndScrollToInput)(this.nodeRefs.input)},(n="highlightAndScrollTo")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(a.debounce)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(a.debounce)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.highlightInput)(this.nodeRefs.input)}focus(){this.nodeRefs.input.focus()}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let o=this.state.discard;const s={focusWithin:!1};e&&!i&&(s.value=t,o=!0),this.setState(s),this.props.onBlur({discard:o,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0},(()=>{this.nodeRefs.input.blur()}));break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=c,showRemaining:o,fontStyle:s,tabIndex:a=0}=this.props,{focusWithin:l,value:h,selectionPoints:p,shouldCheckRightSelection:f}=this.state;let g=Object.assign({},s);if(l&&!t){const{selectionStart:e,selectionEnd:t}=p,n=function(e,t){return e&&t?u(d(0,2.5,"butt")):e?u(d(0,1.5,"butt"),d(1.5,2.5,"round")):t?u(d(.5,1.5,"round"),d(1.5,2.5,"butt")):void 0}(e!==t&&0===e,f&&e!==t&&t===h.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.h("div",{class:"expandableInputWrapper"},i.h("form",{ref:Object(r.default)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.h("span",{ref:Object(r.default)(this,"widthlessMirror"),class:"mirror widthless",style:s},h||" "),i.h("span",{class:"mirror",style:s},h||" "),i.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:h,readonly:t,tabIndex:a,ref:Object(r.default)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),o&&l&&i.h("span",{class:"remainingCounter"},n-h.length))}}h.propTypes={value:s.a.string,required:s.a.bool,onBlur:s.a.func,readOnly:s.a.bool,maxLength:s.a.oneOfType([s.a.number,s.a.string]),showRemaining:s.a.bool,fontStyle:s.a.object,inputRef:s.a.func,tabIndex:s.a.number},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1282);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(567),r=n.n(a),l=n(684),c=n.n(l),d=n(929),u=n.n(d),h=n(624),p=n(1283),f=n(1286),g=n(724),m=n.n(g),b=n(548);class S extends i.Component{constructor(e){super(e),this.handleJiraAttachmentClick=this.handleJiraAttachmentClick.bind(this)}static getStores(){return[r.a.BarrelStore,r.a.ProjectsDataStore]}static calculateState(e,t){const{loading:n}=r.a.BarrelStore.getState(),{integration:i={}}=c.a.getBarrel()||{};return{loading:n,integration:i}}handleJiraAttachmentClick(){mixpanel.master.track("Clicked Jira issue")}shouldComponentUpdate(e,t){return this.props.itemId!==e.itemId||this.props.itemType!==e.itemType||(this.state.integration.jira!==t.integration.jira||this.state.loading!==t.loading)}renderJiraAttachments(e){const{class:t}=this.props;return i.h("div",{class:m()("jiraAttachmentsContainer",t)},e.map((e=>i.h(p.default,{logo:i.h(f.default,null),description:e.label,text:e.attachmentIds,href:e.href,onClick:this.handleJiraAttachmentClick}))))}render(){const{loading:e,integration:{jira:t}}=this.state,{wrappingFn:n,items:i,maxNumberOfAttachmentsShown:o}=this.props;if(e||!i||!i.length||!t)return null;const s=i.reduce(((e,n)=>n.itemId?e.concat(function(e,{itemType:t,itemId:n,label:i},o){if(!e)return[];const s=Object(h.groupBy)(e.filter((e=>e.type===t&&e.itemId===n)),"deploymentUrl"),a=`atlOrigin=${b.JIRA_ATL_ORIGIN_TOKEN}`;return Object.values(s).map((e=>{let t="",n="",s="",r=0;return e.forEach(((e,i)=>{0===i?(t=e.issueKey,n=e.issueUrl,s+="jql=issuekey in ("+e.issueKey):i<o?(t+=", "+e.issueKey,s+=","+e.issueKey):(r++,s+=","+e.issueKey)})),s+=")",r>0&&(t+=` and ${r} more`),{attachmentIds:t,label:i,href:e.length>1?`${n}?${s}&${a}`:`${n}?${a}`}}))}(t.attachments,n,o)):e),[]),a=this.renderJiraAttachments(s);return s.length>0&&n?n(a):a}}S.propTypes={wrappingFn:s.a.func,itemType:s.a.string,itemId:s.a.string,maxNumberOfAttachmentsShown:s.a.number},S.defaultProps={maxNumberOfAttachmentsShown:3},t.default=u()(S,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1284);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a);n(1285);function l(e){const{class:t,logo:n,description:o,text:s,href:a,onClick:l}=e;return i.h("div",{class:r()("integrationInfo",t)},i.h("span",{class:"integrationLogo"},n),i.h("span",{class:"integrationDescription"},o),a?i.h("a",{class:"integrationName ellipsis",target:"_blank",title:s,href:a,onClick:l,rel:"external noopener noreferrer"},s):i.h("span",{class:"integrationName ellipsis"},s))}l.propTypes={logo:s.a.element,description:s.a.string,text:s.a.string,href:s.a.string},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1287);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1288);t.default=function(e){const{class:t,disabled:n}=e,o=s()("jiraLogo",t,{disabled:n});return i.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16",class:o},i.h("defs",null,i.h("linearGradient",{id:"a",x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"})),i.h("linearGradient",{id:"b",x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"}))),i.h("g",{fill:"none","fill-rule":"nonzero"},i.h("path",{fill:"#2684FF",d:"M15.586 7.55L8.703.667 8.036 0 2.854 5.181.484 7.55a.635.635 0 0 0 0 .895L5.22 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285a.633.633 0 0 0 0-.9zm-7.55 2.813L5.67 7.998l2.365-2.365L10.4 7.998l-2.364 2.365z"}),i.h("path",{fill:"url(#a)",d:"M7.736 5.633A3.981 3.981 0 0 1 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:"url(#b)",d:"M10.106 7.991l-2.37 2.372a3.982 3.982 0 0 1 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1290);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(223),r=n(1215),l=n(1291),c=n(724),d=n.n(c),u=n(610);n(1304);const h=[r.CustomRules.SPOTIFY,r.CustomRules.YOUTUBE,r.MarkdownRules.IMAGE,r.MarkdownRules.CHECKBOX,r.MarkdownRules.TABLE,r.MarkdownRules.HEADING],p={};function f({description:e,readOnly:t,editing:n,sectionCollapsed:o,emptyWorkspaceSection:s,onEditingStateChange:r,onUpdateDescription:c,sectionId:f},{onSetSectionDescriptionHeight:g}){const m=Object(a.useRef)(null),b=m&&m.current&&m.current.scrollHeight,S=Object(a.useRef)(null),[y,v]=Object(a.useState)(!1),[O,C]=Object(a.useState)(!1),[E,T]=Object(a.useState)(!1);function _(e){p[f]=e,C(e)}Object(a.useLayoutEffect)((()=>{const e=m.current;if(e){const{scrollHeight:t,clientHeight:n}=e;v(O?n>36:t>n),C(p[f]||!1),function(e){const t=e.querySelector(".markdown");if(t){const{firstElementChild:e,childElementCount:n}=t;T(n>1&&18===e.offsetHeight)}}(e)}}),[e,b]),Object(a.useEffect)((()=>{o&&_(!1)}),[o]),Object(a.useLayoutEffect)((()=>{g&&S.current&&g(f,S.current.clientHeight)}),[e,o,O,y]);const P=!O&&!n&&y;return i.h("div",{class:d()("workspaceDescriptionWrapper",{editing:n}),onMouseDown:u.stopPropagation,ref:S},e&&i.h("div",{class:d()("workspaceDescription",{expanded:O,readOnly:t,hasNewLine:E}),ref:m},i.h(l.default,{value:e,disabledFeatures:h,supportLink:"https://zpl.io/article/lightweight-markdown-support",readOnly:t,editing:n,onEdit:r,onCancel:r,onUpdate:c})),y&&!n&&i.h("div",{class:"textButton",onClick:function(){_(!O)}},P?"Show more":"Show less"),s&&!o&&i.h("p",{class:"emptyWorkspaceSection"},"☝️ No projects yet. Move projects to this section by dragging and dropping."))}f.propTypes={description:s.a.string,editing:s.a.bool,emptyWorkspaceSection:s.a.bool,onEditingStateChange:s.a.func,onUpdateDescription:s.a.func},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1292);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(968),r=n(724),l=n.n(r),c=n(583),d=n(1293),u=n(610),h=n(544),p=n(1294),f=n(831),g=n(1297),m=n(1213),b=n(731),S=n(1215),y=n(1302);n(1303);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends a.default{constructor(...e){super(...e),v(this,"abortController",null),v(this,"state",{selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:this.props.value,uploading:!1}),v(this,"textAreaRef",i.createRef()),v(this,"emojiAutoCompleteContainerRef",i.createRef()),v(this,"markdownDescriptionRef",i.createRef()),v(this,"changeSuggestedEmojis",(()=>{const{barrelId:e}=this.props,{value:t,suggestedEmojis:n,selectedEmojiIndex:i}=this.state,o=this.textAreaRef.current.selectionStart,s=Object(y.getSuggestedEmojis)(t,o,e);if(s!==n){const e=Math.max(0,Math.min(i,s.length-1));this.setState({suggestedEmojis:s,selectedEmojiIndex:e})}})),v(this,"setValueStateToInitialValue",(()=>{const{initialValue:e}=this.props,{value:t}=this.state;!t&&e&&this.setState({value:e})})),v(this,"scrollIntoView",(()=>{this.markdownDescriptionRef.current.scrollIntoView()})),v(this,"handleCancel",(()=>{const{value:e,onCancel:t}=this.props;this.abortController&&(this.abortController.abort(),this.abortController=null),this.setState({uploading:!1,value:e}),t()})),v(this,"handleSubmit",(()=>{const{readOnly:e}=this.props;e||this.submit()})),v(this,"handleInput",(e=>{const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})})),v(this,"handleKeyDown",(e=>{const{editing:t,readOnly:n}=this.props;if(n)return;const{uploading:i}=this.state;t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(h.cmdKey)(e)&&!i&&this.submit())})),v(this,"handleKeyDownListActions",Object(u.debounce)((e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState((e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1}));break;case Zeplin.KEY_CODE.ArrowUp:this.setState((e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1}))}}))),v(this,"handleKeyDownWhenListOpen",(e=>{(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)})),v(this,"handleKeyUp",(e=>{e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)})),v(this,"handleFileUpload",(async(e,t)=>{const n=[...t].find((e=>p.IMAGE_MIME_TYPES.includes(e.type)));if(!n)return;if(e.preventDefault(),e.stopPropagation(),n.size>1e7)return;const{value:i}=this.state,o=Object(c.getFilenameWithoutExtensionFromPath)(n.name);let s="";/\n$/.test(i)?s=i:i&&(s=`${i}\n`),this.setState({uploading:!0,value:`${s}![${o}](Uploading…)`});try{this.abortController=new AbortController;const{fileURL:e}=await Object(p.uploadCommentImage)(n,this.abortController.signal);this.abortController=null,this.setState({uploading:!1,value:`${s}![${o}](${e})\n`})}catch(a){if("AbortError"===a.name)return;this.setState({uploading:!1,value:i})}})),v(this,"handleDrop",(e=>{this.handleFileUpload(e,e.dataTransfer.files)})),v(this,"handlePaste",(e=>{this.handleFileUpload(e,e.clipboardData.files)})),v(this,"handleListItemClick",((e,t)=>{this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)})),v(this,"handleListItemMouseOver",((e,t)=>{this.setState({selectedEmojiIndex:e})})),v(this,"handleSelectEmoji",(()=>{const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=this.textAreaRef.current,o=e[t],s=i.selectionStart,a=n.substring(0,s).lastIndexOf(":"),r=o.formattedAlias,l=`${n.substring(0,a)}:${r}: ${n.substring(s)}`,c=a+r.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},(()=>{i.focus(),i.setSelectionRange(c,c)}))})),v(this,"handleTextAreaClick",(()=>{this.props.editing&&this.changeSuggestedEmojis()}))}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return e&&"safari"===Object(h.getBrowser)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame((()=>{const e=this.textAreaRef.current,t=this.emojiAutoCompleteContainerRef.current;if(!e||!t)return;const n=e.selectionStart,{top:i,left:o}=Object(d.default)(e,n),s=i+22,a=o;t.style.top=`${s}px`,t.style.left=`${a}px`}))}componentDidMount(){const{editing:e}=this.props;e&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus())}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:o,suggestedEmojis:s}=this.state;n&&e.editing!==n&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus()),o||i===t.value||this.changeSuggestedEmojis(),n&&s.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.h("div",{key:"editBar",class:"editBar"},i.h(f.default,{onClick:n},i.h(b.IconEdit,null)))}renderControls(){const{editing:e,value:t,disabledFeatures:n,supportLink:o,readOnly:s}=this.props;if(!e||s)return null;const{uploading:a}=this.state,r=o||"https://zpl.io/article/markdown-support",l=t===this.state.value||a;return i.h("div",{key:"controls",class:"controls"},i.h("div",{class:"markdownGuide"},i.h("div",{class:"markdownSamples"},!n.includes(S.MarkdownRules.HEADING)&&i.h("span",null,"# Header  "),i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote")),i.h("a",{href:r,target:"_blank"},"Learn more")),i.h("div",{class:"buttons"},i.h(f.default,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.h(f.default,{primary:!0,class:"submitButton",onClick:this.handleSubmit,disabled:l},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:this.emojiAutoCompleteContainerRef},i.h(g.default,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e,shouldPromoteEditButton:t,placeholder:n,disabledFeatures:o,onUpdate:s}=this.props,{uploading:a,value:r}=this.state,c=!e&&!r&&Boolean(n),d=l()("markdownDescription",{editing:e,promoteEditButton:t,placeholderVisible:c}),u=o.includes(S.MarkdownRules.IMAGE);return i.h("div",{ref:this.markdownDescriptionRef,class:d},this.renderEditBar(),i.h("div",{class:"textArea"},!e&&i.h(m.default,{onUpdate:s,disabledFeatures:o},r||n),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},r," "),this.renderEmojiAutocomplete(),i.h("textarea",{ref:this.textAreaRef,value:r,spellcheck:"false",readOnly:a,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onDrop:u?null:this.handleDrop,onPaste:u?null:this.handlePaste}))),this.renderControls())}}O.propTypes={value:s.a.string,maxLength:s.a.number,readOnly:s.a.bool,placeholder:s.a.string,shouldPromoteEditButton:s.a.bool,supportLink:s.a.string,onEdit:s.a.func,onUpdate:s.a.func,onCancel:s.a.func,barrelId:s.a.string},O.defaultProps={value:"",initialValue:"# Title\n\nDescription",editing:!1,readOnly:!1,disabledFeatures:[]},t.default=O},function(e,t,n){"use strict";n.r(t);const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=null!==window.mozInnerScreenX;t.default=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const s=n.style,a=window.getComputedStyle(e);var r="INPUT"===e.nodeName;s.whiteSpace="pre-wrap",r||(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",i.forEach((e=>{if(r&&"lineHeight"===e)if("border-box"===a.boxSizing){const e=parseInt(a.height,10),t=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10),n=t+parseInt(a.lineHeight,10);s.lineHeight=e>n?e-t+"px":e===n?a.lineHeight:0}else s.lineHeight=a.height;else s[e]=a[e]})),o?e.scrollHeight>parseInt(a.height,10)&&(s.overflowY="scroll"):s.overflow="hidden",n.textContent=e.value.substring(0,t),r&&(n.textContent=n.textContent.replace(/\s/g," "));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(a.borderTopWidth,10),left:l.offsetLeft+parseInt(a.borderLeftWidth,10),height:parseInt(a.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t,n){"use strict";n.r(t),n.d(t,"MIME_TYPE",(function(){return C})),n.d(t,"IMAGE_MIME_TYPES",(function(){return E})),n.d(t,"downloadAsset",(function(){return L})),n.d(t,"downloadMultipleAsset",(function(){return x})),n.d(t,"exportCode",(function(){return U})),n.d(t,"triggerDownload",(function(){return A})),n.d(t,"downloadScreens",(function(){return V})),n.d(t,"uploadCommentImage",(function(){return z}));var i=n(105),o=n.n(i),s=n(247),a=n(527),r=n(610),l=n(1295),c=n(959),d=n(693),u=n(583),h=n(819),p=n(551),f=n(547),g=n(548),m=n(545),b=n(1296);function S(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"}),E=["image/gif","image/svg+xml","image/png","image/jpeg"];function T(e,t){const n=Object(l.getExportName)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:o=Object(r.getDensityScale)(i)}=e;let s=n;return e.optimized&&"ready"!==e.optimized.status&&(s+=" (non-optimized)"),o!==f.DENSITY.BASE&&(s+=`@${o}x`),s}function _(e,t,n){const{localName:i,layerName:o,displayName:s,contents:a}=e;return a.filter((e=>e.format===t&&Object(l.isSupportedAssetContent)(n,e))).map((e=>v({localName:i,layerName:o,displayName:s},e)))}function P({variant:e,showOptimizedSVG:t,showOptimizedPNG:n,showOptimizedJPG:i}){const o=t&&"svg"===e.format,s=n&&"png"===e.format,a=i&&"jpg"===e.format,r=e.optimized&&"ready"===e.optimized.status;return"webp"!==e.format||r?(o?Object.assign(e,e.optimized):(s||a||"webp"===e.format)&&r&&(e.url=e.optimized.url),fetch(e.url).then((e=>e.arrayBuffer())).then((t=>v({data:t},e)))):null}function I({projectId:e,platform:t,formatGroups:n,namingConvention:i,toastContainer:o}){Object.keys(n).forEach(((s,a)=>{setTimeout((a=>{b.downloadAssets({projectId:e,projectType:t,format:s,assets:n[s],namingConvention:i,toastContainer:o})}),a>0?300:0)}))}function j(e){const{projectId:t,platform:n}=e;"android"===n?p.barrelPrefs.get(t,"androidResFolderReminderSeen").then((n=>{if(n)return void I(e);p.barrelPrefs.set(t,"androidResFolderReminderSeen",!0);const i=document.getElementById("androidResFolderReminderDoneButton");i&&i.addEventListener("click",(function(t){t.stopPropagation(),I(e)}));const o=document.getElementById("androidResFolderReminderDialog");o&&o.showModal()})):I(e)}function D(e,t=(e=>e.displayName)){const n={},i=new o.a;return e.forEach((e=>{let o=e;const s=t(o)+o.format;s in n||(n[s]=0);const a=++n[s];a>1&&(o=Object.assign({},e),o.displayName+="_"+a,o.layerName+="_"+a),i.file(t(o)+"."+o.format,o.data)})),i}function k(e,t,n=!1){const i=n?`assets_${e}`:Object(l.getExportName)(t[0],"snakeCase");return D(t,(e=>{const t=Object(l.getExportName)(e,"snakeCase"),{density:n,densityScale:i=Object(r.getDensityScale)(n)}=e,o=Object(r.getDensityScaleRepresentation)("android",i);return"svg"===e.format?t:`drawable-${o}/${t}`})).generateAsync({type:"blob"}).then((function(e){return{data:URL.createObjectURL(e),name:`${i}_${Object(d.getCalendarDateOfISOString)()}.zip`}}))}function R(e,t,n,i=!1){let o;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:C[e.format]});return o=`${T(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:o})}const s=D(t,(e=>T(e,n)));return o=`${i?`assets_${e}`:Object(l.getExportName)(t[0],n)}_${Object(d.getCalendarDateOfISOString)()}.zip`,s.generateAsync({type:"blob"}).then((e=>({data:URL.createObjectURL(e),name:o})))}function A(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",(n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()})),t.click()}function w({asset:e,platform:t,format:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s}){return v(v({},e),{},{contents:e.contents.filter((e=>Object(l.isSupportedAssetContent)(t,e))).map((e=>{const a=i&&"svg"===e.format&&"svg"===n,l=o&&"png"===e.format&&"png"===n,c=s&&"jpg"===e.format&&"jpg"===n,d="webp"===e.format&&"webp"===n;let{url:u}=e;if(d&&(!e.optimized||"ready"!==e.optimized.status))return null;e.optimized&&(a||(l||c||d)&&"ready"===e.optimized.status)&&({url:u}=e.optimized);const{densityScale:h,density:p=Object(r.getDensityScaleRepresentation)(t,h)}=e;return v(v({},e),{},{url:u,density:p})})).filter(Boolean)})}function N({assetsToSend:e,platform:t,format:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s}){return e.map((e=>w({asset:e,platform:t,format:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s})))}function L({barrelId:e,platform:t,containerName:n,assets:i,assetId:o,format:s,assetDensityScalePrefs:a,assetNamingConvention:r,showOptimizedSVG:l,showOptimizedPNG:d,showOptimizedJPG:u,toastContainer:h}){if(!Object(c.canDownload)())return;const p=M(i,a);if(m.isWindowsApp){let n;if(n="all"===o?p:[p.find((e=>e._id===o))],0===n.length)return;j({projectId:e,platform:t,formatGroups:{[s]:N({assetsToSend:n,platform:t,format:s,showOptimizedSVG:l,showOptimizedPNG:d,showOptimizedJPG:u})},namingConvention:r,toastContainer:h})}else(function({downloadableAssets:e,platform:t,assetId:n,format:i,showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:a}){let r;if("all"===n)r=[].concat.apply([],e.map((e=>_(e,i,t))));else{const o=e.find((e=>e._id===n));if(!o)return Promise.reject(`Asset with id ${n} not found.`);r=_(o,i,t)}return Promise.all(r.map((e=>P({variant:e,showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:a}))).filter(Boolean))})({downloadableAssets:p,platform:t,assetId:o,format:s,showOptimizedSVG:l,showOptimizedPNG:d,showOptimizedJPG:u}).then((e=>("android"===t&&"svg"!==s?k:R)(n,e,r,"all"===o))).then(A)}function M(e,t){return e.map((e=>v(v({},e),{},{contents:e.contents.filter((e=>{const{format:n,density:i,densityScale:o=Object(r.getDensityScale)(i)}=e;return Object(l.isAssetDensityScaleSelected)(t,n,o)}))})))}function x({barrelId:e,platform:t,containerName:n,assets:i,assetList:o,assetDensityScalePrefs:s,assetNamingConvention:a,showOptimizedSVG:r,showOptimizedPNG:l,showOptimizedJPG:d,toastContainer:u}){if(!Object(c.canDownload)())return;const h=M(i,s);if(m.isWindowsApp){const n={};return o.forEach((({assetId:e,format:i})=>{const o=h.find((t=>t._id===e));if(!o)return;let s;i in n?s=n[i]:(s=[],n[i]=s),s.push(w({asset:o,platform:t,format:i,showOptimizedSVG:r,showOptimizedPNG:l,showOptimizedJPG:d}))})),void j({projectId:e,platform:t,formatGroups:n,namingConvention:a,toastContainer:u})}(function({downloadableAssets:e,assetList:t,showOptimizedSVG:n,showOptimizedPNG:i,showOptimizedJPG:o,platform:s}){const a=t.map((({assetId:t,format:a})=>{const r=e.find((e=>e._id===t));return r?_(r,a,s).map((e=>P({variant:e,showOptimizedSVG:n,showOptimizedPNG:i,showOptimizedJPG:o}))).filter(Boolean):null})).filter(Boolean);return a.length?Promise.all(a.reduce(((e,t)=>e.concat(t)))):Promise.reject("Selected assets not found.")})({downloadableAssets:h,assetList:o,showOptimizedSVG:r,showOptimizedPNG:l,showOptimizedJPG:d,platform:t}).then((e=>("android"===t?k:R)(n,e,!0))).then(A)}function U({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new o.a;n.forEach((e=>{i.file(e.filename,e.code)})),i.generateAsync({type:"blob"}).then((n=>{A({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})}))}else A({data:URL.createObjectURL(new Blob([n.code],{type:C[n.language]})),name:n.filename})}async function B(e){const{name:t,versions:[{snapshot:{url:n}}]}=e,i=await fetch(n),o=await i.arrayBuffer();return{name:`${t}.png`,blob:new Blob([o],{type:C.png})}}async function V(e,t){if(!Object(c.canDownload)()){if(1!==e.length)return;let{versions:[{snapshot:{url:t}}]}=screen;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=g.CDN_URL+e}return void Object(c.openLink)(t)}if(1===e.length){const{name:t,blob:n}=await B(e[0]);return void A({data:URL.createObjectURL(n),name:t})}const n=new o.a,i=await Promise.all(e.map(B)),s={};i.forEach((({name:e,blob:t})=>{let i;s[e]>0?i=e.replace(/(.*)\.(.*$)/,`$1 (${s[e]++}).$2`):(s[e]=1,i=e),n.file(i,t)}));const a=await n.generateAsync({type:"blob"});A({data:URL.createObjectURL(a),name:t})}async function z(e,t){const n=`${Object(a.v4)()}.${Object(u.getFileExtensionFromPath)(e.name)}`,i=`users/${Zeplin.user._id}/contents/${n}`,o=await Object(h.createTemporaryS3Credentials)(),{expiration:r}=o,l=S(o,["expiration"]),c=new s.S3Client({region:"us-west-1",credentials:l}),d=new s.PutObjectCommand({Bucket:g.S3_BUCKET,Key:i,ContentType:e.type,Body:e});return await c.send(d,{abortSignal:t}),{fileURL:`${g.CDN_URL}/${i}`}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ASSET_FORMAT_TITLES",(function(){return c})),n.d(t,"getFormatType",(function(){return d})),n.d(t,"getSupportedDensityScales",(function(){return u})),n.d(t,"initAssetDensityScalePrefsIfNecessary",(function(){return h})),n.d(t,"isAssetDensityScaleSelected",(function(){return p})),n.d(t,"sortFormats",(function(){return f})),n.d(t,"formatName",(function(){return g})),n.d(t,"getExportName",(function(){return m})),n.d(t,"isSupportedAssetContent",(function(){return b})),n.d(t,"findAsset",(function(){return S}));var i=n(585),o=n(547),s=n(610);const a={png:0,jpg:1,webp:2,pdf:3,svg:4},r=Object.freeze({[o.PLATFORM.BASE]:["svg"],[o.PLATFORM.ANDROID]:["png","jpg","svg","webp"],[o.PLATFORM.IOS]:["png","jpg","pdf","svg"],[o.PLATFORM.OSX]:["png","jpg","pdf","svg"],[o.PLATFORM.WEB]:["png","jpg","svg","webp"]}),l=Object.freeze({[o.PLATFORM.BASE]:[o.DENSITY._1x],[o.PLATFORM.ANDROID]:[o.DENSITY.MDPI,o.DENSITY.HDPI,o.DENSITY.XHDPI,o.DENSITY.XXHDPI,o.DENSITY.XXXHDPI],[o.PLATFORM.IOS]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x],[o.PLATFORM.OSX]:[o.DENSITY._1x,o.DENSITY._2x],[o.PLATFORM.WEB]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x]}),c={png:"PNG",jpg:"JPG",pdf:"PDF",svg:"SVG",webp:"WebP"};function d(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":case"webp":default:return"bitmap"}}function u(e){return l[e]}function h(e,t){return t&&t.png?t:{png:u(e)}}function p(e,t,n){const i="bitmap"===d(t)?e.png:e[t];return!i||i.includes(n)}function f(e,t){return a[e]-a[t]}function g(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.default)(e.layerName,t)}function m(e,t){return e.localName?e.localName:g(e,t)}function b(e,t){const{format:n,density:i,densityScale:o=Object(s.getDensityScale)(i)}=t;return r[e].includes(n)&&l[e].includes(o)}function S(e,t){if(!Array.isArray(e))return null;let n=t;for(;n&&!n.exportable;)n=n.parent;if(!n)return null;const i=n!==t?n:null;return{asset:e.find((e=>e.layerId?e.layerId===n.sourceId:e.layerName===n.name)),parent:i}}},function(e,t,n){"use strict";n.r(t),n.d(t,"queryAssetDownloadTarget",(function(){return h})),n.d(t,"downloadAssets",(function(){return p})),n.d(t,"changeExportTarget",(function(){return f})),n.d(t,"openExportTarget",(function(){return g}));var i=n(546),o=n(961);function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let a,r,l,c,d;function u(e){l=e;const t=`${l}:asset-download-target`;i.default.ipcRenderer.removeAllListeners(t),i.default.ipcRenderer.once(t,((e,t)=>{r=t.projectFolder,a(t)}))}function h(e,t,n){a=n,c=t,u(e),i.default.ipcRenderer.send("query-asset-download-target",e)}function p(e){const{toastContainer:t}=e,n=s(e,["toastContainer"]);u(e.projectId),i.default.ipcRenderer.removeAllListeners("assets-downloaded"),i.default.ipcRenderer.once("assets-downloaded",((e,n)=>function(e,t){clearTimeout(d),d=setTimeout((n=>{Object(o.default)({text:`Exported to ${e.projectName}`,container:t,source:"assetExportTargetProject"})}),200)}(n,t))),i.default.ipcRenderer.send("download-assets",n)}function f(){l&&c&&(u(l),i.default.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c}))}function g(){r&&i.default.ipcRenderer.send("open-item",r)}},function(e,t,n){"use strict";n.r(t);var i=n(1298);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(5),r=n.n(a),l=n(1299);n(1301);function c(e){const{emoji:t,formattedAlias:n,selected:o,customEmoji:a,onMouseOver:r,onClick:l,listRef:c}=e,d=a?i.h("img",{src:t,class:"emojiImg"}):i.h("span",{class:"emojiChar"},t);return i.h("div",{class:s()({selected:o},"emojiItem"),onMouseOver:r,onClick:l,ref:c},d,i.h("span",{class:"emojiAlias"},n))}function d({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:o,class:a}){return i.h(l.default,{class:s()("emojiAutoCompleteList",a),options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:o,onItemClick:n,RowComponent:c})}d.propTypes={suggestedEmojis:r.a.array,selectedIndex:r.a.number,onItemClick:r.a.func,onItemMouseOver:r.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1300);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(610),s=n(852),a=n(959);function r(e,t){return n=>t(e,n)}const l=Object(o.debounce)((e=>{e&&Object(a.scrollIfNecessary)(e)}));class c extends i.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs[`ref${t}`],o=this.nodeRefs[`ref${n}`];i&&(l(i),i.classList.add("selected")),o&&o.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:o,selectedIndex:a,onItemMouseOver:l,onItemClick:c}){return i.h("div",{class:e},t.map(((e,t)=>i.h(o,Object.assign({},e,{key:e[n]},{listRef:Object(s.default)(this,`ref${t}`)},{selected:t===a,onMouseOver:r(t,l),onClick:r(t,c)})))))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSuggestedEmojis=void 0;const o=i(n(1219));t.getSuggestedEmojis=function(e,t,n){const i=e.substring(0,t),s=i.lastIndexOf(":"),a=e.substring(s,t).match(/^:(.+)/);if(a){const e=a[0].substring(1),t=i.substring(0,s).lastIndexOf(":"),r=i.substring(t,s+1).match(o.default.EMOJI_CANDIDATE_REGEX);return r&&o.default.searchEmoji(r[0].substring(1,r[0].length-1),n)?[]:o.default.getSuggestedEmojis(e,n)}return[]}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1157),s=n(1276),a=n(1275),r=n(1308),l=n(852);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",h="ScreenThumbnail",p=Object(o.DropTarget)({acceptsItemType:h,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceVariantGroup:t.dragData.variantGroup},t.draggingItemType)})(s.DragSourceSectionHeader),f=Object(a.getSectionComponent)(p),g=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(f);class m extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"handleBaseRef",(e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})),d(this,"handleDragHover",((e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)})),d(this,"handleDragHoverOut",(e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()})),d(this,"handleDrop",(({sourceId:e,sourceIndex:t,sourceVariantGroup:n},i)=>{if(i===u)return this.dropSectionHeader(e,t);if(i===h){if(n){const{variantGroupId:e}=n;return this.dropScreenThumbnail({sourceId:e,sourceType:"variantGroup"})}return this.dropScreenThumbnail({sourceId:e,sourceType:"screen"})}}))}dropSectionHeader(e,t){if(""===this.props.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionHeaderDrop(e,t,n)}dropScreenThumbnail({sourceId:e,sourceType:t}){const{id:n,onScreenThumbnailDrop:i}=this.props;i({sourceId:e,sourceType:t,targetSectionId:n})}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context;return i.h(g,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(r.default)(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1309);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={[i.SCREEN_THUMBNAIL_SECTION]:80,[i.STYLEGUIDE_COMPONENT_SECTION]:80,[i.PROJECT_SECTION]:160};function a(e){return class extends e{constructor(...e){super(...e),o(this,"calculateMoveIndex",(e=>{const{defaultSection:t,index:n}=this.props,{targetPosition:i}=this.state,o="bottom"===i;if(t&&!o)return;let s=n;return e>n&&o&&(s=n+1),e<n&&!o&&(s=n-1),s})),o(this,"setTargetPosition",(e=>{const{defaultSection:t,type:n}=this.props,{targetPosition:i}=this.state,{base:o}=this.nodeRefs,a=function({type:e,baseRect:t,pointerPosition:n,targetPosition:i}){const o=i?s[e]:0,a=("top"===i?t.top+o:t.top)+(t.height-o)/2;return n.top>=a}({type:n,baseRect:o.getBoundingClientRect(),pointerPosition:e,targetPosition:i});if(t&&!a)return void this.setState({targetPosition:""});const r=a?"bottom":"top";i!==r&&this.setState({targetPosition:r})})),o(this,"unsetTargetPosition",(()=>{this.state.targetPosition&&this.setState({targetPosition:""})})),o(this,"setSectionHeaderHover",(()=>{this.state.sectionHeaderHover||this.setState({sectionHeaderHover:!0})}))}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_DESCRIPTION",(function(){return i})),n.d(t,"SCREEN_THUMBNAIL_SECTION",(function(){return o})),n.d(t,"STYLEGUIDE_COMPONENT_SECTION",(function(){return s})),n.d(t,"PROJECT_SECTION",(function(){return a}));const i="A sweet, short description.",o="ScreenThumbnailSection",s="StyleguideComponentSection",a="ProjectSection"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1157),s=n(1276),a=n(1275),r=n(1308),l=n(852);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",h="GroupHeader",p="StyleguideComponent",f=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(s.DragSourceSectionHeader),g=Object(a.getSectionComponent)(f),m=Object(o.DropTarget)({acceptsItemType:[u,h],onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1,putComponentGroupInto:!1}),d(this,"setPutComponentGroupInto",((e,t)=>{const n=this.nodeRefs.base.getBoundingClientRect(),{id:i,defaultSection:o,collapsed:s,componentGroupsCount:a}=this.props,{putComponentGroupInto:r}=this.state,l=t[0];o||s||a&&(1!==a||l!==i)||!function(e,t,n){return t.top+43+36>e.bottom-(n?43:0)}(n,e,r)?this.unsetPutComponentGroupInto():r||this.setState({putComponentGroupInto:!0})})),d(this,"unsetPutComponentGroupInto",(()=>{this.state.putComponentGroupInto&&this.setState({putComponentGroupInto:!1})})),d(this,"dropSectionHeader",((e,t,n)=>{if(""===this.state.targetPosition)return;const{styleguideId:i,onSectionOrGroupDrop:o}=this.props,s=this.calculateMoveIndex(e);n===i&&e===s||o({sourceIdPath:[t],sourceIndex:e,sourceStyleguideId:n,targetStyleguideId:i,to:s})})),d(this,"dropComponent",((e,t,n)=>{const{id:i,styleguideId:o,componentCount:s,onComponentToSectionOrGroupDrop:a}=this.props;a({sourceIdPath:t,sourceIndex:e,targetIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:s})})),d(this,"dropGroupHeader",((e,t,n)=>{if(!this.state.putComponentGroupInto)return;const{id:i,styleguideId:o,onSectionOrGroupDrop:s}=this.props;s({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:0})})),d(this,"handleDragHover",((e,t)=>{const{draggingItemType:n}=t;if(n===u)this.setTargetPosition(e);else if(n===h){const{dragData:{idPath:n}}=t;this.setPutComponentGroupInto(e,n)}else n===p&&this.setSectionHeaderHover()})),d(this,"handleDragHoverOut",(e=>{e===u?this.unsetTargetPosition():e===h?this.unsetPutComponentGroupInto():e===p&&this.unsetSectionHeaderHover()})),d(this,"handleDrop",(({sourceId:e,sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i},o)=>{o===u?this.dropSectionHeader(t,e,i):o===p?this.dropComponent(t,n,i):o===h&&this.dropGroupHeader(t,n,i)}))}render(){const{targetPosition:e,sectionHeaderHover:t,putComponentGroupInto:n}=this.state,{dragDisabled:o}=this.context;return i.h(m,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,putComponentGroupInto:n,draggable:!o,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(r.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1157),s=n(1276),a=n(1275),r=n(1308),l=n(852);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",h="Project",p=Object(o.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(s.DragSourceSectionHeader),f=Object(o.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(a.default),g=Object(a.getSectionComponent)(p),m=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"dropSectionHeader",((e,t)=>{if(""===this.state.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionDrop({sourceId:e,sourceIndex:t,moveIndex:n})})),d(this,"dropProject",(e=>{const{id:t,onProjectDrop:n}=this.props;n(e,t)})),d(this,"handleBaseRef",(e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})),d(this,"handleDragHover",((e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)})),d(this,"handleDragHoverOut",(e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()})),d(this,"handleDrop",(({sourceId:e,sourceIndex:t},n)=>{n===u?this.dropSectionHeader(e,t):n===h&&this.dropProject(e)}))}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context,{actionsDisabled:o}=this.props,s=o?f:m;return i.h(s,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(r.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1313);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(223),s=n(1149),a=n(5),r=n.n(a),l=n(1314),c=n(1319),d=n(1322),u=n(1316),h=n(1235),p=n(1328),f=n(583),g=n(686),m=n(959),b=n(551),S=n(688),y=n.n(S);n(1329);function v({projectCount:e,styleguides:t,links:n,readOnly:a,onAddLinkButtonClick:r,onUpdateLinkButtonClick:S,onRemoveLinkButtonClick:v},{selectedOrganizationId:O}){const[C,E]=Object(o.useState)(8),[T,_]=Object(o.useState)({}),[P,I]=Object(o.useState)(!1),[j,D]=Object(o.useState)(!1),[k,R]=Object(o.useState)(!1),A=Object(o.useRef)(null);function w(){const e=A.current;if(e){const t=e.scrollWidth>e.clientWidth,i=n.length;t&&C>1&&E((e=>e===i?i-1:e-1))}}function N(){D(!0)}function L(){_({}),I(!1),D(!1)}function M(e){e.stopPropagation(),_({}),N()}async function x(){await b.userPrefs.get("styleguidesUsed")?Object(m.openLink)("https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"):y.a.history.push(Object(g.urlResolve)("workspace-styleguides",{url:{oid:O}}))}function U(e,t){e.stopPropagation(),function(e){mixpanel.master.track("Clicked project section link",{Type:Object(p.getLinkType)(e)})}(t)}function B(){R(!k)}const V=new ResizeObserver((()=>{E(8),w()}));return Object(s.useDidMountWillUnmountEffect)((()=>(A.current&&V.observe(A.current),()=>V.disconnect()))),Object(o.useLayoutEffect)((()=>{w()}),[C,n.length]),i.h(i.Fragment,null,i.h("div",{class:"sectionHeaderSummary",ref:A},Boolean(e)&&i.h("div",{class:"summaryItem projectSummaryItem"},Object(f.pluralize)(e,"project"),i.h(c.default,null)),i.h(l.default,{linkTitle:e?t.length?Object(f.pluralize)(t.length,"styleguide"):i.h(i.Fragment,null,i.h("div",{onClick:B},"No linked styleguides"),k&&i.h(h.default,{class:"styleguideHideableInfo",content:"Link styleguides to projects to display components, colors, text styles and more.",buttonText:"OK, got it!",hideCallback:B,actionButton:{text:"Learn more",callback:x},popover:!0})):null,items:t.map((({_id:e,name:t})=>({_id:e,title:t,url:Object(g.urlResolve)("styleguide",{url:{bid:e}}),inApp:!0}))),footer:function(){const e=Object(g.urlResolve)("workspace-styleguides",{url:{oid:O},query:{stid:t.map((({_id:e})=>e))}});return i.h(u.default.Link,{href:e,inApp:!0},"View All Styleguides")}(),trackStyleguideClick:function(){mixpanel.master.track("Clicked project section linked styleguides")}}),function(){const t=Boolean(e||n.length);return i.h(i.Fragment,null,n.slice(0,C).map((({_id:t,title:n,url:o},s)=>{const r=0!==s||Boolean(e);return i.h("div",{class:"summaryItem",key:t},r&&i.h(c.default,null),i.h("a",{title:"Right-click to edit",href:o,key:t,class:"summaryItemLink noSelect",target:"_blank",rel:"noopener",onContextMenu:e=>function({ev:e,_id:t,title:n,url:i}){a||(e.preventDefault(),_({pos:{x:e.clientX,y:e.clientY},_id:t,title:n,url:i}),I(!0))}({ev:e,_id:t,title:n,url:o}),onClick:e=>U(e,o)},Object(p.getLinkIcon)(o),i.h("div",{class:"summaryItemText ellipsis"},n)))})),n.length<8&&n.length<=C&&!a&&i.h("div",{class:"summaryItem"},t&&i.h(c.default,null),i.h("button",{class:"summaryItemLink",onClick:M},"Add link")))}(),n.length>C&&i.h(i.Fragment,null,i.h(c.default,null),i.h(l.default,{linkTitle:"Show more",items:n.slice(C),footer:!a&&i.h(i.Fragment,null,n.length<8&&!a&&i.h(u.default.Button,{onClick:M},"Add link"),i.h(u.default.Submenu,{name:"Edit custom link"},n.slice(C).map((({_id:e,title:t,url:n})=>i.h(u.default.Button,{key:`submenu-${e}`,onClick:()=>function({_id:e,title:t,url:n}){_({_id:e,title:t,url:n}),N()}({_id:e,title:t,url:n})},t)))))}))),P&&function(){if(a)return;const{pos:{x:e,y:t}}=T;return i.h(u.default.Overlay,{onClose:function(){I(!1)},onChange:N,onPositionMenu:function(n){n.style.transform=`translate(${e}px, ${t}px)`}},i.h(u.default.Button,null,"Edit"))}(),j&&function(){const{_id:e,title:t,url:n}=T,o=Boolean(t)||Boolean(n)?S:r;return i.h(d.default,{id:e,title:t,url:n,onClose:L,onPositiveButtonClick:o,onRemoveLinkButtonClick:v})}())}v.propTypes={selectedOrganizationId:r.a.string.isRequired,projectCount:r.a.number.isRequired,styleguides:r.a.array.isRequired,links:r.a.array.isRequired,readOnly:r.a.bool.isRequired,onAddLinkButtonClick:r.a.func.isRequired,onUpdateLinkButtonClick:r.a.func.isRequired,onRemoveLinkButtonClick:r.a.func.isRequired},t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1315);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(223),r=n(1316);function l({linkTitle:e,items:t,footer:n,trackStyleguideClick:o}){const s=Object(a.useRef)(),[l,c]=Object(a.useState)(!1);return i.h(i.Fragment,null,i.h("div",{class:"summaryItem withMenu",ref:s,onClick:function(e){o&&o(),e.stopPropagation(),t.length&&c(!0)}},e),l&&i.h(r.default.Overlay,{class:"customLinkMenu",onClose:function(){c(!1)},onPositionMenu:function(e){if(s.current){const{x:t,y:n,width:i}=s.current.getBoundingClientRect(),{width:o}=e.getBoundingClientRect(),a=8,r=t+i+o+36<=window.innerWidth?t+i+a:t-o-a;e.style.transform=`translate(${r}px, ${n}px)`}}},t.map((({_id:e,title:t,url:n,inApp:o})=>i.h(r.default.Link,{class:"ellipsis",key:e,href:n,inApp:o},t))),i.h("hr",null),n))}l.propTypes={linkTitle:s.a.node,items:s.a.array,footer:s.a.node,trackStyleguideClick:s.a.func},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1317);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(610),s=n(724),a=n.n(s),r=n(852),l=n(582),c=(n(1318),n(890));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:p}=i;class f extends i.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const{edgeOffset:e}=this.context,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let o=0;const s=window.innerHeight-2*e;if(n.bottom>s){const t=n.height,i=Math.max(t-s,0);o=window.innerHeight-n.bottom-e+i,this.nodeRefs.submenu.style.maxHeight=`${s}px`}0!==o&&(this.nodeRefs.submenu.style.transform=`translate3d(0, ${o}px, 0)`),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:o,children:s,submenuClass:c}=this.props;return i.h("label",{ref:Object(r.default)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.h("span",null,n||o),i.h("img",{src:l.imageUrl("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.h("div",{ref:Object(r.default)(this,"submenu"),class:a()("submenu",t,c)},s))}}class g extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:o,content:s}=this.props,a=e.map((e=>{const o=e.value===n,{value:s,name:a}=e;return i.h("label",{key:`${a}-${s}`},i.h("span",null,a),i.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:s,checked:o}),i.h("img",{src:l.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))}));if(o){let o=t;if(s){o=`${s} (${e.find((e=>e.value===n)).name})`}return i.h(f,{content:o},a)}return i.h("div",null,a)}}class m extends i.Component{constructor(...e){super(...e),h(this,"handleClick",(e=>{this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}))}render(){const{content:e,name:t,disabled:n,value:o}=this.props;return i.h("label",{class:a()({disabled:n})},i.h("span",null,e||t),i.h("input",{type:"checkbox",disabled:n,onClick:this.handleClick,name:t,checked:o}),i.h("img",{src:l.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))}}class b extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:o}=this.props;if(o){let s=i?[...i]:[];t?s.push(e):s=s.filter((t=>t!==e)),o(n,s,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:o,footer:s}=this.props,a=e.map((e=>n&&n.includes(e.name))),r=o>=a.filter((e=>e)).length;return i.h(y.Submenu,{content:t},e.map(((e,t)=>i.h(y.Switch,{key:e.key||t,name:e.name,content:e.content,value:a[t],disabled:e.disabled||r&&a[t],onClick:this.clickHandler}))),s)}}class S extends i.Component{constructor(...e){super(...e),h(this,"handleClick",(e=>{const{onClick:t,name:n}=this.props;t(e,n)}))}render(){const{disabled:e,warning:t}=this.props;return i.h("button",{type:"button",class:a()({warning:!!t}),disabled:e,onClick:this.handleClick},this.props.children)}}class y extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t,overlayPositioned:n}=this.props,s=a()("zplMenu",e,{overlayPositioned:n});return i.h("div",{ref:Object(r.default)(this,"base"),onClick:o.stopPropagation,class:s},i.toChildArray(t).map((e=>i.cloneElement(e,{onClick:this.handleClick}))))}}y.Submenu=f,y.Picker=g,y.Switch=m,y.SwitchMenu=b,y.Button=S,y.Link=function({class:e,href:t,inApp:n,children:o}){return n?i.h("a",{class:e,href:t,"data-link-type":"inApp",rel:"noopener"},o):i.h("a",{class:e,href:t,target:"_blank",rel:"noopener"},o)},y.Overlay=function(e){const{onPositionMenu:t,overlayDivProps:n={}}=e,o=u(e,["onPositionMenu","overlayDivProps"]);return i.h(c.default,{didRender:function(e){t(e.children[0])}},i.h("div",d({},n,{class:"overlayZplMenuContainer"}),i.h(y,d({},o,{overlayPositioned:!0}))))},y.Divider=function(){return i.h("hr",null)},t.default=y},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1320);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1321);function o(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1323);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(223),s=n(5),a=n.n(s),r=n(686),l=n(826),c=n(1324);n(1327);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p({id:e,title:t,url:n,onPositiveButtonClick:s,onRemoveLinkButtonClick:a,onClose:d}){const[h,p]=Object(o.useState)({title:t,url:n}),f=t&&n?"edit":"add",g=h.title&&Object(r.isValidUrl)(h.url);function m(e,t){p(u(u({},h),{},{[e]:t}))}function b(){s({_id:e,title:h.title,url:h.url})}const S={add:{title:"Add link to a related resource: e.g. brief, requirements or repo.",buttonText:"ADD"},edit:{title:"Update existing link name and URL.",buttonText:"UPDATE",fallbackButtonText:"REMOVE"}};return i.h(c.default,{class:"customLinkDialog",width:540,positiveButtonText:S[f].buttonText,negativeButtonText:"CANCEL",fallbackButtonText:S[f].fallbackButtonText,onPositiveButtonClick:b,onNegativeButtonClick:d,onFallbackButtonClick:function(){a(e)},onClose:d,hideNegativeButton:!1,positiveButtonDisabled:!g},i.h("div",{class:"dialogBody",onKeyPress:function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(!g)return;e.preventDefault(),b(),d()}}},i.h("h3",null,S[f].title),i.h(l.default,{name:"title",label:"Name",value:h.title,placeholder:"Add a name for the link",maxLength:48,shouldDisplayCountDown:!1,onChange:m,autoFocus:!0}),i.h(l.default,{name:"url",label:"URL",value:h.url,placeholder:"Add URL",maxLength:1024,shouldDisplayCountDown:!1,nativeProps:{type:"url"},onChange:m})))}p.propTypes={width:a.a.number,linkName:a.a.string,url:a.a.string,onPositiveButtonClick:a.a.func,onClose:a.a.func},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1031);n.d(t,"DialogFooter",(function(){return i.default}));var o=n(1325);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(890),r=n(610),l=n(852),c=n(724),d=n.n(c),u=n(22),h=n(1031);n(1326);const{h:p}=i;class f extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),u.default.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:s,fallbackButtonType:c,positiveButtonDisabled:u,negativeButtonDisabled:p,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,onClose:v,width:O,footer:C,loading:E,loadingText:T,class:_,bodyClass:P}=this.props;return i.h(a.default,null,i.h("dialog",{onClick:r.stopPropagation,onClose:v,style:{width:O},class:d()(_,"dialog",{loading:E}),ref:Object(l.default)(this,"dialog")},i.h("div",{class:d()(P,"body")},this.props.children),i.h(h.default,{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:s,fallbackButtonType:c,positiveButtonDisabled:u,negativeButtonDisabled:p,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m||v,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,footer:C,loading:E,loadingText:T})))}}f.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},f.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,positiveButtonType:s.a.string.isRequired,negativeButtonType:s.a.string.isRequired,fallbackButtonType:s.a.string.isRequired,positiveButtonDisabled:s.a.bool,negativeButtonDisabled:s.a.bool,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hidePositiveButton:s.a.bool,hideNegativeButton:s.a.bool,width:s.a.oneOfType([s.a.number,s.a.string]),onClose:s.a.func,children:s.a.node,footer:s.a.node,loading:s.a.bool,loadingText:s.a.string},t.default=f},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getLinkType",(function(){return l})),n.d(t,"getLinkIcon",(function(){return c}));var i=n(4),o=n(731);const s=(e,...t)=>t.some((t=>e.endsWith(t))),a={zeplin:{type:"Zeplin",icon:i.h(o.IconZeplin,null)},asana:{type:"Asana",icon:i.h(o.IconAsana,null)},abstract:{type:"Abstract",icon:i.h(o.IconAbstract,null)},github:{type:"Github",icon:i.h(o.IconGithub,null)},gitlab:{type:"Gitlab",icon:i.h(o.IconGitlab,null)},bitbucket:{type:"Bitbucket",icon:i.h(o.IconBitbucket,null)},figma:{type:"Figma",icon:i.h(o.IconFigma,null)},sketchCloud:{type:"SketchCloud",icon:i.h(o.IconSketchCloud,null)},invision:{type:"Invision",icon:i.h(o.IconInvision,null)},notion:{type:"Notion",icon:i.h(o.IconNotion,null)},paper:{type:"Paper",icon:i.h(o.IconPaper,null)},trello:{type:"Trello",icon:i.h(o.IconTrello,{width:20,color:"var(--gandalf)"})},confluence:{type:"Confluence",icon:i.h(o.IconConfluence,null)},jira:{type:"Jira",icon:i.h(o.IconJira,{width:20,color:"var(--gandalf)"})},default:{type:"Custom",icon:i.h(o.IconCustomLink,null)}};function r(e){try{const{hostname:t,pathname:n}=new URL(e);return function(e,t){return s(e,"zeplin.io","zpl.io")?a.zeplin:s(e,"asana.com")?a.asana:s(e,"abstract.com")?a.abstract:s(e,"github.com")?a.github:s(e,"gitlab.com")?a.gitlab:s(e,"bitbucket.org")?a.bitbucket:s(e,"figma.com")?a.figma:s(e,"sketch.com")?a.sketchCloud:s(e,"invisionapp.com","invis.io")?a.invision:s(e,"notion.so")?a.notion:s(e,"paper.dropbox.com")?a.paper:s(e,"trello.com")?a.trello:s(e,"atlassian.net","jira.com")?((e,...t)=>["/wiki","/l/c/"].some((t=>e.startsWith(t))))(t)?a.confluence:a.jira:a.default}(t,n)}catch(t){return a.default}}const l=e=>r(e).type,c=e=>r(e).icon},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABS_HEIGHT=t.ORG_SUMMARY_HEIGHT=t.FOCUS_AREA_TOTAL_PADDING=t.PROJECTS_ROW_BOTTOM_PADDING=t.PROJECTS_ROW_TOP_PADDING=t.PROJECTS_ROW_HEIGHT=t.MIN_SECTION_DESCRIPTION_HEIGHT=t.RAW_SECTION_HEADER_HEIGHT=t.DEFAULT_SECTION_HEADER_HEIGHT=t.NAME_TIMELINE_SECTION_HEADER_HEIGHT=t.PROJECTS_HORIZONTAL_PADDING=t.PROJECT_VERTICAL_MARGIN=t.PROJECT_HORIZONTAL_MARGIN=t.PROJECT_WIDTH=t.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS=t.NEW_SECTION_DESCRIPTION=t.NEW_SECTION_TITLE=t.DEFAULT_FOCUS_COUNT_LIMIT=void 0;t.DEFAULT_FOCUS_COUNT_LIMIT=4;t.NEW_SECTION_TITLE="Untitled Section";t.NEW_SECTION_DESCRIPTION="Add a _markdown_ flavored description and tell the story of this section.";t.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS=300;t.PROJECT_WIDTH=272;t.PROJECT_HORIZONTAL_MARGIN=24;t.PROJECT_VERTICAL_MARGIN=24;t.PROJECTS_HORIZONTAL_PADDING=36;t.NAME_TIMELINE_SECTION_HEADER_HEIGHT=85;t.DEFAULT_SECTION_HEADER_HEIGHT=103;t.RAW_SECTION_HEADER_HEIGHT=123;t.MIN_SECTION_DESCRIPTION_HEIGHT=18;t.PROJECTS_ROW_HEIGHT=215;t.PROJECTS_ROW_TOP_PADDING=12;t.PROJECTS_ROW_BOTTOM_PADDING=24;t.FOCUS_AREA_TOTAL_PADDING=36;t.ORG_SUMMARY_HEIGHT=100;t.TABS_HEIGHT=67},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1333);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1197),s=n(1157),a=n(610),r=n(852),l=n(1259),c=n(1200),d=n(1254);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const h=Object(a.pipe)(Object(s.DragSource)({itemType:"Project",mirrorComponent:c.SpaceCardMirror,provideDragData:e=>{const{project:{name:t,thumbnail:n,users:i,_id:o,type:s},moveCubukPosition:a,sectionId:r,index:l,lightness:c}=e;return{sectionId:r,moveCubukPosition:a,name:t,source:n,users:i,id:o,type:s,index:l,lightness:c}}}),Object(s.DropTarget)({acceptsItemType:"Project",onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,moveCubukPosition:t.dragData.moveCubukPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId})}))(o.default);class p extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{cancelIdleCallback(this.visibleId);const t=e.isIntersecting;this.visibleId=requestIdleCallback((()=>{t!==this.state.visible&&this.setState({visible:t})}))},(n="handleIntersection")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={lightness:"dark",moveCubukPosition:"",visible:!1},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this)}getImageProperties(){}handleDragHover({mirrorPosition:e}){const{sections:t,sectionId:n}=this.props;if("individual"===t.find((({_id:e})=>e===n)).type)return;const i=this.nodeRefs.base.getBoundingClientRect(),o=e.left>i.left+i.width/2;this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:o?l.CUBUK_POSITION.RIGHT:l.CUBUK_POSITION.LEFT}))}handleDragHoverOut(){this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:""}))}componentDidMount(){this.observer=Object(d.getThumbnailObserver)(),this.observer.observe(this.base,this.handleIntersection)}shouldComponentUpdate(e,t){if(e.scroll)return!0;return!(!this.state.visible&&!t.visible)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,lightness:t,visible:n}=this.state;return i.h(h,u({baseRef:Object(r.default)(this,"base"),dragBaseRef:Object(r.default)(this,"dragBase"),lightness:t,cardVisible:n,moveCubukPosition:e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1335);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(831),r=n(841);n(1336);function l({onCreateSection:e},{currentOrganizationProfile:{restricted:t}={}}){return i.h("div",{class:"sectionOnboarding"},i.h("h1",null,"Introducing Sections for projects ",i.h(r.default,{width:"24",height:"18",asset:"img/emjWaffle.png"})),i.h("div",{class:"description"},"Bring clarity to your workspace by organizing and adding more context to your projects."),i.h(r.default,{class:"image noSelect",width:"720",asset:"img/sampleProjectSection.png"}),t?i.h("div",{class:"description restrictedUserInfo"},'Right-click a project and select "Create a new section" to get started'):i.h(a.default,{onClick:e,primary:!0},"Create Section"))}l.propTypes={onCreateSection:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1338);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1339),s=n(1027),a=n(1344),r=n(724),l=n.n(r);n(1347);t.default=function(e){const{project:t,onClose:n,onJoin:r,loading:c}=e,d=l()("projectPreviewDialogBody",{loading:c});return i.h(s.default,{class:"projectPreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:r,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:n,width:"66vw"},i.h("div",{class:d},c?i.h(a.default,null):i.h(o.default,{projectData:t,requiredMinimumPadding:24,defaultPadding:36,hideJoinButton:!0,headerSticky:!1})))}},function(e,t,n){"use strict";n.r(t);var i=n(1340);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582),s=n(724),a=n.n(s),r=n(959),l=n(610),c=n(634),d=n(852),u=n(553),h=n(1260),p=n.n(h),f=n(1341),g=n(935),m=n.n(g);n(1343);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){const{snapshot:t}=e.versions[0],n=Math.floor(180*t.height/t.width);return i.h(f.default,{height:n,key:e._id,source:t.url})}function O(e,t){if(!e||!e.length)return i.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(c.sortBy.role).map((({user:e})=>S(S({},e),{},{avatar:Object(r.getUserAvatar)(e).src,title:"invited"!==e.status?Object(u.getUserDisplayName)(e):`Pending… (${e.email})`})))}(e),o=n.slice(0,t).map((e=>i.h(m.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36})));if(n.length===t+1){const e=n[t];o.push(i.h(m.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}))}else if(n.length>t+1){const s=n.slice(t).map((e=>e.title)).join("\n"),a=i.h("div",{key:"remainingUsers",class:"remainingUsers",title:s},"+",e.length-t);o.push(a)}return i.h("div",{class:"projectUsers"},o)}class C extends i.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),o=Math.floor((i-e)/204),s=i-204*o;let a=t;n.screens.length&&(a=s/2),this.nodeRefs.base.style=`padding-left: ${a}px; padding-right: ${a}px;`;const r=204*o-24-36,l=Math.floor(r/42);l!==this.state.usersLimit&&this.setState({usersLimit:l})}handleJoinClick(){const{projectData:{_id:e},onJoin:t}=this.props;t({bid:e,mixpanelSource:"Preview",actionSource:p.a.PREVIEW_PAGE})}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:s,users:r,screens:c},loadingJoin:u=!1,hideJoinButton:h,headerSticky:p}=this.props,{usersLimit:f}=this.state,g=a()("projectPreviewHeader",{sticky:p}),m=Object(l.getDensityScaleRepresentation)(n,s);return i.h("div",{ref:Object(d.default)(this,"base"),class:"projectPreview",key:e},i.h("div",{class:g},i.h("div",null,i.h("h1",null,t),i.h("h5",null,i.h("span",{class:"projectPreviewType"},Object(l.getPlatformString)(n)),s&&i.h("span",{class:"projectPreviewDensity"},m))),!h&&i.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.h("img",{src:o.imageUrl("img/icSpinnerWhite.svg"),class:"spinning"}):i.h("span",null,"Join"))),O(r,f),function(e){return e&&e.length?i.h("div",{class:"projectPreviewScreens"},e.map(v)):i.h("div",{class:"projectPreviewScreensEmpty"},i.h("h1",null,"No designs in this project yet!"),i.h("h3",null,"Join and upload the first!"))}(c))}}t.default=C},function(e,t,n){"use strict";n.r(t);var i=n(1342);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1203),s=n.n(o),a=n(724),r=n.n(a);class l extends i.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,o=r()({loading:n},"projectPreviewScreen","noSelect");return i.h("div",{class:o,style:{height:e}},i.h(s.a,{source:t,onLoad:this.handleLoad}))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1345);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),s=n(724),a=n.n(s),r=n(610);n(1346);const l=Array.from({length:10},(()=>{const e=Math.floor(180*Math.random()*.7)+180;return i.h("div",{style:{height:e},class:"projectPreviewLoadingScreen breathe"})}));class c extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(r.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:a()("projectPreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"projectPreviewLoadingHead breathe"}),i.h("div",{class:"projectPreviewLoadingSubHead breathe"}),i.h("div",{class:"projectPreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},(()=>i.h("div",{class:"projectPreviewLoadingMember breathe"})))}(e)),i.h("div",{class:"projectPreviewLoadingScreens"},l))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1349);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1350),s=n(1359),a=n(1027),r=n(841),l=n(582);n(1362);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"values",["ios","android","web","osx"]),c(this,"state",{selected:this.values[0]}),c(this,"handleChange",(e=>{this.setState({selected:e})})),c(this,"handlePositiveButtonClick",(()=>{const{selected:e}=this.state,{onCreate:t}=this.props;t(e)})),c(this,"handleTabClick",(e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}}))}componentDidMount(){window.addEventListener("keydown",this.handleTabClick,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleTabClick,!0)}render(){const{selected:e}=this.state,{onClose:t}=this.props;return i.h(a.default,{class:"createProjectDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:t,width:720,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody"},i.h("h1",null,"Choose your project type"),i.h("div",{class:"projectTypes"},i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"ios",label:"iOS",image:i.h("svg",{width:"140",height:"104"},i.h("g",{fill:"ios"===e?"var(--cornflower-blue)":"var(--gandalf)","fill-rule":"evenodd"},i.h("path",{class:"frame",d:"M118 87.96v-59.8c0-3.93-3.23-7.16-7.17-7.16H15.17C11.23 21 8 24.23 8 28.17v59.8c0 3.93 3.23 7.16 7.17 7.16h95.66c3.94 0 7.17-3.23 7.17-7.17zm-4.78-29.9c0 .66-.54 1.2-1.2 1.2-.66 0-1.2-.54-1.2-1.2 0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2zm-102.83 0c0-1.97 1.6-3.58 3.57-3.58s3.6 1.6 3.6 3.6c0 1.97-1.62 3.57-3.6 3.57s-3.6-1.6-3.6-3.58zm9.55 32.3v-64.6h88.47v64.58H19.96z"}),i.h("g",{transform:"translate(81 4)"},i.h("path",{class:"frame",d:"M38.74 0H9.24C4.17 0 0 4.05 0 9v80.82c0 4.95 4.18 9 9.25 9h29.5c5.08 0 9.25-4.05 9.25-9V9c0-4.95-4.17-9-9.26-9zM24 2.82c.77 0 1.4.62 1.4 1.38 0 .75-.63 1.37-1.4 1.37-.8 0-1.42-.62-1.42-1.37 0-.76.63-1.38 1.4-1.38zM19.5 8h9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5zM24 96c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm21-11H3V13h42v72z"}),i.h("circle",{cx:"24",cy:"92",r:"4",fill:"#FFF"}),i.h("path",{fill:"#FFF",d:"M3 13h42v72H3z"})))),dimensionType:"pt",exportType:"Objective-C/Swift",selected:"ios"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"android",label:"Android",image:"android"===e?i.h(r.default,{asset:"img/icPrj_android-selected.png"}):i.h("img",{src:Object(l.imageUrl)("img/icPrj_android.svg")}),dimensionType:"dp/sp",exportType:"XML",selected:"android"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"web",label:"Web",image:i.h(r.default,{asset:`img/icPrj_web${"web"===e?"-selected":""}.png`}),dimensionType:"px",exportType:"CSS and HTML",selected:"web"===e})),i.h("div",{class:"experimentalProjectTypes"},i.h(s.default,{name:"projectType",onClick:this.handleChange,value:"osx",label:"macOS",dimensionType:"pt",exportType:"Objective-C/Swift",selected:"osx"===e}))))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1351);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1352),s=n(1355);n(1358);function a({image:e}){return i.h("div",{class:"projectTypeImage noSelect"},e)}class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:r,image:l,dimensionType:c,exportType:d}=this.props;return i.h("label",{class:"projectType"},i.h(s.default,{name:e,value:n,label:r,checked:t,onClick:this.handleClick}),i.h(a,{image:l}),i.h(o.default,{dimensionType:c,exportType:d,selected:t}))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1353);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1354);t.default=function({dimensionType:e,exportType:t,selected:n,singleLine:o}){const a=s()("projectInfo","noSelect",{selected:n});return i.h("div",{class:a},"Dimensions in ",i.h("strong",null,e),",",!o&&i.h("br",null)," ",t," export.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1356);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1065),s=n.n(o);n(1357);t.default=function(e){const{value:t,name:n,label:o,checked:a,onClick:r}=e;return i.h("div",{class:"projectRadio"},i.h(s.a,{name:n,checked:a,onClick:r,value:t}),i.h("span",{class:"projectTypeName noSelect"},o))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1360);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1352),s=n(1355);n(1361);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:a,dimensionType:r,exportType:l}=this.props;return i.h("label",{class:"experimentalProjectType"},i.h(s.default,{name:e,value:n,label:a,checked:t,onClick:this.handleClick}),i.h(o.default,{dimensionType:r,exportType:l,selected:t,singleLine:!0}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1364);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1027)),r=i(n(849)),l=i(n(590));n(1365);const c={users:"Users",notes:"Notes",versions:"Versions"};function d({type:e,subText:t,checked:n,onSelection:i}){return o.h("label",{class:"includeOption"},o.h(r.default,{checked:n,onChange:function(){i(e)}}),o.h("span",{class:"includeDescription"},o.h("span",{class:"type"},c[e]),o.h("span",{class:"subText"},t)))}t.default=function({barrelType:e,barrelId:t,barrelName:n,onCopy:i,onClose:r}){const[c,u]=s.useState(e===l.default.PROJECT?{users:!1,notes:!1,versions:!1}:{users:!1}),[h,p]=s.useState(!1);function f(e){u(Object.assign(Object.assign({},c),{[e]:!c[e]}))}return o.h(a.default,{loading:h,isDismissable:!1,positiveButtonText:"MAKE A COPY",hideNegativeButton:!1,width:540,onPositiveButtonClick:function(){p(!0),i({bid:t,barrelName:n,options:c})},onClose:r},o.h("div",{class:"copyBarrelDialog"},o.h("h4",{class:"copyBarrelHeader"},"Make a copy of ”",n,"”?"),e===l.default.PROJECT?o.h("p",{class:"copyBarrelDescription"},"The copy will include all screens and resources in the local styleguide. Additionally, you can include:"):o.h("p",{class:"copyBarrelDescription"},"The copy will include all components, colors, text styles and spacing tokens. Additionally, you can include:"),o.h("div",{class:"includeOptions"},o.h(d,{type:"users",subText:"Invite same users to the copy",checked:c.users,onSelection:f}),e===l.default.PROJECT&&o.h(o.Fragment,null,o.h(d,{type:"notes",subText:"Include all notes on screens",checked:c.notes,onSelection:f}),o.h(d,{type:"versions",subText:"Include version history of screens",checked:c.versions,onSelection:f})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1367);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1027));n(1368),t.default=function({barrelType:e,barrelName:t,onClose:n}){return o.h(s.default,{width:540,positiveButtonText:"DONE",onPositiveButtonClick:n,onClose:n},o.h("div",{class:"asyncCopyingBarrelDialog"},o.h("h4",null,"Copying ”",t,"”…"),o.h("p",null,"We are now copying the ",e,". This usually takes a minute or two—check back in a bit. We’ll also email you once it’s done.")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1370);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(831)),a=i(n(852)),r=n(544),l=n(610),c=i(n(724)),d=n(884),u=i(n(1371));n(1374);const h="Watch a quick video to take a tour of Zeplin.",p={UNINVITED_DESIGNER:{title:"Publish your first design",description:"This is your workspace where you can access your projects and styleguides.",actionElement:o.h(o.Fragment,null,o.h("br",null),"Start by creating a project."),primaryButtonText:"Create first project",videoInfoText:h},UNINVITED_DEVELOPER:{title:"Get started",description:"This is your workspace where you can access your projects and styleguides. If your team is already using Zeplin, you can ask for an invitation. ",videoInfoText:h},INVITED_DESIGNER:{title:"Your personal projects live here",description:"This is your personal workspace, switch to your team's workspace to get started. If you prefer creating a personal project any time, you can do so here.",primaryButtonText:"Go to {{organizationName}}'s Workspace",secondaryButtonText:"Create Personal Project",videoInfoText:h},INVITED_DEVELOPER:{title:"Almost there…",videoInfoText:h},ORGANIZATION_NO_CREATE_PERMISSION:{title:"Get started",description:"This is your workspace where you can access your team's projects and styleguides."}};class f extends o.Component{constructor(e){super(e),this.nodeRefs={},this.checkoutToFirstOrganization=()=>{const[e]=this.props.availableOrganizations;this.props.onCheckoutOrganization(e._id)},this.showVideoOverlay=()=>{this.setState({videoOverlayVisible:!0})},this.hideVideoOverlay=()=>{var e;null===(e=this.youtubePlayer)||void 0===e||e.pauseVideo(),this.setState({videoOverlayVisible:!1})},this.handleVideoClick=()=>{const{videoId:e}=this.props,t=r.getDevice();mixpanel.master.track("Clicked watch onboarding video",{Source:"Projects Onboarding"}),t===r.DEVICE_TYPES.MOBILE?location.assign(`https://www.youtube.com/watch?v=${e}`):this.setState({videoOverlayVisible:!0})},this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){const{selectedOrganizationId:e,canCreateProject:t}=this.context,{availableOrganizations:n,userProfession:i,onCheckoutOrganization:s,onCreate:a}=this.props,[r]=n;let c;if("user"===e)return c=i&&i!==d.UserProfession.Designer?{labels:Object.assign(Object.assign({},p.UNINVITED_DEVELOPER),{actionElement:o.h(o.Fragment,null,"If you're looking to publish designs, you can ",o.h("a",{onClick:a},"create a project"),".")})}:{labels:p.UNINVITED_DESIGNER,onPrimaryButtonClick:a},n.length&&(c=i&&i!==d.UserProfession.Designer?{labels:Object.assign(Object.assign({},p.INVITED_DEVELOPER),{description:o.h(o.Fragment,null,"This is your personal workspace, ",o.h("a",{onClick:this.checkoutToFirstOrganization},"switch to your team's workspace")," to get started."),actionElement:o.h(o.Fragment,null,o.h("br",null),"If you prefer, you can also ",o.h("a",{onClick:a},"create a personal project"),".")})}:{labels:Object.assign(Object.assign({},p.INVITED_DESIGNER),{primaryButtonText:p.INVITED_DESIGNER.primaryButtonText.replace("{{organizationName}}",r.name)}),onPrimaryButtonClick:s,onSecondaryButtonClick:a}),c;if(t)c={labels:Object.assign(Object.assign({},p.UNINVITED_DESIGNER),{description:"This is your workspace where you can access your team's projects and styleguides."}),onPrimaryButtonClick:a};else{const{currentOrganizationProfile:e}=this.context,t=`Your current role is set as “${l.getUserRoleString(e.role)}” by your team admins, if you need to create projects you can ping the admins to update your role.`;c={labels:Object.assign(Object.assign({},p.ORGANIZATION_NO_CREATE_PERMISSION),{roleHintText:t,videoInfoText:"Meanwhile, you can start learning more about how Zeplin can help"})}}return c}componentDidMount(){window.youtubeLoaded||(window.youtubeLoaded=new Promise((e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)})))}componentDidUpdate(e,t){var n;const{videoId:i}=this.props;!t.videoOverlayVisible&&this.state.videoOverlayVisible&&(null===(n=window.youtubeLoaded)||void 0===n||n.then((()=>{this.youtubePlayer=new YT.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:i,events:{onReady:()=>{var e;return null===(e=this.youtubePlayer)||void 0===e?void 0:e.playVideo()}}})})))}renderTutorialVideo(){const{userProfession:e,videoId:t}=this.props,n=!e||e===d.UserProfession.Designer;return o.h(o.Fragment,null,o.h("div",{class:"tutorialVideoBack"},o.h("div",{class:"leftSide"}),o.h("div",{key:"video",style:{backgroundImage:`url(https://img.youtube.com/vi/${t}/maxresdefault.jpg)`},class:c.default("tutorialVideo",{filtered:n}),onClick:this.handleVideoClick},o.h("button",{class:"watchTutorialButton"})),o.h("div",{class:"rightSide"})),o.h("div",{class:"wrapperGrid"},o.h("div",{class:"placeholderGrid"},o.h("div",{class:"leftSide"}),o.h("div",{class:"centerItem"}),o.h("div",{class:"rightSide"}))))}renderVideoOverlay(){return o.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},o.h("div",{ref:a.default(this,"youtubePlayerAnchor")}))}renderCheckWorkspaceButton(e){const{availableOrganizations:t,onCheckoutOrganization:n}=this.props;return o.h(u.default,{onClick:n,availableOrganizations:t,primaryButtonText:e})}render(){const{videoOverlayVisible:e}=this.state,{selectedOrganizationId:t,hasArchivedProjects:n}=this.context,{labels:{title:i,description:a,actionElement:r,primaryButtonText:l,secondaryButtonText:d,roleHintText:u,videoInfoText:h},onPrimaryButtonClick:p,onSecondaryButtonClick:f}=this.getLabelsAndHandlers(),g=!!d,m="user"===t;return o.h("div",{class:c.default("noProjectsScrollContainer",{userWorkspace:m,filterBarVisible:n})},o.h("div",{class:"noProjects"},o.h("h1",null,i),o.h("p",{class:"description"},o.h("span",null,a,r)),u&&o.h("p",{class:"roleHintText"},u),e&&this.renderVideoOverlay(),g&&o.h("div",{class:"buttonContainer"},o.h(s.default,{class:"noProjectsSecondaryButton",secondary:!0,onClick:f},d),l&&this.renderCheckWorkspaceButton(l)),!g&&l&&o.h("div",{class:"buttonContainer"},o.h(s.default,{primary:!0,onClick:p},l)),o.h("p",{class:"videoInfo"},h),this.renderTutorialVideo()),o.h("div",{class:"noProjectsMobile"},o.h("h1",null,"See you soon on desktop!"),o.h("p",{class:"description"},o.h("strong",null,"Login using your web browser "),"to create your first project, or learn how Zeplin can help with your workflow by watching the video below."),this.renderTutorialVideo(),o.h("a",{class:"bttn",href:"mailto:?subject=Zeplin%20Download%20Link&body=I%20was%20going%20to%20download%20Zeplin%20but%20I%20was%20on%20my%20mobile.%20Then%20I%20sent%20myself%20this%20email%20with%20the%20download%20links:%20%0A%0A%20For%20Mac:%20https://zpl.io/download-mac%20%0A%0A%20For%20Windows:%20https://zpl.io/download-windows-64%20%0A%0A%20Technically,%20I%E2%80%99m%20talking%20to%20myself%20right%20now.%20Is%20this%20healthy?"},"Send me the download link")))}}t.default=f},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1372);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=i(n(831)),r=i(n(888));n(1373),t.default=function({availableOrganizations:e,primaryButtonText:t,onClick:n}){const[i]=e,l=e.length>1;return o.h("div",{class:"checkoutOrganizationButtonWrapper"},o.h(a.default,{class:s.default("checkoutOrganizationButton",{showDropdown:l}),onClick:function(){n(i._id)},primary:!0},t),l&&o.h(r.default,{class:"checkoutOrganizationButtonDropdown",showCheck:!0,showAnchor:!0,showLabel:!1,chevronColor:"white",onChange:function(e){n(e)}},e.map((e=>o.h(r.default.Item,{key:e._id,value:e._id,label:`${e.name}'s Workspace`,selected:e._id===i._id})))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1376);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1377);t.default=function(e,t){const{filterValue:n,canCreateProject:o,selectedOrganizationId:s,selectedWorkflowStatusName:a,currentOrganizationProfile:{restricted:r}={}}=t,l="user"===s,c=`No ${l?"":"organization"} projects ${function(e,t){let n="currently.";return e?n="with this name or type 🤷‍♀️":t&&(n=`with “${t}” status 🤷‍♀️`),n}(n,a)}`;return i.h("div",{class:"emptyProjects"},i.h("h3",null,c),!a&&!n&&!l&&i.h("p",null,o?"Go ahead and create one! ✌️":function(e){return e?i.h("span",null,"To create a project or be invited to an existing project, you can contact anyone with an Editor role in the Organization. "):i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))}(r)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1379);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(686);n(1380);t.default=function(e){const{organizationId:t,subscriptionStatus:n,memberRole:s}=e,a=Object(o.urlResolve)("workspace-profile-billing",{url:{oid:t}}),r=["king","queen"].includes(s),l="auto_cancelled"===n?"Payment Failure":"Subscription Cancelled";let c,d;return c="auto_cancelled"===n?"Due to a failed payment, your workspace has been suspended.":r?"Looks like you've cancelled your subscription, your workspace has been suspended.":"It looks like the subscription has been cancelled and your workspace has been suspended.",d=r?"auto_cancelled"===n?i.h("span",null,i.h("a",{href:a},"Click here")," to update your payment information"):i.h("span",null,i.h("a",{href:a},"Click here")," to activate the subscription."):i.h("span",null,"Please contact an admin to reactivate it."),i.h("div",{class:"suspendedOrganizationInfo"},i.h("h3",{key:"suspendedHeader"},l),i.h("p",{key:"suspendedInfo"},c,i.h("br",null),d))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1382);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(223),s=n(1149),a=n(5),r=n.n(a),l=n(831),c=n(1235),d=n(1171),u=n(1246),h=n(953),p=n.n(h),f=n(702),g=n.n(f),m=n(709),b=n.n(m),S=n(622),y=n.n(S),v=n(583),O=n(724),C=n.n(O),E=n(590),T=n.n(E);n(1383);function _({onCreateSection:e,onMoveToSection:t,onChangeStatus:n,onCancelSelectionMode:a,selectedProjects:r,sections:h,workflowStatuses:f},{selectedOrganizationProjects:m}){const[S,O]=Object(o.useState)(!1),E=Object(o.useRef)(null),_=Object(o.useRef)(null),P=m.filter((({status:e})=>"archived"===e)).map((({_id:e})=>e)),I=function(e,t){return t.some((t=>e.includes(t)))}(P,r),j=function(e,t){const n=t.reduce(((t,n)=>t+(e.includes(n)?1:0)),0);let i="";return n>0&&(i=` (includes ${Object(v.pluralize)(n,"archived project")})`),`${Object(v.pluralize)(t.length,"project")} selected${i}`}(P,r);function D(e){_.current=()=>function(e){t(e,r)}(e),b.a.clearProjectSelection()}function k(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),b.a.clearProjectSelection())}return Object(s.useDidMountWillUnmountEffect)((()=>(document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}))),Object(o.useEffect)((()=>()=>{_.current&&requestIdleCallback((()=>{_.current(),_.current=null}),{timeout:500})}),[r]),i.h("div",{class:C()("selectModeActionBar","noSelect")},i.h(l.default,{class:"cancelSelectionMode",onClick:a,secondary:!0},"Cancel"),i.h("span",{class:"selectedProjectText ellipsis",title:j},j),i.h(l.default,{class:"createSection",onClick:function(){_.current=()=>e(r),b.a.clearProjectSelection()},primary:!0},"Create section"),h.length>0&&i.h(l.default,{class:"moveToSection",ref:E,onClick:function(){O(!0)},secondary:!0},"Move to section…"),i.h(p.a,{targetNode:E.current&&E.current.base,open:S,onClose:function(){O(!1)},content:function(){return i.h(u.default,{barrelType:T.a.PROJECT,sections:h,onSelect:D})},top:12,left:0,faceLeft:!0,overlay:!0}),i.h("div",{class:"statusContainer"},i.h(d.default,{workflowStatuses:f,onWorkflowStatusChange:function(e){e._id===y.a.NoStatus._id?g.a.deleteWorkflowStatuses({bids:r,syncWithApi:!0}):g.a.updateWorkflowStatuses({bids:r,workflowStatus:e,syncWithApi:!0}),n()},disabled:I,defaultLabel:"Change status to…",showSelectedAsLabel:!1}),i.h(c.default,{class:C()("selectModeInfo",{show:I}),content:"It looks like one of your projects is archived. In order to update the status of these projects, they all need to be active.",popover:!0,anchor:"top",noControls:!0})))}_.propTypes={onCreateSection:r.a.func.isRequired,onMoveToSection:r.a.func.isRequired,onChangeStatus:r.a.func.isRequired,onCancelSelectionMode:r.a.func.isRequired,sections:r.a.array,selectedProjects:r.a.array,workflowStatuses:r.a.array},t.default=_},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1385);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(693),a=n(583),r=n(610),l=n(547),c=i(n(1386)),d=i(n(831));n(1387),t.default=function({currentPlan:e,offer:t,onUseOfferClick:n,onHideClick:i}){const{group:u,moreSeatsAllowed:h,seat:p,projectLimit:f,percentage:g,validUntil:m}=t,b=p&&!h,S=f?f-e.projectLimit:0,y=r.formatTime(m,{month:"long",day:"numeric",timeZone:"UTC"});return o.h(c.default,{class:"offerHintBox",emoji:"🧚",hideButtonText:"Close",onHideClick:i},function(){const t=e.group===l.PlanGroup.FREE?"Upgrade to Zeplin Team":`Your ${e.name} Plan is going away, upgrade to Zeplin Team today`;let i="";return"free"===u?i=`with 43% savings (until ${y})`:b?i="at no cost":g?i=`with ${g}% savings!`:S&&(i=`and get ${S} bonus projects!`),o.h("div",{className:"header"},o.h("h3",null,t," ",i),o.h(d.default,{onClick:n,primary:!0},"Use offer"))}(),function(){const n=s.getDateDifference("d",new Date,m),i=n<6?`in ${a.pluralize(n,"day")}`:`on ${y}`;if(e.group===l.PlanGroup.FREE)return o.h("p",null,"You have a special offer for the Zeplin Team plan! You’ll get support for",o.h("strong",null," 12 projects, unlimited version history, and a team workspace. "),"Get 5 seats for the price of 3 (43% savings). Offer expires ",i,".");let r="";const c=`${S} additional projects`;return b?r=`to get ${a.pluralize(p,"seat")} of the new Zeplin Team plan\n             ${S?`and ${c}`:""}  at no extra cost`:g?r=`to lock in ${g}% savings on the new Zeplin Team plan`:S&&(r=`to get the new Zeplin Team plan along with ${c} at no extra cost`),o.h("p",null,"We’re adding features to make teamwork easier like a",o.h("strong",null," team workspace, user management"),"gb"===t.group?", and more. ":o.h("strong",null,", and support for 12 projects. "),"Use this special offer ",r," (offer expires ",i,"). Your ",e.name," Plan will be retired in March 2022.")}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(983);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1389);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1386));n(1390),t.default=function({barrelType:e,onCreate:t,onHideClick:n}){return o.h(s.default,{class:"invitedUserHintbox",hideEmoji:"true",hideButtonText:"Got it!",onHideClick:n},o.h("h3",null,"Welcome to your team's workspace! 🌻"),function(){const n=t?o.h(o.Fragment,null,"either join the ",e,"s below or ",o.h("a",{onClick:t},"create a new ",e),"."):` join the ${e}s you’re working on below.`;return o.h("p",null,"This is your workspace where you can access the team’s projects and styleguides. You can ",n)}())}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(618)),s=i(n(567)),a=i(n(685)),r={getProjectsSuccess({projects:e,oid:t}){s.default.dispatcher.dispatch({type:o.default.GET_PROJECTS_SUCCESS,projects:e,oid:t})},requestProject(e){s.default.dispatcher.dispatch({type:o.default.REQUEST_PROJECT,pid:e})},getProjectRequest(){s.default.dispatcher.dispatch({type:o.default.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e}){s.default.dispatcher.dispatch({type:o.default.GET_PROJECT_SUCCESS,project:e})},getProjectFailed(e){s.default.dispatcher.dispatch({type:o.default.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t,oseid:n}){s.default.dispatcher.dispatch({type:o.default.CREATE_PROJECT,oid:e,platform:t,oseid:n,syncWithApi:!0})},updateProject({pid:e,data:t}){s.default.dispatcher.dispatch({type:o.default.UPDATE_PROJECT,pid:e,data:t})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,canChangePlanAtTarget:r}){s.default.dispatcher.dispatch({type:o.default.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,canChangePlanAtTarget:r,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,users:l}){const c=a.default.findProjectOrganizationSectionId(e);s.default.dispatcher.dispatch({type:o.default.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,users:l,oseid:c})},inviteUser({container:e,pid:t,users:n,oid:i}){s.default.dispatcher.dispatch({type:o.default.INVITE_USER,container:e,pid:t,users:n,oid:i})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(961);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return class extends e{constructor(...e){super(...e),a(this,"showToast",(({text:e,source:t})=>{(this.toastContainer||this.nodeRefs&&this.nodeRefs.base)&&Object(i.default)({text:e,source:t,container:this.toastContainer||this.nodeRefs.base})}))}getChildContext(){let e;return super.getChildContext&&(e=super.getChildContext()),s(s({},e),{},{showToast:this.showToast})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSectionDescriptionHeight=t.virtualScrollProjectSections=t.virtualScrollPersonalWorkspace=void 0;const i=n(1330),o=n(1394),s=n(1395);var a,r;!function(e){e.sectionHeader="SectionHeader",e.projectsRow="ProjectsRow"}(a||(a={})),function(e){e.user="user",e.timeline="timeline",e.name="name",e.individual="individual"}(r||(r={}));const l={};function c(e,t){if(e.type===r.individual)return i.DEFAULT_SECTION_HEADER_HEIGHT;if(e.type===r.name||e.type===r.timeline)return i.NAME_TIMELINE_SECTION_HEADER_HEIGHT;const n=!t,o=!!e.description,s=!o,a=e.projects.length>0,c=!a;if(t){if(o)return i.RAW_SECTION_HEADER_HEIGHT+(l[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT);if(s)return i.RAW_SECTION_HEADER_HEIGHT}else if(n){if(o)return i.RAW_SECTION_HEADER_HEIGHT+(l[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT);if(s){if(a)return i.RAW_SECTION_HEADER_HEIGHT;if(c)return i.RAW_SECTION_HEADER_HEIGHT+(l[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT)}}return i.RAW_SECTION_HEADER_HEIGHT}t.virtualScrollPersonalWorkspace=function({section:e,projectToScroll:t,scrollPosition:n}){const{rows:r,projectsLookup:l,startIndex:c}=function(e,t){const n=[],s={};let r=-1;const l=o.howManyProjectsFitInARow();if(e){n.push({ids:[],indexes:[],sectionId:e._id,height:i.PROJECTS_ROW_TOP_PADDING+i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow});for(let o=0;o<e.projects.length;o++){const c=e.projects[o];s[c._id]=c;const d=n[n.length-1];d.ids.length===l?n.push({ids:[c._id],indexes:[o],sectionId:e._id,height:i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow}):(d.ids.push(c._id),d.indexes.push(o)),t&&c._id===t&&(r=n.length-1)}}return{rows:n,projectsLookup:s,startIndex:r}}(e,t),d=c>-1?s.windowAroundIndex({items:r,tolerance:window.innerHeight,windowHeight:window.innerHeight,startIndex:c}):s.virtualScroll({items:r,tolerance:window.innerHeight,windowHeight:window.innerHeight,scrollPosition:n});return{surplusProjects:[],sections:[{indexInWorkspace:0,rawSection:Object.assign(Object.assign({},e),{projects:d.items.flatMap((e=>e.ids.map((e=>l[e]))))})}],placeholders:d.placeholders}},t.virtualScrollProjectSections=function({sections:e,collapsedSections:t,highlightedSection:n,projectToScroll:r,scrollPosition:l}){const{rows:d,projectsLookup:u,startIndex:h}=function(e,t,n,s){const r=[],l={};let d=-1;const u=o.howManyProjectsFitInARow();for(let o=0;o<e.length;o++){const h=e[o];if(n&&n===h._id&&(d=r.length),t[h._id])r.push({id:h._id,height:c(h,!0),type:a.sectionHeader,index:o});else if(0===h.projects.length)r.push({id:h._id,height:c(h,!1),type:a.sectionHeader,index:o});else{r.push({id:h._id,height:c(h,!1),type:a.sectionHeader,index:o}),r.push({ids:[],indexes:[],sectionId:h._id,height:i.PROJECTS_ROW_TOP_PADDING+i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow});for(let e=0;e<h.projects.length;e++){const t=h.projects[e];l[t._id]=t;const o=r[r.length-1];o.ids.length===u?r.push({ids:[t._id],indexes:[e],sectionId:h._id,height:i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow}):(o.ids.push(t._id),o.indexes.push(e)),!n&&s&&t._id===s&&(d=r.length-1)}}}return{rows:r,projectsLookup:l,startIndex:d}}(e,t,n,r),p=h>-1?s.windowAroundIndex({items:d,tolerance:window.innerHeight,windowHeight:window.innerHeight,startIndex:h}):s.virtualScroll({items:d,tolerance:window.innerHeight,windowHeight:window.innerHeight,scrollPosition:l}),f=[];let g=0;for(;g<p.items.length&&p.items[g].type!==a.sectionHeader;){const e=p.items[g];e.ids.forEach(((t,n)=>{f.push({project:u[t],indexInSection:e.indexes[n],sectionId:e.sectionId})})),g++}const m=[];for(;g<p.items.length;){const t=p.items[g],n=e.find((e=>e._id===t.id));if(!n){g++;break}let i=[];g++;let o=p.items[g];for(;o&&o.type!==a.sectionHeader;){const e=o.ids.map((e=>u[e]));i=i.concat(e),g++,o=p.items[g]}m.push({indexInWorkspace:t.index,rawSection:Object.assign(Object.assign({},n),{numberOfProjects:n.projects.length,projects:i})})}return{surplusProjects:f,sections:m,placeholders:p.placeholders}},t.setSectionDescriptionHeight=function(e,t){l[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScrollTopToIgnore=t.howManyProjectsFitInARow=void 0;const i=n(1330);function o(){let e=1;for(;e*(i.PROJECT_WIDTH+i.PROJECT_HORIZONTAL_MARGIN)+2*i.PROJECTS_HORIZONTAL_PADDING<window.innerWidth;)e++;return e=1===e?1:e-1,e}t.howManyProjectsFitInARow=o,t.calculateScrollTopToIgnore=function(e){return i.ORG_SUMMARY_HEIGHT+i.TABS_HEIGHT+function(e){return 0===e?0:Math.ceil(e/o())*(i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING)+i.PROJECTS_ROW_TOP_PADDING+i.FOCUS_AREA_TOTAL_PADDING}(e)}},function(e,t,n){"use strict";function i(e,t){return e.top>=t.top&&e.top<t.bottom||t.bottom>e.top&&t.bottom<e.bottom}function o(e,t,n){const i=[];let o=0,s=t;for(;s>0&&o<n;){const t=e[s];o+=t.height,i.unshift(t),s--}return{renderedItems:i,height:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.virtualScroll=t.windowAroundIndex=void 0,t.windowAroundIndex=function(e){const{items:t,tolerance:n,windowHeight:i,startIndex:s}=e;let a=[],r=0,l=0,c=0;for(let d=0;d<t.length;d++){const e=t[d];if(c+=e.height,d<s)r+=e.height;else if(d===s){const{renderedItems:i,height:s}=o(t,d-1,n);r-=s,a=[...i,e]}else d>s&&c<r+n+i+n?a.push(e):l+=e.height}return{items:a,placeholders:{top:r,bottom:l}}},t.virtualScroll=function(e){const{items:t,tolerance:n,windowHeight:o,scrollPosition:s}=e,a={top:Math.max(s-n,0),bottom:s+o+n};let r=!1,l=0;const c=[];let d=0,u=0;for(const h of t){const e=h.height;l+=e,i({top:l-e,bottom:l},a)?(r=!0,c.push(h)):r?u+=e:d+=e}return{placeholders:{top:d,bottom:u},items:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({projects:e,archivedProjectsVisible:t}){return e.reduce(((e,n)=>t||"archived"!==n.status?(e[n.workflowStatus._id]?e[n.workflowStatus._id]++:e[n.workflowStatus._id]=1,e):e),{})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1399);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1400),s=n(1402),a=n(1438),r=n(1473),l=n(1477),c=n(1479),d=n.n(c),u=n(1363),h=n.n(u),p=n(1366),f=n.n(p),g=n(1388),m=n.n(g),b=n(1482),S=n.n(b),y=n(709),v=n.n(y),O=n(1039),C=n.n(O),E=n(683),T=n.n(E),_=n(685),P=n.n(_),I=n(702),j=n.n(I),D=n(1260),k=n.n(D),R=n(567),A=n.n(R),w=n(590),N=n.n(w),L=n(884),M=n(929),x=n.n(M),U=n(1040),B=n(547),V=n(694),z=n(703),F=n(548),W=n(551),H=n(610);n(1483);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $="qeeciGJJEh8";class q extends i.Component{constructor(...e){super(...e),G(this,"state",{differentTypeDialogVisible:!1,styleguidesInfoVisible:!1}),G(this,"openDifferentTypeDialog",(()=>{this.setState({differentTypeDialogVisible:!0})})),G(this,"closeDifferentTypeDialog",(()=>{this.setState({differentTypeDialogVisible:!1})})),G(this,"createStyleguide",(()=>{S.a.createStyleguide({platform:this.selectedType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})})),G(this,"createStyleguideWithParentType",(()=>{S.a.createStyleguide({platform:this.parentStyleguideType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})})),G(this,"handleCreateStyleguide",((e,t)=>{this.selectedType=e,this.selectedParent=t,t&&(this.parentStyleguideType=this.state.currentStyleguides.find((e=>e._id===t)).type,e!==this.parentStyleguideType&&this.parentStyleguideType!==B.PLATFORM.BASE)?this.openDifferentTypeDialog():this.createStyleguide()})),G(this,"handleStyleguideClick",((e,t)=>{const{filteredStyleguides:n}=this.state,i=n.find((e=>e._id===t));if("active"!==i.status)return;i.users.some((e=>e.user._id===Zeplin.user._id))?W.userPrefs.set("styleguidesUsed",!0):(e.preventDefault(),e.stopPropagation(),v.a.openDialog(B.DialogTypes.PREVIEW_STYLEGUIDE,{previewBarrelId:t}))})),G(this,"handleStyleguidePreviewJoin",(()=>{j.a.join({barrelType:N.a.STYLEGUIDE,bid:this.state.previewStyleguide._id,mixpanelSource:"Preview",actionSource:k.a.PREVIEW_DIALOG})})),G(this,"handleDeleteStyleguide",(({stid:e})=>{j.a.remove({barrelType:N.a.STYLEGUIDE,bid:e,syncWithApi:!0})})),G(this,"handleOpenCopyStyleguideDialog",(({barrelId:e,barrelName:t})=>{v.a.openDialog(B.DialogTypes.COPY_BARREL,{barrelId:e,barrelName:t})})),G(this,"handleCopyStyleguide",(({bid:e,barrelName:t,options:n})=>{j.a.copy({bid:e,barrelName:t,barrelType:N.a.STYLEGUIDE,options:n,syncWithApi:!0})})),G(this,"handleLeaveStyleguide",(({bid:e,mid:t})=>{j.a.removeMember({barrelType:N.a.STYLEGUIDE,bid:e,mid:t,syncWithApi:!0})})),G(this,"handleArchiveStyleguide",(({stid:e})=>{j.a.archive({bid:e,barrelType:N.a.STYLEGUIDE,syncWithApi:!0})})),G(this,"handleActivateStyleguide",(({stid:e})=>{j.a.activate({bid:e,barrelType:N.a.STYLEGUIDE,syncWithApi:!0})})),G(this,"handleJoinStyleguide",(({stid:e,actionSource:t})=>{j.a.join({barrelType:N.a.STYLEGUIDE,bid:e,actionSource:t})})),G(this,"handleSelectParent",(({stid:e,parent:t,oldParent:n})=>{S.a.selectParent({stid:e,parent:t,oldParent:n,syncWithApi:!0})})),G(this,"handleRemoveParent",(({stid:e,oldParent:t})=>{S.a.removeParent({stid:e,oldParent:t,syncWithApi:!0})})),G(this,"handleCopyLink",(e=>{const{onCopyLink:t}=this.props;t(`${F.ZPL_PROTOCOL}//styleguide?stid=${e}`)})),G(this,"handleCopyStyleguideWebLink",(e=>{const{onCopyLink:t}=this.props;t(e)})),G(this,"handleOpenCreateStyleguideDialog",(()=>{const{currentPlan:e,currentUserId:t,selectedOrganization:n,currentStyleguides:i}=this.state,o=n&&n.styleguideLimit?n.styleguideLimit:e.styleguideLimit,s=(n?i:i.filter((({users:e})=>e.some((({user:{_id:e},role:n})=>e===t&&"owner"===n))))).filter((e=>"archived"!==e.status));o>0&&s.length>=o?v.a.openDialog(B.DialogTypes.PLAN_CHOOSER,{barrelType:N.a.STYLEGUIDE,planUpgradeTrigger:B.PlanUpgradeTrigger.STYLEGUIDE_LIMIT}):v.a.openDialog(B.DialogTypes.CREATE_STYLEGUIDE)})),G(this,"handleShowPlanChooserOverlay",(()=>{const{selectedOrganizationId:e}=this.state;Object(U.showPlanChooserOverlay)({source:"Styleguides, Deprecated plan warning",oid:e})})),G(this,"handleTransferOwnership",(({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o})=>{const s=i?P.a.getOrganizationProfile(n):"owner",a=H.permissions.canChangePlan(s);S.a.initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o,canChangePlanAtTarget:a})})),G(this,"renderInvitedUserHintbox",(()=>{const{displayInvitedUserHintbox:e,canCreateStyleguide:t,selectedOrganizationId:n}=this.state;if(!e||"user"===n)return null;const o=t?this.handleOpenCreateStyleguideDialog:null;return i.h("div",{class:"invitedUserHintboxContainer"},i.h(m.a,{barrelType:N.a.STYLEGUIDE,onCreate:o,onHideClick:C.a.hideInvitedUserHintbox}))}))}static calculateState(){const{organizations:e,organizationProfiles:t}=A.a.OrganizationStore.getState(),{selectedOrganizationId:n,filterValue:i,styleguidesTabVisited:o,highlightedBarrels:s,visibleDialogType:a,visibleDialogParams:r}=A.a.SpaceStore.getState(),{loadingStyleguide:l}=A.a.StyleguidesDataStore.getState(),{userId:c,paymentPlan:d,shouldDisplayInvitedUserHintbox:u,profession:h,registeredAt:p}=A.a.UserStore.getState(),{config:{plans:f,onboardingVideos:g,minRegistrationDateToShowOnboarding:m}}=A.a.AppStore.getState(),b=!!(new Date(m)<new Date(p))&&u,S=P.a.getOrganizationStyleguides(n),y=S&&0===S.length,v=S||[],O=v.find((({_id:e})=>e===r.previewBarrelId)),C=e.find((e=>e._id===n)),E=t[n],_=c,I=C?f.find((e=>e.id===C.paymentPlan)):d;let j=function(e,t=""){return t.length?e.map((e=>({styleguide:e,score:Object(V.calculateMatchingScore)(t,e.name,e.type)}))).filter((({score:e})=>e)).sort(((e,t)=>t.score-e.score)).map((({styleguide:e})=>e)):e}(v,i);E&&E.restricted&&(j=j.filter((e=>e.users.some((e=>e.user._id===_)))));const D=function(e,t){for(let n of e)if(t.includes(n._id))return n._id;return null}(j,s),k=Object(z.generateTrees)(j),R=Object(z.generateNodes)(j),w=T.a.canCreateStyleguide();return{currentStyleguides:v,filteredStyleguides:j,trees:k,nodes:R,selectedOrganizationId:n,organizations:e,organizationProfiles:t,selectedOrganization:C,currentOrganizationProfile:E,filterValue:i,canCreateStyleguide:w,showWelcome:y,loadingStyleguide:l,currentPlan:I,styleguidesTabVisited:o,highlightedBarrels:s,firstHighlightedStyleguide:D,currentUserId:_,visibleDialogType:a,visibleDialogParams:r,previewStyleguide:O,displayInvitedUserHintbox:b,onboardingVideos:g,profession:h}}static getStores(){return[A.a.StyleguidesDataStore,A.a.SpaceStore,A.a.OrganizationStore,A.a.UserStore,A.a.AppStore]}getChildContext(){const{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,canCreateStyleguide:s,currentStyleguides:a,currentUserId:r}=this.state;return{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,currentUserId:r,canCreateStyleguide:s,currentStyleguides:a}}renderDialogs(){const{currentStyleguides:e,visibleDialogType:t,visibleDialogParams:n,loadingStyleguide:o,selectedOrganizationId:s,currentUserId:l,previewStyleguide:c}=this.state;if(t===B.DialogTypes.CREATE_STYLEGUIDE){let t=Object(z.generateTrees)(e).filter((e=>!e.isArchived()));return"user"===s&&(t=t.filter((e=>{const t=e.root.data.users.find((e=>"owner"===e.role));return t&&t.user._id===l}))),i.h(r.default,{trees:t,onCreate:this.handleCreateStyleguide,onClose:v.a.closeDialog})}return t===B.DialogTypes.PREVIEW_STYLEGUIDE?i.h(a.default,{styleguide:c,loading:o,onJoin:this.handleStyleguidePreviewJoin,onClose:v.a.closeDialog}):t===B.DialogTypes.COPY_BARREL?i.h(h.a,{barrelType:N.a.STYLEGUIDE,barrelName:n.barrelName,barrelId:n.barrelId,onCopy:this.handleCopyStyleguide,onClose:v.a.closeDialog}):t===B.DialogTypes.ASYNC_COPY_BARREL?i.h(f.a,{barrelType:N.a.STYLEGUIDE,barrelName:n.barrelName,onClose:v.a.closeDialog}):void 0}renderDifferentTypeDialog(){const{differentTypeDialogVisible:e}=this.state;return e?i.h(l.default,{parentStyleguideType:this.parentStyleguideType,childStyleguideType:this.selectedType,onCreateAnyway:this.createStyleguide,onCreateWithParentType:this.createStyleguideWithParentType,onClose:this.closeDifferentTypeDialog}):null}renderEmptyStyleguides(){const{organizations:e,onboardingVideos:t,profession:n}=this.state,o=e.filter((({status:e})=>"deleted"!==e)),s=n||L.UserProfession.Designer,{videoId:a=$}=t.find((e=>e.barrelTypes.includes(N.a.STYLEGUIDE)&&e.targetProfessions.includes(s)))||{};return i.h(d.a,{availableOrganizations:o,videoId:a,onOpenPlanChooserOverlay:this.handleShowPlanChooserOverlay,onCreate:this.handleOpenCreateStyleguideDialog,onCheckoutOrganization:v.a.changeSelectedOrganization})}render(){const{onCopyLink:e}=this.props,{trees:t,nodes:n,filterValue:a,selectedOrganizationId:r,selectedOrganization:l={},showWelcome:c,styleguidesTabVisited:d,highlightedBarrels:u,firstHighlightedStyleguide:h,displayInvitedUserHintbox:p}=this.state,f=!(!p||"user"===r)||d;return i.h("div",null,c?this.renderEmptyStyleguides():i.h(i.Fragment,null,i.h(o.default,{filterValue:a,onFilter:v.a.changeFilterValue,onCreateStyleguide:this.handleOpenCreateStyleguideDialog}),this.renderInvitedUserHintbox(),i.h(s.default,{key:"styleguides",nodes:n,trees:t,highlightedStyleguides:u,firstHighlightedStyleguide:h,organizationId:r,organizationStatus:l.status,organizationSubscriptionStatus:l.subscriptionStatus,isVisited:f,onVisited:v.a.setStyleguidesTabVisited,onStyleguideClick:this.handleStyleguideClick,onStyleguideHover:v.a.unhighlightBarrel,onStyleguideDelete:this.handleDeleteStyleguide,onOpenCopyStyleguideDialog:this.handleOpenCopyStyleguideDialog,onStyleguideArchive:this.handleArchiveStyleguide,onStyleguideActivate:this.handleActivateStyleguide,onStyleguideLeave:this.handleLeaveStyleguide,onStyleguideTransferOwnership:this.handleTransferOwnership,onStyleguideJoin:this.handleJoinStyleguide,onStyleguideInvite:S.a.inviteUser,onStyleguideParentSelect:this.handleSelectParent,onStyleguideParentRemove:this.handleRemoveParent,onCopyLink:e})),this.renderDialogs(),this.renderDifferentTypeDialog())}}t.default=x()(q,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1401);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1141),s=n(831);t.default=function({onFilter:e,onCreateStyleguide:t,filterValue:n},{canCreateStyleguide:a}){return i.h(o.default,{onFilter:e,filterValue:n,searchPlaceholder:"Search for a styleguide",searchPlaceholderWidth:155,rightContent:a&&i.h(s.default,{class:"noSelect",onClick:t,primary:!0},"Create Styleguide"),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(1403);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1404),s=n(1410),a=n(1431),r=n(1434),l=n(1378),c=n(968),d=n(852),u=n(610),h=n(724),p=n.n(h);n(1437);class f extends c.default{constructor(e){super(e),this.handleResize=Object(u.debounce)(this.handleResize).bind(this),this.handleHintBoxHideClick=this.handleHintBoxHideClick.bind(this),this.renderTree=this.renderTree.bind(this),this.renderNode=this.renderNode.bind(this),this.initialScroll=!1,this.state={wrapRootTrees:!0,styleguidesInfoVisible:!1}}handleResize(){this.nodeRefs&&this.nodeRefs.rootTrees&&this.nodeRefs.base&&this.setState({wrapRootTrees:this.nodeRefs.base.clientWidth>=this.nodeRefs.base.scrollWidth})}handleHintBoxHideClick(){this.setState({styleguidesInfoVisible:!1})}componentDidMount(){this.handleResize();const{isVisited:e,onVisited:t}=this.props;e||(this.setState({styleguidesInfoVisible:!0}),t()),window.addEventListener("resize",this.handleResize)}componentWillReceiveProps(e){e.nodes.length!==this.props.nodes.length&&this.handleResize()}componentDidUpdate(e,t){this.props.organizationId!==e.organizationId&&this.nodeRefs&&this.nodeRefs.scrollContainer&&(this.nodeRefs.scrollContainer.scrollTop=0),this.props.isVisited!==e.isVisited&&(this.props.isVisited||(this.setState({styleguidesInfoVisible:!0}),this.props.onVisited()))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderTree(e){const{onStyleguideDelete:t,onOpenCopyStyleguideDialog:n,onStyleguideArchive:s,onStyleguideActivate:a,onStyleguideTransferOwnership:r,onStyleguideLeave:l,onStyleguideJoin:c,onStyleguideInvite:d,onStyleguideClick:u,onStyleguideHover:h,onStyleguideParentSelect:p,onStyleguideParentRemove:f,onCopyLink:g,highlightedStyleguides:m,firstHighlightedStyleguide:b}=this.props;return i.h(o.default,{key:e.root.id,tree:e,highlightedStyleguides:m,firstHighlightedStyleguide:b,onNodeDelete:t,onOpenCopyStyleguideDialog:n,onNodeArchive:s,onNodeActivate:a,onNodeTransferOwnership:r,onNodeLeave:l,onNodeJoin:c,onNodeInvite:d,onNodeClick:u,onNodeHover:h,onNodeParentSelect:p,onNodeParentRemove:f,onCopyLink:g})}renderBranchedTrees(e){const{wrapRootTrees:t}=this.state,n=p()("trees",{center:1===e.length&&t});return i.h("div",{class:n},e.map(this.renderTree))}renderRootTrees(e){const{wrapRootTrees:t}=this.state;return i.h("div",{class:"rootTrees"},i.h("div",{style:{flexWrap:t?"wrap":"nowrap"},ref:Object(d.default)(this,"rootTrees"),class:"trees"},e.map(this.renderTree)))}renderArchivedTrees(e){const t=[],n=[];for(const i of e)i.isRootTree()?t.push(i):n.push(i);return i.h("div",null,i.h("div",{class:"styleguideHeader"},i.h("h3",null,"Archived Trees"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")),i.h("div",{class:"archivedTrees"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t)))}renderEmptyStyleguides(){const{organizationId:e,organizationStatus:t,organizationSubscriptionStatus:n}=this.props;return"suspended"===t?i.h(l.default,{organizationId:e,subscriptionStatus:n}):i.h(a.default,null)}renderInTreeFormat(){const{trees:e}=this.props,t=[],n=[],o=[];for(const i of e)i.isArchived()?o.push(i):i.isRootTree()?t.push(i):n.push(i);return i.h("div",{ref:Object(d.default)(this,"base"),class:"styleguidesTreeView"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t),0===n.length&&0===t.length&&this.renderEmptyStyleguides(),o.length>0&&this.renderArchivedTrees(o))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onStyleguideClick:o,onStyleguideHover:a,onStyleguideDelete:r,onOpenCopyStyleguideDialog:l,onStyleguideArchive:c,onStyleguideActivate:d,onStyleguideTransferOwnership:u,onStyleguideLeave:h,onStyleguideJoin:p,onStyleguideInvite:f,onStyleguideParentSelect:g,onStyleguideParentRemove:m,onCopyLink:b}=this.props,S=t.includes(e.id),y=n===e.id;return i.h(s.default,{key:e.id,node:e,archived:e.isArchived(),highlight:S,scroll:y,onDelete:r,onOpenCopyStyleguideDialog:l,onArchive:c,onActivate:d,onTransferOwnership:u,onLeave:h,onJoin:p,onInvite:f,onClick:o,onHover:a,onParentSelect:g,onParentRemove:m,onCopyLink:b})}renderInListFormat(){const{filterValue:e}=this.context,{nodes:t}=this.props,n=[],o=[];for(const i of t)i.isArchived()?o.push(i):n.push(i);return i.h("div",{class:"styleguidesListView"},n.length>0?i.h("div",{class:"styleguideNodes"},n.map(this.renderNode)):this.renderEmptyStyleguides(),o.length>0&&i.h("div",{class:"styleguideNodes"},i.h("div",{class:"styleguideHeader"},e?i.h("h4",null,"Archived Styleguides"):i.h(i.Fragment,null,i.h("h3",null,"Archived Styleguides"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu."))),o.map(this.renderNode)))}render(){const{filterValue:e}=this.context,{styleguidesInfoVisible:t}=this.state;return i.h("div",{ref:Object(d.default)(this,"scrollContainer"),class:"styleguides"},t&&i.h(r.default,{onHideClick:this.handleHintBoxHideClick,hideButtonText:"Got it!"}),e?this.renderInListFormat():this.renderInTreeFormat())}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1405);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1406),s=n(1410),a=n(968),r=n(624),l=n(852),c=n(930),d=n(1408);n(1430);function u(e){return[e.id].concat(...e.children.map(u))}class h extends a.default{constructor(e){super(e),this.handleNodeRef=this.handleNodeRef.bind(this),this.renderNode=this.renderNode.bind(this),this.handleNodeMouseEnter=this.handleNodeMouseEnter.bind(this),this.handleNodeMouseLeave=this.handleNodeMouseLeave.bind(this),this.treeMounted=!1,this.nodeRefs={},this.state={hoveredParentId:null}}handleNodeRef(e,t){this.nodeRefs[e]=t}handleNodeMouseEnter(e){this.setState({hoveredParentId:e})}handleNodeMouseLeave(){this.setState({hoveredParentId:null})}componentDidMount(){const{tree:e}=this.props;e.isRootTree()||this.forceUpdate()}componentWillReceiveProps(e){Object(c.default)(u(e.tree.root),u(this.props.tree.root))&&(this.treeMounted=!1)}componentDidUpdate(){const{tree:e}=this.props;e.isRootTree()||this.treeMounted||(this.treeMounted=!0,setTimeout((()=>{this.forceUpdate()})))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onNodeDelete:o,onOpenCopyStyleguideDialog:a,onNodeArchive:r,onNodeActivate:l,onNodeTransferOwnership:c,onNodeLeave:d,onNodeJoin:u,onNodeInvite:h,onNodeClick:p,onNodeHover:f,onNodeParentSelect:g,onNodeParentRemove:m,onCopyLink:b}=this.props,S=t.includes(e.id),y=n===e.id;return i.h(s.default,{key:e.id,node:e,archived:e.isArchived(),highlight:S,scroll:y,onMount:this.handleNodeRef,onDelete:o,onOpenCopyStyleguideDialog:a,onArchive:r,onActivate:l,onLeave:d,onJoin:u,onInvite:h,onClick:p,onHover:f,onTransferOwnership:c,onMouseEnter:this.handleNodeMouseEnter,onMouseLeave:this.handleNodeMouseLeave,onParentSelect:g,onParentRemove:m,onCopyLink:b})}renderLevels(){const{hoveredParentId:e}=this.state,{tree:t}=this.props,n={marginBottom:d.TOTAL_LEVEL_GAP};return[i.h("div",{style:n,class:"level",key:"root"},this.renderNode(t.root)),t.levels.map(((s,a)=>{const c=function(e){const t=Object(r.groupBy)(e,"parentId"),n=Object.values(t).sort(((e,t)=>t.length-e.length));let i=-1;return n.reduce(((n,o,s,a)=>{const r=o[0].parentId;if(-1===i&&a[s+1]&&o.length===a[s+1].length){const t=a[a.length-1],n=t[t.length-1];e.map((e=>e.id)).indexOf(n.id)<e.length/2&&(i=s)}let l;return l=-1!==i?s-i+1:a.length-s,n[r]={weight:l,nodes:t[r]},n}),{})}(s.nodes),d=Object.keys(c);let u=d;if(a>0){const e=t.getNodesAtLevel(a-1);u=d.sort(((t,n)=>{const i=e.find((e=>e.id===t)),o=e.find((e=>e.id===n));return i.index-o.index}))}const h=Object.keys(c).length,p=a!==t.levels.length-1?n:null;return i.h("div",{ref:Object(l.default)(this,`level${a}`),style:p,class:"level",key:a},u.map((n=>{const{nodes:s,weight:r}=c[n],l=s.map((e=>this.nodeRefs[e.id])),d=this.nodeRefs[n],u=this.nodeRefs[`level${a}`];return i.h(i.Fragment,{key:`branches${n}`},this.treeMounted&&u&&d&&l.length>0&&i.h(o.default,{key:n,parentId:n,totalWeight:h,weight:r,levelRef:u,parentNodeRef:d,nodeRefs:l,highlight:!t.isArchived()&&n===e}),i.h("div",{key:`nodes${n}`,class:"nodes"},s.map(this.renderNode)))})))}))]}render(){const{tree:e}=this.props;return e.isRootTree()?this.renderNode(e.root):i.h("div",{class:"styleguideTree"},this.renderLevels())}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1407);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1408),s=n(724),a=n.n(s);n(1409);const r=136;t.default=function(e){const{parentId:t,levelRef:n,parentNodeRef:s,nodeRefs:l,totalWeight:c,weight:d,highlight:u}=e,h=l[0].getBoundingClientRect(),p=l[l.length-1].getBoundingClientRect(),f=n.getBoundingClientRect(),g=s.getBoundingClientRect().left+r,m=Math.min(h.left+r,g),b=Math.max(p.right-r,g)-m,S=h.left+r-g>0,y=o.TOTAL_LEVEL_GAP/(c+1)*d,v=o.TOTAL_LEVEL_GAP-y,O=`M2,${y} l${b},00 `,C=(S?h.left-m+r:0)+2,E=Array(l.length).fill().reduce(((e,t,n)=>e.concat(i.h("path",{key:n,d:`M${C+296*n},${y} l00,${v}`}))),[]),T=`M${2+(S?0:g-m)},00 l00,${y}`,_=m-f.left-2,P=a()("branches",{highlight:u});return i.h("svg",{class:P,"data-parentId":t,style:{left:_,top:-o.TOTAL_LEVEL_GAP},width:b+4,height:o.TOTAL_LEVEL_GAP},E,i.h("path",{d:O}),i.h("path",{d:T}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"TOTAL_LEVEL_GAP",(function(){return i}));const i=48},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1411);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1199),s=n(1412),a=n(1027),r=n(1251),l=n(953),c=n.n(l),d=n(1239),u=n(1415),h=n(634),p=n(686),f=n(852),g=n(959),m=n(1255),b=n(590),S=n.n(b),y=n(703),v=n(547),O=n(548),C=n(1220),E=n(553),T=n(1260),_=n.n(T);n(1429);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I="transferOwnership",j="selectParent";class D extends i.Component{constructor(...e){super(...e),P(this,"transferOwnershipPayload",{}),P(this,"state",{contextMenu:null,visibleDialogType:null,visiblePopoverType:null,transferOwnershipPopupVisible:!1,selectParentPopupVisible:!1,selectedParentStyleguide:null}),P(this,"getCurrentUser",(()=>{const{selectedOrganizationId:e,currentOrganizationProfile:t,currentUserId:n}=this.context,{node:{data:{users:i}}}=this.props;let o;return o="user"===e?i.find((e=>e.user._id===n)):t,o})),P(this,"openTransferOwnershipPopup",(()=>{this.setState({visiblePopoverType:I})})),P(this,"openSelectParentPopup",(()=>{this.setState({visiblePopoverType:j})})),P(this,"closePopovers",(()=>{this.setState({visiblePopoverType:null})})),P(this,"openArchiveDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.ARCHIVE})})),P(this,"openTransferDialog",((e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:v.DialogTypes.TRANSFER})})),P(this,"openLeaveDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.LEAVE})})),P(this,"openDeleteDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.DELETE})})),P(this,"openSelectParentDialog",(e=>{const{currentStyleguides:t}=this.context,n=t.find((t=>t._id===e._id));this.setState({visibleDialogType:v.DialogTypes.SELECT_PARENT,selectedParentStyleguide:n})})),P(this,"openRemoveParentDialog",(()=>{this.setState({visibleDialogType:v.DialogTypes.REMOVE_PARENT})})),P(this,"closeDialogs",(()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null,selectedParentStyleguide:null})})),P(this,"selectParent",(()=>{const{selectedParentStyleguide:{_id:e}}=this.state,{node:{data:{_id:t,parent:n}},onParentSelect:i}=this.props;i({stid:t,parent:e,oldParent:n})})),P(this,"generateShortlink",(()=>{Object(C.fetchShortlink)(this.webURL)})),P(this,"handleContextMenu",(e=>{this.setState({contextMenu:{origin:e}})})),P(this,"handleContextMenuClose",(()=>{this.setState({contextMenu:null})})),P(this,"handleMouseEnter",(()=>{const{node:{id:e},onMouseEnter:t}=this.props;t&&t(e)})),P(this,"handleMouseLeave",(()=>{const{onMouseLeave:e}=this.props;e&&e()})),P(this,"handleDelete",(()=>{const{node:{data:{_id:e}},onDelete:t}=this.props;t({stid:e})})),P(this,"handleOpenCopyBarrelDialog",(()=>{const{node:{data:{_id:e,name:t}},onOpenCopyStyleguideDialog:n}=this.props;n({barrelId:e,barrelName:t})})),P(this,"handleArchive",(()=>{const{node:{data:{_id:e}},onArchive:t}=this.props;t({stid:e})})),P(this,"handleActivate",(()=>{const{node:{data:{_id:e}},onActivate:t}=this.props;t({stid:e})})),P(this,"handleTransferOwnership",(()=>{const{selectedOrganizationId:e,currentUserId:t}=this.context,{onTransferOwnership:n,node:{data:{_id:i}}}=this.props,{selected:o,toOrganization:s}=this.transferOwnershipPayload;n({stid:i,fromUserId:t,targetId:o,toOrganization:s,oid:e})})),P(this,"handleLeave",(()=>{const{node:{data:{_id:e}},onLeave:t}=this.props,n=this.getCurrentUser();this.closeDialogs(),t({bid:e,mid:n.user._id})})),P(this,"handleInvite",(()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,node:{data:{_id:n,users:i}}}=this.props;t({container:this.nodeRefs.base,stid:n,users:i,oid:e}),this.closePopovers()})),P(this,"handleCopyWebLink",(()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(Object(C.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})})),P(this,"handleCopyAppUri",(()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})})),P(this,"handleJoinFromContextMenu",(()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,actionSource:_.a.CONTEXT_MENU})})),P(this,"handleJoinFromCard",(()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,actionSource:_.a.SPACE_CARD})})),P(this,"handleParentRemove",(()=>{const{node:{data:{_id:e,parent:t}},onParentRemove:n}=this.props;n({stid:e,oldParent:t})}))}get webURL(){return Object(p.urlResolve)("styleguide",{url:{bid:this.props.node.id}})}get appURI(){return`${O.ZPL_PROTOCOL}//styleguide?stid=${this.props.node.id}`}componentDidMount(){const{node:{id:e},scroll:t,onMount:n}=this.props,{workspaceRef:i}=this.context,{base:o}=this.nodeRefs;t&&o&&!Object(g.isElementVisible)(o,i)&&o.scrollIntoView(),n&&n(e,o)}renderTransferOwnershipPopup(){const{node:{data:{users:e}}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:s}=this.context,a=Object(m.getTransferableUsers)(e,s,n),r=Object(m.getTransferableOrganizations)(t,o,n);return i.h(d.default,{barrelType:S.a.STYLEGUIDE,users:a,organizations:r,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderDialog(e){const{organizations:t}=this.context,{node:{data:{name:n,users:o,type:s,parent:l}}}=this.props,{selected:c,toOrganization:d}=this.transferOwnershipPayload;if(e===v.DialogTypes.DELETE)return i.h(r.default,{title:"Enter the name of the styleguide to confirm:",placeholder:"Styleguide name",confirmationText:n,onDelete:this.handleDelete,onClose:this.closeDialogs});let u,h,p,f;switch(e){case v.DialogTypes.TRANSFER:{let e;if(d)e=t.find((e=>e._id===c)).name;else{const t=o.find((e=>e.user._id===c)).user;e=Object(E.getUserDisplayName)(t)}u="TRANSFER",h=`Transfer ownership of “${n}” to ${e}?`,p=this.handleTransferOwnership;break}case v.DialogTypes.LEAVE:u="LEAVE",h=`Leave “${n}”?`,p=this.handleLeave;break;case v.DialogTypes.ARCHIVE:u="ARCHIVE",h=`Archive “${n}”?`,p=this.handleArchive;break;case v.DialogTypes.SELECT_PARENT:{const{selectedParentStyleguide:e}=this.state;if(!e)return null;const{name:t,type:i}=e,o=s===i||i===v.PLATFORM.BASE;u=`${l?"CHANGE":"SELECT"}${o?"":" ANYWAY"}`;const a=l?"to":"as";f=`${l?"Change":"Select"} parent styleguide of ${`“${n}”`+(o?"":` (${v.PlatformString[s]})`)} ${a} ${`“${t}”`+(o?"":` (${v.PlatformString[i]})`)}?`,h="Styleguide parent can be changed later.",p=this.selectParent;break}case v.DialogTypes.REMOVE_PARENT:u="REMOVE PARENT",h=`Remove parent styleguide of “${n}”?`,p=this.handleParentRemove}return i.h(a.BasicOverlayDialog,{positiveButtonText:u,onPositiveButtonClick:p,onClose:this.closeDialogs,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:h,title:f})}renderContextMenu(e){const{contextMenu:{origin:t}}=this.state,{node:{data:n}}=this.props;return i.h(s.default,{currentUser:this.getCurrentUser(),styleguide:n,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.openTransferOwnershipPopup,onCopyStyleguide:this.handleOpenCopyBarrelDialog,onInvite:this.handleInvite,onJoin:this.handleJoinFromContextMenu,onLeave:this.openLeaveDialog,onParentSelect:this.openSelectParentPopup,onParentRemove:this.openRemoveParentDialog,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,selectableParentStyleguidesLength:e,autoPosition:{clickOrigin:t}})}renderPopovers(e){const{visiblePopoverType:t}=this.state;if(!t)return null;let n;switch(t){case I:n=this.renderTransferOwnershipPopup();break;case j:n=i.h(u.default,{styleguides:e,onSelect:this.openSelectParentDialog})}return i.h(c.a,{targetNode:this.nodeRefs.base,onClose:this.closePopovers,content:n,top:-12,left:-236,faceTop:!0,open:!0})}render(){const{filterValue:e,selectedOrganizationId:t,currentStyleguides:n}=this.context,{contextMenu:s,visibleDialogType:a}=this.state,{node:r,node:{id:l,parentId:c,data:{type:d,name:u,users:g,thumbnail:m,updated:b}},highlight:S,archived:v,onClick:O,onHover:C}=this.props,E=Object(p.urlResolve)("styleguide",{url:{bid:l}}),T=g.sort(h.sortBy.role),_=Object(y.getSelectableParentStyleguides)({isOrganizationStyleguide:"user"!==t,currentStyleguides:n,currentUser:this.getCurrentUser(),id:l,parentId:c,users:g});return i.h("div",{ref:Object(f.default)(this,"base"),class:"styleguideCard",onMouseLeave:v||r.isLeaf()?null:this.handleMouseLeave,onMouseEnter:v||r.isLeaf()?null:this.handleMouseEnter},i.h(o.default,{id:l,onClick:O,onHover:C,link:E,type:d,name:u,members:T,source:m,updated:b,onContextMenu:this.handleContextMenu,contextMenu:s&&this.renderContextMenu(_.length),filterValue:e,highlight:S,archived:v,onJoin:this.handleJoinFromCard,pinnable:!1,selectable:!1}),a&&this.renderDialog(a),this.renderPopovers(_))}}t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(1413);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o),a=n(610),r=n(1414);class l extends i.Component{renderOwnershipItems(){const{currentUser:e,onTransferOwnership:t,onCopyStyleguide:n}=this.props,o=a.permissions.canTransferOwnership(e),r=a.permissions.canCopyBarrel(e);return[i.h(s.a.ItemDivider,{key:"ownershipDivider"}),o&&i.h(s.a.Item,{key:"transferOwnership",onClick:t},"Transfer ownership…"),r&&i.h(s.a.Item,{key:"copyStyleguide",onClick:n},"Make a copy…"),(o||r)&&i.h(s.a.ItemDivider,{key:"ownershipDividerEnd"})]}renderParentItems(){const{currentUser:e,onParentSelect:t,onParentRemove:n,selectableParentStyleguidesLength:o,styleguide:{parent:l,status:c}}=this.props;if(c===r.default.ARCHIVED)return null;const d=a.permissions.canUpdateStyleguide(e),u=d&&o>0;return[!l&&u&&i.h(s.a.Item,{key:"selectParent",onClick:t},"Select parent styleguide"),l&&u&&i.h(s.a.Item,{key:"changeParent",onClick:t},"Change parent styleguide"),l&&d&&i.h(s.a.Item,{key:"removeParent",onClick:n},"Remove parent styleguide"),(l||u)&&i.h(s.a.ItemDivider,{key:"parentItemDividerEnd"})]}renderStatusItems(){const{currentUser:e,onActivate:t,onArchive:n,styleguide:{status:o}}=this.props,l=a.permissions.canChangeStyleguideStatus(e),c=a.permissions.canChangeStyleguideStatus(e),d=o===r.default.ARCHIVED;return[!d&&l&&i.h(s.a.Item,{key:"archive",onClick:n},"Archive styleguide"),d&&c&&i.h(s.a.Item,{key:"activate",onClick:t},"Activate styleguide")]}renderWarningItems(){const{currentUser:e,onLeave:t,onDelete:n}=this.props,o=a.permissions.canDeleteStyleguide(e);return[a.permissions.canLeaveStyleguide(e)&&i.h(s.a.Item,{key:"leave",onClick:t,warning:!0},"Leave styleguide"),o&&i.h(s.a.Item,{key:"delete",onClick:n,warning:!0},"Delete styleguide")]}renderCopyLinks(){const{styleguide:{status:e},onCopyWebLink:t,onCopyAppUri:n}=this.props,o=e===r.default.ARCHIVED;return[!o&&i.h(s.a.Item,{key:"copyWebLink",onClick:t},"Copy styleguide web link"),!o&&i.h(s.a.Item,{key:"copyApiUri",onClick:n},"Copy styleguide app URI")]}renderItems(){const{currentUserId:e}=this.context,{styleguide:{users:t},onInvite:n,onJoin:o}=this.props;return t.some((t=>t.user._id===e))?[i.h(s.a.Item,{key:"invite",onClick:n},"Invite…"),this.renderCopyLinks(),this.renderOwnershipItems(),this.renderParentItems(),this.renderStatusItems(),this.renderWarningItems()]:[i.h(s.a.Item,{key:"join",onClick:o},"Join"),this.renderCopyLinks()]}render(){const{autoPosition:e,onClose:t,onOpen:n}=this.props;return i.h(s.a.overlay,{autoPosition:e,onClose:t,onOpen:n},this.renderItems())}}t.default=l},function(e,t,n){"use strict";n.r(t),t.default={ROOT:"root",ARCHIVED:"archived",BRANCHED:"branched"}},function(e,t,n){"use strict";n.r(t);var i=n(1416);n.d(t,"default",(function(){return i.default})),n.d(t,"NoStyleguides",(function(){return i.NoStyleguides})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return i.NoStyleguidesForNonOwnerUser})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return i.NoStyleguideToMoveInOrganization})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return i.NoStyleguideToMoveNonOwner})),n.d(t,"NoStyleguideToMove",(function(){return i.NoStyleguideToMove}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NoStyleguides",(function(){return d})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return c})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return u})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return h})),n.d(t,"NoStyleguideToMove",(function(){return p}));var i=n(4),o=n(1417),s=n(686),a=n(852),r=n(703);n(1428);const l=({title:e="No styleguides to link yet",children:t})=>i.h("div",{class:"linkToStyleguidePopupEmpty"},i.h("h3",null,e),t),c=({projectOwnerName:e})=>i.h(l,null,i.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.h("strong",null,e)," and you’re not invited to any of their styleguides.")),d=({hasOrganization:e})=>i.h(l,null,i.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"there’s no workspace styleguide yet":"you don’t have a styleguide yet",", ",i.h("a",{href:Object(s.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),u=({oid:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,"Looks like there’s no workspace styleguide yet, ",i.h("a",{href:Object(s.urlResolve)("workspace-styleguides",{url:{oid:e}}),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),h=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and you’re not invited to any of their styleguides.")),p=({resourceType:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you don’t have a styleguide yet, ",i.h("a",{href:Object(s.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."));class f extends i.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(r.generateTrees)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find((t=>t._id===e));this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find((t=>t._id===e)));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=`${this.nodeRefs.base.clientHeight}px`),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(r.generateTrees)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:s}=this.props;return i.h("div",{ref:Object(a.default)(this,"base"),class:"linkToStyleguidePopup"},i.h("p",{class:"noSelect"},s),i.h(o.default,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}f.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1418);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1419),s=n(731),a=n(724),r=n.n(a),l=n(547);n(1427);function c({name:e,type:t,selected:n,loading:o}){const a=r()("nodeItem",{selected:n});return i.h("div",{class:a},i.h("span",{class:"styleguideName ellipsis"},e),", ",i.h("span",{class:"nodeType"},t),o&&n&&i.h("div",{class:"nodeSpinner"},i.h(s.IconSpinner,{color:"#fff"})))}t.default=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:s,hoverable:a,loading:d,class:u}=e,h=function(e,t,n){return function e(o){return o.map((({id:o,data:{name:s,type:a},children:r})=>({id:o,title:s,children:e(r),content:i.h(c,{name:s,loading:n,type:l.PlatformString[a],selected:t===o})})))}(e.map((e=>e.root)))}(t,n,d),p=r()("styleguidesTreeView",u);return i.h(o.default,{class:p,tree:h,selectedNodeId:n,onNodeSelect:s,hoverable:!d&&a,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";n.r(t);var i=n(1420);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(610),r=n(624),l=n(544),c=n(724),d=n.n(c),u=n(852),h=n(1421),p=n(1424);n(1426);function f(e,t,n){return[].concat(...e.map((e=>(e.parent=n,t.includes(e.id)?e:[e].concat(f(e.children,t,e.id))))))}function g(e,t){for(const n of e){if(n.id===t)return n;const e=g(n.children,t);if(e)return e}return null}class m extends i.Component{constructor(e){super(e),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=f(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex((({id:t})=>t===e))}findNextSelectableNode(e,t,n){if(this.nodeList[t]){if(this.nodeList[t].nonSelectable){let i;return i=n?"mac"===Object(l.getOS)()&&e.metaKey?this.nodeList.length-1:t+1:"mac"===Object(l.getOS)()&&e.metaKey?0:t-1,this.findNextSelectableNode(e,i,n)}return this.nodeList[t]}}toggleExpand(e){this.nodeRefs.base.focus({preventScroll:!0}),this.setState((t=>{const{collapsedNodes:n}=t;return n.includes(e)?Object(r.arrayRemove)(n,(t=>t===e)):n.push(e),{collapsedNodes:n}}))}handleStartDrag(e){const{collapsedNodes:t}=this.state;t.includes(e)||this.setState({collapsedNodes:[...t,e]})}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.toggleExpand(e);const i=g(t,e);var o;o=n,g(i.children,o)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:o}=this.props,{nonSelectable:s,expandOnClick:a}=this.nodeList.find((({id:t})=>t===e));if(a&&this.toggleExpand(e),o||s)return;this.setState({selectedNodeId:e});const r=t?300:4;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,r,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e)}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(l.getOS)()&&e.metaKey?this.nodeList.length-1:n+1,o=this.findNextSelectableNode(e,i,!0);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(l.getOS)()&&e.metaKey?0:n-1,o=this.findNextSelectableNode(e,i,!1);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const{id:e}=this.nodeList[0];this.handleNodeSelect(e,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){if(Object(l.cmdKey)(e)||e.altKey||e.shiftKey)return;let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:o}=e,{collapsedNodes:s}=t;n.length!==s&&(this.nodeList=f(i,s,null)),o!==this.props.selectedNodeId&&this.setState({selectedNodeId:o})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t,n){const{nodeClass:o,nodePadding:s,dragDropEnabled:a,onComponentToSectionNodeDrop:r,onReorderComponentSectionOrGroup:l,allowScrollOnMount:c,compareIdsForHighlight:d}=this.props,{collapsedNodes:u,selectedNodeId:f}=this.state;return e.map((({id:g,idPath:m,styleguideId:b,title:S,content:y,class:v,nodePadding:O,children:C},E)=>{const T=u.includes(g),_=f===g,P=d&&d(g,f),I=a?p.default:h.default,j=O||s;return i.h("div",{key:`tree-${g}`,class:"tree"},i.h(I,{key:`node-${g}`,class:[o,v],extraPadding:j,id:g,index:E+1,parentIndex:n,idPath:m,styleguideId:b,title:S,level:t,numberOfChildren:C.length,lastNode:e.length===E+1,collapsed:T,selected:_||P,allowScrollOnMount:c,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover,onStartDrag:this.handleStartDrag,onComponentToSectionNodeDrop:r,onReorderComponentSectionOrGroup:l},y),0!==C.length&&!T&&this.renderTree(C,t+1,E+1))}))}render(){const{class:e,tree:t,startingLevel:n=1}=this.props,o=d()("treeView",e);return i.h("div",{class:o,tabIndex:"0",ref:Object(u.default)(this,"base"),onClick:a.stopPropagation,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,n,null))}}const b={id:s.a.string.isRequired,title:s.a.string.isRequired,content:s.a.node.isRequired},S=s.a.shape(b);S.children=s.a.arrayOf(S).isRequired,m.propTypes={class:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),nodeClass:s.a.string,nodePadding:s.a.number,dragDropEnabled:s.a.bool,tree:s.a.arrayOf(S).isRequired,selectedNodeId:s.a.string,compareIdsForHighlight:s.a.func,onNodeSelect:s.a.func.isRequired,allowScrollOnMount:s.a.bool,hoverable:s.a.bool,focusOnMount:s.a.bool,frozen:s.a.bool},m.defaultProps={allowScrollOnMount:!0},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1422);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NodeMirror",(function(){return f}));var i=n(4),o=n(5),s=n.n(o),a=n(731),r=n(959),l=n(724),c=n.n(l),d=n(852),u=n(1423);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class p extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleBaseRef(e){const{baseRef:t,mirror:n}=this.props;Object(d.default)(this,"base")(e),!n&&t&&t(e)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e,o=i.toChildArray(t),s=i.toChildArray(n);if(o.length!==s.length)return!0;for(const[i,a]of Object(u.default)(o,s))if(i!==a)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.numberOfChildren!==e.numberOfChildren||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected||this.props.class!==e.class||this.props.dragging!==e.dragging||this.props.targetPosition!==e.targetPosition}componentDidUpdate(e){const{allowScrollOnMount:t,selected:n}=this.props;!n||e.selected&&!t||Object(r.scrollIfNecessary)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:o,level:s,numberOfChildren:r,collapsed:l,selected:d,dragging:u,targetPosition:h,mirror:p}=this.props,f=c()("node",t,h,{selected:d,mirror:p,dragging:u}),g=c()("chevron",{collapsed:l}),m=n+12*s+(r?8:24);return i.h(i.Fragment,null,"top"===h&&i.h("span",{class:"dragDropNode placeholder"}),i.h("div",{class:f,style:{paddingLeft:m},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:this.handleBaseRef},!!r&&i.h("button",{class:g,onClick:this.handleChevronClick},i.h(a.IconChevron,null)),i.h("span",{class:"nodeName ellipsis noSelect",title:o},e)),"bottom"===h&&i.h("span",{class:"dragDropNode placeholder"}))}}const f=e=>{let t=Object.assign({},e);return i.h(p,h({},t,{mirror:!0,collapsed:!0}))};p.propTypes={class:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),extraPadding:s.a.number,id:s.a.string.isRequired,level:s.a.number.isRequired,children:s.a.oneOfType([s.a.node,s.a.element]).isRequired,title:s.a.string.isRequired,numberOfChildren:s.a.number.isRequired,collapsed:s.a.bool.isRequired,allowScrollOnMount:s.a.bool.isRequired,selected:s.a.bool.isRequired,dragging:s.a.bool.isRequired,mirror:s.a.bool,targetPosition:s.a.oneOf(["","into","top","bottom"]),onNodeSelect:s.a.func.isRequired,onChevronClick:s.a.func.isRequired},p.defaultProps={extraPadding:0},t.default=p},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){const t=e.map((e=>e[Symbol.iterator]()));for(;;){const e=t.map((e=>e.next()));if(e.some((e=>e.done)))return e.map((e=>e.value));yield e.map((e=>e.value))}}},function(e,t,n){"use strict";n.r(t);var i=n(1425);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1422),s=n(1157),a=n(724),r=n.n(a),l=n(852);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h="StyleguideSectionNode",p="StyleguideComponent",f=0,g=1,m=2,b=Object(s.DropTarget)({acceptsItemType:[h,p],onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop(e,t){const{idPath:n,index:i}=t.dragData;e.onDrop({idPath:n,index:i},t)}})(o.default),S=Object(s.DragSource)({itemType:h,mirrorComponent:o.NodeMirror,provideDragData:e=>e,onStartDrag:e=>{const{id:t,onStartDrag:n}=e;n(t)}})(b);class y extends i.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1,targetPosition:""}),u(this,"setTargetPosition",((e,t)=>{const{level:n,numberOfChildren:i,lastNode:o,collapsed:s}=this.props,{targetPosition:a}=this.state;if(t===m&&n===f)return;if(n===f)return void this.setState({targetPosition:"bottom"});if(n===g&&t===n&&i&&!s)return void this.setState({targetPosition:"top"});if(t===g&&n===m)return void(o&&this.setState({targetPosition:"bottom"}));if(t===m&&n===g)return void this.setState({targetPosition:"into"});const r=this.nodeRefs.base.getBoundingClientRect(),l=r.top+r.height/2,c=e.top>=l?"bottom":"top";a!==c&&this.setState({targetPosition:c})})),u(this,"calculateMoveIndex",((e,t,n)=>{let i=t;return e>i&&n?i++:e<i&&!n&&i--,i})),u(this,"unsetTargetPosition",(()=>{this.state.targetPosition&&this.setState({targetPosition:""})})),u(this,"setSectionHeaderHover",(e=>{const{barrelId:t}=this.context,{styleguideId:n}=this.props;t===n&&t===e&&this.setState({hovered:!0})})),u(this,"unsetSectionHeaderHover",(()=>{this.state.hovered&&this.setState({hovered:!1})})),u(this,"handleComponentDrop",((e,t)=>{if(!this.state.hovered)return;const{idPath:n,onComponentToSectionNodeDrop:i}=this.props;i(e,n,t)})),u(this,"handleNodeDrop",((e,t,n)=>{const{id:i,idPath:o,index:s,parentIndex:a,level:r,numberOfChildren:l,onReorderComponentSectionOrGroup:c}=this.props,{targetPosition:d}=this.state;if(!d)return;const u="bottom"===d,h={csid:e,sourceIndex:t};if(n===g&&r===f){if(1===t)return;h.to=1}else if(n===g&&r===g){const e=this.calculateMoveIndex(t,s,u);if(e===t)return;h.to=e}else if(n===g&&r===m){const e=this.calculateMoveIndex(t,a,u);if(e===t)return;h.to=e}else if(n===m&&r===g){if(i===e[0])return;h.tcsid=o,h.to=l}else if(n===m&&r===m){const[n]=e,[i]=o,a=n===i?this.calculateMoveIndex(t,s,u)-1:s-Number(!u);if(n===i&&a===t-1)return;h.to=a,h.tcsid=[i]}c(h)})),u(this,"handleDragHover",((e,t)=>{const{draggingItemType:n,dragData:i}=t;n===h?this.setTargetPosition(e,i.level):n===p&&this.setSectionHeaderHover(i.styleguideId)})),u(this,"handleDragHoverOut",(e=>{e===h?this.unsetTargetPosition():e===p&&this.unsetSectionHeaderHover()})),u(this,"handleDrop",(({idPath:e,index:t},n)=>{const{draggingItemType:i,dragData:{level:o}}=n;i===h?this.handleNodeDrop(e,t,o):i===p&&this.handleComponentDrop(e,t)}))}render(){const{barrelId:e}=this.context,{hovered:t,targetPosition:n}=this.state,s=this.props,{class:a,level:u}=s,h=d(s,["class","level"]),p=u===f?b:S;return e===this.props.styleguideId?i.h(p,c({},h,{level:u,class:r()("dragDropNode",a,{dropHover:t||"into"===n}),baseRef:Object(l.default)(this,"base"),targetPosition:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop})):i.h(o.default,this.props)}}t.default=y},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1432);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1433);t.default=function(e,t){const{selectedOrganizationId:n,filterValue:o,canCreateStyleguide:s}=t,a="user"!==n;return i.h("div",{class:"emptyActiveStyleguides"},i.h("h3",null,"No ",a?"joined":"active"," styleguides ",o?"with this name/type. 🤷":"currently."),!o&&a&&i.h("p",null,s?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1435);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o);n(1436);const a=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("rect",{width:"80",height:"40",x:"188",fill:"#979197",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"130",y:"64",fill:"#979197",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#979197","stroke-width":"2",d:"M170 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#979197","fill-rule":"nonzero",d:"M227 40h2v12h-2z"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"210.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"200.314",y:"31"},"Styleguide")),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"156.494",y:"81"},"Child")," ",i.h("tspan",{x:"142.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"246",y:"64",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"272.494",y:"81"},"Child")," ",i.h("tspan",{x:"258.314",y:"95"},"Styleguide")),i.h("path",{fill:"#979197",d:"M283.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M340.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M425.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M178.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M97.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045.51-.472 1.01-.958 1.494-1.457.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"148",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"160.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"394",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"406.051",y:"181"},"Project"))));t.default=function({onHideClick:e,hideButtonText:t}){return i.h("div",{class:"styleguidesHintBoxContainer"},i.h(s.a,{class:"styleguidesHintBox",onHideClick:e,hideButtonText:t,hideEmoji:!0},i.h("div",{class:"topContainer"},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"text"},i.h("h5",null,"Curate your design system 🍡"),i.h("p",null,"Here, you can explore styleguides created by you or your team. Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides."))),i.h("div",{class:"imageContainer"},a)))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1439);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1440),s=n(1027);n(1472);t.default=function(e){const{styleguide:t,loading:n,onClose:a,onJoin:r}=e,{name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,componentSections:[{components:f}]=[{}]}=t;return i.h(s.default,{class:"styleguidePreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:r,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:a,width:"66vw"},n?i.h("div",{class:"styleguidePreviewDialogLoadingBody"},i.h(o.StyleguidePreviewLoading,null)):i.h("div",{class:"styleguidePreviewDialogBody"},i.h(o.default,{name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,components:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(1441);n.d(t,"StyleguidePreviewLoading",(function(){return i.default}));var o=n(1453);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1442);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),s=n(610),a=n(1443),r=n(1446),l=(n(1452),n(724)),c=n.n(l);class d extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(s.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:c()("styleguidePreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"styleguidePreviewLoadingHead"}),i.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},(()=>i.h("div",{class:"styleguidePreviewLoadingMember"})))}(e)),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/72);return Array.from({length:2*t},(()=>i.h(a.ColorPreviewPlaceholder,null)))}(e))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:6},(()=>i.h(r.Placeholder,null))))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/108);return Array.from({length:2*t},(()=>i.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"})))}(e))))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1444);n.d(t,"default",(function(){return i.default})),n.d(t,"ColorPreviewPlaceholder",(function(){return i.ColorPreviewPlaceholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ColorPreviewPlaceholder",(function(){return o}));var i=n(4);n(1445);function o(){return i.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.default=function({color:e}){return i.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1447);n.d(t,"default",(function(){return i.default})),n.d(t,"Placeholder",(function(){return i.Placeholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Placeholder",(function(){return a}));var i=n(4),o=n(1448);n(1451);class s extends i.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:o}}=this.props,s={fontSize:e,fontWeight:n,fontStyle:o};return i.h("span",{style:s},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:s}=Object(o.getMainInfo)(t);return i.h("div",{class:"previewTextStyleCatalogRowStyle"},i.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(s))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(o.getExtraInfo)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.h("div",{class:"previewTextStyleCatalogColorContainer"},i.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?`#${t.name}`:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}function a(){return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName"},i.h("div",{class:"placeholder"})),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"placeholder"})))}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"REGISTERED_AXES",(function(){return r})),n.d(t,"enumerateFontVariationSettings",(function(){return c})),n.d(t,"getMainInfo",(function(){return d})),n.d(t,"getExtraInfo",(function(){return u}));var i=n(4),o=n(583),s=n(1449),a=n(1450);const r=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort((([e],[t])=>e in r&&t in r?l[e]-l[t]:e in r&&!(t in r)?-1:!(e in r)&&t in r?1:e<t?-1:1))}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:s,weightText:a,fontVariationSettings:r}=e,l=r||"normal"===s?"":` ${Object(o.uppercaseFirst)(s)}`,c=r||"normal"===n?"":` ${Object(o.uppercaseFirst)(n)}`,d=r?"":Object(o.uppercaseFirst)(a);return{content:`${t}${l}${d||c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let h=[];if(n&&"left"!==n&&h.push(Object(o.uppercaseFirst)(n)),u){const t=c(u).map((([t,n])=>i.h("span",{key:t},r[t]||i.h("code",null,t),": ",e.fontVariationAxis(n))));h.push(...t)}return l&&h.push(`Line height: ${e.textLength(l)}`),"number"==typeof d&&h.push(`Letter spacing: ${e.letterSpacing(d)}`),h=[...Object(s.default)(h,Object(a.default)(", "))],h.pop(),h}},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map((e=>e[Symbol.iterator]()));let n,i=0,o=t[0].next();for(;;)if(n=o,i=(i+1)%t.length,o=t[i].next(),yield n.value,o.done)return}}},function(e,t,n){"use strict";n.r(t),t.default=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(4),o=n(610),s=n(724),a=n.n(s),r=n(582),l=n(547),c=n(1454),d=n(1460),u=n(1464),h=n(1468),p=n(1207),f=n(831);n(1471);function g(e){const{loading:t,name:n,type:s,users:g,densityScale:m,colors:b,textStyles:S,components:y,showJoinButton:v,loadingJoin:O,onJoin:C,headerSticky:E}=e;if(t)return null;const T=b&&!!b.length,_=S&&!!S.length,P=y&&!!y.length,I=!T&&!_&&!P,j=Object(o.getDensityScaleRepresentation)(s,m);return i.h("div",{class:"styleguidePreview"},i.h("div",{class:a()("styleguidePreviewHeader",{sticky:E})},i.h("div",null,i.h("h1",null,n),i.h("h5",null,i.h("span",{class:"styleguidePreviewType"},l.PlatformString[s]),m&&i.h("span",{class:"styleguidePreviewDensity"},", ",j))),v&&i.h(f.default,{class:"styleguidePreviewJoinButton",onClick:C},O?i.h("img",{src:Object(r.imageUrl)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.h(p.default,{members:g,class:"styleguidePreviewMembers",avatarSize:36}),T&&i.h(c.default,{colors:b}),_&&i.h(d.default,{textStyles:S}),P&&i.h(u.default,{components:y}),I&&i.h(h.default,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1455);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1443),s=n(1456),a=n(852);n(1459);class r extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame((()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}))}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,10),r=n.length,l=t.length>=10,c=Math.floor(e/72),d=c-r%c;let u;return u=d===c?c:c+d,i.h(s.default,{name:"Color Palette"},i.h("div",{class:"styleguidePreviewColorPalette",ref:Object(a.default)(this,"contentWrapper")},n.map((e=>i.h(o.default,{color:e,key:e.id}))),l&&Array.from({length:u},(()=>i.h(o.ColorPreviewPlaceholder,null)))))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1457);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1458);t.default=function(e){const{name:t,children:n}=e;return i.h("div",{class:"styleguidePreviewSection"},i.h("div",{class:"styleguidePreviewSectionHeader"},t),i.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1461);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1456),s=n(1446),a=n(1462);n(1463);t.default=function(e){const{textStyles:t}=e,n=new a.default({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),r=t.slice(0,6);return i.h(o.default,{name:"Text Style Catalog"},i.h("div",{class:"styleguidePreviewTextStyleCatalog"},r.map((e=>i.h(s.default,{formatter:n,textStyle:e}))),t.length>=6&&[i.h(s.Placeholder,null),i.h(s.Placeholder,null)]))}},function(e,t,n){"use strict";n.r(t);var i=n(607);const o=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.default=class{constructor(e){this.project=e}percentage(e,t=0){return`${Object(i.round)(100*e,t)}%`}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.round)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.round)(e,2))}colorString(e,t){return e.toPlatformString(this.project.type,t)}alpha(e){return o.format(e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1465);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1456),s=n(1466),a=n(610),r=n(852);n(1467);const l=()=>{};class c extends i.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(a.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-6,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,a=n.slice(0,10),c=n.length>=10,d=Math.max(Math.floor(t/108),0),u=Math.floor(e/108)+d;return i.h(o.default,{name:"Components"},i.h("div",{class:"styleguidePreviewComponents",ref:Object(r.default)(this,"contentWrapper")},a.map(((e,t)=>{const{latestVersion:{snapshot:{width:n,height:o,url:c}}}=e,d=t===a.length-1?Object(r.default)(this,"lastComponentEl"):l;return i.h(s.default,{key:t,width:n,height:o,url:c,baseRef:d})})),c&&Array.from({length:u},(()=>i.h(s.ComponentPlaceholder,null)))))}}t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentPlaceholder",(function(){return r}));var i=n(4),o=n(724),s=n.n(o),a=n(582);class Component extends i.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(a.getImageProperties)(e).then((({lightness:e})=>{this.setState({lightness:e})})).catch((()=>{this.setState({lightness:"dark"})}))}render(){const{lightness:e}=this.state,{width:t,height:n,url:o,baseRef:a}=this.props,r={width:(l=t,12*Math.ceil(l/12)+48)};var l;const c=s()("styleguidePreviewComponentContent",e);return i.h("div",{class:"styleguidePreviewComponent",style:r,ref:a},i.h("div",{class:c,style:{paddingBottom:100*n/t+"%"}},i.h("img",{class:"noSelect",width:t,height:n,src:o})))}}function r(){return i.h("div",{class:"styleguidePreviewComponent"})}t.default=Component},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1469);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1470);t.default=function(){return i.h("div",{class:"styleguidePreviewEmptyBody"},i.h("h1",null,"No colors, text styles or components yet."),i.h("h3",null,"Join and upload the first."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1474);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1027),s=n(1417),a=n(849),r=n.n(a),l=n(1475),c=n(724),d=n.n(c);n(1476);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"handleChange",(()=>{const{onChange:e,value:t}=this.props;e(t)}))}render(){const{selected:e,value:t,label:n,image:o,description:s,horizontal:a,tall:r}=this.props,l=d()("styleguideType",{selected:e,horizontal:a,tall:r});return i.h("label",{class:l},i.h("h5",null,n),!a&&i.h("div",{class:"imageWrapper"},o),i.h("p",null,s),i.h("input",{onClick:this.handleChange,type:"radio",value:t,name:"styleguideType"}))}}class p extends i.Component{constructor(...e){super(...e),u(this,"values",Object.keys(l.default).map((e=>l.default[e].value))),u(this,"state",{selected:this.values[0],selectedParentStyleguide:this.props.trees[0]?this.props.trees[0].root.id:null,chooseParentChecked:!1}),u(this,"handleChange",(e=>{this.setState({selected:e})})),u(this,"handleCheckboxChange",(e=>{const{trees:t}=this.props,n=e.target.checked,i=n&&t[0]?t[0].root.id:null;this.setState({chooseParentChecked:n,selectedParentStyleguide:i})})),u(this,"handleParentStyleguideChange",(e=>{this.setState({selectedParentStyleguide:e})})),u(this,"handlePositiveButtonClick",(()=>{const{onCreate:e}=this.props,{selected:t,selectedParentStyleguide:n,chooseParentChecked:i}=this.state;i?e(t,n):e(t)})),u(this,"handleKeyDown",(e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}}))}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderStyleguidesPicker(){const{selectedParentStyleguide:e}=this.state,{trees:t}=this.props;return i.h("div",{class:"styleguidesPicker"},i.h("p",null,"Choose a parent styleguide"),i.h("div",{class:"styleguidesTreeViewContainer"},i.h(s.default,{trees:t,selectedNodeId:e,onNodeSelect:this.handleParentStyleguideChange})))}render(){const{selected:e,chooseParentChecked:t}=this.state,{trees:n,onClose:s}=this.props;return i.h(o.default,{class:"createStyleguideDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:s,width:828,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody noSelect"},i.h("h1",null,"Choose a type"),i.h("div",{class:"bodyContainer box"},i.h("div",null,i.h("h3",null,"Platform-free"),i.h(h,{onChange:this.handleChange,value:l.default.BASE.value,label:l.default.BASE.label,image:i.h(l.default.BASE.Image,{selected:e===l.default.BASE.value}),description:l.default.BASE.description,selected:l.default.BASE.value===e,tall:!0})),i.h("div",{class:"splitter"}),i.h("div",{class:"platformTypesContainer"},i.h("h3",null,"Platform-specific"),i.h("div",{class:"platformSpecificTypes"},i.h(h,{onChange:this.handleChange,value:l.default.WEB.value,label:l.default.WEB.label,image:i.h(l.default.WEB.Image,{selected:e===l.default.WEB.value}),description:l.default.WEB.description,selected:l.default.WEB.value===e}),i.h(h,{onChange:this.handleChange,value:l.default.IOS.value,label:l.default.IOS.label,image:i.h(l.default.IOS.Image,{selected:e===l.default.IOS.value}),description:l.default.IOS.description,selected:l.default.IOS.value===e}),i.h(h,{onChange:this.handleChange,value:l.default.ANDROID.value,label:l.default.ANDROID.label,image:i.h(l.default.ANDROID.Image,{selected:e===l.default.ANDROID.value}),description:l.default.ANDROID.description,selected:l.default.ANDROID.value===e}),i.h(h,{onChange:this.handleChange,value:l.default.OSX.value,label:l.default.OSX.label,image:i.h(l.default.OSX.Image,{selected:e===l.default.OSX.value}),description:l.default.OSX.description,selected:l.default.OSX.value===e,horizontal:!0})))),n.length>0&&i.h("div",{class:"nestedStyleguides"},i.h("label",{class:"checkboxContainer"},i.h(r.a,{name:"chooseParent",onChange:this.handleCheckboxChange,checked:t}),i.h("div",{class:"checkboxInfoContainer"},i.h("h5",null,"Create as child styleguide"),i.h("p",null,"Creating as child styleguide will inherit colors, text styles and components from the parent styleguide."))),t&&this.renderStyleguidesPicker())))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default={BASE:{value:"base",label:"Base",description:"For parent styleguides with resources shared between platforms",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}},WEB:{value:"web",label:"Web",description:"Dimensions in px/% CSS and HTML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"nonzero",d:"M122 15h4a2 2 0 0 1 2 2v61a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h106a2 2 0 0 1 2 2v10zm-2 0V8H14v70h78V43H38a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h54V17a2 2 0 0 1 2-2h26zM92 38H38v4h54v-4zM52 4.5a1 1 0 0 0 0 2h30a1 1 0 0 0 0-2H52zm-37 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM94 20v58h32V20H94zm1-3.5a1 1 0 0 0 0 2h30a1 1 0 1 0 0-2H95zM97 45h26a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H97a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0 1v4h26v-4H97z"}))}},IOS:{value:"ios",label:"iOS",description:"Dimensions in pt, Objective-C/Swift export, PNG and PDF assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M122 10.162h-2.834a.417.417 0 0 0-.395.395c0 .757-.353 1.392-.888 1.759a1.95 1.95 0 0 1-1.107.34h-13.552c-1.102 0-1.995-.894-1.996-2.1a.417.417 0 0 0-.394-.394H97.57a3.16 3.16 0 0 0-3.159 3.159v61.182a3.16 3.16 0 0 0 3.16 3.159h24.859a3.16 3.16 0 0 0 3.159-3.16V13.322a3.16 3.16 0 0 0-3.16-3.16H122zM117.883 8V6.538l-.003-.465a3.355 3.355 0 0 0-.04-.463 1.528 1.528 0 0 0-.422-.816 1.556 1.556 0 0 0-.822-.418 3.764 3.764 0 0 0-.47-.041H16.134c-.052 0-.316.009-.47.037a1.557 1.557 0 0 0-.822.418 1.528 1.528 0 0 0-.422.816 3.363 3.363 0 0 0-.04.463l-.002.466v67.434s0 .144.002.214c.002.155.012.31.04.463a1.53 1.53 0 0 0 .422.816 1.56 1.56 0 0 0 .822.418c.154.026.31.036.467.04l.47.003h75.797a5.359 5.359 0 0 1-.149-1.256v-40a.25.25 0 0 1-.249-.25V29.75a.25.25 0 0 1 .25-.25v-1.333a.25.25 0 0 1-.25-.25V23.25a.25.25 0 0 1 .25-.25v-2.5a.25.25 0 0 1-.25-.25v-2.167a.25.25 0 0 1 .25-.25v-4.5A5.327 5.327 0 0 1 97.57 8h20.313zM106.25 80H17.33c-.264 0-.52 0-.774-.008a10.139 10.139 0 0 1-1.676-.144 5.593 5.593 0 0 1-1.591-.522A5.306 5.306 0 0 1 10.94 77a5.466 5.466 0 0 1-.528-1.575 12.029 12.029 0 0 1-.144-1.66c0-.262-.009-.514-.009-.767V11.33h-.217a.043.043 0 0 1-.043-.042V6.052c0-.024.02-.043.043-.043h.24c.02-.395.058-.787.13-1.176.102-.556.264-1.07.528-1.576A5.307 5.307 0 0 1 13.289.932a5.593 5.593 0 0 1 1.59-.523 12.383 12.383 0 0 1 1.677-.143c.263 0 .519-.008.774-.008h1.685V.043c0-.024.02-.043.044-.043h4.508c.024 0 .043.02.043.043v.215h.91V.043c0-.024.02-.043.043-.043h4.508c.024 0 .044.02.044.043v.215h85.815c.264 0 .52 0 .775.008.561.008 1.123.042 1.676.143.561.101 1.08.261 1.59.523a5.306 5.306 0 0 1 2.348 2.326c.264.505.426 1.019.528 1.575.093.548.128 1.104.145 1.66 0 .26.008.514.008.767V8h.43a5.327 5.327 0 0 1 5.32 5.333v11.5a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25v41.834A5.327 5.327 0 0 1 122.43 80h-16.18zM12.304 39.47a.648.648 0 0 0-.651.644v.003c0 .356.291.645.651.645.36 0 .652-.289.652-.645v-.003a.648.648 0 0 0-.652-.645zm-.007 2.719a.906.906 0 0 0-.91.901c0 .498.408.901.91.901.503 0 .91-.403.91-.9a.906.906 0 0 0-.91-.902zm0 3.219c-.359 0-.65.288-.65.644 0 .355.291.643.65.643.36 0 .65-.288.65-.643a.647.647 0 0 0-.65-.644zm95.79-34.908a.291.291 0 0 0 0 .583h3.825a.291.291 0 0 0 0-.583h-3.824zm5.654-.25a.541.541 0 1 0 .002 1.082.541.541 0 0 0-.002-1.082zm1.538 66.424a.166.166 0 0 1 0 .333h-10.558a.166.166 0 0 1 0-.333h10.558z"}))}},ANDROID:{value:"android",label:"Android",description:"Dimensions in dp/sp, XML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M103.642 80H16.686c-3.587 0-6.522-2.918-6.522-6.484V19.484c0-3.566 2.935-6.484 6.522-6.484H90.32V4.498C90.32 2.014 92.324 0 94.796 0h28.184c2.472 0 4.475 2.014 4.475 4.498v12.706h.333c.084 0 .151.068.151.152v5.47a.152.152 0 0 1-.151.153h-.333v5.805h.333c.084 0 .151.068.151.152v10.942a.152.152 0 0 1-.151.152h-.333v35.472c0 2.484-2.003 4.498-4.475 4.498h-19.338zm-11.78-67v60.063a1.43 1.43 0 0 0 1.422 1.437H124.462a1.43 1.43 0 0 0 1.42-1.438V6.939a1.43 1.43 0 0 0-1.42-1.438H93.284a1.43 1.43 0 0 0-1.422 1.438V13zm-1.542 3.075H15.576v60.261h74.821c-.05-.27-.077-.55-.077-.834V16.075zm-30.738-1.497a.5.5 0 1 0 1-.001.5.5 0 0 0-1 .001zM54.664 78.34c0 .267.222.499.496.499h9.008a.501.501 0 0 0 .496-.5.503.503 0 0 0-.496-.498H55.16a.501.501 0 0 0-.496.499zM97.971 2.28a.94.94 0 0 0-.937.942c0 .52.42.942.937.942a.94.94 0 0 0 .937-.942.94.94 0 0 0-.937-.942zm3.342.364a.591.591 0 0 0-.59.593c0 .327.264.593.59.593.325 0 .59-.266.59-.593a.591.591 0 0 0-.59-.593zm3.19.061v.213c0 .185.149.334.333.334h8.074c.183 0 .332-.15.332-.334v-.213a.334.334 0 0 0-.332-.334h-8.074a.334.334 0 0 0-.333.334z"}))}},OSX:{value:"osx",label:"macOS",description:"Dimensions in pt, Objctive-C/Swift export, PNG and PDF assets.",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1478);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1027),s=n(547);t.default=function(e){const{parentStyleguideType:t,childStyleguideType:n,onCreateAnyway:a,onCreateWithParentType:r,onClose:l}=e,c=s.PlatformString[n],d=s.PlatformString[t];return i.h(o.BasicOverlayDialog,{class:"differentTypeDialog",onPositiveButtonClick:r,onFallbackButtonClick:a,onClose:l,positiveButtonText:`CREATE AS ${d.toUpperCase()}`,negativeButtonText:"CANCEL",fallbackButtonText:"CREATE ANYWAY",hideNegativeButton:!1,width:484,title:`Create ${c} child styleguide from ${d} parent styleguide?`,message:"Creating child styleguide with a different platform-specific type from its parent styleguide is not recommended."})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1480);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(831)),a=n(544),r=i(n(852)),l=n(610),c=i(n(1371));n(1481);const d={title:"Curate your design system",description:o.h("span",null,"Create styleguides to organize components, colors, text styles, and spacing tokens. Link one styleguide to multiple projects to reference the same resources."),videoInfoText:"Watch a quick video to learn more about styleguides."},u={COMMON_PLAN:Object.assign(Object.assign({},d),{primaryButtonLabel:o.h("strong",null,"Let's start by creating your first styleguide:"),primaryButtonText:"Create first styleguide"}),COMMON_PLAN_ORGANIZATION_MEMBER:Object.assign(Object.assign({},d),{primaryButtonLabel:o.h("strong",null,"This is your personal workspace, switch to your team's workspace to get started. If you prefer creating a personal styleguide any time, you can do so here."),primaryButtonText:"Check {{organizationName}}’s Workspace",secondaryButtonText:"Create a Personal Styleguide"}),ORGANIZATION_NO_CREATE_PERMISSION:Object.assign(Object.assign({},d),{description:o.h(o.Fragment,null,o.h("span",null,"Create styleguides to organize components, colors, text styles, and spacing tokens. Link one styleguide",o.h("br",null),"to multiple projects to reference the same resources."))})};class h extends o.Component{constructor(e){super(e),this.nodeRefs={},this.showVideoOverlay=()=>{this.setState({videoOverlayVisible:!0})},this.hideVideoOverlay=()=>{var e;null===(e=this.youtubePlayer)||void 0===e||e.pauseVideo(),this.setState({videoOverlayVisible:!1})},this.handleVideoClick=()=>{const{videoId:e}=this.props,t=a.getDevice();mixpanel.master.track("Clicked watch onboarding video",{Source:"Styleguides Onboarding"}),t===a.DEVICE_TYPES.MOBILE?location.assign(`https://www.youtube.com/watch?v=${e}`):this.setState({videoOverlayVisible:!0})},this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){var e;const{selectedOrganizationId:t,canCreateStyleguide:n}=this.context,{availableOrganizations:i,onCreate:s,onCheckoutOrganization:a}=this.props,[r]=i;let c;if("user"===t){return c={labels:u[r?"COMMON_PLAN_ORGANIZATION_MEMBER":"COMMON_PLAN"],[r?"onSecondaryButtonClick":"onPrimaryButtonClick"]:s},r&&(c=Object.assign(Object.assign({},c),{labels:Object.assign(Object.assign({},c.labels),{primaryButtonText:null===(e=c.labels.primaryButtonText)||void 0===e?void 0:e.replace("{{organizationName}}",r.name)}),onPrimaryButtonClick:()=>a(r._id)})),c}if(n)c={labels:u.COMMON_PLAN,onPrimaryButtonClick:s};else{const{currentOrganizationProfile:e}=this.context,t=`Your workspace role is ${l.getUserRoleString(e.role)}. If you need to create styleguides, please reach out to your workspace Admins to update your role.`;c={labels:Object.assign(Object.assign({},u.ORGANIZATION_NO_CREATE_PERMISSION),{roleHintText:o.h("span",null,t)})}}return c}componentDidMount(){window.youtubeLoaded||(window.youtubeLoaded=new Promise((e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)})))}componentDidUpdate(e,t){var n;const{videoId:i}=this.props;!t.videoOverlayVisible&&this.state.videoOverlayVisible&&(null===(n=window.youtubeLoaded)||void 0===n||n.then((()=>{this.youtubePlayer=new YT.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:i,events:{onReady:()=>{var e;return null===(e=this.youtubePlayer)||void 0===e?void 0:e.playVideo()}}})})))}renderTutorialVideo(){const{videoId:e}=this.props;return o.h("div",{key:"video",style:{backgroundImage:`url(https://img.youtube.com/vi/${e}/maxresdefault.jpg)`},class:"tutorialVideo",onClick:this.handleVideoClick},o.h("button",{class:"watchTutorialButton"}))}renderVideoOverlay(){return o.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},o.h("div",{ref:r.default(this,"youtubePlayerAnchor")}))}renderCheckWorkspaceButton(e){const{availableOrganizations:t,onCheckoutOrganization:n}=this.props;return o.h(c.default,{onClick:n,availableOrganizations:t,primaryButtonText:e})}render(){const{videoOverlayVisible:e}=this.state,{labels:t,onPrimaryButtonClick:n,onSecondaryButtonClick:i}=this.getLabelsAndHandlers(),{title:a,description:r,primaryButtonLabel:l,primaryButtonText:c,secondaryButtonText:d,roleHintText:u,videoInfoText:h}=t,p=n&&i;return o.h("div",{class:"noStyleguidesScrollContainer"},o.h("div",{class:"noStyleguides"},o.h("h1",null,a),o.h("p",{class:"description"},r),e&&this.renderVideoOverlay(),l&&o.h("p",{class:"primaryButtonLabel"},t.primaryButtonLabel),u&&o.h("p",{class:"roleHintText"},t.roleHintText),p&&o.h("div",{class:"buttonContainer"},o.h(s.default,{class:"noStyleguidesSecondaryButton",onClick:i,secondary:!0},d),this.renderCheckWorkspaceButton(c)),!p&&n&&o.h("div",{class:"buttonContainer"},o.h(s.default,{onClick:n,primary:!0},c)),o.h("p",{class:"videoInfoText"},h),this.renderTutorialVideo()))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(619)),s=i(n(567)),a=n(703),r={getStyleguidesSuccess({styleguides:e,oid:t}){s.default.dispatcher.dispatch({type:o.default.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguideRequest(){s.default.dispatcher.dispatch({type:o.default.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e}){s.default.dispatcher.dispatch({type:o.default.GET_STYLEGUIDE_SUCCESS,styleguide:e})},getStyleguideFailed(e){s.default.dispatcher.dispatch({type:o.default.GET_STYLEGUIDE_FAILED,error:e})},createStyleguide({oid:e,platform:t,parent:n}){s.default.dispatcher.dispatch({type:o.default.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,users:l}){const{styleguides:c}=s.default.StyleguidesDataStore.getState(),d=a.getStyleguideAndItsDescendants(c,e);s.default.dispatcher.dispatch({type:o.default.TRANSFER_OWNERSHIP,bid:e,affectedIds:d,fromUserId:t,targetId:n,toOrganization:i,oid:r,users:l})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,canChangePlanAtTarget:r}){s.default.dispatcher.dispatch({type:o.default.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,canChangePlanAtTarget:r,syncWithApi:!0})},updateStyleguide({stid:e,data:t}){s.default.dispatcher.dispatch({type:o.default.UPDATE_STYLEGUIDE,stid:e,data:t})},inviteUser({container:e,stid:t,users:n,oid:i}){s.default.dispatcher.dispatch({type:o.default.INVITE_USER,container:e,stid:t,users:n,oid:i})},selectParent({stid:e,parent:t,oldParent:n,syncWithApi:i=!1}){s.default.dispatcher.dispatch({type:o.default.SELECT_PARENT,stid:e,parent:t,oldParent:n,syncWithApi:i})},removeParent({stid:e,oldParent:t,syncWithApi:n=!1}){s.default.dispatcher.dispatch({type:o.default.REMOVE_PARENT,stid:e,oldParent:t,syncWithApi:n})},selectParentRequest({stid:e,parent:t,syncWithApi:n}){s.default.dispatcher.dispatch({type:o.default.SELECT_PARENT_REQUEST,stid:e,parent:t,syncWithApi:n})},selectParentSuccess({stid:e,parent:t,styleguides:n}){s.default.dispatcher.dispatch({type:o.default.SELECT_PARENT_SUCCESS,stid:e,parent:t,styleguides:n})},selectParentFailed(){s.default.dispatcher.dispatch({type:o.default.SELECT_PARENT_FAILED})}};t.default=r},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1485);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1486)),a=i(n(724));function r({class:e,imageSrc:t,title:n,subInfo:i,dashboardLink:s,rightContent:r}){const l=o.h("div",{class:a.default("logo",{placeholder:!t})},t&&o.h("img",{src:t,width:"64",height:"64"}));return o.h("div",{class:a.default("organizationSummary",e)},o.h("div",{class:"summary"},s?o.h("a",{href:s,target:"_blank"},l):l,o.h("div",null,s?o.h("a",{href:s,target:"_blank",class:"organizationTitle"},n):o.h("div",{class:"organizationTitle"},n),o.h("div",{class:"organizationSubInfo"},i))),r)}n(1489),r.Loading=s.default,t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1487);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1488);t.default=function(){return i.h("div",{class:"organizationSummaryLoading"},i.h("div",{class:"logo breathe"}),i.h("div",null,i.h("div",{class:"title breathe"}),i.h("div",{class:"counts breathe"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getPlans",(function(){return u})),n.d(t,"getPlanById",(function(){return h})),n.d(t,"showFailedPaymentBanner",(function(){return g})),n.d(t,"hideFailedPaymentBanner",(function(){return m})),n.d(t,"showCancelledSubscriptionBannerIfNecessary",(function(){return b})),n.d(t,"hideCancelledSubscriptionBanner",(function(){return S})),n.d(t,"showOrganizationFrozenBanner",(function(){return v})),n.d(t,"hideOrganizationFrozenBanner",(function(){return O})),n.d(t,"updateEmotar",(function(){return y})),n.d(t,"hideSubscriptionStatusBanners",(function(){return C}));var i,o=n(549),s=n(564),a=n(819),r=n(686),l=n(583),c=n(548),d=n(693);function u(){return i?Promise.resolve(i):a.getPlans().then((e=>i=Object.freeze(e)))}function h(e){return u().then((t=>t.find((t=>t.id===e))))}window.addEventListener("storage",(e=>{if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}})),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+c.INTERCOM_APP_ID;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,o=function(){o.c(arguments)};o.q=[],o.c=function(e){o.q.push(e)},e.Intercom=o,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),o.default.get("userToken")&&Intercom("boot",{app_id:c.INTERCOM_APP_ID,user_id:Zeplin.user._id,user_hash:Zeplin.user.intercomHash,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan});const p=document.querySelector("#billingTab");function f(e,t){if(s.closeBanner("payment"),p){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",p.checked=!0}}function g(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(r.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">update</a> workspace payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){f(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(r.urlResolve)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){f(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&s.show({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function m(){s.closeBanner("payment")}function b(e){const{oid:t,currentRole:n,subscriptionCancelAt:i}=e,o=Object(d.getDateDifference)("h",new Date,i);if(o>168)return;let a,c=Math.floor(o/24);c>0&&o%24>=3&&c++;let u=`Since your subscription is cancelled, your projects and styleguides will be archived automatically in ${c<1?"less than a day":`${Object(l.pluralize)(c,"day")}`}.`;!t||"queen"!==n&&"king"!==n?"owner"===n&&(u+=` <a href="${Object(r.urlResolve)("profile-billing")}">Resubscribe</a>`,a={a(e){f(e,"user")}}):(u+=` <a href="${Object(r.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">Resubscribe</a>`,a={a(e){f(e,"organization")}}),s.show({contentType:"html",group:"cancelledSubscription",content:u,bodyCallbacks:a})}function S(){s.closeBanner("cancelledSubscription")}function y(e){return a.updateUserEmotar(e)}function v(e){let t,n;e.isTeamPlan?["king","queen"].includes(e.currentRole)?(n=`Due to a failed payment, your workspace has been suspended. Please <a href="${Object(r.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">update</a> the payment information to re-activate the workspace.`,t={a(e){f(e,"organization")}}):n="Due to a failed payment, your workspace has been suspended. Contact an Admin to update the payment information and activate the workspace.":n='Your subscription has expired and access to your workspace has been restricted. To avoid cancellation, please email <a href="mailto:success@zeplin.io.">success@zeplin.io</a>.',s.show({content:n,contentType:"html",group:"organizationFrozen",bodyCallbacks:t})}function O(){s.closeBanner("organizationFrozen")}function C(){["organizationFrozen","cancelledSubscription","payment"].forEach(s.closeBanner)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1494);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(590),s=n.n(o),a=n(1495),r=n(1504),l=n(1697),c=n(2045),d=n(2222),u=n(2243),h=n.n(u),p=n(2257),f=n.n(p),g=n(702),m=n.n(g),b=n(567),S=n.n(b),y=n(684),v=n.n(y),O=n(1618),C=n(685),E=n.n(C),T=n(929),_=n.n(T),P=n(959),I=n(686),j=n(852),D=n(688),k=n.n(D),R=n(547),A=n(1218);n(2265);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends i.Component{constructor(...e){super(...e),L(this,"getScreenContainerRef",(()=>this.nodeRefs&&this.nodeRefs.screenContainer)),L(this,"getStyleguideContainerRef",(()=>this.nodeRefs&&this.nodeRefs.styleguideContainer)),L(this,"openScreen",(e=>{const{barrel:t}=this.state,{id:n}=t;k.a.history.push(Object(I.urlResolve)("project-screen",{url:{pid:n,sid:e}}))})),L(this,"handleKeyDown",(e=>{if(Object(P.isEditableElement)(e.target))return;const{barrelType:t}=this.state;if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyA:t===s.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),m.a.goToDashboard());break;case Zeplin.KEY_CODE.KeyS:t===s.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),m.a.goToStyleguide());break;case Zeplin.KEY_CODE.KeyE:e.preventDefault(),e.stopPropagation(),O.default.openSettings();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),m.a.openJumpToPopup();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),O.default.reload())}}))}static calculateState(){const e=S.a.BarrelStore.getState(),{loading:t,selectedView:n}=e,i=N(e,["loading","selectedView"]);if(t)return{loading:!0,selectedView:n};const{organizationId:o}=i,{name:s}=E.a.getOrganization()||{},a=v.a.getBarrel(),{tagManagerScreenIds:r}=S.a.ScreenStore.getState(),{dialogOpen:l}=S.a.ExtensionsStore.getState();return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!1,organizationName:s,organizationId:o,barrel:a,selectedView:n,tagManagerScreenIds:r,extensionDialogOpen:l},i)}static getStores(){return[S.a.BarrelStore,S.a.OrganizationStore,S.a.ScreenStore,S.a.ProjectsDataStore,S.a.StyleguidesDataStore,S.a.ExtensionsStore]}async componentDidMount(){await Object(A.getPrismInstance)(),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),m.a.reset()}getChildContext(){return{screenContainerRef:this.getScreenContainerRef,styleguideContainerRef:this.getStyleguideContainerRef}}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e?e===s.a.STYLEGUIDE||t===R.ProjectViewTypes.STYLEGUIDE?i.h(c.default,{baseRef:Object(j.default)(this,"styleguideContainer")}):t===R.ProjectViewTypes.SCREEN?i.h(l.default,{baseRef:Object(j.default)(this,"screenContainer")}):t===R.ProjectViewTypes.DASHBOARD?i.h(r.default,null):null:null}renderJumpToScreen(){const{barrel:e,loading:t,jumpToPopupOpen:n}=this.state;if(t||!n)return null;const{integration:{jira:o={}}={}}=e,s=e.variantGroups.reduce(((e,{name:t,screens:n})=>(n.forEach((({id:n,variantName:i})=>{e[n]={variantName:i,variantGroupName:t}})),e)),{});return i.h(a.default,{screenList:e.screens,sectionList:e.sections,variantMapping:s,jiraAttachmentList:o.attachments,onJumpToScreen:this.openScreen,onClose:m.a.closeJumpToPopup})}renderExtensionDialog(){const{extensionDialogOpen:e}=this.state;return e?i.h(d.default,null):null}renderTagManager(){const{tagManagerScreenIds:e}=this.state;return e&&0!==e.length?i.h(h.a,null):null}render(){return i.h("main",{key:"barrel",class:"barrelContainer"},this.renderContent(),this.renderJumpToScreen(),this.renderExtensionDialog(),this.renderTagManager(),i.h(f.a,null))}}t.default=_()(M,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1496);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(610),r=n(634),l=n(583),c=n(852),d=n(1497),u=n(692);n(1503);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g({screenList:e,sectionList:t,jiraAttachmentList:n}){if(!n)return e;const i=Object(u.createItemSectionMap)(t,"screens");return e.map((e=>{const t=n.filter((t=>"screen"===t.type&&t.itemId===e._id)),o=n.filter((t=>"section"===t.type&&t.itemId===i[e._id]));return p(p({},e),{},{jiraAttachments:[...t,...o]})}))}class m extends i.Component{constructor(...e){super(...e),f(this,"state",{filter:""}),f(this,"screenListWithJira",g(this.props)),f(this,"getSuggestionList",(()=>{const e=this.state.filter.toLowerCase();if(""===e)return this.screenListWithJira.slice(0).sort(r.sortBy.name);let t=[],n=[],i=[],o=[],s=[];return this.screenListWithJira.forEach((a=>{let r=a.name.toLowerCase();const c=a.tags&&a.tags.find((t=>t.toLowerCase().includes(e))),d=a.jiraAttachments&&a.jiraAttachments.find((t=>t.issueKey&&t.issueKey.toLowerCase().includes(e)));r.startsWith(e)?t.push(a):Object(l.anyWordStartsWith)(r,e)?n.push(a):c?i.push(Object.assign({tag:c},a)):d?o.push(Object.assign({attachedJira:d.issueKey},a)):r.includes(e)&&s.push(a)})),t.sort(r.sortBy.name).concat(n.sort(r.sortBy.name)).concat(i.sort(r.sortBy.name)).concat(o.sort(r.sortBy.name)).concat(s.sort(r.sortBy.name))})),f(this,"handleInputChange",(e=>{this.setState({filter:e.target.value})})),f(this,"handleKeyDown",(e=>{e.stopPropagation();const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t()}))}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillReceiveProps(e){this.screenListWithJira=g(e)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,{variantMapping:t,onJumpToScreen:n,onClose:o}=this.props,s=this.getSuggestionList();return i.h("div",{class:"jumpToScreenContainer",onClick:o},i.h("div",{class:"jumpToScreen",onClick:a.stopPropagation},i.h("div",{class:"searchTextContainer"},i.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(c.default)(this,"input")}),s.length?null:i.h("span",{class:"shrug"},"¯\\_(ツ)_/¯")),i.h(d.default,{screenList:s,variantMapping:t,onJumpToScreen:n})))}}m.propTypes={screenList:s.a.array.isRequired,sectionList:s.a.array.isRequired,jiraAttachmentList:s.a.array.isRequired,onJumpToScreen:s.a.func.isRequired,onClose:s.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1498);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1499),s=n(624),a=n(959),r=n(852);n(1502);class l extends i.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(s.arrayEqual)(e.screenList,this.props.screenList,((e,t)=>e.name===t.name&&e.tag===t.tag))||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(a.scrollIfNecessary)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,variantMapping:t,onJumpToScreen:n}=this.props,{selectedScreenIndex:s}=this.state;return i.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map(((e,a)=>{let l;return s===a&&(l=Object(r.default)(this,"selectedScreen")),i.h(o.default,{key:e._id,screenId:e._id,screenName:e.name,variant:t[e._id],filterTag:e.tag,filterJiraAttachment:e.attachedJira,screenIndex:a,selected:s===a,ref:l,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})})))}}l.defaultProps={screenList:[]},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1500);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(724),a=n.n(s);n(1501);class r extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,filterJiraAttachment:n,selected:o,variant:s}=this.props;return i.h("button",{class:a()("screenSuggestion",{selected:o}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"screenName ellipsis",title:s?`${s.variantName} variant of ${s.variantGroupName}`:e},s?i.h("span",null,s.variantName," ",i.h("span",{class:"variantLabel"},"variant of")," ",s.variantGroupName):e),t?i.h("div",{class:"tagName ellipsis"},t):null,n?i.h("div",{class:"tagName ellipsis"},n):null)}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1505);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(692),s=n(686),a=n(959),r=n(852),l=n(544),c=n(688),d=n.n(c),u=n(548),h=n(610),p=n(1220),f=n(590),g=n.n(f),m=n(1506),b=n(1600),S=n(1339),y=n(684),v=n.n(y),O=n(702),C=n.n(O),E=n(716),T=n.n(E),_=n(696),P=n.n(_),I=n(691),j=n.n(I),D=n(710),k=n.n(D),R=n(567),A=n.n(R),w=n(929),N=n.n(w),L=n(1392),M=n(1169);n(1696);function x(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class z extends i.Component{constructor(...e){super(...e),V(this,"handleFilter",(e=>{const{barrel:{id:t}}=this.state;d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:{q:e}}))})),V(this,"handleJiraIssueSelectionChange",(e=>{const{barrel:{id:t},jiraIssueFilter:n}=this.state,i=n.includes(e)?n.filter((t=>t!==e)):[...n,e];mixpanel.master.track("Filtered by Jira issue"),d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:{ja:i}}))})),V(this,"handleResetJiraIssuesClick",(()=>{const{barrel:{id:e}}=this.state;d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:e}}))})),V(this,"handleTagClick",((e,t)=>{const{barrel:{id:n},tagFilter:i,jiraIssueFilter:o}=this.state,a=i.tags.includes(e);let r,l;if(!e?(r=[],l=!i.untagged):(r=[e],l=!1,a&&(r=i.tags.filter((t=>t!==e)),l=!1),t&&!a&&(r=i.tags.concat(e),l=!1)),r.length>0||l){let e;l?e={Type:"Untagged"}:r.length>1&&(e={Type:"Multiple"}),mixpanel.master.track("Filtered by tags",e)}const c=B(B({},{ja:o}),l?{untagged:!0}:{tag:r});d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:n},query:c}))})),V(this,"handleResetTagsClick",(()=>{const{barrel:{id:e}}=this.state;d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:e}}))})),V(this,"handleExpandSection",(e=>{T.a.expandSections([e])})),V(this,"handleCollapseSection",(e=>{T.a.collapseSections([e])})),V(this,"handleConvertTagToSection",(e=>{T.a.convertTagToSection({tag:e})})),V(this,"handleGenerateTagShortlink",(e=>{const{barrel:{id:t}}=this.state,n=Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:{tag:e}});Object(p.fetchShortlink)(n)})),V(this,"handleCopyTagWebURL",(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(s.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:e}});Object(a.copyContent)({content:Object(p.getShortlink)(i),toastContainer:t})})),V(this,"handleCopyTagAppURI",(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//project?pid=${n}&tag=${encodeURIComponent(e)}`;Object(a.copyContent)({content:i,toastContainer:t})})),V(this,"handleDeleteTag",(e=>{k.a.removeTag({tag:e,syncWithApi:!0})})),V(this,"handleCopySectionWebURL",(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(s.urlResolve)("project",{url:{bid:n},query:{seid:e}});Object(a.copyContent)({content:Object(p.getShortlink)(i),toastContainer:t})})),V(this,"handleCopySectionAppURI",(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//project?pid=${n}&seid=${e}`;Object(a.copyContent)({content:i,toastContainer:t})})),V(this,"handleCopyScreenWebURL",(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(s.urlResolve)("project-screen",{url:{pid:n,sid:e}});Object(a.copyContent)({content:Object(p.getShortlink)(i),toastContainer:t}),mixpanel.master.track("Copied web link",{Target:"Screen",Source:"Project dashboard"})})),V(this,"handleCopyScreenAppURI",(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//screen?pid=${n}&sid=${e}`;Object(a.copyContent)({content:i,toastContainer:t}),mixpanel.master.track("Copied app URI",{Target:"Screen",Source:"Project dashboard"})})),V(this,"handleCollapseAllSections",(()=>{const e=P.a.getExpandedSectionIds();e.length>0&&T.a.collapseSections(e)})),V(this,"handleExpandAllSections",(()=>{const e=P.a.getCollapsedSectionIds();e.length>0&&T.a.expandSections(e)})),V(this,"handleKeyDown",(e=>{Object(a.isEditableElement)(e.target)||(e.keyCode===Zeplin.KEY_CODE.KeyT&&e.altKey&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),T.a.toggleFixedThumbnailSize()),Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections()))})),V(this,"handleChangeSortType",(e=>{const{sortType:t}=this.state;t!==e&&T.a.changeSortType(e)}))}static calculateState(){const{loading:e,loadingJoin:t,barrelType:n}=A.a.BarrelStore.getState();if(e)return{loading:e};if(n===g.a.STYLEGUIDE)return{loading:!0};const i=v.a.getBarrel(),s=v.a.findUser(),{userId:a,paymentPlan:r,registeredAt:l,profession:c,shouldDisplayDashboardOnboardingHintbox:d}=A.a.UserStore.getState(),u=i.users.some((({user:e})=>e._id===a));if(i.partial||!u)return{loading:e,loadingJoin:t,barrel:i,isUserJoined:u};const h=v.a.canUploadDesigns({uid:a}),p=A.a.DashboardStore.getState(),{highlightedScreens:f}=p,m=x(p,["highlightedScreens"]),{sortType:b,filterValue:S,tagFilter:y,jiraIssueFilter:O}=m,{open:C}=A.a.MoveResourcesStore.getState(),{config:E}=A.a.AppStore.getState(),T=!!(new Date(E.minRegistrationDateToShowOnboarding)<new Date(l))&&d,{sortedSections:_,visibleTags:P,variantGroupsMapping:I}=Object(o.filterSortScreens)(i,b,{filterValue:S,tagFilter:y,jiraIssueFilter:O}),{visibleScreens:D}=j.a.getFilteredScreens();return B({loading:e,loadingJoin:t,firstHighlightedScreen:function(e,t,n){let i=1/0,o=null;return t.forEach((t=>{const s=e.findIndex((e=>e._id===t));if(-1!==s&&s<i)i=s,o=t;else for(const[e,{variants:i}]of Object.entries(n))if(i.find((({id:e})=>t===e))){o=e;break}})),o}(D,f,I),highlightedScreens:f,moveResourcesPopupOpen:C,barrel:i,barrelUser:s,isUserJoined:u,sortedSections:_,visibleTags:P,variantGroupsMapping:I,paymentPlan:r,registeredAt:l,config:E,profession:c,canUploadDesigns:h,displayDashboardOnboardingHintbox:T},m)}static getStores(){return[A.a.BarrelStore,A.a.DashboardStore,A.a.MoveResourcesStore,A.a.ProjectsDataStore,A.a.UserStore,A.a.AppStore]}get toastContainer(){return this.nodeRefs.dashboardContainer}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e}=this.state;if(e)return{};const{barrel:t,barrel:{id:n,type:i,users:o},paymentPlan:s,registeredAt:a,config:r,profession:l,canUploadDesigns:c}=this.state;return B(B({},this.context),{},{barrelId:n,projectId:n,projectType:i,paymentPlan:s,isOrganizationProject:Object(h.isOrganizationProject)(t),registeredAt:a,config:r,profession:l,barrelUsers:o,canUploadDesigns:c})}render(){const{loading:e,loadingJoin:t,isUserJoined:n,barrel:o,barrelUser:s,sortType:a,filterValue:l,fixedThumbnailSize:c,sidebarWidth:d,tagFilter:u,jiraIssueFilter:h,collapsedSections:p,firstHighlightedScreen:f,highlightedScreens:g,highlightedSection:y,moveResourcesPopupOpen:v,sortedSections:O,visibleTags:E,variantGroupsMapping:_,screenVariantsOnboardingSeen:P,displayDashboardOnboardingHintbox:I}=this.state;if(e)return i.h("div",{class:"dashboardContainer"},i.h(m.default.Loading,null),i.h(b.default,null));if(o.partial||!n)return i.h(S.default,{projectData:o,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoin:C.a.join});const j=o&&o.integration?o.integration.jira:null,D=j&&j.attachments?Array.from(j.attachments.reduce(((e,t)=>("project"!==t.type&&e.add(t.issueKey),e)),new Set)):[];return i.h("div",{class:"dashboardContainer",ref:Object(r.default)(this,"dashboardContainer")},i.h(m.default,{componentRef:Object(r.default)(this,"projectOverview","componentRefs"),project:o,containerSelector:".projectOverview",userRole:s.role,fixedThumbnailSize:c,collapsedSections:p,sortedSections:O,visibleTags:E,variantGroupsMapping:_,filterValue:l,sortType:a,jiraIssueList:D,selectedJiraIssues:h,firstHighlightedScreen:f,highlightedScreens:g,highlightedSection:y,tagFilter:u,moveResourcesPopupOpen:v,screenVariantsOnboardingSeen:P,shouldDisplayDashboardOnboardingHintbox:I,onSort:this.handleChangeSortType,onFilter:this.handleFilter,onJiraIssueSelectionChange:this.handleJiraIssueSelectionChange,onResetJiraIssuesClick:this.handleResetJiraIssuesClick,onTagClick:this.handleTagClick,onOpenTagContextMenu:this.handleGenerateTagShortlink,onConvertTagToSection:this.handleConvertTagToSection,onCopyTagWebURL:this.handleCopyTagWebURL,onCopyTagAppURI:this.handleCopyTagAppURI,onCopySectionWebURL:this.handleCopySectionWebURL,onCopySectionAppURI:this.handleCopySectionAppURI,onCopyScreenWebURL:this.handleCopyScreenWebURL,onCopyScreenAppURI:this.handleCopyScreenAppURI,onDownloadScreensOfTag:T.a.downloadScreensOfTag,onDeleteTag:this.handleDeleteTag,onResetTagsClick:this.handleResetTagsClick,onExpandSection:this.handleExpandSection,sidebarWidth:d,jiraIntegration:j,onCollapseSection:this.handleCollapseSection}),i.h(b.default,{width:d,onRelease:T.a.changeSidebarWidth}))}}const F=N()(Object(L.default)(z),{pure:!1});t.default=function(e){return i.h(M.SectionObserverProvider,null,i.h(F,e))}},function(e,t,n){"use strict";n.r(t);var i=n(1507);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1508),s=n(1509),a=n(547),r=n(610),l=n(693),c=n(852),d=n(1510),u=n(1544),h=n.n(u),p=n(1157),f=n(1547),g=n(1553),m=n(1556),b=n(1559),S=n(1562),y=n(1570),v=n(1593),O=n(716),C=n.n(O),E=n(1596),T=n.n(E),_=n(1039),P=n.n(_);n(1599);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){const{canManageScreens:t}=e;return i.h("div",{class:"projectOverviewTagsEmpty"},i.h("span",null,"Tags:"),t?i.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.h("span",null,"Organization ",Object(r.getUserRoleString)("rook"),"s or higher can organize screens using tags."))}function D(e,t){const n=e.screens.filter((e=>e.tags&&e.tags.includes(t)));return 0!==n.length&&n.every((t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)}))}class k extends i.Component{constructor(...e){super(...e),I(this,"state",{dragging:!1,screenVariantsOnboardingDialogVisible:!1,scrollPositionDashboard:0}),I(this,"handleStartDrag",(()=>{this.setState({dragging:!0})})),I(this,"handleEndDrag",(()=>{this.setState({dragging:!1})})),I(this,"handleScroll",(e=>{cancelAnimationFrame(this.setScrollPositionDelayId),this.setScrollPositionDelayId=requestAnimationFrame((()=>{e.target&&this.setState({scrollPositionDashboard:e.target.scrollTop})}))})),I(this,"handleSectionReorder",(({sourceId:e,moveIndex:t})=>{C.a.updateSectionOrder({seid:e,index:t-1,syncWithApi:!0})})),I(this,"handleSetAsScreenVariantsClick",(()=>{this.setState({screenVariantsOnboardingDialogVisible:!0})})),I(this,"handleHideScreenVariantsOnboarding",(()=>{C.a.hideScreenVariantsOnboarding(),this.state.screenVariantsOnboardingDialogVisible&&this.setState({screenVariantsOnboardingDialogVisible:!1})}))}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return this.props.sortType!==a.SortTypes.SECTIONS}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length>0||e.untagged}isJiraIssueFilterActive(){const{selectedJiraIssues:e}=this.props;return e.length>0}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive(),jiraIssueFilterActive:this.isJiraIssueFilterActive(),userRole:this.props.userRole}}componentDidUpdate(e){this.props.project.id!==e.project.id&&s.default.clear()}renderTags(){const{project:e,tagFilter:t,filterValue:n,visibleTags:o,onTagClick:s,onOpenTagContextMenu:a,onConvertTagToSection:r,onCopyTagWebURL:l,onCopyTagAppURI:c,onDownloadScreensOfTag:d,onDeleteTag:u}=this.props,{canManageScreens:h}=this.context,p=!!n;return e.tags.length?i.h("div",{class:"projectOverviewTags"},o.map((n=>i.h(v.default,{key:n,tag:n,disabled:p,contextMenuDisabled:!h,selected:t.tags.includes(n),canCreateSectionFromTag:D(e,n),onClick:s,onOpenContextMenu:a,onCopyWebURL:l,onCopyAppURI:c,onDownloadScreenImages:d,onConvertToSection:r,onDelete:u}))),i.h(v.default,{untagged:!0,disabled:p,selected:t.untagged,onClick:s})):i.h(j,{canManageScreens:h})}renderScreenVariantsOnboarding(){const{registeredAt:e,config:{countLimit:{screenVariantOnboardingDayLimit:t=14,screenVariantOnboardingScreenLimit:n=10}}}=this.context,{screenVariantsOnboardingDialogVisible:o}=this.state,{project:s,screenVariantsOnboardingSeen:a,variantGroupsMapping:r,shouldDisplayDashboardOnboardingHintbox:d,userRole:u}=this.props,p=Object(l.getDateDifference)("d",new Date(e),new Date)<=t,f=(s.screens||[]).length>=n,g=0!==Object.keys(r).length,m=!!["owner","king"].includes(u)||!d;return!p&&!a&&!g&&f&&m||o?i.h(h.a,{baseRef:Object(c.default)(this,"variantsOnboarding"),onHideClick:this.handleHideScreenVariantsOnboarding,showInDialog:o}):null}renderDashboardOnboardingHintbox(){const{shouldDisplayDashboardOnboardingHintbox:e,userRole:t}=this.props,n=["owner","king"].includes(t);return!e||n?null:i.h("div",{class:"dashboardOnboardingHintboxContainer"},i.h(T.a,{userRole:t,onHideClick:P.a.hideDashboardOnboardingHintbox}))}render(){const{canManageScreens:e}=this.context,{project:t,sortedSections:n,variantGroupsMapping:o,userRole:s,containerSelector:a,fixedThumbnailSize:r,filterValue:l,sortType:u,jiraIssueList:h,selectedJiraIssues:b,tagFilter:v,collapsedSections:O,firstHighlightedScreen:C,highlightedScreens:E,highlightedSection:T,moveResourcesPopupOpen:_,onFilter:P,onSort:I,onJiraIssueSelectionChange:j,onExpandSection:D,onCollapseSection:k,onCopySectionWebURL:R,onCopySectionAppURI:A,onCopyScreenWebURL:w,onCopyScreenAppURI:N,onResetJiraIssuesClick:L,onResetTagsClick:M,sidebarWidth:x,jiraIntegration:U}=this.props,{dragging:B,scrollPositionDashboard:V}=this.state;if(!t.screens||!t.screens.length)return i.h(y.default,null);const z=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive()||this.isJiraIssueFilterActive(),F=!e||z;return i.h("div",{class:"projectOverview"},i.h(g.default,{filterValue:l,selectedSortType:u,onSort:I,onJiraIssueSelectionChange:j,jiraIssueList:h,selectedJiraIssues:b,onFilter:P,searchDisabled:B,sections:n,sectionReorderEnabled:!F,onSectionReorder:this.handleSectionReorder}),i.h(p.default,{class:"projectOverviewDragDropContainer",noScroll:_,itemsClass:"projectOverviewDragDropItems",onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,baseRef:Object(c.default)(this,"dashboardScrollableArea"),onScroll:this.handleScroll,disabled:F},this.renderTags(),this.renderScreenVariantsOnboarding(),this.renderDashboardOnboardingHintbox(),n.length?i.h(i.Fragment,null,i.h(d.default,{ref:Object(c.default)(this,"dashboardSections","componentRefs"),collapsedSections:O,firstHighlightedScreen:C,highlightedScreens:E,highlightedSection:T,filterValue:l,fixedThumbnailSize:r,onExpandSection:D,onCollapseSection:k,onCopySectionWebURL:R,onCopySectionAppURI:A,onCopyScreenWebURL:w,onCopyScreenAppURI:N,sections:n,variantGroupsMapping:o,userRole:s,projectThumbnail:t.thumbnail,projectId:t.id,sidebarWidth:x,jiraIntegration:U,containerSelector:a,scrollPositionDashboard:V,dashboardScrollableAreaRef:this.nodeRefs&&this.nodeRefs.dashboardScrollableArea,variantsOnboardingRef:this.nodeRefs&&this.nodeRefs.variantsOnboarding,onSetAsScreenVariantsClick:this.handleSetAsScreenVariantsClick}),_&&i.h(S.default,{key:"moveResourcesContainer"})):i.h(f.default,{tags:v.tags,selectedJiraIssues:b,untagged:v.untagged,onResetJiraIssuesClick:L,onResetTagsClick:M})),i.h(m.default,null))}}const R=Object(o.default)(k);R.Loading=b.default,t.default=R},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(610);t.default=function(Component){return class extends i.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:o.permissions.canUpdateProject(t),canManageScreens:o.permissions.canManageScreens(t),canMoveScreens:o.permissions.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";n.r(t),t.default=new Map},function(e,t,n){"use strict";n.r(t);var i=n(1511);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1512),s=n(852),a=n(1543),r=n(1538);class l extends i.Component{constructor(...e){var t,n,i;super(...e),i={preventScreenToScroll:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}componentDidUpdate({scrollPositionDashboard:e}){const{firstHighlightedScreen:t,scrollPositionDashboard:n}=this.props,{preventScreenToScroll:i}=this.state;t&&!i&&e!==n&&this.setState({preventScreenToScroll:!0})}render(){const{preventScreenToScroll:e}=this.state,{sections:t,variantGroupsMapping:n,projectThumbnail:l,fixedThumbnailSize:c,projectId:d,containerSelector:u,sidebarWidth:h,filterValue:p,collapsedSections:f,firstHighlightedScreen:g,highlightedScreens:m,highlightedSection:b,onExpandSection:S,onCollapseSection:y,onCopySectionWebURL:v,onCopySectionAppURI:O,onCopyScreenWebURL:C,onCopyScreenAppURI:E,onSetAsScreenVariantsClick:T,scrollPositionDashboard:_,variantsOnboardingRef:P,dashboardScrollableAreaRef:I,jiraIntegration:j}=this.props,D=P?P.clientHeight+r.ONBOARDING_VERTICAL_MARGINS:0,{sections:k,placeholders:R}=Object(a.virtualScrollScreenSections)({sections:t,collapsedSections:f,highlightedSection:b,screenToScroll:!e&&g,scrollPosition:Math.max(0,_-r.TAGS_HEIGHT-D),fixedThumbnailSize:c,dashboardArea:I,sidebarWidth:h,jira:j});return i.h("div",{className:"projectOverviewSections"},i.h("div",{key:"top-placeholder",style:{height:R.top}}),k.map((({rawSection:e,indexInDashboard:a})=>{const r=t[a].screens;return i.h(o.default,{index:a,ref:Object(s.default)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!r.length&&f[e._id],fixedThumbnailSize:c,firstHighlightedScreen:g,highlightedScreens:m,highlightedSection:b,onExpand:S,onCollapse:y,onCopySectionWebURL:v,onCopySectionAppURI:O,onCopyScreenWebURL:C,onCopyScreenAppURI:E,onSetAsScreenVariantsClick:T,variantGroupsMapping:n,filterValue:p,actionsDisabled:e.actionsDisabled,rawScreens:r,screens:e.screens,description:e.description,containerSelector:u,projectThumbnail:l,projectId:d,defaultSection:"default"===e.type})})),i.h("div",{key:"bottom-placeholder",style:{height:R.bottom}}))}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1513);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(610),s=n(686),a=n(852),r=n(583),l=n(1220),c=n(1309),d=n(716),u=n.n(d),h=n(1514),p=n(1274),f=n(1515),g=n(1271),m=n(1169);n(1542);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{addingDescription:!1}),S(this,"subscribedToObserver",!1),S(this,"highlightDescription",(()=>{this.componentRefs.section.highlightDescription()})),S(this,"highlightName",(()=>{this.componentRefs.section.highlightName()})),S(this,"generateShortlink",(()=>{const{projectId:e,id:t}=this.props,n=Object(s.urlResolve)("project",{url:{bid:e},query:{seid:t}});Object(l.fetchShortlink)(n)})),S(this,"getScreenThumbnailRef",(e=>this.nodeRefs&&this.nodeRefs[`screenThumbnail-${e}`])),S(this,"registerToObserverIfReady",(()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)})),S(this,"handleEditDescriptionClick",(e=>{e.stopPropagation(),this.highlightDescription()})),S(this,"handleAddDescriptionClick",(e=>{e.stopPropagation(),this.setState({addingDescription:!0})})),S(this,"handleRenameSectionClick",(e=>{e.stopPropagation(),this.highlightName()})),S(this,"handleCopyWebURL",(e=>{e.stopPropagation();const{id:t,onCopySectionWebURL:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Screen section"})})),S(this,"handleCopyAppURI",(e=>{e.stopPropagation();const{id:t,onCopySectionAppURI:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Screen section"})})),S(this,"handleDownloadScreenImagesClick",(e=>{e.stopPropagation(),u.a.downloadScreensOfSection(this.props.id)})),S(this,"handleDeleteClick",(e=>{e.stopPropagation();const{id:t}=this.props;u.a.removeSection({seid:t,syncWithApi:!0})})),S(this,"handleMoveScreenOrVariantGroupClick",(({resourceType:e,resourceId:t,targetNode:n})=>{h.default.open({resourceType:e,resourceId:t,targetNode:n})})),S(this,"handleMoveSectionClick",(e=>{e.stopPropagation();const{id:t}=this.props;h.default.open({targetNode:this.nodeRefs.optionsButton,resourceId:t,resourceType:"section"})})),S(this,"handleNameBlur",(({discard:e,value:t})=>{const{id:n,name:i}=this.props;if(e)return void(n.startsWith("newSection")?u.a.removeSection({seid:n}):u.a.renameSection({seid:n,name:i}));const o=t.trim();if(n.startsWith("newSectionFromSplit"))u.a.createSection({seid:n,name:o});else if(i!==o){if(o===i)return;u.a.renameSection({seid:n,name:o,syncWithApi:!0,onError:this.highlightName})}})),S(this,"handleDescriptionBlur",(({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;if(e)return void u.a.updateSectionDescription({seid:n,description:i});const o=t.trim();o!==i&&u.a.updateSectionDescription({seid:n,description:o,syncWithApi:!0,onError:this.highlightDescription})})),S(this,"handleSectionHeaderDrop",((e,t,n)=>{t!==n&&u.a.updateSectionOrder({seid:e,index:n,syncWithApi:!0})})),S(this,"handleScreenThumbnailDrop",(({sourceId:e,sourceType:t,targetSectionId:n})=>{u.a.updateScreenOrderV2({items:[{_id:e,type:t}],targetSectionId:n,syncWithApi:!0})})),S(this,"handleScreenThumbnailRef",((e,t)=>{Object(a.default)(this,`screenThumbnail-${e}`)(t)})),S(this,"renderOptionsMenu",(()=>{const{description:e,screens:t}=this.props,{canManageScreens:n,canMoveScreens:s}=this.context,a=e?i.h(g.default.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.h(g.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(g.default,{onOpen:this.generateShortlink,onMouseDown:o.stopPropagation},n&&[a,i.h(g.default.Item,{key:"renameSection",onClick:this.handleRenameSectionClick},"Rename section"),i.h(g.default.ItemDivider,{key:"renameDivider"})],i.h(g.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(g.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),!!t.length&&[i.h(g.default.ItemDivider,{key:"downloadDivider"}),i.h(g.default.Item,{key:"downloadScreens",onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(n||s)&&i.h(g.default.ItemDivider,null),s&&!!t.length&&i.h(g.default.Item,{onClick:this.handleMoveSectionClick},"Move section to project…"),n&&i.h(g.default.Item,{onClick:this.handleDeleteClick,warning:!0},"Delete section"))})),S(this,"renderScreenThumbnailContainer",(()=>{const{id:e,screens:t,projectId:n,defaultSection:o,projectLastUpdated:s,projectThumbnail:a,firstHighlightedScreen:r,highlightedScreens:l,fixedThumbnailSize:c,variantGroupsMapping:d,filterValue:u,containerSelector:h,onCopyScreenWebURL:p,onCopyScreenAppURI:g,onSetAsScreenVariantsClick:m,rawScreens:b}=this.props;let S=this.calculateInitialVariantsCount();return i.h("div",{class:"dashboardScreenGrid"},t.map(((t,y)=>{const v="number"==typeof t.indexInSection?t.indexInSection:y,O=v+S,[{snapshot:C}]=t.versions,E=t.updated||s,T=a===C.url,_=t.tags&&0!==t.tags.length,P=b[v-1],I=b[v+1],j=d[t._id],D=Object.keys(d).length;let k=l.includes(t._id),R=r===t._id;return j&&(S+=j.variants.length,k||(k=j.variants.some((({id:e})=>l.includes(e)))),R||(R=!!j.variants.find((({id:e})=>r===e)))),i.h("div",{key:c?`fixed-${t._id}`:t._id},i.h(f.default,{id:t._id,projectId:n,leftScreenId:P&&P._id,rightScreenId:I&&I._id,variantGroup:j,variantGroupCount:D,screenThumbnailRef:this.handleScreenThumbnailRef,index:O,sectionId:e,scroll:R,highlight:k,hideLeftSectionDivider:0===O&&!o,hideRightSectionDivider:O===b.length-1,filterValue:u,class:"dashboardScreen",hasTag:_,updated:E,isProjectThumbnail:T,fixedSize:c,containerSelector:h,name:t.name,snapshotWidth:C.width,snapshotHeight:C.height,screenImageUrl:C.url,tileInfo:C.tileInfo,onCopyWebURL:p,onCopyAppURI:g,onSetAsScreenVariantsClick:m,onMoveClick:this.handleMoveScreenOrVariantGroupClick,getScreenThumbnailRef:this.getScreenThumbnailRef}))})))}))}calculateInitialVariantsCount(){const{rawScreens:e,screens:t,variantGroupsMapping:n}=this.props;if(e.length===t.length||!t.length)return 0;if("number"!=typeof t[0].indexInSection)return 0;return e.slice(0,t[0].indexInSection).reduce(((e,t)=>{const i=n[t._id];return e+(i?i.variants.length:0)}),0)}componentDidMount(){const{id:e}=this.props;e.startsWith("newSectionFromSplit")&&this.highlightName(),this.registerToObserverIfReady()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription(),this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}render(){const{id:e,name:t,index:n,description:o,defaultSection:s,screens:l,actionsDisabled:d,collapsed:h,highlightedSection:f,onExpand:g,onCollapse:m,rawScreens:b}=this.props;if(s&&!l.length)return null;const{addingDescription:S}=this.state,{canManageScreens:y}=this.context,v=`${Object(r.pluralize)(b.length,"screen")} collapsed`,O=this.renderOptionsMenu(),C=S?c.DEFAULT_DESCRIPTION:o;return i.h(p.DragDropScreenThumbnailSection,{type:c.SCREEN_THUMBNAIL_SECTION,optionsButtonRef:Object(a.default)(this,"optionsButton"),componentRef:Object(a.default)(this,"section","componentRefs"),index:n,onExpand:g,onCollapse:m,collapsed:h,baseRef:Object(a.default)(this,"base"),emptyText:"No screens",empty:!b.length,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:C,defaultSection:s,countInfoText:v,highlight:e===f,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,onHighlightEnd:u.a.unhighlightSection,actionsDisabled:d,readOnly:!y,optionsMenu:O,onScreenThumbnailDrop:this.handleScreenThumbnailDrop,onSectionHeaderDrop:this.handleSectionHeaderDrop},this.renderScreenThumbnailContainer())}}y.defaultProps={highlightedScreens:[]};t.default=e=>i.h(m.SectionObserverContext.Consumer,null,(({sectionObserver:t})=>i.h(y,b({sectionObserver:t},e))))},function(e,t,n){"use strict";n.r(t);var i=n(614),o=n(567),s=n.n(o);const a={open({targetNode:e,resourceId:t,resourceType:n}){s.a.dispatcher.dispatch({type:i.default.OPEN,targetNode:e,resourceId:t,resourceType:n})},close(){s.a.dispatcher.dispatch({type:i.default.CLOSE})},move({barrelId:e,resource:t,resourceType:n,target:o,densityScale:a,platform:r}){s.a.dispatcher.dispatch({type:i.default.MOVE,barrelId:e,resource:t,resourceType:n,target:o,densityScale:a,platform:r,syncWithApi:!0})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1516);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(1517),a=n(1137),r=n.n(a),l=n(1509),c=n(1254),d=n(852),u=n(610),h=n(686),p=n(547),f=n(1220),g=n(1040),m=n(702),b=n.n(m),S=n(684),y=n.n(S),v=n(716),O=n.n(v),C=n(710),E=n.n(C),T=n(691),_=n.n(T),P=n(1541);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends o.default{constructor(e){super(e),I(this,"getScreenSource",(()=>{const{screenImageUrl:e}=this.props,{source:t}=this.state,n=l.default.has(e);return t||(n?e:"")})),I(this,"handleDetachVariantGroup",(()=>{const{variantGroupId:e}=this.props.variantGroup;O.a.detachVariantGroup({vgid:e,syncWithApi:!0})})),I(this,"handleScreenLinkMouseOver",(()=>{const{tileInfo:e,highlight:t,id:n}=this.props;if(t&&O.a.unhighlightScreen(n),!e){const e=this.getScreenSource();this.prefetchTimeoutId=setTimeout((()=>{Object(P.prefetch)(e,{crossOrigin:"anonymous"})}),100)}})),I(this,"handleScreenLinkMouseLeave",(()=>{this.prefetchTimeoutId&&clearTimeout(this.prefetchTimeoutId)})),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null,asVariant:!1,loadingDeleteVariantGroup:!1},this.screenThumbnailObserver=Object(c.getThumbnailObserver)(e.containerSelector),this.generateShortlink=this.generateShortlink.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(u.debounce)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}get link(){const{projectId:e,id:t}=this.props;return Object(h.urlResolve)("project-screen",{url:{pid:e,sid:t}})}scroll(){this.nodeRefs.base.scrollIntoView()}calculateCubukPosition(e,t){const{getScreenThumbnailRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-60)));return{height:o,top:Math.max(0,Math.round((i-26-o)/2))}}generateShortlink(){Object(f.fetchShortlink)(this.link)}getContextMenuItems(){const{id:e,hasTag:t,isProjectThumbnail:n,variantGroup:o,onSetAsScreenVariantsClick:s}=this.props,{canUpdateProject:a,canManageScreens:l,canMoveScreens:c}=this.context,d=!!y.a.getVariantGroupOfScreen(e),u=t?i.h(r.a.Item,{key:"manageTags",onClick:this.handleManageTagsClick},"Manage tags…"):i.h(r.a.Item,{key:"addTag",onClick:this.handleManageTagsClick},"Add tag…");return[l&&u,a&&!n&&i.h(r.a.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.h(r.a.Item,{key:"downloadImage",onClick:this.handleDownloadScreenImageClick},"Download screen ",o?"images":"image"),i.h(r.a.ItemDivider,{key:"copyDivider"}),i.h(r.a.Item,{key:"copyWeb",onClick:this.handleCopyWebLinkClick},"Copy web link"),i.h(r.a.Item,{key:"copyApp",onClick:this.handleCopyAppURIClick},"Copy App URI"),(c||l)&&i.h(r.a.ItemDivider,{key:"warningDivider"}),c&&(o||!d)&&i.h(r.a.Item,{key:"move",onClick:this.handleMoveClick},"Move ",o?"screens":"screen"," to project…"),l&&!o&&!d&&i.h(r.a.Item,{key:"setAsVariants",onClick:s},"Set as screen variants"),l&&o&&i.h(r.a.Item,{key:"detachVariantGroup",onClick:this.handleDetachVariantGroup},"Detach variant group"),l&&i.h(r.a.Item,{key:"delete",onClick:this.openDeleteScreenDialog,warning:!0},"Delete ",o?"screens":"screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,jiraIssueFilterActive:t,tagFilterActive:n,sortActive:i,showToast:o}=this.context;i?o({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?o({text:"Unselect jira issues to reorder",source:"showCannotDragToast"}):n?o({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&o({text:"Reset search to reorder",source:"showCannotDragToast"})}handleBaseRef(e){const{id:t,screenThumbnailRef:n}=this.props;Object(d.default)(this,"base")(e),n(t,e)}handleScreenImageLoad(){l.default.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,300),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback((()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})}),{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i,variantGroup:o}=this.props;if(o){const{variantGroupId:e,variantGroupName:n}=o;if(t===n)return;O.a.renameVariantGroup({vgid:e,name:t,syncWithApi:!0})}else t!==i&&E.a.updateName({sid:n,name:t,syncWithApi:!0,onError:this.componentRefs.screenThumbnail.highlightName})}handleManageTagsClick(e){const{id:t,variantGroup:n}=this.props;if(e.stopPropagation(),n){const e=[t,...n.variants.map((({id:e})=>e))];E.a.openTagManager(e)}else E.a.openTagManager([t])}handleSetAsThumbnailClick(){b.a.updateThumbnail({thumbnail:this.props.screenImageUrl,syncWithApi:!0})}handleDownloadScreenImageClick(){const{id:e,variantGroup:t}=this.props;t?O.a.downloadScreensOfVariantGroup(t.variantGroupId):O.a.downloadScreen(e)}handleCopyWebLinkClick(){const{id:e,onCopyWebURL:t}=this.props;t(e)}handleCopyAppURIClick(){const{id:e,onCopyAppURI:t}=this.props;t(e)}handleMoveClick(e){e.stopPropagation();const{id:t,onMoveClick:n,variantGroup:i}=this.props;n({resourceType:i?"variantGroup":"screen",resourceId:i?i.variantGroupId:t,targetNode:this.nodeRefs.base})}handleDeleteDialogPositiveClick(){const{id:e,variantGroup:t}=this.props;t?(O.a.deleteVariantGroupRequest({vgid:t.variantGroupId,syncWithApi:!0}),this.setState({loadingDeleteVariantGroup:!0})):E.a.removeScreen({sid:e,syncWithApi:!0})}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:o,tagFilterActive:s}=this.context;if(n||i||o||s)return;const a=this.nodeRefs.base.getBoundingClientRect(),r=this.calculateCubukPosition(a,e);this.setState(Object(u.getStateUpdateFunction)({sectionDividerPosition:t,sectionDividerHeight:r.height,sectionDividerTop:r.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;let i;"left"===n?i=e:t&&(i=t),i&&(O.a.splitSection(i),this.handleHideSectionDivider())}handleDragHover({sourceId:e,isSourceVariantGroup:t,mirrorPosition:n}){const i=this.nodeRefs.base.getBoundingClientRect(),o=n.left>i.left+i.width/2;let s=this.props.leftScreenId;o&&(s=this.props.rightScreenId);const a=this.calculateCubukPosition(i,s);!t&&this.props.id!==e&&n.left>i.left+50&&n.left<i.left+i.width-50?this.setState(Object(u.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null,asVariant:!0})):this.setState(Object(u.getStateUpdateFunction)({moveCubukPosition:o?"right":"left",moveCubukHeight:a.height,moveCubukTop:a.top,asVariant:!1}))}handleDragHoverOut(){this.setState(Object(u.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null,asVariant:!1}))}handleDrop({sourceId:e,sourceIndex:t,sourceSectionId:n,targetIndex:i,targetSectionId:o,sourceVariantGroup:s}){const{id:a,name:r,variantGroup:l,variantGroupCount:c}=this.props,{moveCubukPosition:d,asVariant:u}=this.state,{paymentPlan:h,isOrganizationProject:f}=this.context,{name:m}=_.a.getScreen({sid:e});if(u){if(l)O.a.addScreensToVariantGroup({vgid:l.variantGroupId,screens:[{id:e,variantName:m}],syncWithApi:!0});else{if(!f&&("free"===h.id||"deprecated"===h.status)&&c>=h.variantGroupLimit)return void Object(g.showPlanChooserOverlay)({source:"Screen variants",upgradeTrigger:p.PlanUpgradeTrigger.VARIANT_GROUP_LIMIT});O.a.createVariantGroup({vgid:"newVariantGroup",screens:[{id:a,variantName:r},{id:e,variantName:m}],variantGroupName:r,syncWithApi:!0})}return}if("left"!==d&&"right"!==d)return;let b=i;if(n===o?(t>i&&"right"===d&&(b=i+1,l&&(b+=l.variants.length)),t<i&&"left"===d&&(b=i-1),t<i&&"right"===d&&l&&(b+=l.variants.length),t<i&&s&&(b-=s.variants.length)):"right"===d&&(b=i+1,l&&(b+=l.variants.length)),n===o&&t===b)return;const S=s?[{type:"variantGroup",_id:s.variantGroupId}]:[{type:"screen",_id:e}];O.a.updateScreenOrderV2({items:S,targetSectionId:o,targetIndex:b,syncWithApi:!0})}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection);const{scroll:e}=this.props;e&&this.scroll()}componentDidUpdate(e){const{loadingDeleteVariantGroup:t}=this.state,{scroll:n,variantGroup:i}=this.props,{scroll:o,variantGroup:s}=e;!o&&n&&this.scroll(),s&&!i&&t&&this.setState({loadingDeleteVariantGroup:!1})}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,updated:t,name:n,class:o,variantGroup:a,fixedSize:r,snapshotWidth:l,snapshotHeight:c,containerSelector:u,filterValue:h,index:p,sectionId:f,highlight:g,hideLeftSectionDivider:m,hideRightSectionDivider:b}=this.props,{loading:S,sectionDividerPosition:y,sectionDividerTop:v,sectionDividerHeight:O,moveCubukPosition:C,asVariant:E,moveCubukTop:T,moveCubukHeight:_,deleteDialogVisible:P,loadingDeleteVariantGroup:I}=this.state,{canManageScreens:j}=this.context,D=this.getScreenSource();return i.h(s.default,{id:e,filterValue:h,index:p,sectionId:f,link:this.link,class:o,updated:t,name:a?a.variantGroupName:n,highlight:g,baseRef:this.handleBaseRef,componentRef:Object(d.default)(this,"screenThumbnail","componentRefs"),readOnly:!j,fixedSize:r,hideLeftSectionDivider:!j||m,hideRightSectionDivider:!j||b,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onScreenLinkMouseLeave:this.handleScreenLinkMouseLeave,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:y,sectionDividerTop:v,sectionDividerHeight:O,moveCubukPosition:C,moveCubukHeight:_,variantGroup:a,asVariant:E,moveCubukTop:T,snapshotWidth:l,snapshotHeight:c,source:D,loading:S,getContextMenuItems:this.getContextMenuItems,onContextMenu:this.generateShortlink,containerSelector:u,deleteDialogVisible:P,loadingDeleteVariantGroup:I,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:this.handleDrop,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}t.default=j},function(e,t,n){"use strict";n.r(t);var i=n(1518);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1519),s=n(1522),a=n.n(s),r=n(1525),l=n(1137),c=n.n(l),d=n(1203),u=n.n(d),h=n(852),p=n(724),f=n.n(p),g=n(610),m=n(1532),b=n(1535),S=n.n(b),y=n(1256),v=n(1027),O=n(1157),C=n(1538),E=n(1539);n(1540);class T extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.highlightName=this.highlightName.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(h.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,loadingDeleteVariantGroup:t,name:n,onDeleteDialogPositiveClick:o,onDeleteDialogNegativeClick:s,onDeleteDialogClose:a,variantGroup:r}=this.props;let l="Deleted screens cannot be restored.";if(r&&(l=`All ${r.variants.length+1} screen variants will also be deleted. Deleted screens and variants cannot be restored.`),e)return i.h(v.BasicOverlayDialog,{title:`Delete "${n}"?`,message:l,onPositiveButtonClick:o,onNegativeButtonClick:s,onClose:a,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1,loading:t})}renderContextMenu(){const{getContextMenuItems:e,onContextMenu:t}=this.props,{contextMenu:n}=this.state,o=e()||[];return i.h(c.a.overlay,{class:"screenThumbnailContextMenu",onMouseDown:g.stopPropagation,autoPosition:{clickOrigin:n},onOpen:t,onClose:this.handleContextMenuClose},o)}render(){const{id:e,link:t,updated:n,name:s,readOnly:l,fixedSize:c,snapshotWidth:d,snapshotHeight:p,source:b,class:v,onNameBlur:O,onScreenImageLoad:T,loading:_,filterValue:P,dragging:I,highlight:j,hideLeftSectionDivider:D,hideRightSectionDivider:k,sectionDividerPosition:R,sectionDividerTop:A,sectionDividerHeight:w,onShowLeftSectionDivider:N,onShowRightSectionDivider:L,onHideSectionDivider:M,onSectionDividerClick:x,onScreenLinkMouseOver:U,onScreenLinkMouseLeave:B,onMouseDown:V,variantGroup:z,asVariant:F,moveCubukPosition:W,moveCubukHeight:H,moveCubukTop:G}=this.props,{contextMenu:$}=this.state,q=Object(E.calculateScreenImgHeight)(c,d,p);return i.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:g.stopPropagation,onMouseEnter:N,onMouseLeave:M,style:{height:q}},!D&&"left"===R&&i.h(m.default,{top:A,height:w,onClick:x}),"left"===W&&i.h(y.default,{top:G,height:H})),i.h("div",{class:f()("screenThumbnail",{dragging:I},v),ref:this.handleBaseRef,onMouseDown:V,key:e},$&&this.renderContextMenu(),F&&i.h(a.a,{hasVariantGroup:!z}),i.h(o.default,{loading:_,dragging:I,highlight:j,asVariant:F,href:t,source:b,contextMenuOpen:!!$,onContextMenu:this.handleContextMenu,onMouseLeave:B,onMouseOver:U},i.h(u.a,{source:b,width:C.SCREEN_THUMBNAIL_WIDTH,height:q,onLoad:T,class:"screenImage"})),i.h("div",{class:"screenInfo"},z&&i.h(S.a,{class:"variantIndicator",numberOfVariants:z.variants.length+1}),i.h(r.default,{class:"screenName",ref:Object(h.default)(this,"screenName","componentRefs"),matchValue:P,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:s,onBlur:O,readOnly:l,minLength:"1",maxLength:"100",required:!0}),i.h("zpl-time-ago",{format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:g.stopPropagation,onMouseEnter:L,onMouseLeave:M,style:{height:q}},!k&&"right"===R&&i.h(m.default,{top:A,height:w,onClick:x}),"right"===W&&i.h(y.default,{top:G,height:H})),this.renderDialogs())}}var Component;t.default=Object(g.pipe)(Object(O.DragSource)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.h(u.a,{source:e,width:C.SCREEN_THUMBNAIL_WIDTH,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{id:t,index:n,sectionId:i,source:o,variantGroup:s,snapshotWidth:a,snapshotHeight:r,fixedSize:l}=e;return{id:t,index:n,sectionId:i,source:o,imgHeight:Object(E.calculateScreenImgHeight)(l,a,r),variantGroup:s}}}),Object(O.DropTarget)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId,sourceVariantGroup:t.dragData.variantGroup}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,isSourceVariantGroup:!!t.dragData.variantGroup}),onHoverOut:e=>e.onHoverOut()}))((Component=T,e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.h(Component,t)}))},function(e,t,n){"use strict";n.r(t);var i=n(1520);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1521);t.default=function({loading:e,dragging:t,highlight:n,contextMenuOpen:o,asVariant:a,href:r,onContextMenu:l,onMouseOver:c,onMouseLeave:d,children:u}){return i.h("div",{class:s()("screenThumbnailLinkWrapper",{asVariant:a})},i.h("a",{class:s()("screenThumbnailLink",{loading:e,dragging:t,highlight:n,contextMenuOpen:o}),onContextMenu:l,onMouseOver:c,onMouseLeave:d,href:r,"data-link-type":"inApp"},u))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1523);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(731);n(1524),t.default=function({hasVariantGroup:e}){return i.h("div",{class:"variantHoverLabel"},i.h(o.IconScreenVariant,{color:"#fff"}),i.h("span",{class:"labelText"},e?"Set as variants":"Add as variants"))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1526);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1527),s=n(959),a=n(724),r=n.n(a),l=n(852);n(1531);class c extends i.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(s.highlightInput)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:a}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(l.default)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=a&&e&&!t&&!n;return i.h("div",{class:r()("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(s.highlightMatchedParts)(e,a,{caseInsensitive:!0,excludeZeroScore:!0})}}):i.h(o.default,c))}}c.defaultProps={value:""},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1528);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(724),a=n.n(s),r=n(852),l=n(1529),c=n(959),d=n(544),u=n(5),h=n.n(u);n(1530);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const f="…";class g extends o.default{constructor(e){super(e),this.numberOfCharactersRemoved=0,this.handleInputRef=this.handleInputRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMirrorMouseUp=this.handleMirrorMouseUp.bind(this),this.state={mirrorText:e.value,focusWithin:!1,caretPosition:0}}generateMirrorText(){const{value:e}=this.props,t=this.nodeRefs&&this.nodeRefs.mirrorText;let n=e,i=!1,o=0;if(t){if(Object(c.getTextWidth)(f,"15px Roboto")<t.offsetWidth)for(;Object(c.getTextWidth)(n,"15px Roboto")>t.offsetWidth;)if(i){const e=Math.floor((n.length-f.length)/2-1);n=`${n.substring(0,e)}…${n.substring(n.length-e,n.length)}`,o+=2}else{const e=Math.floor(n.length/2)-1,t=`${n.substring(0,e)}…${n.substring(n.length-e,n.length)}`;o+=n.length-(t.length-f.length),n=t,i=!0}n!==this.state.mirrorText&&(this.numberOfCharactersRemoved=o,this.setState({mirrorText:n}))}}handleInputRef(e){const{inputRef:t}=this.props;Object(r.default)(this,"input")(e),t&&t(e)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}handleBlur(e){const{onBlur:t}=this.props;t&&t(e),this.state.focusWithin&&this.setState({focusWithin:!1})}handleMirrorMouseUp(e){const{disabled:t,value:n}=this.props,{mirrorText:i}=this.state;let o=Object(l.default)({element:e.target,maxLength:i.length});n!==i&&o>Math.ceil(i.length/2)&&(o+=this.numberOfCharactersRemoved-f.length),this.setState({caretPosition:o,focusWithin:!t})}componentDidMount(){const{withMirror:e}=this.props,{focusWithin:t}=this.state;e&&this.nodeRefs&&this.nodeRefs.base&&!t&&this.generateMirrorText()}componentDidUpdate(e,t){const{withMirror:n}=this.props,{focusWithin:i,caretPosition:o,mirrorText:s}=this.state;if(n&&this.nodeRefs&&this.nodeRefs.base&&!i&&this.generateMirrorText(),n&&!t.focusWithin&&i&&this.nodeRefs&&this.nodeRefs.input){const e=o<=Math.ceil(s.length/2)||f.includes(s[o]);this.nodeRefs.input.focus({preventScroll:e}),e&&Object(d.getBrowser)()===d.BROWSER.SAFARI&&(this.nodeRefs.input.scrollLeft=0),this.nodeRefs.input.setSelectionRange(o,o)}}renderInput(e){const{withMirror:t,type:n,disabled:o}=this.props,{focusWithin:s,mirrorText:l}=this.state;return t&&!s?i.h("div",{class:a()("mirror",{disabled:o})},i.h("span",{ref:Object(r.default)(this,"mirrorText"),contentEditable:!0,onMouseUp:this.handleMirrorMouseUp},l)):i.h("input",p({},e,{ref:this.handleInputRef,type:n,onBlur:this.handleBlur,onMouseUp:this.handleInputMouseUp}))}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:o,class:s,ellipsized:l}=this.props,c=Object.assign({},this.props);return delete c.class,delete c.inputRef,delete c.ellipsized,delete c.blurOnEnter,delete c.discardOnESC,delete c.prefix,delete c.suffix,(n||o)&&(c.onKeyDown=this.handleKeyDown),l&&(c.class="ellipsis"),i.h("div",{ref:Object(r.default)(this,"base"),class:a()("textInput",s,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},this.renderInput(c))}}g.propTypes={suffix:h.a.string,prefix:h.a.string,inputRef:h.a.func,ellipsized:h.a.bool,blurOnEnter:h.a.bool,discardOnESC:h.a.bool},g.defaultProps={type:"text"},t.default=g},function(e,t,n){"use strict";n.r(t),t.default=function({element:e,maxLength:t}){let n,i=0;if(void 0!==document.getSelection&&(n=document.getSelection(),n.rangeCount>0)){const t=document.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),i=n.toString().length}return Math.min(i,t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1533);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731);n(1534);t.default=function(e){const{onClick:t,height:n,top:s,left:a}=e;return i.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:s,left:a}},i.h("div",null),i.h(o.IconDivider,{class:"iconDivider noSelect"}),i.h("div",null))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1536);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(731),a=i(n(724));n(1537),t.default=function({class:e,numberOfVariants:t}){return o.h("div",{class:a.default("screenVariantsIndicator",e)},o.h(s.IconScreenVariant,{color:"#fff"}),o.h("span",{class:"numberOfVariants"},t))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TAGS_HEIGHT=t.SCROLLBAR_DEFAULT_WIDTH=t.JIRA_ATTACHMENT_HEIGHT=t.SIDEBAR_COLLAPSED_WIDTH=t.SIDEBAR_MIN_WIDTH=t.SECTION_DESCRIPTION_HEIGHT=t.DEFAULT_SECTION_HEADER_HEIGHT=t.ONBOARDING_VERTICAL_MARGINS=t.SCREENS_DESCRIPTION_HEIGHT=t.SCREEN_THUMBNAIL_MAX_HEIGHT=t.SCREEN_THUMBNAIL_HEIGHT=t.SCREEN_THUMBNAIL_WIDTH=t.SCREENS_ROW_BOTTOM_PADDING=t.SCREENS_ROW_TOP_PADDING=t.RAW_SECTION_HEADER_HEIGHT=t.SCREENS_HORIZONTAL_PADDING=t.SCREEN_VERTICAL_MARGIN=t.SCREEN_HORIZONTAL_MARGIN=t.SCREEN_WIDTH=t.NEW_SECTION_TITLE=void 0;t.NEW_SECTION_TITLE="Untitled Section";t.SCREEN_WIDTH=240;t.SCREEN_HORIZONTAL_MARGIN=24;t.SCREEN_VERTICAL_MARGIN=22;t.SCREENS_HORIZONTAL_PADDING=36;t.RAW_SECTION_HEADER_HEIGHT=70;t.SCREENS_ROW_TOP_PADDING=12;t.SCREENS_ROW_BOTTOM_PADDING=64;t.SCREENS_DESCRIPTION_HEIGHT=26;t.SECTION_DESCRIPTION_HEIGHT=20;t.SCREEN_THUMBNAIL_WIDTH=240;t.SCREEN_THUMBNAIL_HEIGHT=200;t.SCREEN_THUMBNAIL_MAX_HEIGHT=520;t.DEFAULT_SECTION_HEADER_HEIGHT=0;t.JIRA_ATTACHMENT_HEIGHT=34;t.ONBOARDING_VERTICAL_MARGINS=20;t.SIDEBAR_MIN_WIDTH=260;t.SIDEBAR_COLLAPSED_WIDTH=20;t.SCROLLBAR_DEFAULT_WIDTH=15;t.TAGS_HEIGHT=48},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.howManyScreensFitInARow=t.calculateScreenImgHeight=void 0;const i=n(1538);t.howManyScreensFitInARow=function(e,t){let n=1;const o=function(e){const t=document.querySelector(".barrelSidebar");return t&&t.classList.contains("collapsed")?i.SIDEBAR_COLLAPSED_WIDTH:e===i.SIDEBAR_COLLAPSED_WIDTH?i.SIDEBAR_MIN_WIDTH:e}(e),s=t?t.offsetWidth-t.clientWidth:i.SCROLLBAR_DEFAULT_WIDTH,a=window.innerWidth-o-s;for(;n*(i.SCREEN_WIDTH+i.SCREEN_HORIZONTAL_MARGIN)+2*i.SCREENS_HORIZONTAL_PADDING<=a;)n++;return n=1===n?1:n-1,n},t.calculateScreenImgHeight=function(e,t,n){return e?i.SCREEN_THUMBNAIL_HEIGHT:Math.min(Math.round(i.SCREEN_THUMBNAIL_WIDTH/t*n),i.SCREEN_THUMBNAIL_MAX_HEIGHT)}},function(e,t,n){},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.dnsPrefetch=t.prerender=t.preload=t.prefetch=void 0,function(e){e.PREFETCH="prefetch",e.PRELOAD="preload",e.DNS_PREFETCH="dns-prefetch",e.PRERENDER="prerender"}(i||(i={}));const o={prefetch:new Set,preload:new Set,"dns-prefetch":new Set,prerender:new Set},s={audio:!0,document:!0,embed:!0,fetch:!0,font:!0,image:!0,object:!0,script:!0,style:!0,track:!0,video:!0,worker:!0};function a({preType:e,urlOrUrls:t,onError:n,onSuccess:i,options:a}){var r;if(!function(e){const t=document.createElement("link");return t.relList&&t.relList.supports&&t.relList.supports(e)}(e))return;if("preload"===e){const e=null!==(r=null==a?void 0:a.as)&&void 0!==r?r:"";s[e]||console.warn('rel="preload" must have a valid `as` attribute')}const l=function(e,t,n,i){return function(s){const a=o[e];if(!s)return;if(a.has(s))return;a.add(s);const r=document.createElement("link");r.rel=e,r.href=s,r.onload=null!=i?i:null,r.onerror=null!=n?n:()=>console.warn(`Link: ${s} could not be ${e}ed.`);for(const e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);document.head.appendChild(r)}}(e,a,n,i);Array.isArray(t)?t.forEach(l):l(t)}t.prefetch=function(e,t,n,o){a({preType:i.PREFETCH,urlOrUrls:e,onError:n,onSuccess:o,options:t})},t.dnsPrefetch=function(e,t,n,o){a({preType:i.DNS_PREFETCH,urlOrUrls:e,onError:n,onSuccess:o,options:t})},t.preload=function(e,t,n,o){a({preType:i.PRELOAD,urlOrUrls:e,onError:n,onSuccess:o,options:t})},t.prerender=function(e,t,n,o){a({preType:i.PRERENDER,urlOrUrls:e,onError:n,onSuccess:o,options:t})}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.virtualScrollScreenSections=void 0;const i=n(1395),o=n(1539),s=n(1538);var a,r;function l(e,t){if(e.type===r.default)return s.DEFAULT_SECTION_HEADER_HEIGHT;let n=s.RAW_SECTION_HEADER_HEIGHT;const i=t&&t.attachments?t.attachments.filter((t=>t.itemId===e._id)).length:0;return e.description&&(n+=s.SECTION_DESCRIPTION_HEIGHT),i&&(n+=i*s.JIRA_ATTACHMENT_HEIGHT),n}!function(e){e.sectionHeader="SectionHeader",e.ScreensRow="ScreensRow"}(a||(a={})),function(e){e.user="user",e.timeline="timeline",e.name="name",e.individual="individual",e.default="default"}(r||(r={})),t.virtualScrollScreenSections=function({sections:e,collapsedSections:t,highlightedSection:n,screenToScroll:c,scrollPosition:d,fixedSize:u,sidebarWidth:h,dashboardArea:p,jira:f}){const{rows:g,screensLookup:m,startIndex:b}=function(e,t,n,i,r,c,d,u){var h,p;let f=-1;const g=[],m={},b=o.howManyScreensFitInARow(c,d);for(let S=0;S<e.length;S++){const c=e[S],[d,y]=[0===S,S===e.length-1],v=d?s.SCREENS_ROW_TOP_PADDING:0,O=y?s.SCREENS_ROW_BOTTOM_PADDING:0;if(n&&n===c._id&&(f=g.length),t[c._id])g.push({id:c._id,height:s.RAW_SECTION_HEADER_HEIGHT+v,type:a.sectionHeader,index:S});else{g.push({id:c._id,height:l(c,u)+v,type:a.sectionHeader,index:S});let e=[],t=[],d=[];for(let l=0;l<c.screens.length;l++){const u=c.screens[l],S=null===(p=null===(h=u.versions)||void 0===h?void 0:h[0])||void 0===p?void 0:p.snapshot;if(S){const{width:h,height:p}=S,y=o.calculateScreenImgHeight(r,h,p);m[u._id]=u,e.push(u._id),t.push(l),d.push(y);const v=l%b==b-1||l===c.screens.length-1,C=Math.max(...d)+s.SCREENS_DESCRIPTION_HEIGHT+s.SCREEN_VERTICAL_MARGIN;v&&(g.push({ids:e,indexes:t,sectionId:c._id,height:C+O,type:a.ScreensRow}),e=[],t=[],d=[]),!n&&i&&u._id===i&&(f=g.length-1)}}}}return{rows:g,screensLookup:m,startIndex:f}}(e,t,n,c,u,h,p,f),S=g.reduce(((e,t)=>e+t.height),0);if(S<10*window.innerHeight&&0!==S){return{placeholders:{top:0,bottom:0},sections:e.map(((e,t)=>({indexInDashboard:t,rawSection:e})))}}const y=b>-1?i.windowAroundIndex({items:g,tolerance:2*window.innerHeight,windowHeight:window.innerHeight,startIndex:b}):i.virtualScroll({items:g,tolerance:2*window.innerHeight,windowHeight:window.innerHeight,scrollPosition:d});let v=0;const O=[],C=[];for(;v<y.items.length&&y.items[v].type!==a.sectionHeader;){const e=y.items[v];e.ids.forEach(((t,n)=>{O.push({screen:m[t],indexInSection:e.indexes[n],sectionId:e.sectionId})})),v++}for(;v<y.items.length;){const t=y.items[v],n=e.find((e=>e._id===t.id));let i=[];if(!n){v++;break}v++;let o=y.items[v];for(;o&&o.type!==a.sectionHeader;){const e=o.ids.map((e=>m[e]));i=i.concat(e),v++,o=y.items[v]}C.push({indexInDashboard:t.index,rawSection:Object.assign(Object.assign({},n),{screens:i})})}const E=function(e,t){if(!t||0===t.length)return null;const n=e.findIndex((e=>e._id===t[0].sectionId)),i=e[n],o={type:r.default,screens:t.map((e=>Object.assign(Object.assign({},e.screen),{indexInSection:e.indexInSection})))};return{indexInDashboard:n,rawSection:Object.assign(Object.assign({},i),o)}}(e,O);return{sections:E?[E,...C]:C,placeholders:y.placeholders}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1545);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(1149),a=i(n(831)),r=i(n(1027)),l=n(731),c=n(959),d=n(693);n(1546);const u="https://zpl.io/blog/screen-variants";function h(){mixpanel.master.track("Clicked learn more on screen variants prompt")}function p(){c.openLink(u),h()}t.default=function({onHideClick:e,showInDialog:t,baseRef:n},{canManageScreens:i}){const c=o.h("img",{width:"156",height:"120",src:"/img/screen-variants@2x.gif"});s.useDidMountEffect((()=>mixpanel.master.track("Viewed screen variants prompt")));const f=d.getDateDifference("d",new Date,new Date("2021-06-30"))<=0,g=o.h("div",{class:"baseContent"},!t&&c,o.h("div",{class:"content"},o.h("h3",null,f?"Organize your screens using Screen Variants ":"Introducing Screen Variants ",o.h(l.IconScreenVariant,{color:"var(--teflon)"})),o.h("p",null,"Combine variations of the same screen, reducing clutter and enabling developers to quickly toggle between them.",i&&" You can define variants in two ways:"),t&&o.h("div",{class:"imageWrapper"},c),i?o.h(o.Fragment,null,o.h("p",null,o.h("strong",null,"1. Drag and drop")," screens onto each other to combine them as variants."),o.h("p",null,o.h("strong",null,"2.")," Name frames/artboards in your design file ",o.h("strong",null,"using the -v keyword")," ","to automatically publish them as variants, e.g. Login -v Mobile.")):o.h("p",null,"Click “Learn more” below to discover how to set up screen variants and"," ","how they can save time for your team."),!t&&o.h("footer",null,o.h("a",{rel:"noopener noreferrer",onClick:h,href:u,target:"_blank"},"Learn more"),o.h(a.default,{class:"hideButton",onClick:e},o.h(l.IconDelete,{transparent:!0})," Got it!"))));return t?o.h(r.default,{positiveButtonText:"LEARN MORE",negativeButtonText:"GOT IT",onPositiveButtonClick:p,hideNegativeButton:!1,onClose:e,width:600},o.h("div",{class:"screenVariantsOnboarding showInDialog"},g)):o.h("div",{class:"screenVariantsOnboarding",ref:n},g)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1548);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1549);n(1552);function s(e){const{mainContent:t,subContent:n,actionButtonText:o,onActionButtonClick:s}=e;return i.h("div",{class:"emptySectionsWithActionButton"},i.h("h1",null,t),n&&i.h("h2",null,n),i.h("button",{type:"button",onClick:s},o))}t.default=function(e){const{tags:t,untagged:n,selectedJiraIssues:a,onResetJiraIssuesClick:r,onResetTagsClick:l}=e;return a.length?i.h(s,{mainContent:"There are no screens with the selected Jira issues.",actionButtonText:"Reset Jira issues",onActionButtonClick:r}):t.length?i.h(s,{mainContent:"There are no screens with the selected tags.",actionButtonText:"Reset tags",onActionButtonClick:l}):n?i.h(s,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like you’re well organized. 😎",onResetTagsClick:l}):i.h(o.default,{text:"No screens with this name 🤷‍♀️"})}},function(e,t,n){"use strict";n.r(t);var i=n(1550);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1551);t.default=function({text:e}){return i.h("div",{class:"filterEmptySections"},e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1554);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1141),s=n(888),a=n(1147),r=n(547),l=n(716),c=n.n(l);n(1555);const d=[{label:"Sort by Sections",dropdownLabel:"Sections",value:r.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:r.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:r.SortTypes.NAME}];function u({onSort:e,onJiraIssueSelectionChange:t,selectedSortType:n,selectedJiraIssues:o,jiraIssueList:r,sections:l,sectionReorderEnabled:u,onSectionReorder:h}){const p=l.length>=3;return i.h(i.Fragment,null,p&&i.h(a.default,{sections:l,onSectionClick:c.a.highlightSection,onSectionReorder:h,selectedSortType:n,reorderEnabled:u}),i.h(s.default,{class:"screensSortDropdown",onChange:e,optionsClass:"screensSortOptions"},d.map((({label:e,dropdownLabel:t,value:o,class:a})=>i.h(s.default.Item,{class:a,key:o,value:o,label:e,dropdownLabel:t,selected:o===n})))),r&&r.length>0&&i.h(s.default,{class:"screensSortDropdown",optionsClass:"jiraIssueFilterOptions",defaultLabel:"Jira Issue",multiSelect:!0,onChange:t},r.map((e=>i.h(s.default.Item,{key:e,label:e,value:e,selected:o.includes(e)})))))}t.default=function({onFilter:e,onSort:t,onJiraIssueSelectionChange:n,selectedJiraIssues:s,selectedSortType:a,jiraIssueList:r,filterValue:l,searchDisabled:c,sections:d,sectionReorderEnabled:h,onSectionReorder:p}){return i.h(o.default,{class:"screensFilterSortView",onFilter:e,filterValue:l,searchPlaceholder:"Search for a screen",searchPlaceholderWidth:128,searchDisabled:c,leftContent:i.h(u,{onSort:t,onJiraIssueSelectionChange:n,selectedSortType:a,selectedJiraIssues:s,jiraIssueList:r,sections:d,sectionReorderEnabled:h,onSectionReorder:p})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1557);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731),s=n(831),a=n(544),r=n(702),l=n.n(r);n(1558);t.default=function(){const e=Object(a.getOS)()===a.OS.MAC?"⌥J":"Alt+J";return i.h(s.default,{secondary:!0,class:"jumpToButton",onClick:l.a.openJumpToPopup},i.h(o.IconMagnifier,null),i.h("span",{class:"label"},"Jump to"),i.h("span",{class:"shortcut"},e))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1560);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1561);function o(){return i.h("div",{class:"projectOverviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"tagsLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"screenGridLoading"},i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1563);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(610),s=n(634),a=n(559),r=n(929),l=n.n(r),c=n(684),d=n.n(c),u=n(1514),h=n(567),p=n.n(h),f=n(1564);function g(e,t,n){const{_id:i,type:a,densityScale:r}=t;return e.filter((e=>{const t=e._id!==i&&e.type===a&&(!e.densityScale||e.densityScale===r),s="active"===e.status;let l=!0;if(Object(o.isOrganizationProject)(e)){const t=e.users.find((({user:e})=>e._id===n));l=t&&o.permissions.canManageScreens(t)}return t&&s&&l})).sort(s.sortBy.name)}class m extends i.Component{constructor(e){super(e),this.handleMove=this.handleMove.bind(this),this.handleClose=this.handleClose.bind(this),this.state={spinnerIndex:-1,moveDialogOpen:!1}}static getStores(){return[p.a.OrganizationStore,p.a.ProjectsDataStore,p.a.BarrelStore,p.a.MoveResourcesStore,p.a.UserStore]}static calculateState(){const{open:e,targetNode:t,resourceId:n,resourceType:i}=p.a.MoveResourcesStore.getState();if(!e)return{open:!1};const{barrelId:a,loading:r,organizationId:l}=p.a.BarrelStore.getState();if(r)return{loading:!0};const{userId:c}=p.a.UserStore.getState(),{loading:u,loadingProfiles:h,organizations:f,organizationProfiles:m,organizationProjects:b}=p.a.OrganizationStore.getState();if(u||h)return{loading:!0};const{projects:S}=p.a.ProjectsDataStore.getState(),y=d.a.getBarrel();let v;switch(i){case"screen":v=y.findScreen(n);break;case"variantGroup":v=y.findVariantGroup(n);break;case"section":v=y.findSection(n)}const O=[];if("user"===l){O.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"});const e=g(b.user.map((e=>S[e])),y,c);O.push(...e.map((({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n}))))}const C=("user"===l?Object.entries(b).filter((([e])=>"user"!==e)).map((([e,t])=>({organization:f.find((({_id:t})=>t===e)),profile:m[e],projects:t.map((e=>S[e]))}))):[{organization:f.find((({_id:e})=>e===l)),profile:m[l],projects:b[l].map((e=>S[e]))}]).filter((({organization:{status:e},profile:t})=>"active"===e&&o.permissions.canMoveScreens(t))).map((({organization:e,projects:t})=>({organization:e,projects:g(t,y,c)}))).sort((({organization:e},{organization:t})=>s.sortBy.name(e,t)));O.push(...C.flatMap((({organization:{name:e,_id:t},projects:n})=>[{type:"header",content:`${e}’s Projects`},{type:"create",oid:t},...n.map((({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n})))])));const{type:E,name:T,densityScale:_}=y;return{loading:!1,barrelId:a,barrelName:T,platform:E,densityScale:_,open:e,targetNode:t,resourceType:i,resource:v,listItems:O}}getInteractiveItemAtIndex(e){const{listItems:t}=this.state;return t.filter((({type:e})=>"header"!==e))[e]}handleClose(){const{moveDialogOpen:e}=this.state;e||u.default.close()}handleMove(e){const{resourceType:t}=this.state,{barrelId:n,barrelName:i,platform:o,densityScale:s,resource:r}=this.state,l=this.getInteractiveItemAtIndex(e),c="create"===l.type?"a new project":`"${l.name}"`;this.setState({moveDialogOpen:!0}),a.create({message:`Move selected ${t} from "${i}" to ${c}?`,done:{name:"MOVE",cb:()=>{this.setState({spinnerIndex:e,moveDialogOpen:!1}),u.default.move({barrelId:n,resource:r,resourceType:t,target:l,densityScale:s,platform:o})}},cancel:{name:"KEEP",cb:()=>{this.setState({moveDialogOpen:!1}),u.default.close()}}})}render(){const{loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:s,open:a,targetNode:r,resourceType:l}=this.state;return a?i.h(f.default,{resourceType:l,targetNode:r,loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:s,onMove:this.handleMove,onClose:this.handleClose}):null}}t.default=l()(m)},function(e,t,n){"use strict";n.r(t);var i=n(1565);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(1566),s=n(953),a=n.n(s),r=n(610);n(1569);class l extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.handleMove=this.handleMove.bind(this),this.renderContent=this.renderContent.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){const{listItems:t}=this.props;return t.filter((({type:e})=>"header"!==e))[e]}getPosition(){const{resourceType:e}=this.props;return"section"===e?{top:0,left:0}:{top:78,left:172}}handleMove(e){const{spinnerIndex:t,onMove:n}=this.props;-1===t&&n(e)}renderProjectList(){const{loading:e,densityScale:t,platform:n,spinnerIndex:s,listItems:a}=this.props,l=Object(r.getPlatformString)(n);return e?i.h("div",{key:"projectListLoading",class:"projectListLoading"}):i.h(o.default,{key:"projectList",projectType:l,densityScale:t,items:a,spinnerIndex:s,onSelect:this.handleMove})}renderContent(){const{densityScale:e,platform:t}=this.props,n=Object(r.getPlatformString)(t),o=Object(r.getDensityScaleRepresentation)(t,e);return i.h("div",{class:"moveResourcesPopup"},i.h("p",null,"To keep asset sizes and measurements consistent, only ",i.h("strong",null,n)," projects with ",i.h("strong",null,o)," density are listed. Select one or create a new one to move the screen(s):"),this.renderProjectList())}render(){const{resourceType:e,targetNode:t,onClose:n}=this.props,o="section"===e,s="section"===e,r="section"===e,l="screen"===e,c="screen"===e,{top:d,left:u}=this.getPosition();return i.h(a.a,{targetNode:t,content:this.renderContent,showAnchor:s,anchorTop:-4,centerY:o,top:d,left:u,openToLeft:r,faceLeft:l,faceTop:c,stickToEdge:!0,open:!0,onClose:n})}}},function(e,t,n){"use strict";n.r(t);var i=n(1567);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(731),s=n(610),a=n(724),r=n.n(a),l=n(852),c=n(959);n(1568);const{h:d}=i;class u extends i.Component{constructor(e){super(),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.itemCount=u.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter((({type:e})=>"header"!==e)).length}handleClick(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}handleKeyDown(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){if(e.stopPropagation(),this.lastX===e.clientX&&this.lastY===e.clientY)return;const t=e.target.closest("[data-index]");if(!t)return;const n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){this.itemCount=u.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(c.scrollIfNecessary)(this.nodeRefs.base.querySelector(`[data-index="${this.state.selectedIndex}"]`))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderHeader(e){const{densityScale:t,projectType:n}=this.props,o=s.getDensityScaleRepresentation(n,t);return i.h("h3",{key:e},i.h("span",null,e)," ",i.h("span",null,"(",n,", ",o,")"))}renderProjectButton(e,t){const{spinnerIndex:n}=this.props,{selectedIndex:s}=this.state,a=t===s,l=r()("newProjectButton",{selected:a});return i.h("div",{key:e,class:l,"data-index":t,"data-oid":e},i.h(o.IconPlus,{class:"iconPlus",circleColor:a?"#fff":"var(--cornflower-blue)",color:a?"var(--cornflower-blue)":"#fff"}),i.h("div",null,i.h("div",null,"New project"),i.h("div",null,"Create a new project and transfer screens")),t===n&&i.h(o.IconSpinner,{color:a?"#fff":"var(--gandalf)",class:"iconSpinner"}))}renderProjectItem(e,t,n,s){const{spinnerIndex:a}=this.props,{selectedIndex:l}=this.state,c=s===l,d=r()("project",{odd:n,selected:c});return i.h("div",{key:e,class:d,title:t,"data-index":s},i.h("span",null,t),s===a&&i.h(o.IconSpinner,{color:c?"#fff":null,class:"iconSpinner"}))}renderItems(){const{items:e}=this.props;let t=0,n=!1;return e.map((e=>{switch(e.type){case"header":return this.renderHeader(e.content);case"create":return n=!1,this.renderProjectButton(e.oid,t++);case"project":return n=!n,this.renderProjectItem(e.pid,e.name,n,t++);default:return null}}))}render(){return i.h("div",{ref:Object(l.default)(this,"base"),class:"projectList",onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onClick:this.handleClick},this.renderItems())}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1571);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(545),s=n(1572),a=n(1589),r=n.n(a);n(1592);function l(){const e=o.isWindowsApp?i.h(s.default,null):i.h(r.a,null);return i.h("div",{class:"noScreens"},e)}},function(e,t,n){"use strict";n.r(t);var i=n(1573);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(546),s=n(551),a=n(1574),r=n(1577),l=n(1583),c=n(1586);function d(e){e.preventDefault(),o.default.shell.openExternal(e.target.href)}class u extends i.Component{constructor(e){super(e),this.state={designTool:"figma"},this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),s.userPrefs.set("noScreensDesignToolSelection",t)}componentDidMount(){s.userPrefs.get("noScreensDesignToolSelection").then((e=>{this.setState({designTool:e})}))}render(){const{designTool:e}=this.state;return i.h(a.default,{designTool:e,onDesignToolChange:this.handleDesignToolChange},i.h(a.default.Tab,{value:"xd",description:"Adobe XD"},i.h(l.default,null)),i.h(a.default.Divider,null),i.h(a.default.Tab,{value:"figma",description:"Figma"},i.h(r.default,null)),i.h(a.default.Divider,null),i.h(a.default.Tab,{value:"photoshop",description:"Adobe Photoshop"},i.h(c.default,{onExternalLinkClicked:d})))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1575);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1576);class a extends i.Component{get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{designTool:e,onDesignToolChange:t}=this.props;return this.tabs.map((n=>n?i.cloneElement(n,{onChange:t,designTool:e}):null))}renderActiveTabContent(){const{designTool:e}=this.props,t=this.tabs.find((t=>!!t&&t.props&&t.props.value===e));return t?t.props.children:null}render(){const{designTool:e}=this.props;return i.h("div",{class:s()("noScreensElectron","designToolTabs",e)},i.h("h1",null,"Let’s start by exporting designs."),i.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}a.Tab=function({onChange:e,designTool:t,value:n,description:o}){return i.h("label",null,i.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.h("span",{class:s()("designToolName",n)},o))},a.Divider=()=>i.h("div",{class:"designToolDivider"}),t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1578);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(841),s=n(1579);n(1582);const a=i.h("ol",{class:"figmaSteps"},i.h("li",null,i.h("div",null,"To get started, install the",i.h("a",{href:"https://www.figma.com/community/plugin/745330164019088593/Zeplin",target:"_blank",rel:"noopener noreferrer external"}," Zeplin plugin in Figma"),".")),i.h("li",null,i.h("div",null,"Once the plugin is installed, you can now right-click anywhere on your "),i.h("div",null,"canvas and select ",i.h("strong",null,"“Plugins > Zeplin”"),", to launch it:"),i.h(o.default,{class:"figmaPluginIntegrationImage",asset:"img/imgFigmaPluginMenuIntegration.png"})),i.h("li",null,i.h("div",null,"Once you’re ready and the number of frames and components "),i.h("div",null,"displayed in the plugin is correct, click on the Export button:"),i.h(o.default,{class:"figmaPluginExportImage",asset:"img/imgFigmaPluginMenuExport.png"})));t.default=function(){return i.h("div",{class:"figmaContainer"},i.h("div",{class:"figmaToZeplinImage"},i.h(s.default,{imageSrc:"img/icFigmaDefault.svg",imgClass:"figmaTo"})),a)}},function(e,t,n){"use strict";n.r(t);var i=n(1580);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582),s=n(724),a=n.n(s);n(1581);t.default=function({imageSrc:e,imgClass:t,withMargin:n}){return i.h("div",{class:a()("toolToZeplin",{withMargin:n})},i.h("img",{class:a()("toolImage",t),src:Object(o.imageUrl)(e)}),i.h("img",{class:"handImage",src:Object(o.imageUrl)("img/icHand.svg")}),i.h("img",{class:"zeplinLogo",src:Object(o.imageUrl)("img/zplLogoRectangle.svg")}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1584);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(841),s=n(582),a=n(1579);n(1585);const r=i.h("ol",{class:"xdSteps"},i.h("li",null,i.h("div",null,i.h("a",{href:"https://zpl.io/xd-plugin",target:"_blank",rel:"noopener noreferrer external"},"Install the plugin,")," and then select any layer/artboard in your XD.")),i.h("li",null,i.h("div",null,"Select ",i.h("strong",null,'"Plugins" > "Zeplin for XD > Export Selected…"')," from the menu:"),i.h(o.default,{class:"ssMenuExport",asset:"img/imgXDMenuExport.png",descriptors:["2x"]}),i.h("div",{class:"additionalInfo"},i.h("div",{class:"shortcutInfo"},i.h("img",{class:"emoji",src:s.imageUrl("img/emjPointUp@17w.png"),srcset:`${s.imageUrl("img/emjPointUp@34w.png")} 2x, ${s.imageUrl("img/emjPointUp@51w.png")} 3x`}),i.h("div",null,"You can use the shortcut ",i.h("strong",null,"Ctrl+Alt+Z"),", on your next export.")),i.h("img",{class:"xdShortcut",src:s.imageUrl("img/icXDShortcut.svg")}))));t.default=function(){return i.h("div",{class:"xdContainer"},i.h("div",{class:"xdToZeplinImage"},i.h(a.default,{imageSrc:"img/icXd.svg",imgClass:"xdTo"})),r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1587);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582),s=n(841),a=n(1579);n(1588);function r({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("ol",{class:"photoshopSteps"},i.h("li",null,i.h("div",null,i.h("div",null,"Select and artboard/layer in your Photoshop file."))),i.h("li",null,i.h("div",null,"Activate panel from “Extensions” menu:"),i.h(s.default,{class:"ssDashboardEmpty",asset:"img/ss/ssPhotoshopExtensionsMenu.png"}),t?i.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.h("div",{class:"installPanelInfo"},i.h("div",{style:{margin:"0",height:"18px"}},i.h("img",{class:"emoji",src:o.imageUrl("img/emjPointUp@17w.png"),srcset:`${o.imageUrl("img/emjPointUp@34w.png")} 2x, ${o.imageUrl("img/emjPointUp@51w.png")} 3x`}),"  If you don’t see Zeplin under “Extensions”, from the menu top, select:"),i.h("div",{style:{left:"-2px",position:"relative"}},"“Zeplin > Adobe Photoshop Integration > ",i.h("span",{class:"installPluginText"},"Install Plugin..."),"”"))),i.h("li",null,i.h("div",null,"Select “Export the selected artboards” from the Zeplin panel:"),i.h(s.default,{class:"ssExportPanel",asset:"img/ss/ssPhotoshopExportPanel.png"})))}t.default=function({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("div",{class:"photoshopContainer"},i.h("div",{class:"photoshopToZeplinImage"},i.h(a.default,{imageSrc:"img/icPhotoshop.svg",imgClass:"photoshopTo"})),i.h(r,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1590);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(610),a=i(n(1386)),r=i(n(1121)),l=i(n(841)),c=n(884),d=n(544);n(1591);const u=d.getDownloadLink(),h={DESIGNER_OR_OTHER_WITH_PERMISSION:{title:"Welcome to your project dashboard!",description:"Your designs will be listed here when you publish them to Zeplin. Once published, you can organize them using sections, tags and variants. To publish your designs, download the desktop app.",primaryButtonText:"Download desktop app"},USER_WITHOUT_PERMISSION:{title:"Welcome to your project dashboard!",description:"Your designs will be listed here when you publish them to Zeplin. Once published, you can organize them using sections, tags and variants."},DEVELOPER_OR_OTHER_FREE_OWNER:{title:"Welcome to your project dashboard!",description:"Your designs will be listed here once they're published to Zeplin. If you want to try publishing designs, you can download the desktop app.",primaryButtonText:"Download desktop app"},ORG_DEVELOPER_AND_OTHERS:{title:"Welcome to your project dashboard!",description:o.h("span",null,"Your designs will be listed here once they're published to Zeplin. You will be notified—see Notifications tab on the top right ",o.h(r.default,{width:15,height:17})," —when a new design is added to this project.",o.h("p",{class:"tipText"},"☝️ If you prefer a desktop experience, you can ",o.h("a",{href:u,target:"_blank"},"download the desktop app"),"."))}};class p extends o.Component{getLabels(){const{userRole:e,isOrganizationProject:t,profession:n,canUploadDesigns:i,paymentPlan:o,barrelUsers:a}=this.context;let r;if(t)n&&n!==c.UserProfession.Designer?r=h.ORG_DEVELOPER_AND_OTHERS:(r=i?h.DESIGNER_OR_OTHER_WITH_PERMISSION:h.USER_WITHOUT_PERMISSION,i||(r=Object.assign(Object.assign({},r),{showHintboxForPermission:!0,hintboxContent:`Your workspace role is ${s.getUserRoleString(e)}. If you need to publish designs, please reach out to your workspace Admins to update your role.`})));else if("owner"!==e){if(r=i?h.DESIGNER_OR_OTHER_WITH_PERMISSION:h.USER_WITHOUT_PERMISSION,!i){const e=a.find((e=>"owner"===e.role)),t=e.user.fullName||e.user.email;r=Object.assign(Object.assign({},r),{showHintboxForPermission:!0,hintboxContent:`On the Free plan, only the project owner can upload designs. Contact ${t} to upgrade their plan and allow members to upload designs!`})}}else r="free"===o.id&&n&&n!==c.UserProfession.Designer?h.DEVELOPER_OR_OTHER_FREE_OWNER:h.DESIGNER_OR_OTHER_WITH_PERMISSION;return r}render(){const{title:e,description:t,primaryButtonText:n,showHintboxForPermission:i,hintboxContent:s}=this.getLabels();return o.h("div",{class:"noScreensWebApp"},i&&o.h(a.default,{class:"roleHintbox",emoji:"☝️"},s),o.h("h1",null,e),o.h("p",{class:"description"},t),n&&o.h("a",{class:"button primary",href:u,target:"_blank"},n),o.h(l.default,{class:n?"hasButtonOnTop":"",asset:"img/dashboard-onboarding/preview.png"}))}}t.default=p},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1594);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(610),s=n(544),a=n(852),r=n(1137),l=n.n(r),c=n(724),d=n.n(c);n(1595);class u extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(s.cmdKey)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebURL(e){e.stopPropagation(),this.props.onCopyWebURL(this.props.tag),mixpanel.master.track("Copied web link",{Target:"Tag"})}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag),mixpanel.master.track("Copied app URI",{Target:"Tag"})}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){const{canCreateSectionFromTag:e}=this.props,{contextMenu:t}=this.state;return i.h(l.a.withAutoPosition,{class:"tagContextMenu",onMouseDown:o.stopPropagation,autoPosition:{limitingElement:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleCloseContextMenu},e&&i.h(l.a.Item,{onClick:this.handleConvertToSection},"Convert to section"),e&&i.h(l.a.ItemDivider,{key:"copyDivider"}),i.h(l.a.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(l.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(l.a.ItemDivider,{key:"downloadDivider"}),i.h(l.a.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.h(l.a.ItemDivider,{key:"warningDivider"}),i.h(l.a.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:o}=this.props,{contextMenu:s}=this.state,r=d()("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:o,contextMenuOpen:!!s});return i.h("button",{ref:Object(a.default)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:r},i.h("div",{class:"tagName ellipsis"},t?"Untagged":e),s&&this.renderTagContextMenu())}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1597);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1386)),a=n(544);n(1598),t.default=function({userRole:e,onHideClick:t}){let n;if(["queen","rook"].includes(e)){const e=a.getDownloadLink(),t="https://zpl.io/download"===e?"_blank":"_self";n=o.h(o.Fragment,null,"All designs in this project are listed here. They can be organized using sections, tags and variants. To publish more designs, ",o.h("a",{href:e,target:t},"download the desktop app"),".")}else n=o.h(o.Fragment,null,"All designs in this project are listed here. They're organized by sections, variants and you can filter them by tags or Jira issues.");return o.h(s.default,{class:"dashboardOnboardingHintbox",hideEmoji:"true",hideButtonText:"Got it",onHideClick:t},o.h("h3",null,"This is the project dashboard. 🗂"),o.h("p",null,n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1601);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(1602),a=n(684),r=n.n(a),l=n(685),c=n.n(l),d=n(567),u=n.n(d),h=n(929),p=n.n(h),f=n(686),g=n(590),m=n.n(g),b=n(548),S=n(610);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class E extends o.default{static getExtensionState(){const{loading:e,extensions:t,enabledExtensions:n}=u.a.ExtensionsStore.getState();if(e)return{loadingExtensions:!0};const i=t.filter((({id:e})=>n.includes(e))).map((({name:e})=>e));return{loadingExtensions:!1,extensionTitles:i.length?Object(S.formatList)(i):"No extensions yet."}}static calculateState(){const e=u.a.BarrelStore.getState(),{loading:t,barrelType:n,barrelId:i}=e,o=C(e,["loading","barrelType","barrelId"]);if(t)return{loading:t};const s=r.a.findUser(),a=r.a.getBarrel(),{loadingSelectParent:l}=u.a.StyleguidesDataStore.getState(),{organizationId:d}=o,h=c.a.getOrganizationStyleguides(d)||[],p=Object(f.urlResolve)(n,{url:{bid:i}}),g=n===m.a.PROJECT?"pid":"stid",S=`${b.ZPL_PROTOCOL}//${n}?${g}=${i}`;let y;return a.public&&(y=Object(f.urlResolve)(n,{origin:b.SCENE_URL,url:{bid:i}})),v(v(v({loading:t,barrelType:n,barrelUser:s,webURL:p,sceneURL:y,appURI:S},o),E.getExtensionState()),{},{loadingSelectParent:l,currentOrganizationStyleguides:h,barrel:a})}static getStores(){return[u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore,u.a.ExtensionsStore,u.a.OrganizationStore,u.a.UserStore]}render(){const{width:e,onRelease:t}=this.props,{loading:n,organizationId:o,barrel:a,barrelType:r,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:h,extensionTitles:p,loadingSelectParent:f,currentOrganizationStyleguides:g}=this.state;return n?i.h(s.default.Loading,{width:e}):i.h(s.default,{width:e,onRelease:t,organizationId:o,barrel:a,barrelType:r,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:h,extensionTitles:p,loadingSelectParent:f,currentOrganizationStyleguides:g})}}const T=p()(E,{withProps:!0,pure:!1});t.default=T},function(e,t,n){"use strict";n.r(t);var i=n(1603);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(1231),a=n.n(s),r=n(1604),l=n(610),c=n(724),d=n.n(c),u=n(1192),h=n(852),p=n(583),f=n(1617),g=n(590),m=n.n(g),b=n(1040),S=n(702),y=n.n(S),v=n(1482),O=n.n(v),C=n(1618),E=n(1619),T=n(1622),_=n(1625),P=n.n(_),I=n(1188),j=n(1631),D=n(1647),k=n(1635),R=n(1638),A=n(1650),w=n(831),N=n(1662),L=n(1665),M=n(1673),x=n.n(M),U=n(890),B=n(1682),V=n(1685),z=n(1692),F=n(703),W=n(547),H=n(1027),G=n(731),$=n(1386),q=n.n($);n(1695);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends o.default{constructor(...e){super(...e),K(this,"state",{shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}),K(this,"openMembersDialog",(()=>{this.setState({membersDialogOpen:!0})})),K(this,"closeMembersDialog",(()=>{this.setState({membersDialogOpen:!1})})),K(this,"openDensityDialog",(()=>{this.setState({densityDialogOpen:!0})})),K(this,"closeDensityDialog",(()=>{this.setState({densityDialogOpen:!1})})),K(this,"setInvitePopupAnchorPosition",(()=>{const{inviteButton:e}=this.nodeRefs,t=r.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;r.anchor.classList.toggle("hidden",t.bottom<n.bottom)||(r.anchor.style.top=`${i}px`)})),K(this,"setInvitePopupPosition",Object(l.debounce)((()=>{r.element.style.transform="";const{inviteButton:e}=this.nodeRefs,t=r.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,o=n.top-i,s=n.bottom+n.height+i;let a;a=o>108&&s<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-a,12)-60;r.element.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()}))),K(this,"openSelectParentDialog",(e=>{const{currentOrganizationStyleguides:t}=this.props,n=t.find((t=>t._id===e));this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})})),K(this,"closeSelectParentDialog",(()=>{this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})})),K(this,"openRemoveParentDialog",(()=>{this.setState({removeParentDialogOpen:!0})})),K(this,"closeRemoveParentDialog",(()=>{this.setState({removeParentDialogOpen:!1})})),K(this,"toggleInvitePopup",(e=>{e.stopPropagation(),r.isHidden()?this.openInvitePopup():this.closeInvitePopup()})),K(this,"handleRename",(e=>{if(e===this.props.barrel.name)return;const{barrel:{id:t},barrelType:n}=this.props;y.a.updateName({bid:t,barrelType:n,name:e,syncWithApi:!0})})),K(this,"handleDensityScaleChange",(e=>{if(e===this.props.densityScale)return;const{barrel:{id:t},barrelType:n}=this.props;y.a.updateDensityScale({bid:t,barrelType:n,densityScale:e,syncWithApi:!0})})),K(this,"handleShareContentOpen",(()=>{this.setState({shareContentOpen:!0})})),K(this,"handleShareContentClose",(()=>{this.setState({shareContentOpen:!1})})),K(this,"handleDescriptionSubmit",(e=>{if(e===this.props.barrel.description)return;const{barrel:{id:t},barrelType:n}=this.props;y.a.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})})),K(this,"handleMemberClick",(e=>{this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})})),K(this,"handleAddMembers",(e=>{y.a.addMembers({members:e.detail.users,syncWithApi:!0})})),K(this,"handleRemoveMember",(({user:{_id:e}})=>{y.a.removeMember({mid:e,syncWithApi:!0})})),K(this,"handleAssignAdmin",(({user:{_id:e}})=>{y.a.updateUserRole({uid:e,role:"admin",syncWithApi:!0})})),K(this,"handleUnassignAdmin",(({user:{_id:e}})=>{y.a.updateUserRole({uid:e,role:"user",syncWithApi:!0})})),K(this,"handleTransferOwnership",(({user:{_id:e}})=>{y.a.transferOwnership({uid:e,syncWithApi:!0})})),K(this,"handleSelectParent",(()=>{const{barrel:{id:e}}=this.props,{selectedParentStyleguide:t}=this.state;this.closeSelectParentDialog(),O.a.selectParentRequest({stid:e,parent:t._id,syncWithApi:!0})})),K(this,"handleRemoveParent",(()=>{const{barrel:{id:e,parent:t}}=this.props;this.closeRemoveParentDialog(),O.a.removeParent({stid:e,oldParent:t,syncWithApi:!0})})),K(this,"handleShowPlanChooserOverlay",(()=>{const{barrel:{id:e}}=this.props;Object(b.showPlanChooserOverlay)({source:"Members dialog, Reached user limit",upgradeTrigger:W.PlanUpgradeTrigger.USER_LIMIT,bid:e})}))}get isOrganizationProject(){const{barrel:e}=this.props;return Object(l.isOrganizationProject)(e)}get canUpdateBarrel(){const{barrelUser:e}=this.props;return l.permissions.canUpdateProject(e)}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrel:e,barrelType:t,organizationId:n}=this.props,{id:i,users:o}=e,{sidebar:s}=this.nodeRefs;r.show({bt:t,popupContainer:s,bid:i,members:o,oid:n,onDismiss:e=>{this.setInvitePopupState(!1)},onUsersFetched:this.setInvitePopupPosition}),this.setInvitePopupPosition(),s.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),s.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Sidebar"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),r.dismiss(),this.setInvitePopupState(!1)}componentWillUnmount(){this.closeInvitePopup()}renderSelectParentDialog(){const{barrel:e}=this.props,{selectedParentStyleguide:t}=this.state,{name:n,type:o,parent:s}=e,{name:a,type:r}=t,l=o===r||r===W.PLATFORM.BASE,c=s?"Change":"Select",d=s?"to":"as",u=`“${n}”${l?"":` (${W.PlatformString[o]})`}`,h=`“${a}”${l?"":` (${W.PlatformString[r]})`}`;return i.h(H.BasicOverlayDialog,{title:`${c} parent styleguide of ${u} ${d} ${h}?`,message:"Styleguide parent can be changed later.",positiveButtonText:`${s?"CHANGE":"SELECT"}${l?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{barrel:e}=this.props;return i.h(H.BasicOverlayDialog,{message:`Remove parent styleguide of “${e.name}”?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e}=this.props,t=this.canUpdateBarrel?"Update project density.":Object(u.default)(e.role,"update project density"),n=!this.canUpdateBarrel;return i.h(I.default,{content:t},i.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:n},i.h(G.IconEdit,{color:n?"#C1BEC1":"#554D56"})))}renderName(){const{barrel:e,barrelUser:t,barrelType:n}=this.props,{name:o}=e,s=i.h(T.default,{readonly:!this.canUpdateBarrel,onBlur:this.handleRename,value:o});return this.canUpdateBarrel?s:i.h(I.default,{content:Object(u.default)(t.role,`rename ${n}s`)},s)}renderDensityAndType(){const{barrel:e}=this.props,{type:t,densityScale:n}=e;return i.h("div",{class:"densityAndType"},i.h("div",{class:"info"},Object(l.getPlatformString)(t),", ",Object(l.getDensityScaleRepresentation)(t,n)),this.renderDensityChangeAction())}renderShareButton(){const{shareContentOpen:e}=this.state,{barrelUser:t,barrelType:n,webURL:o,sceneURL:s,appURI:a}=this.props,r=l.permissions.canChangeProjectAccesibility(t);return i.h(x.a,{popoverOpen:e,onPopoverOpen:this.handleShareContentOpen,onPopoverClose:this.handleShareContentClose,barrelType:n,webURL:o,sceneURL:s,appURI:a,onEnableScene:y.a.enableScene,onUnshare:y.a.unshareScene,canUserChangeBarrelAccesibility:r})}renderDescription(){const{barrel:e,barrelType:t}=this.props,{id:n,description:o}=e;return t===m.a.STYLEGUIDE?null:[i.h(k.default,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.h(A.default,{class:"descriptionTextArea",value:o,placeholder:this.canUpdateBarrel?"Got any notes?":"No description yet",color:"cornflowerBlue",readOnly:!this.canUpdateBarrel,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:f.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024,barrelId:n})),i.h(D.default,{key:"descriptionSeparator"})]}renderMembers(){const{barrel:e,barrelUser:t,barrelType:n,organizationId:o}=this.props,{membersDialogOpen:s}=this.state,{id:a,name:r,users:l,maxUserLimit:c}=e;let d=null;if(s){const e=this.highlightedMemberId;this.highlightedMemberId=null,d=i.h(U.default,null,i.h(L.default,{key:"membersDialog",members:l,barrelUser:t,barrelType:n,barrelId:a,barrelName:r,isOrganizationProject:this.isOrganizationProject,organizationId:o,highlight:e,maxUserLimit:c,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog}))}let u=null;const f=l.find((e=>"owner"===e.role)),g=f&&f.user._id===t.user._id;if(f&&f.user.paymentPlan===W.PlanGroup.FREE&&l.length>=c){const{fullName:e,email:t}=f.user,n=e||t;u=i.h(q.a,{class:"upgradeNowHintbox",actionContent:g&&"Upgrade",onActionClick:this.handleShowPlanChooserOverlay},i.h("p",null,"You can have up to ",Object(p.pluralize)(c,"member")," on the Free plan.",g?i.h("span",null," Upgrade to invite as many members as you need."):i.h("span",null," Contact ",i.h("strong",null,n)," to upgrade their plan to invite as many members as you need.")))}else u=i.h("div",{class:"inviteButtonContainer"},i.h(w.default,{secondary:!0,class:"inviteButton",baseRef:Object(h.default)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite"));return i.h(i.Fragment,null,i.h(k.default,{title:"Members",button:i.h(R.default,{onClick:this.openMembersDialog})}),u,i.h(N.default,{members:l,barrelUser:t,onMemberClick:this.handleMemberClick}),d)}renderDensityDialog(){const{barrel:e}=this.props,{densityDialogOpen:t}=this.state,{type:n,densityScale:o}=e;return t?"base"===n?i.h(V.default,{selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.h(B.default,{type:n,selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):null}renderParentStyleguides(){const{barrel:e,barrelType:t,barrelUser:n,loadingSelectParent:o,currentOrganizationStyleguides:s}=this.props,{id:a,users:r,ancestors:l,parent:c}=e;if(t===m.a.PROJECT)return null;const d=Object(F.getSelectableParentStyleguides)({isOrganizationStyleguide:this.isOrganizationProject,currentStyleguides:s,currentUser:n,id:a,parentId:c,users:r}),u=function(e,t){return e.map((e=>{const n=t.find((t=>t._id===e));return n?n.name:null})).filter(Boolean).reverse()}(l,s);return i.h(z.default,{barrelUser:n,selectableStyleguides:d,parentNames:u,isOrganization:this.isOrganizationProject,loading:o,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{width:e,hover:t,onRelease:n,loadingExtensions:o,extensionTitles:s}=this.props,{shareContentOpen:a,invitePopupOpen:r,selectParentDialogOpen:l,removeParentDialogOpen:c}=this.state;return i.h(E.default,{class:d()("barrelSidebar",{shareContentOpen:a,invitePopupOpen:r}),minWidth:260,initialWidth:e,baseRef:Object(h.default)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:n},this.renderName(),i.h(P.a,null),this.renderDensityAndType(),this.renderShareButton(),i.h(D.default,null),this.renderDescription(),this.renderParentStyleguides(),i.h(j.default,{showConfigurationButtons:t}),i.h(D.default,null),i.h(k.default,{title:"Extensions",button:i.h(R.default,{onClick:C.default.openSettings,disabled:o})}),i.h("div",{class:"extensionsContainer"},i.h("div",{class:"extensions ellipsis",title:s},s)),i.h(D.default,null),this.renderMembers(),this.renderDensityDialog(),l&&this.renderSelectParentDialog(),c&&this.renderRemoveParentDialog())}}Y.defaultProps={loadingExtensions:!0,extensionTitles:"…"};const J=a()(Y),X=e=>i.h(J,Z({},e,{ignoreOverlays:!1}));X.Loading=E.default.Loading,t.default=X},function(e,t,n){"use strict";n.r(t),n.d(t,"element",(function(){return T})),n.d(t,"anchor",(function(){return j})),n.d(t,"show",(function(){return xe})),n.d(t,"dismiss",(function(){return Ve})),n.d(t,"isHidden",(function(){return ze})),n.d(t,"removeUser",(function(){return Ne})),n.d(t,"handleInviteUserSocketForInvitePopup",(function(){return we})),n.d(t,"handleInvitedSocketForInvitePopup",(function(){return Ae})),n.d(t,"handleCreateUserSocketForInvitePopup",(function(){return Le})),n.d(t,"handleDeleteUserSocketForInvitePopup",(function(){return Me}));n(1605);var i=n(559),o=n(624),s=n(959),a=n(819),r=n(821),l=n.n(r),c=n(561),d=n(547),u=n(685),h=n.n(u),p=n(553),f=n(719),g=n(1103),m=n(583),b=n(1606),S=n.n(b),y=n(1609),v=n.n(y),O=n(1209),C=n(1040);const E=new Set,T=document.getElementById("inviteUserPopup"),_=document.getElementById("inviteUserPopupContent"),P=document.getElementById("invitePopupLoading"),I=document.getElementById("inviteFormWithRoleWrapper"),j=document.getElementById("inviteUserPopupAnchor"),D=document.getElementById("inviteeHandle"),k=T.querySelector(".userList"),R=document.getElementById("inviteeTemplate"),A=document.getElementById("inviteNewUserTemplate"),w=document.getElementById("typedUserAlreadyAddedTemplate"),N=document.getElementById("inviteByTagTemplate"),L=document.querySelector(".organizationInviteeList"),M=document.querySelector(".invitesToTheBarrelOnlyInfo"),x=document.querySelector(".tagList"),U=document.querySelector(".showRemainingTags"),B=document.querySelector(".memberList"),V=document.querySelector(".membersWithTagHeader"),z=document.querySelector(".membersWithTagList"),F=new f.default(O.default,T),W=new f.default(S.a,P),H=new f.default(v.a,I);let G,$,q,Z,K,Y,J,X={},Q=[],ee={},te={},ne=new Set,ie=new Set,oe=new Set,se=null,ae=!0;const re={king:4,queen:3,rook:2,knight:1,pawn:0};function le(e){if(e.classList.contains("newUser")){if(!D.checkValidity()&&!/^\w{3,30}$/.test(D.value))return Object(s.wiggle)(D.parentElement),void(ae=!0);T.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))je({handle:D.value,invitee:e});else if(e.classList.contains("user")){var t=Q.find((function(t){return t._id===e.dataset.uid}));je({handle:t.username||t.email,invitee:e})}else if(e.classList.contains("member")){var n=ee.members.find((function(t){return t.user._id===e.dataset.mid}));je({handle:n.user.username||n.user.email,invitee:e})}else e.classList.contains("inviteByTag")&&(o=e.dataset.tag,r=e,a[$].inviteUsersByTag(ee._id,q,o).then((function(e){De(e,r)})).catch((function(){r.classList.remove("inviteSpinner"),r.classList.add("inviteRetry"),i.create({done:{cb(){Object(s.highlightInput)(D),ae=!0}}})})));var o,r}function ce(){T.classList.contains("organizationBarrel")?me():be()}function de(e){L.classList.toggle("hidden",e),M.classList.toggle("hidden",e),I.classList.toggle("hidden",!e)}function ue(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function he(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach((function(t){t.classList.remove("hidden","selected"),e.appendChild(t)}))}function pe(e){return x.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function fe(e){return B.querySelector("[data-mid='"+e.user._id+"']")}function ge(e,t,n,i){t.forEach((function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)}));for(var o=0;o<e.childElementCount-t.length;o++){var s=e.children[o];s.classList.add("hidden"),s.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function me(){ye(".memberList .newUser"),ye(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=D.value.toLowerCase();if(T.classList.remove("noNewInvitees","noInvitees"),L.classList.remove("noTags","noMembers","hasMembersWithTag","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),z.innerHTML="",D.placeholder="Invite with email",n){e=!!(t=ie.has(n))||ne.has(n);var i=Object.keys(X);i.sort();var o={},s=i.filter((function(e){var t=ue(e.toLowerCase(),n);return!!t&&(o[e]=t,!0)})).sort((function(e,t){return o[t]-o[e]}));ge(x,s,pe,"noTags");var a=function(e,t,n){var i={};if(!e)return[];const o=Object(m.normalizeAndLowerCase)(t);var s=e.filter((function(e){if(oe.has(e.user._id)){var s=n(e);if(!s)return!1;if(!s.classList.contains("inviteDone"))return!1}var a=0;return e.user.username&&(a+=ue(e.user.username,o)),e.user.fullName&&(a+=ue(Object(m.normalizeAndLowerCase)(e.user.fullName),o)),!!(a+=ue(e.user.email,t.toLowerCase(),{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=a,!0)}));return s.sort((function(e,t){return i[t.user._id]-i[e.user._id]})),s}(ee.members,D.value,fe);ge(B,a,fe,"noMembers");var r=pe(s[0]);L.classList.toggle("hasMembersWithTag",1===s.length&&(X[s[0]]>0||r&&r.classList.contains("inviteDone")))&&(V.textContent=s[0],z.innerHTML="",ee.members.forEach((function(e){var t=fe(e);if((!oe.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(s[0])){var n=Oe(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),z.appendChild(n)}})));const{minRoleForMemberManagement:c}=ee||{},d=n.includes("@")&&!e&&!t&&re[te.role]>=re[c];if(de(d),!e)if(n.includes("@")){const e=document.importNode(A.content,!0);e.querySelector(".invitee").classList.add("member"),e.querySelector(".newUserHandle").textContent=D.value,B.appendChild(e),d?H.render({inviterRole:te.role,paymentPlan:ee.paymentPlan,defaultInviteeRole:Object(g.hasTeamPlan)(ee.paymentPlan)?"rook":"knight",defaultInviteeRestricted:!0,onSubmit:(e,t)=>je({handle:n,invitee:L.querySelector(".invitee.newUser"),role:e,restricted:t})}):L.classList.add("showAddsToTheBarrelOnlyInfo")}else L.classList.add("writeAnEmailToInvite");if(t&&!L.querySelector(".invitee.inviteDone")){var l=document.importNode(w.content,!0);l.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),l.querySelector("span").textContent=D.value,L.appendChild(l)}}else{if(he(x,"noTags"),U.textContent){var c=Array.from(x.querySelectorAll(".inviteByTag")).map((function(e){return e.dataset.tag}));c.sort(),c.forEach((function(e){var t=pe(e);x.appendChild(t)}));for(var d=x.firstElementChild,u=3;u<x.childElementCount;u++){var h=x.children[u];h.classList.add("hidden"),x.insertBefore(h,d)}x.childElementCount-3>0?(U.textContent=x.childElementCount-3,U.classList.toggle("multiple",x.childElementCount-3>1)):U.textContent=""}he(B,"noMembers")}var p=L.querySelectorAll(".invitee:not(.hidden)");if(p.length)p[0].classList.add("selected");else if(!t&&!L.classList.contains("writeAnEmailToInvite")){0===(ee.members||[]).filter((e=>!oe.has(e.user._id))).length&&Z.length>1?T.classList.add("noNewInvitees"):1===Z.length&&(T.classList.add("noInvitees"),D.placeholder="Invite with email")}}function be(){ye(".userList .user.newUser"),ye(".userList .userListTypedUserAlreadyAdded"),k.classList.remove("writeAnEmailToInvite"),D.placeholder="Invite with email";var e,t,n=D.value.toLowerCase(),i=document.importNode(w.content,!0);if(n){e=!!(t=ie.has(n))||E.has(n);var o={},s=Q.filter((function(e){var t=0;return e.username&&(t+=ue(e.username,Object(m.normalizeAndLowerCase)(D.value))),e.fullName&&(t+=ue(Object(m.normalizeAndLowerCase)(e.fullName),Object(m.normalizeAndLowerCase)(D.value))),(t+=ue(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(o[e._id]=t,!0)})).sort((function(e,t){return o[t._id]-o[e._id]}));s.forEach((function(e){var t=Se(e._id);t.classList.remove("hidden","selected"),k.appendChild(t)}));for(var a=0;a<Q.length-s.length;a++){var r=k.children[a].classList;r.add("hidden"),r.remove("selected")}}else Q.forEach((function(e){var t=Se(e._id);t.classList.remove("hidden","selected"),k.appendChild(t)}));if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(A.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".newUserHandle").textContent=D.value,k.appendChild(l)}}else k.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=D.value,k.appendChild(i))}T.classList.remove("noInvitees"),T.classList.remove("noNewInvitees");var c=k.querySelectorAll(".user:not(.hidden)");c.length?c[0].classList.add("selected"):t||k.classList.contains("writeAnEmailToInvite")||(se.length?T.classList.add("noNewInvitees"):(T.classList.add("noInvitees"),D.placeholder="Invite with email"))}function Se(e){return k.querySelector(".invitee[data-uid='"+e+"']")}function ye(e){var t=document.querySelector(e);t&&t.remove()}function ve(e,t,n){var i=document.importNode(N.content,!0),o=i.querySelector(".inviteByTag"),s=i.querySelector(".tagName"),a=i.querySelector(".memberCount");return o.classList.toggle("hidden",!!n),o.dataset.tag=e,s.textContent=e,s.title=e,a.textContent=t+(t>1?" members":" member"),i}function Oe(e){var t=document.importNode(R.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),o=t.querySelector(".username"),a=t.querySelector(".email"),r=t.querySelector(".organizationTags");if(n.classList.add("member"),n.dataset.mid=e.user._id,Object(s.setAvatar)(i,e.user),e.user.username){const t=Object(p.getUserDisplayName)(e.user);o.textContent=t,o.title=t,a.textContent=e.user.email,a.title=e.user.email}else o.textContent=e.user.email,o.title=e.user.email,a.textContent="Pending Invitation";var l=e.tags?e.tags.join(", "):"";return r.textContent=l,r.title=l,i.addEventListener("mouseenter",(t=>Te(t,e.user._id))),i.addEventListener("mouseleave",_e),o.addEventListener("mouseenter",(t=>Te(t,e.user._id,!1))),o.addEventListener("mouseleave",_e),t}function Ce(e,t){var n=document.importNode(R.content,!0),i=n.querySelector(".invitee"),o=n.querySelector(".userImage"),a=n.querySelector(".username"),r=n.querySelector(".inviteExtraInfo"),l=Object(p.getUserDisplayName)(e)||e.email;(i.classList.add("user"),Object(s.setAvatar)(o,e),i.dataset.uid=e._id,a.textContent=l,a.title=l,e.username)?n.querySelector(".email").textContent=e.email:r.textContent="Pending invitation";return t&&i.classList.add("hidden"),o.addEventListener("mouseenter",(t=>Te(t,e._id))),o.addEventListener("mouseleave",_e),a.addEventListener("mouseenter",(t=>Te(t,e._id,!1))),a.addEventListener("mouseleave",_e),n}let Ee;function Te(e,t,n=!0){_e(),Ee=setTimeout((()=>{F.render({targetNode:e.target,userId:t,openToLeft:n,open:!0,contentClass:"invitePopupUserProfileCardPopoverContainerContent"});const i=document.querySelector(".invitePopupUserProfileCardPopoverContainerContent");i&&(i.addEventListener("mouseenter",(()=>clearTimeout(Ee))),i.addEventListener("mouseleave",_e))}),300)}function _e(){clearTimeout(Ee),Ee=setTimeout((()=>{F.remove()}),100)}function Pe(e){if(!se)return;se.find((({_id:t})=>t===e._id))||(se.push(e),e.username&&E.add(e.username),E.add(e.email))}function Ie(e){oe.add(e._id),e.username&&ie.add(e.username),ie.add(e.email)}function je({handle:e,invitee:t,role:n,restricted:o}){a[$].inviteUser(q,e,n,o).then((function(e){de(!1),De(e,t)})).catch((function(e){T.querySelector(".inputArea img").classList.add("hidden");const n=e.status===l.a.STATUS.PAYMENT_REQUIRED;ze()||t.classList.contains("newUser")||n?(ae=!1,c.handleError(e,{dialogCallback(){Object(s.highlightInput)(D),ae=!0},clientErrorHandler:{402(){const t=Z.find((e=>"owner"===e.role));if(t)if(t.user._id===Zeplin.user._id)i.create({title:"Please upgrade your plan first",message:"Looks like you reached your user limit. If you want to invite more users, you need to upgrade.",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:()=>Object(C.showPlanChooserOverlay)({source:"Invite popup",upgradeTrigger:d.PlanUpgradeTrigger.USER_LIMIT,bid:q})}});else{const{user:{fullName:e,email:n}}=t,o=e||n;i.create({title:"Please upgrade your plan first",message:`Looks like you reached your user limit. If you want to invite more users, contact your owner (${o}) to upgrade.`,done:{name:"OK"}})}else c.handleError(e)},default:c.handleError}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)})).catch((function(){i.create({done:{cb(){Object(s.highlightInput)(D),ae=!0}}})}))}function De(e,t){Object(s.highlightInput)(D),T.querySelector(".inputArea img").classList.add("hidden");const n=e.users||[e];(Y&&Y(n),n.forEach((({user:e})=>{Ie(e),t.classList.contains("user")&&Pe(e)})),G&&G.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),T.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach((function(e){if(ee.members){var t=ee.members.find((function(t){return t.user._id===e.user._id}));t&&t.tags.forEach((function(e){X[e]-=1}))}})),Object.keys(X).forEach((function(e){var t=X[e],n=pe(e);n&&(0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=Object(m.pluralize)(t,"member"))})));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach((function(e){Array.from(L.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach((function(e){e.classList.add("inviteDone")}))})),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){Q.push(e.user);var i=Ce(e.user);i.querySelector(".user").classList.add("inviteDone"),k.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),Re(i)}else{ne.add(e.user.email);var o=Oe(e);o.querySelector(".member").classList.add("inviteDone"),o.querySelector(".member.selected")||o.querySelector(".member").classList.add("selected"),B.appendChild(o)}}function ke(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach((function(e){e.remove()}))}function Re(e){k.lastElementChild&&k.lastElementChild.classList.contains("user")?k.appendChild(e):k.insertBefore(e,k.lastElementChild)}function Ae(e){e.forEach((function(e){(Pe(e.user),G&&!oe.has(e.user._id))&&(Q.some((function(t){return t._id===e.user._id}))||(Q.push(e.user),Re(Ce(e.user))))})),ze()||ce()}function we(e,t){(Pe(t),q===e)?(Ie(t),Object(o.arrayRemove)(Q,(e=>e._id===t._id))):Q.some((e=>e._id===t._id))||Q.push(t);var n,i=D.value;if(n=T.classList.contains("organizationBarrel")?fe(t):Se(t.user._id),q===e&&n){if(n.classList.contains("selected")&&k.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!k.querySelector(".user:not(.hidden)")){var s=document.importNode(w.content,!0);s.querySelector(".userListTypedUserAlreadyAdded").classList.add(D.value===Zeplin.user.username||D.value===Zeplin.user.email?"selfUser":"someUser"),s.querySelector("span").textContent=D.value,k.appendChild(s)}}else q!==e&&(n?n.classList.contains("newUser")&&(k.appendChild(Ce(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):Re(Ce(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))));k.length||T.classList.add("noNewInvitees","noInvitees")}function Ne(e,t){var n,i,o,s,a;if(q===e)if(T.classList.contains("organizationBarrel")){let e,l;const c=ee.members.find((e=>e.user._id===t));if(c){e=c,l=fe(c),c.tags.forEach((e=>{X[e]?X[e]+=1:X[e]=1;var t=pe(e);if(t)t.querySelector(".memberCount").textContent=X[e]+(X[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=ve(e,X[e]);n.querySelector(".invitee").classList.toggle("hidden",!!D.value&&!e.includes(D.value))?x.appendChild(n):x.insertBefore(ve(e,X[e]),x.querySelector(".invitee:not(.hidden)"))}})),ie.delete(e.user.username),ie.delete(e.user.email);var r=L.querySelector(".userListTypedUserAlreadyAdded");D.value===e.user.username&&r&&r.remove()}oe.delete(t),l?l.classList.remove("inviteDone"):c&&(n=B,o="noMembers",s=Oe(i=c),a=!(!D.value||i.user.username&&i.user.username.includes(D.value)||i.user.email.includes(D.value)),s.querySelector(".invitee").classList.toggle("hidden",a),a?n.append(s):(n.insertBefore(s,n.querySelector(".invitee:not(.hidden)")),n.parentElement.classList.remove(o)),T.classList.remove("noNewInvitees","noInvitees"))}else if(se){var l=se.find((e=>e._id===t));!function(e){oe.delete(e._id),e.username&&(ie.delete(e.username),E.add(e.username)),ie.delete(e.email),E.add(e.email),Q.some((function(t){return t._id===e._id}))||Q.push(e)}(l);var c=D.value,d=Se(l._id);d?d.classList.remove("inviteDone"):Re(Ce(l,c&&!(l.username&&l.username.includes(c))&&!l.email.includes(c)))}}function Le(e){if(!se)return;const t=se.find((({_id:t})=>t===e._id));if(t&&(Object.assign(t,e),G)){var n=Se(e._id);n&&(n.querySelector(".username").textContent=Object(p.getUserDisplayName)(e),n.querySelector(".inviteExtraInfo").textContent="")}}function Me(e){if(!se)return;const t=Object(o.arrayRemove)(se,(({_id:t})=>t===e));if(t){!function(e){oe.delete(e._id),e.username&&(ie.delete(e.username),E.delete(e.username)),ie.delete(e.email),E.delete(e.email),Object(o.arrayRemove)(Q,(function(t){return t._id===e._id}))}(t);var n=Se(t._id);n&&(k.removeChild(n),n.classList.contains("selected")&&k.querySelector(".user:not(.hidden)")&&k.querySelector(".user:not(.hidden)").classList.add("selected"))}}async function xe({bt:e,popupContainer:t,bid:n,members:i,oid:s,onInvite:r,onDismiss:l,onUsersFetched:c}){const d=s&&"user"!==s;$=e,T.classList.toggle("organizationBarrel",d),J=l,Y=r,G=t,t.appendChild(T),T.classList.remove("hidden"),se||(D.disabled=!0,W.render(),await async function(){if(!se)try{const{acquaintances:e}=await a.getUserAcquaintances();se=e}catch(e){}}(),W.remove(),D.disabled=!1,c&&setTimeout(c)),_.classList.remove("hidden"),d?(ee=h.a.getOrganization(s),te=h.a.getOrganizationProfile(s),X=function(e){const t={};return e.forEach((e=>{e.tags.forEach((e=>{t[e]?t[e]+=1:t[e]=1}))})),t}(ee.members),function(e,t,n){if(t!==q){Ue(),ie=new Set,oe=new Set,ne=new Set,q=t,Z=n,Z.forEach((function(e){Ie(e.user)})),ee.members&&ee.members.forEach((function(e){oe.has(e.user._id)?e.tags.forEach((function(e){X[e]>0&&(X[e]-=1,0===X[e]&&delete X[e])})):(ne.add(e.user.username).add(e.user.email),B.appendChild(Oe(e)))})),L.classList.toggle("noMembers",!B.childElementCount);var i=Object.keys(X);i.sort(),i.forEach((function(e){x.appendChild(ve(e,X[e],!1))}));var o=i.length-3;o>0&&(U.textContent=o,U.classList.toggle("multiple",o>1)),L.classList.toggle("noTags",!i.length)}else Object.keys(X).forEach((function(e){0===X[e]&&delete X[e]})),K&&new Date-K>1e4&&(U.textContent=Object.keys(X).length-3,U.classList.toggle("multiple",Object.keys(X).length-3>1)),ke(x),ke(B);K=0,e.getBoundingClientRect().right+80>window.innerWidth&&T.classList.add("left");me(),L.scrollTop=0,D.focus()}(t,n,i)):function(e,t,n){t!==q?(Ue(),Q=[],ie=new Set,oe=new Set,q=t,Z=n,Z.forEach((function(e){Ie(e.user)})),se.forEach((function(e){oe.has(e._id)||(Q.push(e),e.username&&E.add(e.username),E.add(e.email))})),Q.forEach((function(e){k.appendChild(Ce(e))}))):(ke(k),oe.forEach((function(e){Object(o.arrayRemove)(Q,(function(t){return t._id===e}))})));e.getBoundingClientRect().right+80>window.innerWidth&&T.classList.add("left");be(),k.scrollTop=0,D.focus()}(t,n,i),document.addEventListener("click",(e=>{if(!F.isRendered()&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&!ze()){T.contains(e.target)||H.isRendered()&&(e.target.closest(".dropdownOptionsBackdrop")||e.target.closest(".changeRolesRoleOption"))||Ve()}}),!0)}function Ue(){k.innerHTML="",x.innerHTML="",U.textContent="",B.innerHTML=""}function Be(){se&&(D.value="",D.dispatchEvent(new Event("input")))}function Ve(){document.removeEventListener("click",Ve),G=null,T.classList.add("hidden"),T.classList.remove("left"),T.querySelector(".inputArea img").classList.add("hidden"),Be(),F.remove(),H.isRendered()&&(de(!1),H.remove()),K||(K=new Date),J&&J(),document.body.append(T)}function ze(){return T.classList.contains("hidden")}!function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),le(t))}}let t,n;D.addEventListener("input",(function(){D.parentElement.classList.toggle("typed",!!D.value),ae=!0,ce(),G&&G.dispatchEvent(new CustomEvent("listRefreshed"))})),T.addEventListener("click",(function(e){e.stopPropagation()})),T.addEventListener("contextmenu",(function(e){e.stopPropagation()})),k.addEventListener("click",e),L.addEventListener("click",e),T.addEventListener("mouseenter",(function(e){t=e.clientX,n=e.clientY})),T.addEventListener("mousemove",(function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=T.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}})),document.addEventListener("keydown",(function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(ze())break;if(e.stopImmediatePropagation(),F.isRendered()){F.remove();break}if(D.value){Be();break}Ve();break;case Zeplin.KEY_CODE.ENTER:{if(ze()||!ae)break;const e=T.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;ae=!1,le(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(ze())break;ae=!0,e.preventDefault(),function(e){T.classList.contains("organizationBarrel")?function(e){var t=L.querySelector(".invitee.selected");if(!t){var n=L.querySelector(".invitee:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(s.scrollIfNecessary)(n)))}var i,o=Array.from(L.querySelectorAll(".invitee:not(.hidden)")),a=o.findIndex((function(e){return e.classList.contains("selected")}));i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?a-1:a+1;if(i>-1&&i<o.length){var r=o[i];t.classList.remove("selected"),r.classList.add("selected"),Object(s.scrollIfNecessary)(r)}}(e):function(e){var t=k.querySelector(".selected");if(!t){var n=k.querySelector(".user:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(s.scrollIfNecessary)(n)))}var i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;i&&i.classList.contains("user")&&!i.classList.contains("hidden")&&(t.classList.remove("selected"),i.classList.add("selected"),Object(s.scrollIfNecessary)(i))}(e)}(e)}})),U.addEventListener("click",(function(e){e.stopPropagation(),U.textContent="",Array.from(x.querySelectorAll(".inviteByTag.hidden")).forEach((function(e){e.classList.remove("hidden"),x.appendChild(e)}))}))}()},function(e,t,n){"use strict";n.r(t),n.d(t,"registerInput",(function(){return o}));var i=n(959);function o(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let o=t;e.addEventListener("input",(function(){if(e.value){if(Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n;)o-=.2;else if(Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t;)o+=.2}else o=t;e.style.fontSize=o+"px"}))}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(o)}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1607);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1608);t.default=function(){return i.h("div",{class:"invitePopupLoading"},i.h("div",{class:"title breathe"}),Array.from({length:3},(()=>i.h("div",{class:"item"},i.h("div",{class:"avatar breathe"}),i.h("div",null,i.h("div",{class:"username breathe"}),i.h("div",{class:"email breathe"}))))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1610);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1611)),r=i(n(1065)),l=i(n(831));n(1616),t.default=function({inviterRole:e,paymentPlan:t,defaultInviteeRole:n,defaultInviteeRestricted:i,onSubmit:c}){const[d,u]=s.useState(n),[h,p]=s.useState(i),[f,g]=s.useState(!1);function m(e){return function(t){f&&t.preventDefault(),p(e)}}return o.h("div",{class:"inviteFormWithRole"},o.h("span",null,"Role"),o.h(a.default,{buttonClass:"inviteeRoleDropdown",selectedRole:n,maxRole:e,paymentPlan:t,onChange:function(e){u(e),"queen"===e?(p(!1),g(!0)):g(!1)}}),o.h("span",null,"Access"),o.h("label",null,o.h(r.default,{name:"accessLevel",class:"accessRadioButton",checked:!h,disabled:f,onClick:m(!1)}),o.h("span",null,"All projects")),o.h("label",null,o.h(r.default,{name:"accessLevel",class:"accessRadioButton",checked:h,disabled:f,onClick:m(!0)}),o.h("span",null,"Restricted access (Invited only)")),o.h("div",{class:"inviteButtonWrapper"},o.h(l.default,{primary:!0,class:"submitButton",onClick:function(){c(d,h)}},"Invite member")))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1612);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(582),a=i(n(724)),r=i(n(888)),l=n(1613);function c({roleOptionData:e,class:t}){const{icon:n="",displayName:i,extraInfo:r="",description:l}=e,c=`/img/${n}.png`,d=[i,r].filter(Boolean).join(" ");return o.h("button",{type:"button",class:a.default("changeRolesRoleOption",t)},o.h("img",{class:"roleIcon",src:c,srcset:s.srcset(c)}),o.h("div",{class:"roleNameAndDescription"},o.h("div",{class:"roleName"},d),o.h("div",{class:"roleDescription"},l)))}n(1615);class d extends o.Component{constructor(){super(...arguments),this.state={selectedRole:this.props.selectedRole||""},this.handleSelect=e=>{this.setState({selectedRole:e}),this.props.onChange(e)}}componentWillReceiveProps(e){e.selectedRole&&this.props.selectedRole!==e.selectedRole&&this.setState({selectedRole:e.selectedRole})}renderRoleOptions(){const{paymentPlan:e,minRole:t,maxRole:n,optionClass:i}=this.props,s=l.getRolesByPaymentPlan(e),a=t&&s.findIndex((e=>e.name===t)),d=a&&-1!==a?a:s.length-1,u=n&&s.findIndex((e=>e.name===n)),h=u&&-1!==u?u:0,p=s.slice(h,d+1),f=this.state.selectedRole?this.state.selectedRole:p[p.length-1].name;return p.map((e=>!e.hidden&&o.h(r.default.Item,{key:e.name,value:e.name,label:e.displayName,selected:f===e.name},o.h(c,{roleOptionData:e,class:i}))))}render(){const{optionsClass:e,buttonClass:t,children:n}=this.props;return o.h(r.default,{class:a.default("changeRolesDropdownButton",t),optionsClass:a.default("changeRolesRoleOptions",e),showChevron:!0,showCheck:!1,onChange:this.handleSelect},this.renderRoleOptions(),n)}}t.default=d},function(e,t,n){"use strict";n.r(t),n.d(t,"ROLE_SORT_COEFFICENTS",(function(){return s})),n.d(t,"getAllRoles",(function(){return a})),n.d(t,"getRolesByPaymentPlan",(function(){return r})),n.d(t,"getRoleDisplayName",(function(){return l})),n.d(t,"getRoleByDisplayName",(function(){return c})),n.d(t,"isRoleRestrictable",(function(){return d})),n.d(t,"permissions",(function(){return u}));var i=n(1103),o=n(1614);const s={king:4,queen:3,rook:2,knight:1,pawn:0};function a(){return o.ORGANIZATION_ROLES}function r(e){return Object(i.hasTeamPlan)(e)?o.TEAM_ROLES:o.ORGANIZATION_ROLES}function l(e,t){const n=r(t).find((t=>e===t.name));return n?n.displayName:""}function c(e,t){return r(t).find((t=>t.displayName===e))}function d(e){return!["king","queen"].includes(e)}const u={canInviteMembers:(e,t="queen")=>{const n="string"==typeof e?e:e.role;return s[n]>=s[t]},canChangeRole:(e,t,n)=>e.user._id!==t.user._id&&(s[e.role]>=s[n]&&s[e.role]>=s[t.role]),canManageTags:e=>{const t="string"==typeof e?e:e.role;return["king","queen"].includes(t)},canRemoveUser:(e,t)=>e.user._id!==t.user._id&&["king","queen"].includes(e.role)&&"king"!==t.role,canLeaveOrganization:e=>{const t="string"==typeof e?e:e.role;return["queen","rook","knight","pawn"].includes(t)},canChangeProfile:e=>{const t="string"==typeof e?e:e.role;return["king","queen"].includes(t)},canChangeMemberAccessibility:(e,t)=>e.user._id!==t.user._id&&["king","queen"].includes(e.role)&&!["king","queen"].includes(t.role),canTransferOwnership:(e,t)=>"pawn"!==t.role&&("king"===e.role&&e.user._id!==t.user._id||"queen"===e.role&&"king"!==t.role),canManageMembersAfterUpgrade:e=>{const t="string"==typeof e?e:e.role;return["king","queen"].includes(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ORGANIZATION_ROLES=t.TEAM_ROLES=void 0;t.TEAM_ROLES=[{name:"king",displayName:"Owner",description:"",hidden:!0},{name:"queen",displayName:"Admin",description:"Can invite and remove members, update billing information and settings",icon:"icQueen"},{name:"rook",displayName:"Editor/Developer",description:"Can create and manage projects, screens and styleguide resources",icon:"icRook"},{name:"pawn",displayName:"Reviewer",description:"Can access all projects, view screens and add notes",icon:"icPawn",extraInfo:"(Free of charge)"}];t.ORGANIZATION_ROLES=[{name:"king",displayName:"Owner",description:"",hidden:!0},{name:"queen",displayName:"Admin",description:"Can invite and remove members, update billing information and settings",icon:"icQueen"},{name:"rook",displayName:"Editor",description:"Can create and manage projects, screens and styleguide resources",icon:"icRook"},{name:"knight",displayName:"Developer",description:"Can access all projects, technical specs, assets, code snippets and add notes",icon:"icKnight"},{name:"pawn",displayName:"Reviewer",description:"Can access all projects, view screens and add notes",icon:"icPawn",extraInfo:"(Free of charge)"}]},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"formatTextArea",(function(){return T})),n.d(t,"formatComment",(function(){return _}));var i=n(208),o=n.n(i),s=n(713),a=n(632),r=n(724),l=n.n(r),c=n(686),d=n(548),u=n(1219),h=n.n(u),p=n(684),f=n.n(p),g=n(567),m=n.n(g),b=n(547);function S(e){const t=function(e){const t=new URL(e),n=t.origin===location.origin,i=t.protocol===d.ZPL_PROTOCOL;if(!n&&!i)return;const o={query:{}};if(t.hash||i){const e=(i?t.search||t.href.substring(t.href.indexOf("?")):t.hash).replace(/&amp;/g,"&").substring(1),s=Object(c.parseUrlParams)(e);if(!("pid"in s))return;return o.url={pid:s.pid[0]},"sid"in s?(o.url.sid=s.sid[0],"vid"in s&&(o.url.vid=s.vid[0])):n&&"styleguide"in s||i&&(t.pathname.startsWith("//styleguide")||t.pathname.startsWith("//guideline"))?o.subpage=b.ProjectViewTypes.STYLEGUIDE:o.subpage=b.ProjectViewTypes.DASHBOARD,o}const s=Object(c.parseUrlPath)(t.pathname);if(!s)return;Object.assign(o,{url:s});const a=t.pathname.match(/\/(dashboard|styleguide)$/);if(a&&(o.subpage=a[1]),t.search){const e=Object(c.parseUrlParams)(t.search.replace(/&amp;/g,"&"));Object.assign(o,{query:e})}return o}(e),n=f.a.getBarrel();if(!n||!t||!("pid"in t.url)||t.url.pid!==n.id)return;let i="project-dashboard",o="Dashboard",s=["link"];if("sid"in t.url){i="vid"in t.url?"project-screen-version":"project-screen";const e=n.screens.find((function(e){return e._id===t.url.sid})),a=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)o=`Notes on ${a}`;else{const n=e.dots&&e.dots.find((function(e){return e._id===t.query.did[0]})),i="Note"+(n?` #${n.name}`:"");o="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${a}`:`${i}, ${a}`}else s.push("screenLink"),o=a}return"subpage"in t&&"styleguide"===t.subpage&&(i="project-styleguide",o="Styleguide",delete t.subpage),{anchorText:o,classList:s,url:Object(c.urlResolve)(i,t)}}function y(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=S(t.getUrl());if(n){const{anchorText:t,classList:i,url:o}=n;return e.push(`<a href="${o}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function v(e,t=[]){var n=[],i=new o.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:y(n)});return t.reduce((function(e,t){return t(e)}),i.link(Object(s.escapeHTML)(e))).replace(/{{link:(\d+)}}/g,(function(e,t){return n[parseInt(t,10)]}))}function O(e){const t=f.a.getBarrel();return t?e.replace(/#([\w-]+)/g,(function(e,n){var i=t.findColorByName(n);return i?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+i.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(i=t.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+i.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})):e}function C(e){const t=f.a.getBarrel();if(!t)return e;const n=Object(a.userRegexFn)(t.users),{username:i}=m.a.UserStore.getState(),o=Object(a.mentionRegexFn)(i);return e.replace(n,(e=>{const t=o.test(e);return`<span class="${l()("user",{self:t})}">${e}</span>`}))}function E(e){const{barrelId:t}=m.a.BarrelStore.getState();return h.a.formatEmojiString(e,t)}function T(e){return v(e,[E,h.a.spanEmojis])}function _(e){return v(e,[O,C,E,h.a.spanEmojis])}},function(e,t,n){"use strict";n.r(t);var i=n(594),o=n(567),s=n.n(o);function a(e={}){if(!e.bid){const{barrelId:t}=s.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=s.a.BarrelStore.getState();e.barrelType=t}return e}const r={init(e){const{barrelType:t,bid:n,enabledExtensions:o}=a(e);s.a.dispatcher.dispatch({type:i.default.INIT,barrelType:t,bid:n,enabledExtensions:o})},loadExtensions(e){const{bid:t,extensions:n,enabledExtensions:o}=a(e);s.a.dispatcher.dispatch({type:i.default.LOAD_EXTENSIONS,bid:t,extensions:n,enabledExtensions:o})},updateOption(e,t,n){s.a.dispatcher.dispatch({type:i.default.UPDATE_OPTION,eid:e,name:t,value:n})},load(e){const{barrelType:t,bid:n,eid:o,uid:r,local:l=!1}=a(e),{barrelId:c}=s.a.BarrelStore.getState();n===c&&s.a.dispatcher.dispatch({type:i.default.LOAD,barrelType:t,bid:n,eid:o,uid:r,local:l,syncWithApi:!0})},reload(){s.a.dispatcher.dispatch({type:i.default.RELOAD})},openSettings(e){s.a.dispatcher.dispatch({type:i.default.OPEN_SETTINGS,extensionId:e})},closeSettings(){s.a.dispatcher.dispatch({type:i.default.CLOSE_SETTINGS})},add(e){const{barrelType:t,bid:n,uid:o,extension:r,local:l=!1}=a(e),{userId:c}=s.a.UserStore.getState(),d=o===c,u=r._id;s.a.dispatcher.dispatch({type:i.default.ADD,barrelType:t,bid:n,eid:u,extension:r,openSettings:d,local:l})},enable(e){const{bid:t,eid:n}=a(e);s.a.dispatcher.dispatch({type:i.default.ENABLE,bid:t,eid:n})},disable(e){const{bid:t,eid:n}=a(e);s.a.dispatcher.dispatch({type:i.default.DISABLE,bid:t,eid:n})},remove(e){const{bid:t,barrelType:n,eid:o,local:r=!1,syncWithApi:l=!1}=a(e),{barrelId:c}=s.a.BarrelStore.getState();if(t!==c)return;const{extensions:d}=s.a.ExtensionsStore.getState(),u=d.find((e=>e.id===o));s.a.dispatcher.dispatch({type:i.default.REMOVE,bid:t,barrelType:n,eid:o,removedExtension:u,local:r,syncWithApi:l})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1620);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(731),r=n(724),l=n.n(r),c=n(852),d=n(544);n(1621);const u={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function h(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return u[t][e]}class p extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleContentRef=this.handleContentRef.bind(this);const{initialWidth:t,minWidth:n,collapsible:i,collapsed:o}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:i&&o,resizing:!1}}collapse(){const{onCollapse:e}=this.props;e&&e(),this.setState({collapsed:!0})}expand(){const{onExpand:e}=this.props;e&&e(),this.setState({collapsed:!1})}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i,resizingSide:o,collapsible:s}=this.props,{clientWidth:a}=this.nodeRefs.base;let r;r=e||!s&&a===i?"left"===o?"west":"east":Math.floor(t)>a?"right"===o?"west":"east":a!==i&&Math.floor(t)===a&&"resize"!==n?n:"resize",r!==n&&(document.body.dataset.resizeCursor=r,this.setState({cursorType:r}))}handleBaseRef(e){Object(c.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleContentRef(e){this.props.contentRef&&this.props.contentRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame((()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n,resizingSide:i,collapsible:o,onCollapse:s,onExpand:a}=this.props,{collapsed:r}=this.state,{left:l,right:c}=t.getBoundingClientRect(),d=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;if(!d)return;const u="right"===i?d-l:c-d,h=o&&u<n/2,p=Math.max(u,n);this.setState({collapsed:h,width:p}),!r&&h&&s?s():r&&!h&&a&&a()}))}handleMouseUp(e){document.removeEventListener(h("move"),this.handleMouseMove),document.removeEventListener(h("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame((()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,{collapsed:n}=this.state,i=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(i,{collapsed:n}),this.setState({width:i,resizing:!1})}))}handleResizerMouseDown(){document.addEventListener(h("move"),this.handleMouseMove),document.addEventListener(h("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(h("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&this.state.resizing&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth)}componentWillUnmount(){document.removeEventListener(h("move"),this.handleMouseMove),document.removeEventListener(h("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(h("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:o}=this.state,{children:s,class:r,resizingSide:d="left",compact:u,minWidth:h,paddingBottom:p,noScroll:f,onClick:g}=this.props,m={},b=l()("sidebar",r,d,{resizing:t,collapsed:e,compact:u});return e||Object.assign(m,{minWidth:h?`${h}px`:"",width:n?`${n}px`:"",paddingBottom:p?`${p}px`:""}),i.h("div",{class:b,style:m,onClick:g,ref:this.handleBaseRef},i.h("div",{class:l()("content",{noScroll:f}),ref:this.handleContentRef},i.toChildArray(s)),i.h("div",{class:l()("resizer",`cursor${o}`),ref:Object(c.default)(this,"resizer")},i.h(a.IconMoveHandle,{color:"var(--gandalf)"})))}}p.Loading=({width:e})=>i.h("div",{className:"sidebar loading",style:{width:e}}),p.propTypes={children:s.a.node,class:s.a.string,compact:s.a.bool,collapsible:s.a.bool,collapsed:s.a.bool,initialWidth:s.a.number,minWidth:s.a.number,resizingSide:s.a.oneOf(["left","right"]),noScroll:s.a.bool,onRelease:s.a.func,onResize:s.a.func,onCollapse:s.a.func,onExpand:s.a.func},p.defaultProps={collapsible:!0,collapsed:Object(d.isMobileViewport)(),initialWidth:0,minWidth:0,resizingSide:"left"},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1623);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),s=n(724),a=n.n(s);n(1624);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),r(this,"state",{value:this.props.value,editing:!1,originalValue:this.props.value}),r(this,"handleKeyDown",(e=>{e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState((e=>({value:e.originalValue}))),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())})),r(this,"handleMouseDown",(()=>{this.setState({editing:!0})})),r(this,"handleInput",(e=>{this.setState({editing:!0,value:e.target.value})})),r(this,"handleBlur",(()=>{const{onBlur:e}=this.props,{value:t,originalValue:n}=this.state,i=t.trim();this.setState({value:i||n,editing:!1}),i&&e(i)}))}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=`${t}…`}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.h("div",{class:a()("barrelNameTextArea",{editing:n,readonly:e})},i.h("div",{class:"mirror",ref:Object(o.default)(this,"mirror"),title:t},t),i.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(o.default)(this,"textarea"),readonly:e}),n&&i.h("div",{class:"underline"}),!n&&!e&&i.h("div",{class:"dashedLine"}))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1626);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(685)),a=i(n(567)),r=i(n(590)),l=i(n(1627)),c=i(n(929)),d=n(686);var u;n(1630),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready"}(u||(u={}));class h extends o.Component{static calculateState(){const{barrelType:e,barrelId:t}=a.default.BarrelStore.getState(),n=s.default.getOrganization();if(e!==r.default.PROJECT||!t||!n)return{status:u.None};const i=t,o=n.sections.find((({projects:e})=>e.includes(i)));if(!o)return{status:u.Loading};if(n.sections[0]===o)return{status:u.None};const{projects:l}=a.default.ProjectsDataStore.getState(),{_id:c,name:h,projects:p,links:f}=o,g=p.map((e=>l[e])).filter((e=>e&&"archived"!==e.status)).map((({id:e,type:t,name:n})=>({id:e,type:t,name:n,url:d.urlResolve("project",{url:{bid:e}})}))),{_id:m}=n,b=d.urlResolve("workspace-projects",{url:{oid:m},query:{seid:c}});return{status:u.Ready,name:h,pid:i,projects:g,organizationUrl:b,links:f}}static getStores(){return[a.default.OrganizationStore,a.default.BarrelStore,a.default.ProjectsDataStore]}render(){if(this.state.status===u.None)return null;if(this.state.status===u.Loading)return o.h("div",{class:"sectionNavigationLoading"},"Loading Section Name…");const{name:e,pid:t,projects:n,organizationUrl:i,links:s}=this.state;return o.h(l.default,{sectionName:e,pid:t,projects:n,organizationUrl:i,links:s})}}t.default=c.default(h)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1628);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(731),r=i(n(890)),l=i(n(1316)),c=i(n(724)),d=n(582),u=n(1328),h=n(547);n(1629);t.default=function({sectionName:e,pid:t,projects:n,organizationUrl:i,links:p}){const[f,g]=s.useState(!1),m=s.useRef(),b=s.useRef();function S(){g(!1)}return o.h("div",{class:"sectionNavigation"},o.h("div",{class:"info ellipsis",title:e},e),o.h("div",null,o.h("button",{type:"button",class:c.default("menuButton",{active:f}),ref:m,onClick:function(){g(!0)}},o.h(a.IconArrowDown,{width:10})),f&&o.h(r.default,{didRender:function(e){const t=m.current.getBoundingClientRect(),n=b.current,i=n.getBoundingClientRect(),o=e.getBoundingClientRect(),s=t.bottom+5,a=t.right-o.width;let r;r=s+o.height+8>window.innerHeight?window.innerHeight-o.height-8:s,r<8&&(n.style.maxHeight=i.height+r-8+"px",r=8),e.style.transform=`translate3d(${a}px, ${r}px, 0)`}},o.h(l.default,{class:"sectionNavigationMenu",onClose:S,edgeOffset:8},o.h("div",{class:"projectContainer",ref:b},n.map((({id:e,name:n,type:i,url:s})=>o.h("a",{key:e,href:s,"data-link-type":"inApp",onClick:n=>function(e,n){n!==t&&mixpanel.master.track("Navigated to project",{Source:"Project dashboard"}),e.stopPropagation()}(n,e)},o.h("span",{class:"projectNameAndType ellipsis",title:n},o.h("span",{class:"projectName ellipsis"},n),", ",o.h("span",{class:"projectType"},h.PlatformString[i])),o.h("img",{style:{visibility:e===t?"visible":"hidden"},class:"sectionNavigationActiveProject",src:d.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))))),o.h("div",{class:"optionsSeparator"}),o.h("a",{href:i,"data-link-type":"inApp"},"Go to Section"),p.length&&o.h(l.default.Submenu,{submenuClass:"linksMenu",name:"Links"},p.map((({_id:e,title:t,url:n})=>o.h("a",{class:"sectionLink",key:e,href:n,target:"_blank",rel:"noopener",onClick:e=>function(e,t){mixpanel.master.track("Clicked project section link",{Source:"Project dashboard",Type:u.getLinkType(t)}),S(),e.stopPropagation()}(e,n)},o.cloneElement(u.getLinkIcon(n),{width:16,height:16}),o.h("span",null,t)))))))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1632);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1633),r=n(702),l=n.n(r),c=n(684),d=n.n(c),u=n(567),h=n.n(u),p=n(1645),f=n.n(p),g=n(929),m=n.n(g);n(1646);class b extends i.Component{static calculateState(){const{loading:e,barrelType:t,barrelId:n}=h.a.BarrelStore.getState();if(e)return{loading:e};const i=d.a.getBarrel({bid:n}),o=d.a.findUser(),{channels:s,loading:a}=h.a.TeamsIntegrationStore.getState();return{barrelType:t,barrel:i,barrelUser:o,teamsChannels:s,teamsChannelsLoading:a}}static getStores(){return[h.a.BarrelStore,h.a.ProjectsDataStore,h.a.StyleguidesDataStore,h.a.UserStore,h.a.TeamsIntegrationStore]}render(){const{showConfigurationButtons:e}=this.props,{barrel:t,barrelUser:n,loading:o,teamsChannels:s,teamsChannelsLoading:r}=this.state;return o?null:i.h(a.default,{barrel:t,barrelUser:n,teamsChannels:s,teamsChannelsLoading:r,showConfigurationButtons:e,onAddToSlack:l.a.addToSlack,onRemoveIntegration:l.a.removeIntegration,onOpenSlackPreferences:f.a.open})}}b.propTypes={showConfigurationButtons:s.a.bool},t.default=m()(b,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1634);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(968),r=n(1635),l=n(1638),c=n(890),d=n(1316),u=n(1188),h=n(831),p=n(1641),f=n(1281),g=n(1283),m=n(731),b=n(610),S=n(959),y=n(1192),v=n(852),O=n(724),C=n.n(O),E=n(548);n(1644);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _="SLACK",P="JIRA",I="TEAMS",j="TRELLO";class D extends a.default{constructor(...e){super(...e),T(this,"state",{isMenuOpen:!1}),T(this,"handlePortalDidRender",(e=>{const t=this.nodeRefs.settingsButton.getBoundingClientRect(),n=e.getBoundingClientRect(),i=12,o=t.top-i,s=t.left-n.width+i;let a=s,r=o;s+n.width+i>window.innerWidth&&(a=window.innerWidth-n.width-i),o<i?r=i:o+n.height+i>window.innerHeight&&(r=window.innerHeight-n.height-i),e.style.transform=`translate3d(${a}px, ${r}px, 0)`})),T(this,"handleMenuOpen",(()=>{this.setState({isMenuOpen:!0})})),T(this,"handleMenuClose",(()=>{this.setState({isMenuOpen:!1})})),T(this,"handleIntegrateWithJira",(()=>{Object(S.openLink)(E.INTEGRATION_JIRA_URL)})),T(this,"handleIntegrateWithTeams",(()=>{Object(S.openLink)(E.INTEGRATION_TEAMS_URL)})),T(this,"handleIntegrateWithTrello",(()=>{Object(S.openLink)(E.INTEGRATION_TRELLO_URL)})),T(this,"handleRemoveIntegration",((e,t)=>{this.props.onRemoveIntegration({intype:e,inid:t,syncWithApi:!0})})),T(this,"handleMenuChange",((e,t)=>{const{onAddToSlack:n}=this.props;switch(t){case _:n();break;case P:this.handleIntegrateWithJira();break;case I:this.handleIntegrateWithTeams();break;case j:this.handleIntegrateWithTrello()}}))}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get hasAnyJiraAttachment(){return(this.jiraIntegration&&this.jiraIntegration.attachments||[]).some((({type:e})=>"project"===e))}get hasAnyIntegration(){const{teamsChannels:e}=this.props;return Boolean(this.slackChannels)||this.hasAnyJiraAttachment||Boolean(e.length)}get canUpdateBarrel(){return b.permissions.canUpdateProject(this.props.barrelUser)}renderLoadingOrEmptyState(){return this.props.teamsChannelsLoading?i.h("div",{class:"integrationsLoadingState"},"…"):this.renderEmptyState()}renderEmptyState(){const{barrelUser:e,onAddToSlack:t}=this.props;return i.h("div",{class:"integrationsEmptyState"},i.h("p",{class:"integrationsEmptyStateText"},"Connect to tools you use everyday; like ",i.h("strong",null,"Slack"),", ",i.h("strong",null,"Jira"),", ",i.h("strong",null,"Microsoft Teams")," and ",i.h("strong",null,"Trello"),"."),i.h("div",{class:"integrationsEmptyStateIcons"},i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Slack":Object(y.default)(e.role,"add projects to Slack")},i.h(h.default,{class:"integrationsEmptyStateIconButton",onClick:t,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconSlack,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Jira":Object(y.default)(e.role,"connect projects to Jira")},i.h(h.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithJira,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconJira,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Microsoft Teams":Object(y.default)(e.role,"add projects to Microsoft Teams")},i.h(h.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTeams,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTeams,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Trello":Object(y.default)(e.role,"connect projects to Trello")},i.h(h.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTrello,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTrello,null)))))}renderIntegrationsList(){const{barrel:e,barrelUser:t,teamsChannels:n,showConfigurationButtons:o,onAddToSlack:s,onOpenSlackPreferences:a}=this.props;return i.h("div",{class:"integrationsList"},this.slackChannels&&this.slackChannels.map((e=>i.h(p.default,{key:e._id,channel:e,barrelUser:t,showConfigurationButton:o,onAddAnother:s,onOpenPreferences:a,onRemove:this.handleRemoveIntegration,canUpdateProject:this.canUpdateBarrel}))),i.h(f.default,{items:[{itemType:"project",itemId:e._id,label:"Attached to "}]}),n.map((e=>i.h(g.default,{key:e.id,class:"teamsChannelIntegrationInfo",logo:i.h(m.IconTeams,null),description:"Connected to ",text:e.name,href:e.url}))))}renderMenu(){return i.h(c.default,{didRender:this.handlePortalDidRender},i.h(d.default,{class:"integrationsMenu",onClose:this.handleMenuClose,onChange:this.handleMenuChange},i.h(d.default.Button,{name:_},i.h(m.IconSlack,{color:"var(--teflon)"}),i.h("span",null,this.slackChannels?"Add another…":"Add to Slack")),!this.hasAnyJiraAttachment&&i.h(d.default.Button,{name:P},i.h(m.IconJira,{color:"var(--teflon)"}),i.h("span",null,"Connect to Jira")),i.h(d.default.Button,{name:I},i.h(m.IconTeams,{color:"var(--teflon)"}),i.h("span",null,"Add to Microsoft Teams")),i.h(d.default.Button,{name:j},i.h(m.IconTrello,{color:"var(--teflon)"}),i.h("span",null,"Connect to Trello"))))}render(){const{barrelUser:e}=this.props,{isMenuOpen:t}=this.state;let n=i.h(l.default,{baseRef:Object(v.default)(this,"settingsButton"),class:C()({active:t}),icon:m.IconPlusWithCircle,disabled:!this.canUpdateBarrel,onClick:this.handleMenuOpen});return this.canUpdateBarrel||(n=i.h(u.default,{content:Object(y.default)(e.role,"add integrations to project.")},n)),i.h("div",{class:"integrationsContainer"},i.h(r.default,{title:"Integrations",button:n}),this.hasAnyIntegration?this.renderIntegrationsList():this.renderLoadingOrEmptyState(),t&&this.renderMenu())}}D.propTypes={barrel:s.a.object.isRequired,barrelUser:s.a.object.isRequired,teamsChannels:s.a.array.isRequired,teamsChannelsLoading:s.a.bool,showConfigurationButtons:s.a.bool,onAddToSlack:s.a.func.isRequired,onRemoveIntegration:s.a.func.isRequired,onOpenSlackPreferences:s.a.func.isRequired},t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(1636);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1637);t.default=function({class:e,title:t,button:n}){return i.h("div",{class:s()("barrelSidebarSubtitle",e)},i.h("div",{class:"title noSelect"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1639);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(731),r=n(724),l=n.n(r);n(1640);function c(e){const{class:t,icon:n,disabled:o,onClick:s,baseRef:a,children:r}=e;return i.h("button",{type:"button",class:l()("sidebarSettingsButton",t),disabled:o,onClick:s,ref:a},i.h(n,{color:o?"#C1BEC1":"#554D56"}),r)}c.propTypes={class:s.a.string,icon:s.a.node,disabled:s.a.bool,onClick:s.a.func,baseRef:s.a.object,children:s.a.node},c.defaultProps={icon:a.IconSettings},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1642);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1192),s=n(959),a=n(968),r=n(1638),l=n(1137),c=n.n(l),d=n(724),u=n.n(d),h=n(1188),p=n(731),f=n(1283);n(1643);class g extends a.default{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(s.openLink)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channel)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){return i.h(c.a,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},i.h(c.a.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another…"),i.h(c.a.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.h(c.a.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences…"),i.h(c.a.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{barrelUser:e,canUpdateProject:t}=this.props;if(t){const{menuOpen:e}=this.state;return i.h(r.default,{class:u()({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.h(h.default,{content:Object(o.default)(e.role,"update Slack integration.")},i.h(r.default,{disabled:!0}))}render(){const{showConfigurationButton:e,channel:{incomingWebHook:{configurationURL:t,channelId:n,channel:o}}}=this.props,s=new URL(t);return s.pathname=`/messages/${n||o.replace("#","")}`,i.h("div",{class:"slackChannelContainer"},i.h(f.default,{class:"slackChannel",logo:i.h(p.IconSlack,null),description:"Connected to ",text:o,href:s.toString()}),e&&this.renderSlackChannelConfigurationButton())}}t.default=g},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(655)),s=i(n(567)),a={init(){s.default.dispatcher.dispatch({type:o.default.INIT})},load(e,t){s.default.dispatcher.dispatch({type:o.default.LOAD,inid:e,events:t,barrelType:s.default.BarrelStore.getState().barrelType})},open(e,t){s.default.dispatcher.dispatch({type:o.default.OPEN,inid:e,channelName:t})},close(){s.default.dispatcher.dispatch({type:o.default.CLOSE})},updateEventGroup(e,t){s.default.dispatcher.dispatch({type:o.default.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){s.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){s.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},addIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:a}=s.default.BarrelStore.getState();"slacks"===t&&e===a&&s.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!0})},removeIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:a}=s.default.BarrelStore.getState();"slacks"===t&&e===a&&s.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!1})}};t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1648);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(1649);t.default=function(e){const{class:t}=e;return i.h("div",{class:s()("barrelSidebarSeparator",t)},i.h("div",null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1651);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(968),r=n(724),l=n.n(r),c=n(1294),d=n(852),u=n(610),h=n(959),p=n(583),f=n(547),g=n(544),m=n(1652),b=n.n(m),S=n(1297),y=n(1655),v=n.n(y),O=n(1658),C=n.n(O),E=n(684),T=n.n(E),_=n(685),P=n.n(_),I=n(890),j=n(1302);n(1661);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends a.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenEmojiListOpen=this.handleKeyDownWhenEmojiListOpen.bind(this),this.handleKeyDownWhenUserListOpen=this.handleKeyDownWhenUserListOpen.bind(this),this.handleKeyDownEmojiListActions=Object(u.debounce)(this.handleKeyDownEmojiListActions).bind(this),this.handleKeyDownUserListActions=Object(u.debounce)(this.handleKeyDownUserListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleSelectUser=this.handleSelectUser.bind(this),this.handleEmojiMouseOver=this.handleEmojiMouseOver.bind(this),this.handleUserMouseOver=this.handleUserMouseOver.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleUserClick=this.handleUserClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.handleFileInputChange=this.handleFileInputChange.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this),this.changeSuggestedUsers=this.changeSuggestedUsers.bind(this),this.abortController=null,this.autocompleteListRef=i.createRef();const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],suggestionPositionedParentTop:0,suggestionPositionedParentLeft:0,suggestionTargetTop:0,suggestionTargetBottom:0,suggestionTargetLeft:0,autoCompletedEmoji:!1,selectedUserIndex:0,suggestedUsers:[],autoCompletedUser:!1,value:t,originalValue:t,error:"",editing:e.editing,uploading:!1}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;this.abortController&&(this.abortController.abort(),this.abortController=null),t&&t(),this.setState({editing:!1,uploading:!1,value:e,error:""},(()=>{this.nodeRefs.textArea.blur()}))}changeSuggestedEmojis(){const{barrelId:e}=this.props,{value:t,suggestedEmojis:n,selectedEmojiIndex:i}=this.state,{textArea:o}=this.nodeRefs,s=o.selectionStart,a=Object(j.getSuggestedEmojis)(t,s,e);if(a!==n){const e=Math.max(0,Math.min(i,a.length-1));this.setState(k({suggestedEmojis:a,selectedEmojiIndex:e},this.getSuggestionPositions()))}}changeSuggestedUsers(){const{value:e,suggestedUsers:t,selectedUserIndex:n}=this.state,{textArea:i}=this.nodeRefs,{barrelId:o}=this.props,s=function(e,t,n){const i=e.lastIndexOf("@",n);if(-1===i)return[];const o=e.substring(i+1,n).toLowerCase(),s=T.a.getBarrel({bid:t}),a=P.a.getOrganization(null,{pid:t});if(!s)return[];const{users:r}=s,l=[{_id:"everyone",name:"everyone",self:!1,description:"Notify all project members",groupDataType:s.icon.type,group:!0}];return a&&l.push({_id:"organization",name:"organization",icon:a.logo,self:!1,description:"Notify all workspace members",groupDataType:a.logo?null:"organizationPlaceholder",group:!0}),o&&l.push({_id:"project",name:"project",self:!1,description:"Notify all project members",groupDataType:s.icon.type,group:!0}),[...l.filter((({name:e})=>e.toLowerCase().startsWith(o))),...r.filter((({user:{status:e,username:t,fullName:n,_id:i}})=>"invited"!==e&&("me"===o&&Zeplin.user._id===i||t.toLowerCase().startsWith(o)||n&&n.toLowerCase().startsWith(o)))).map((({user:e,user:{username:t,email:n,_id:i}})=>({_id:i,name:t||n,icon:Object(h.getUserAvatar)(e).src,self:Zeplin.user._id===i})))]}(e,o,i.selectionStart),a=Math.max(0,Math.min(t.length?n:s.findIndex((({group:e})=>!e)),s.length-1));this.setState(k({suggestedUsers:s,selectedUserIndex:a},this.getSuggestionPositions()))}getSuggestionPositions(){const{textAreaMirror:e}=this.nodeRefs;let t=0,n=0;const i=Object(h.findFirstPositionedAncestor)(this.autocompleteListRef.current);i&&({top:t,left:n}=i.getBoundingClientRect());const{top:o,bottom:s,left:a}=e.getBoundingClientRect();return{suggestionPositionedParentTop:t,suggestionPositionedParentLeft:n,suggestionTargetTop:o,suggestionTargetBottom:s,suggestionTargetLeft:a}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return Object(g.getBrowser)()===g.BROWSER.SAFARI?e+(t.match(/\n/g)||[]).length:e}submit(){const{resetOnSubmit:e,disabledWhenEmpty:t,onSubmit:n}=this.props,{value:i,originalValue:o}=this.state;if(!(i.length>this.maxLength))if(i!==o||t){if(t&&!i)return;const s={error:"",editing:!1,originalValue:i};e&&(s.value=o),this.setState(s),n(i)}else this.cancelEdit()}handleSubmit(){const{submitOnBlur:e,onSubmit:t}=this.props,{value:n}=this.state;n.length>this.maxLength||(!e&&t&&this.submit(),this.nodeRefs.textArea.blur())}handleBlur(){const{submitOnBlur:e,onSubmit:t}=this.props,{uploading:n}=this.state;e&&!n&&t&&this.submit()}handleButtonClick(){const{readOnly:e}=this.props;e||this.handleSubmit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState((e=>({editing:!0,originalValue:e.value})))}handleInput(e){const{readOnly:t,onInput:n}=this.props;if(t)return;const{value:i}=e.target;this.setState({value:i,error:"",autoCompletedEmoji:!1,autoCompletedUser:!1},(()=>{n&&n(i)}))}handleKeyDown(e){const{readOnly:t,showEmojiAutoComplete:n,showUserAutoComplete:i}=this.props,{editing:o,uploading:s,suggestedEmojis:a,suggestedUsers:r}=this.state;if(t)return;if(n&&o&&0!==a.length)return e.stopPropagation(),void this.handleKeyDownWhenEmojiListOpen(e);if(i&&o&&0!==r.length)return e.stopPropagation(),void this.handleKeyDownWhenUserListOpen(e);e.key===f.Keyboard.Key.Escape&&(e.stopPropagation(),this.cancelEdit()),e.key===f.Keyboard.Key.Enter&&Object(g.cmdKey)(e)&&!s&&(e.stopPropagation(),this.handleSubmit())}handleKeyDownEmojiListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState((e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1}));break;case Zeplin.KEY_CODE.ArrowUp:this.setState((e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1}))}}handleKeyDownUserListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedUsers:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectUser();break;case Zeplin.KEY_CODE.ArrowDown:this.setState((e=>e.selectedUserIndex>=e.suggestedUsers.length-1?{selectedUserIndex:e.suggestedUsers.length-1}:{selectedUserIndex:e.selectedUserIndex+1}));break;case Zeplin.KEY_CODE.ArrowUp:this.setState((e=>e.selectedUserIndex<=0?{selectedUserIndex:0}:{selectedUserIndex:e.selectedUserIndex-1}))}}handleKeyDownWhenEmojiListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&(e.preventDefault(),e.stopPropagation()),this.handleKeyDownEmojiListActions(e)}handleKeyDownWhenUserListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&(e.preventDefault(),e.stopPropagation()),this.handleKeyDownUserListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||(this.props.showEmojiAutoComplete&&this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis),this.props.showUserAutoComplete&&this.setState({autoCompletedUser:!1},this.changeSuggestedUsers))}handleEmojiClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleUserClick(e,t){this.setState({selectedUserIndex:e},this.handleSelectUser)}handleEmojiMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleUserMouseOver(e,t){this.setState({selectedUserIndex:e})}handleSelectEmoji(){const{onInput:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n,value:i}=this.state,{textArea:o}=this.nodeRefs,s=t[n],a=o.selectionStart,r=i.substring(0,a).lastIndexOf(":"),l=s.formattedAlias,c=`${i.substring(0,r)}:${l}: ${i.substring(a)}`,d=r+l.length+3;this.setState({error:"",value:c,autoCompletedEmoji:!0,suggestedEmojis:[]},(()=>{o.focus(),o.setSelectionRange(d,d),e&&e(c)}))}handleSelectUser(){const{onInput:e}=this.props,{suggestedUsers:t,selectedUserIndex:n,value:i}=this.state,{textArea:o}=this.nodeRefs,{name:s}=t[n],a=o.selectionStart,r=i.lastIndexOf("@",a),l=`${i.substring(0,r+1)}${s} ${i.substring(a)}`,c=r+s.length+2;this.setState({error:"",value:l,autoCompletedUser:!0,suggestedUsers:[]},(()=>{o.focus(),o.setSelectionRange(c,c),e&&e(l)}))}handleTextAreaClick(){this.state.editing&&(this.changeSuggestedEmojis(),this.changeSuggestedUsers())}async handleFileUpload(e,t){if(this.state.uploading)return;const n=[...t].find((e=>c.IMAGE_MIME_TYPES.includes(e.type)));if(!n)return;if(e.preventDefault(),e.stopPropagation(),n.size>1e7)return void this.setState({error:"Smaller than 10 MB please!"});const{onInput:i}=this.props,{value:o}=this.state,{textArea:s}=this.nodeRefs,a=Object(p.getFilenameWithoutExtensionFromPath)(n.name);let r="";/\n$/.test(o)?r=o:o&&(r=`${o}\n`),this.setState({error:"",uploading:!0,value:`${r}![${a}](Uploading…)`});try{this.abortController=new AbortController;const{fileURL:e}=await Object(c.uploadCommentImage)(n,this.abortController.signal);this.abortController=null;const t=`${r}![${a}](${e})\n`;this.setState({uploading:!1,value:t},(()=>{s.focus(),s.setSelectionRange(t.length,t.length),i&&i(t)}))}catch(l){if("AbortError"===l.name)return;this.setState({uploading:!1,value:o},(()=>{s.focus(),s.setSelectionRange(o.length,o.length),i&&i(o)}))}}handleDrop(e){this.handleFileUpload(e,e.dataTransfer.files)}handlePaste(e){this.handleFileUpload(e,e.clipboardData.files)}handleFileInputChange(e){this.handleFileUpload(e,e.target.files)}componentDidMount(){const{value:e,editing:t}=this.props,{textArea:n}=this.nodeRefs;t&&(n.focus(),n.setSelectionRange(e.length,e.length))}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{showEmojiAutoComplete:n,showUserAutoComplete:i}=this.props,{editing:o,value:s,autoCompletedEmoji:a,autoCompletedUser:r}=this.state,{textArea:l}=this.nodeRefs;o&&t.editing!==o&&(l.focus(),l.setSelectionRange(s.length,s.length)),n&&!a&&s!==t.value&&this.changeSuggestedEmojis(),i&&!r&&s!==t.value&&this.changeSuggestedUsers()}renderEditorInfo(){const{markdownEditor:e}=this.props,{value:t,error:n}=this.state;if(n)return i.h("div",{class:"error"},n);if(e&&!t)return i.h("div",{class:"markdownInfo"},i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote"));const o=l()("counter",{negative:t.length>this.maxLength});return i.h("div",{class:o},this.maxLength-t.length)}renderAutocompleteLists(){const{autoCompleteContainer:e,showEmojiAutoComplete:t,showUserAutoComplete:n}=this.props,{editing:o,suggestionPositionedParentTop:s,suggestionPositionedParentLeft:a,suggestionTargetTop:r,suggestionTargetBottom:l,suggestionTargetLeft:c,suggestedEmojis:d,selectedEmojiIndex:u,suggestedUsers:h,selectedUserIndex:p}=this.state,f=i.h(C.a,{baseRef:this.autocompleteListRef,tabIndex:"-1",positionedParentTop:s,positionedParentLeft:a,targetTop:r,targetBottom:l,targetLeft:c},t&&o&&0!==d.length&&i.h(S.default,{onItemClick:this.handleEmojiClick,onItemMouseOver:this.handleEmojiMouseOver,suggestedEmojis:d,selectedIndex:u}),n&&o&&0!==h.length&&i.h(v.a,{onItemClick:this.handleUserClick,onItemMouseOver:this.handleUserMouseOver,suggestedUsers:h,selectedIndex:p}));return e?i.h(I.default,{into:e},f):f}render(){const{autoEdit:e,containerClass:t,class:n,color:o,formatter:s,placeholder:a,buttonLabel:r,disabledWhenEmpty:c,markdownEditor:u,openFilePicker:h}=this.props,{editing:p,uploading:f,value:m}=this.state,S=s?s(m):m,y=Object(g.getOS)()===g.OS.MAC?"⌘⏎":"Ctrl+⏎",v=l()("shortcut",{[Object(g.getOS)()]:!0}),O=f||m.length>this.maxLength||c&&!m;return i.h("div",{class:l()("textAreaContainer",t)},i.h("div",{class:l()("textArea",n,{editing:p,markdownEditor:u},o)},i.h("div",{class:l()("formattedContent",{placeholder:a&&!m}),onClick:e?this.handleClick:null,dangerouslySetInnerHTML:{__html:S||a}}),i.h("div",{class:"editor"},i.h("div",{ref:Object(d.default)(this,"textAreaMirror"),class:"mirror"},m," "),i.h("textarea",{ref:Object(d.default)(this,"textArea"),value:m,spellcheck:"false",placeholder:a,readOnly:f,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,onDrop:u?this.handleDrop:null,onPaste:u?this.handlePaste:null})),i.h("div",{class:"controls",tabIndex:"-1"},this.renderEditorInfo(),u&&i.h(b.a,{open:h,disabled:f,onChange:this.handleFileInputChange}),i.h("button",{type:"button",class:"submit",disabled:O,ref:Object(d.default)(this,"submitButton"),onClick:this.handleButtonClick},i.h("span",{class:"labelMirror"},r),i.h("span",{class:"label"},r),i.h("span",{class:v},y)))),this.renderAutocompleteLists())}}A.propTypes={autoEdit:s.a.bool,value:s.a.string,containerClass:s.a.string,class:s.a.string,color:s.a.oneOf(["yellow","orange","peach","green","turquoise","cornflowerBlue","deepPurple"]).isRequired,editing:s.a.bool,maxLength:s.a.number.isRequired,placeholder:s.a.string,buttonLabel:s.a.string,readOnly:s.a.bool,submitOnBlur:s.a.bool,onSubmit:s.a.func,resetOnSubmit:s.a.bool,disabledWhenEmpty:s.a.bool,markdownEditor:s.a.bool,onCancelEdit:s.a.func,formatter:s.a.func,showEmojiAutoComplete:s.a.bool,showUserAutoComplete:s.a.bool,openFilePicker:s.a.bool,barrelId:s.a.string},A.defaultProps={autoEdit:!1,value:"",placeholder:"",buttonLabel:"Done",readOnly:!1,submitOnBlur:!1,onSubmit:null,resetOnSubmit:!1,disabledWhenEmpty:!1,markdownEditor:!1,onCancelEdit:null,showEmojiAutoComplete:!1,showUserAutoComplete:!1,openFilePicker:!1,barrelId:null},t.default=A},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1653);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(738)),r=n(1294),l=i(n(724));n(1654),t.default=function({disabled:e=!1,open:t=!1,onChange:n}){const i=s.useRef();return s.useEffect((()=>{var e;t&&(null===(e=i.current)||void 0===e||e.click())}),[t]),o.h("label",{class:l.default("attachImageButton","noSelect",{disabled:e})},o.h("input",{ref:i,disabled:e,type:"file",accept:r.IMAGE_MIME_TYPES.join(","),onClick:function(){i.current.value=""},onChange:n}),o.h(a.default,null))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1656));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=i(n(1299));function r(e){const{name:t,self:n,description:i,icon:a,groupDataType:r,selected:l,onClick:c,onMouseOver:d,listRef:u,fullName:h}=e;return o.h("div",{class:s.default({selected:l},"userItem"),onMouseOver:d,onClick:c,ref:u},a&&o.h("img",{class:"userImg",src:a}),!a&&o.h("img",{class:"userImg","data-type":r}),o.h("div",{class:"userInfo"},o.h("span",{class:s.default({self:n},"userName","ellipsis")},h||t),i&&o.h("span",{class:"userDescription ellipsis"},i)))}n(1657),t.default=function({suggestedUsers:e,selectedIndex:t,onItemClick:n,onItemMouseOver:i,class:l}){return o.h(a.default,{class:s.default("userAutoCompleteList",l),options:e,keyProp:"_id",selectedIndex:t,onItemMouseOver:i,onItemClick:n,RowComponent:r})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1659);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(223);n(1660);t.default=function({baseRef:e,tabIndex:t,positionedParentTop:n,positionedParentLeft:s,targetTop:a,targetBottom:r,targetLeft:l,children:c}){const d=o.useRef(),[u,h]=o.useState(r-n),p=l-s;return o.useLayoutEffect((()=>{const{height:e}=d.current.getBoundingClientRect(),t=r+e+6>=window.innerHeight;h(t?a-n-e:r-n)}),[n,a,r,c]),i.h("div",{ref:function(t){d.current=t,e.current=t},class:"absolutePositionedItemHolder",tabIndex:t,style:{top:u,left:p}},c)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1663);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(935),s=n.n(o),a=n(959),r=n(852),l=n(611);n(1664);function c(e,t){return"invited"!==e.user.status?e.user.fullName+(l.permissions.canSeeOthersEmail(t)?` (${e.user.email})`:""):`Pending… (${e.user.email})`}class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:o}=Object(a.getUserAvatar)(e.user,{ignoreRandomEmotar:!1,size:30});return i.h("div",{class:"memberAvatar",onClick:this.handleClick},i.h(s.a,{src:n,srcset:o,title:t,size:30}))}}class u extends i.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-24)/38);if(0===i)return;let o;o=e.length>i?i-1:e.length,o!==t&&this.setState({nrOfAvatarsDisplayed:o})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:o}=this.props;if(0===t)return null;const s=n.length-t;if(s){const a=n.slice(t).map((t=>c(t,e))).join("\n");return i.h("button",{type:"button",class:"remaining",onClick:o,title:a},"+",s)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,barrelUser:n,onMemberClick:o}=this.props,s=t.find((e=>e.user._id===n.user._id)).role;return i.h("div",{class:"membersPreview",ref:Object(r.default)(this,"base")},t.slice(0,e).map((e=>i.h(d,{key:e.user._id,onClick:o,member:e,title:c(e,s)}))),this.renderRemainingMembers(s))}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1666);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1604),s=n(1040),a=n(547),r=n(610),l=n(686),c=n(583),d=n(852),u=n(553),h=n(831),p=n(1635),f=n(1667),g=n(1670),m=n(1027),b=n(1386),S=n.n(b);n(1672);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){const t=Object(r.getUserRoleString)(e);return"king"===e||"owner"===e?t:`${t}s`}const O={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};class C extends i.Component{constructor(...e){super(...e),y(this,"state",Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},O)),y(this,"close",(()=>{const{onClose:e}=this.props;e()})),y(this,"closeDialogs",(()=>{this.setState(O)})),y(this,"openRemoveMemberConfirmationDialog",(e=>{this.setState(Object.assign({},O,{removeMemberConfirmationDialog:{member:e}}))})),y(this,"openTransferOwnershipConfirmationDialog",(e=>{this.setState(Object.assign({},O,{transferOwnershipConfirmationDialog:{member:e}}))})),y(this,"openLeaveConfirmationDialog",(e=>{this.setState(Object.assign({},O,{leaveConfirmationDialog:{member:e}}))})),y(this,"setInvitePopupAnchorPosition",(()=>{const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,s=t.top>=n.top,a=i||s;if(!o.anchor.classList.toggle("hidden",a)){const e=n.top-t.top;o.anchor.style.top=e+25+-10+"px"}})),y(this,"setInvitePopupPosition",Object(r.debounce)((()=>{const{membersDialog:e}=this.nodeRefs;if(!e)return;o.element.style.transform="";const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let s;if(i>0?s=Math.max(t.top-i,60):t.top<60&&(s=60),s){const e=s-n.top- -52;o.element.style.transform=`translate3d(0, ${e}px, 0)`}const a=n.right+t.width+24>window.innerWidth;o.element.classList.toggle("left",a),this.setInvitePopupAnchorPosition()}))),y(this,"openInvitePopup",(()=>{const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:s}=this.props,{membersDialog:a}=this.nodeRefs;o.show({bt:e,popupContainer:a,bid:t,members:n,oid:"pawn"===i.role?"user":s}),this.setInvitePopupPosition(),a.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),a.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Members dialog"})})),y(this,"closeInvitePopup",(()=>{const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),o.dismiss()})),y(this,"toggleInvitePopup",(e=>{e.stopPropagation(),o.isHidden()?this.openInvitePopup():this.closeInvitePopup()})),y(this,"handleOpenMemberOptions",((e,t)=>{this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})})),y(this,"handleCloseMemberOptions",(()=>{this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})})),y(this,"handleUpgrade",((e,t)=>{const{barrelId:n}=this.props;Object(s.showPlanChooserOverlay)({source:e||"Members dialog",upgradeTrigger:t,bid:n}),this.close()})),y(this,"handleUpgradeForMoreUsers",(()=>{this.handleUpgrade("Members dialog, Reached user limit",a.PlanUpgradeTrigger.USER_LIMIT)})),y(this,"handleDocumentKeyDown",(e=>{const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:o}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||o?this.setState(O):this.close())})),y(this,"handleBackdropClick",(e=>{if(e.stopPropagation(),!o.isHidden())return void this.closeInvitePopup();const{onClose:t}=this.props;t()})),y(this,"handleMembersDialogClick",(e=>{e.stopPropagation(),o.isHidden()||this.closeInvitePopup()})),y(this,"handleAddMembers",(e=>{const{onAddMembers:t}=this.props;t(e)})),y(this,"handleRemoveMember",(()=>{const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)})),y(this,"handleTransferOwnership",(()=>{const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)})),y(this,"handleLeave",(()=>{const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}))}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),this.closeInvitePopup()}renderHeader(){const{members:e,isOrganizationProject:t,maxUserLimit:n}=this.props,o=e.find((e=>"owner"===e.role)),s=t||"free"!==o.user.paymentPlan||e.length<n;return i.h("div",{class:"membersDialogHeader"},i.h("div",{class:"title"},"Members"),s?i.h(h.default,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"):i.h(h.default,{class:"inviteButton",disabled:!0,secondary:!0},"Invite"))}renderOnlyOwnerCanUpload(e,t){return i.h(S.a,{class:"upgradeNowHintbox",hideButtonText:!0},i.h("div",{class:"hintBoxContainer"},i.h("p",null,"On the Free plan, only the project owner can upload designs.",e?i.h("span",null," Upgrade now to access more projects and allow members to upload designs!"):i.h("span",null," Contact ",t," to upgrade their plan and allow members to upload designs!")),e&&i.h(h.default,{onClick:this.handleUpgrade,primary:!0},"Upgrade")))}renderExtraInfo(){const{barrelUser:e,members:t,isOrganizationProject:n,organizationId:o,maxUserLimit:s}=this.props;if(n&&"pawn"!==e.role)return i.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.h("a",{href:Object(l.urlResolve)("workspace-members",{url:{oid:o}})},"visit the workspace dashboard"),".");const a=t.find((e=>"owner"===e.role));if(a&&"free"===a.user.paymentPlan){const n=a.user._id===e.user._id,{fullName:o,email:r}=a.user,l=o||r;return t.length<s?this.renderOnlyOwnerCanUpload(n,l):i.h(S.a,{class:"upgradeNowHintbox",hideButtonText:!0},i.h("div",{class:"hintBoxContainer"},i.h("p",null,"You can have up to ",Object(c.pluralize)(s,"member")," on the Free plan.",n?i.h("span",null," Upgrade to invite as many members as you need."):i.h("span",null," Contact ",i.h("strong",null,l)," to upgrade their plan to invite as many members as you need.")),n&&i.h(h.default,{onClick:this.handleUpgradeForMoreUsers,primary:!0},"Upgrade")))}}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:o}=this.state,s=t.reduce(((t,s)=>{const a=i.h(f.default,{key:s.user._id,member:s,showOptionsButton:"owner"!==s.role&&r.permissions.isSuperior(e,s,!0),memberOptionsOpen:!!o&&o.user._id===s.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===s.user._id});return t.has(s.role)?t.get(s.role).push(a):t.set(s.role,[a]),t}),new Map),a=[];for(let[r,l]of s)a.push(i.h("div",{key:`${r}Rows`,class:"roleGroup"},i.h(p.default,{class:"roleTitle",key:r,title:v(r)}),l));return i.h("div",{class:"members"},a)}renderFooter(){return i.h("div",{class:"membersDialogFooter"},i.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:o,onUnassignAdmin:s}=this.props,{memberOptionsMenuOpenFor:a,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.h("div",{class:"memberOptionsContainer",key:"memberOptions"},i.h(g.default,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:a,canAssignAdmin:!n&&"user"!==e.role&&"user"===a.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===a.role,canTransferOwnership:!n&&r.permissions.canTransferOwnership(e),canRemoveFromProject:a.user._id!==e.user._id&&r.permissions.isSuperior(e,a,!0),canLeaveProject:a.user._id===e.user._id,onAssignAdmin:o,onUnassignAdmin:s,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions}))}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.h(m.BasicOverlayDialog,{key:"removeMemberConfirmationDialog",message:`Remove "${Object(u.getUserDisplayName)(e.user)}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.h(m.BasicOverlayDialog,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.fullName||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.h(m.BasicOverlayDialog,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{memberOptionsMenuOpenFor:e,removeMemberConfirmationDialog:t,transferOwnershipConfirmationDialog:n,leaveConfirmationDialog:o}=this.state;return i.h("div",{class:"membersDialog",ref:Object(d.default)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),this.renderExtraInfo(),this.renderMembers(),this.renderFooter(),e&&this.renderMemberOptionsMenu(),t&&this.renderRemoveMemberConfirmation(),n&&this.renderTransferOwnershipConfirmationDialog(),o&&this.renderLeaveConfirmationDialog())}render(){return i.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}t.default=C},function(e,t,n){"use strict";n.r(t);var i=n(1668);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(959),s=n(935),a=n.n(s),r=n(1209),l=n(731),c=n(724),d=n.n(c),u=n(852);n(1669);class h extends i.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(o.scrollIfNecessary)(this.nodeRefs.memberRow),setTimeout((()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})}),10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:s,srcset:c}=Object(o.getUserAvatar)(e,{ignoreRandomEmotar:!1,size:30}),{_id:h,fullName:p}=e;return i.h("div",{class:"memberRow",ref:Object(u.default)(this,"memberRow")},i.h(r.default,{userId:h},i.h(a.a,{class:"memberRowAvatar",src:s,srcset:c,size:30})),"invited"===e.status?i.h("div",{class:"info"},i.h("div",{class:"memberRowMainInfo ellipsis",title:e.email},e.email),i.h("div",{class:"memberRowSubInfo"},"pending invitation")):i.h("div",{class:"info"},i.h(r.default,{class:"memberRowNameUserProfileCardPopoverContainer",userId:h,openToLeft:!1},i.h("div",{class:"memberRowMainInfo ellipsis",title:p},p)),i.h("div",{class:"memberRowSubInfo ellipsis",title:e.email},e.email)),n&&i.h("button",{class:d()("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.h(l.IconMenu,null)))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1671);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o);class a extends i.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,clickOrigin:t,menuContainer:n,canAssignAdmin:o,canUnassignAdmin:a,canTransferOwnership:r,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.h(s.a.overlay,{class:u,onClose:d,autoPosition:{clickOrigin:t,menuContainer:n}},o&&i.h(s.a.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),a&&i.h(s.a.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),r&&i.h(s.a.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.h(s.a.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.h(s.a.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1674);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(1149),a=i(n(1675)),r=i(n(953)),l=i(n(831));n(1681);const c=n(1220);t.default=function({popoverOpen:e,onPopoverOpen:t,onPopoverClose:n,barrelType:i,webURL:d,sceneURL:u,appURI:h,onEnableScene:p,onUnshare:f,canUserChangeBarrelAccesibility:g}){s.useDidMountEffect((()=>{c.fetchShortlink(d),u&&c.fetchShortlink(u)}));const m=o.h(a.default,{barrelType:i,webURL:d,sceneURL:u,appURI:h,canChangeProjectAccesibility:g,onEnableScene:p,onUnshare:f});return o.h("div",{class:"shareButtonContainer"},o.h(r.default,{open:e,onOpen:t,onClose:n,content:m,left:12,centerY:!0,faceTop:!0,showAnchor:!0},o.h(l.default,{class:"shareButton",primary:!0},"Share")))}},function(e,t,n){"use strict";n.r(t);var i=n(1676);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852),r=n(959),l=n(590),c=n.n(l),d=n(1220),u=n(583),h=n(831),p=n(1647),f=n(1677);n(1680);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=Object.freeze({WEB:"Web",APP:"App"});function b(e){const{type:t,link:n,onCopy:o}=e;let s;if(t===m.WEB){const e=new URL(n);s=e.host+e.pathname}else s=n;return i.h("div",{class:"shareBarrelLink"},i.h("div",{class:"type"},t,":"),i.h("div",{class:"link ellipsis",title:n},s),t===m.APP&&i.h("a",{href:n,class:"button secondary openButton"},"Open"),i.h(h.default,{class:"copyButton",onClick:o,primary:!0,disabled:!n},"Copy"))}function S(e){const{title:t,explanation:n}=e;return i.h("div",{class:"shareBarrelSubtitle"},i.h("div",{class:"title"},t),i.h("div",{class:"explanation"},n))}class y extends i.Component{constructor(...e){super(...e),g(this,"state",{sceneOptionsOpen:!1}),g(this,"openSceneOptions",(()=>{this.setState({sceneOptionsOpen:!0})})),g(this,"closeSceneOptions",(()=>{this.setState({sceneOptionsOpen:!1})})),g(this,"handleCopyWebURL",(()=>{const{webURL:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(r.copyContent)({content:Object(d.getShortlink)(e),toastContainer:n}),mixpanel.master.track("Copied web link",{Target:Object(u.uppercaseFirst)(t),Source:"Inspector"})})),g(this,"handleCopyAppURI",(()=>{const{appURI:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(r.copyContent)({content:e,toastContainer:n}),mixpanel.master.track("Copied app URI",{Target:Object(u.uppercaseFirst)(t),Source:"Inspector"})})),g(this,"handleCopySceneURL",(e=>{e.stopPropagation();const{sceneURL:t}=this.props,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(r.copyContent)({content:Object(d.getShortlink)(t),toastContainer:n}),mixpanel.master.track("Copied scene link")})),g(this,"handleUnshare",(e=>{e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()}))}renderSceneSection(){const{barrelType:e,sceneURL:t,canChangeProjectAccesibility:n,onEnableScene:o}=this.props;if(e===c.a.STYLEGUIDE)return null;const{sceneOptionsOpen:s}=this.state;return i.h(i.Fragment,null,i.h(p.default,{class:"shareBarrelSeparator"}),i.h(S,{title:"Scene",explanation:"Everyone with the link"}),i.h(f.default,{optionsOpen:s,canChangeProjectAccesibility:n,sceneURL:t,onEnable:o,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions}))}render(){const{webURL:e,appURI:t}=this.props,{sceneOptionsOpen:n}=this.state,o=Object(d.getShortlink)(e);return i.h("div",{class:"shareBarrel"},i.h("div",{class:s()("content",{sceneOptionsOpen:n}),ref:Object(a.default)(this,"content")},i.h(S,{title:"Share link",explanation:"Invited members only"}),i.h(b,{type:m.WEB,link:o,onCopy:this.handleCopyWebURL}),i.h(b,{type:m.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1678);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(1137),a=n.n(s),r=n(731);n(1679);t.default=function(e){const{onEnable:t,sceneURL:n,canChangeProjectAccesibility:s,optionsOpen:l,onOptionsOpen:c,onOptionsClose:d,onCopySceneURL:u,onUnshare:h}=e;return i.h("div",{class:"scene"},i.h("div",{class:"explanation"},"Showcase designs and Styleguide"),n?i.h(i.Fragment,null,i.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:n,target:"_blank"},"Open"),i.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:c},i.h(r.IconMenu,null)),l?i.h(a.a,{class:"sceneOptions",onClose:d},i.h(a.a.Item,{onClick:u},"Copy link"),s&&i.h(a.a.Item,{onClick:h},"Unshare")):null):i.h(o.default,{class:"enableScene",onClick:t,disabled:!s,secondary:!0},"Enable"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1683);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1027),r=n(1065),l=n.n(r),c=n(582),d=n(852),u=n(610),h=n(547);n(1684);class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||h.DENSITY.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t,onClose:n}=this.props;t(e),n()}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.h("div",{ref:Object(d.default)(this,"tooltip"),onClick:u.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),"android"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"720×1280px")," screen, you should select ",i.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.h("div",null,"e.g. for a ",i.h("strong",null,"640×1136px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.h("div",{class:"androidDensitySelection"},i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Phone"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:!e||e===h.DENSITY.MDPI,onClick:this.handleChange,value:h.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"),i.h("span",{class:"densityResolution"},"360x640px"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===h.DENSITY.XHDPI,onClick:this.handleChange,value:h.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi"),i.h("span",{class:"densityResolution"},"720x1280px")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===h.DENSITY.HDPI,onClick:this.handleChange,value:h.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"),i.h("span",{class:"densityResolution"},"480x800px"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===h.DENSITY.XXHDPI,onClick:this.handleChange,value:h.DENSITY.XXHDPI}),i.h("span",{class:"densityValue"},"xxhdpi"),i.h("span",{class:"densityResolution"},"1080x1920px")))),i.h("tr",null,i.h("td",null),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===h.DENSITY.XXXHDPI,onClick:this.handleChange,value:h.DENSITY.XXXHDPI}),i.h("span",{class:"densityValue"},"xxxhdpi"),i.h("span",{class:"densityResolution"},"1440x2560px")))))),i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Tablet"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===h.DENSITY.MDPI,onClick:this.handleChange,value:h.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===h.DENSITY.XHDPI,onClick:this.handleChange,value:h.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===h.DENSITY.HDPI,onClick:this.handleChange,value:h.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"))),i.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.h("div",{class:"webDensitySelection"},i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"webDensity",checked:!e||e===h.DENSITY._1x,onClick:this.handleChange,value:h.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x"),i.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.h("hr",null),i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"webDensity",checked:e===h.DENSITY._2x,onClick:this.handleChange,value:h.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x"),i.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.h("div",{class:"iosxDensitySelection"},i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:!e||e===h.DENSITY._1x,onClick:this.handleChange,value:h.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _320x480"},"320x480"),i.h("div",{class:"phoneFrame _320x568"},"320x568"),i.h("div",{class:"phoneFrame _375x667"},"375x667"),i.h("div",{class:"phoneFrame _414x736"},"414x736"),i.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:e===h.DENSITY._2x,onClick:this.handleChange,value:h.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _640x960"},"640x960"),i.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:e===h.DENSITY._3x,onClick:this.handleChange,value:h.DENSITY._3x}),i.h("span",{class:"densityValue"},"3x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(a.default,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg")}),"What I need to choose?",e&&this.renderTooltip())},i.h("div",{ref:Object(d.default)(this,"base"),class:"densityDialogBody"},i.h("h1",null,"Choose your screens’ densities"),i.h("div",{class:"densityChangeWarning"},i.h("img",{src:Object(c.imageUrl)("img/icWarning.svg"),alt:"⚠"}),i.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.h("br",null),i.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()))}}p.propTypes={type:s.a.oneOf(["android","web","ios"]),selectedValue:s.a.number.isRequired,onChange:s.a.func.isRequired,onClose:s.a.func.isRequired},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1686);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1324),r=n(582),l=n(852),c=n(610),d=n(1687),u=n(547);n(1691);class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.DENSITY._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.h("div",{ref:Object(l.default)(this,"tooltip"),onClick:c.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.h("br",null),"Pick the density based on your artboard size."),i.h("div",{class:"densityDialogForm"},i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._1x),value:u.DENSITY._1x,checked:e===u.DENSITY._1x,divisor:u.DENSITY._1x,onChange:this.handleChange}),i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._2x),value:u.DENSITY._2x,checked:e===u.DENSITY._2x,divisor:u.DENSITY._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(a.default,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(r.imageUrl)("img/icInfo.svg")}),"Learn more"))},i.h("div",{ref:Object(l.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}h.propTypes={selectedValue:s.a.string.isRequired,onChange:s.a.func.isRequired,onClose:s.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1688);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1065),s=n.n(o),a=n(1689);n(1690);t.default=function(e){const{text:t,description:n,value:o,divisor:r,unit:l,checked:c,onChange:d}=e;return i.h("div",{class:"densityDialogOption"},i.h("label",{class:"densityRadio"},i.h(s.a,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:o}),i.h("span",{class:"densityValue"},t),n&&i.h("span",{class:"densityAdditionalDescription"},n)),c&&i.h("div",{class:"densityOptionBody"},i.h(a.default,{divisor:r,targetUnit:l})))}},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default=function({divisor:e,targetUnit:t="px"}){return i.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"24.506",y:"11"},"120")," ",i.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"75",y:"37"},"60")," ",i.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.h("tspan",{x:"0",y:"24"},"🎨")),i.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.h("svg",{width:"60",x:"160",y:"-18.67"},i.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",null,120/e)," ",i.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"224",y:"37"},60/e)," ",i.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1693);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o),a=n(1647),r=n(1635),l=n(1638),c=n(953),d=n.n(c),u=n(852),h=n(1415),p=n(610);n(1694);class f extends i.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=`${t}…`}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.h(d.a,{targetNode:this.nodeRefs.settingsButton,content:i.h(h.default,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,o=e?[t&&i.h(s.a.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.h(s.a.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.h(s.a.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.h(s.a,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},o)}render(){const{barrelUser:e,selectableStyleguides:t,parentNames:n}=this.props,{selectParentPopupOpen:o,menuOpen:s}=this.state,c=p.permissions.canUpdateStyleguide(e),d=!!t.length,h=!!n.length;return i.h("div",null,i.h(r.default,{title:"Parent Styleguide",button:d&&i.h(l.default,{baseRef:Object(u.default)(this,"settingsButton"),disabled:!c,onClick:this.openParentStyleguidesMenu})}),i.h("div",{class:"parentStyleguidesContainer"},s&&this.renderContextMenu(h,d),i.h("p",{ref:Object(u.default)(this,"textContainer")},h?n.join(" ▸ "):"No parent styleguides.")),i.h(a.default,null),o&&this.renderSelectParentPopup(t))}}t.default=f},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1698);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1699),s=n.n(o),a=n(1741),r=n(1865),l=n(567),c=n.n(l),d=n(702),u=n.n(d),h=n(684),p=n.n(h),f=n(929),g=n.n(f),m=n(544),b=n(852),S=n(961);n(2044);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(e){super(e),y(this,"handleLayoutPaddingVisibilityChange",(e=>{this.setState({isLayoutPaddingVisible:e})})),y(this,"handleLayoutGapVisibilityChange",(e=>{this.setState({isLayoutGapVisible:e})})),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={isLayoutPaddingVisible:!1,isLayoutGapVisible:!1}}static getStores(){return[c.a.BarrelStore,c.a.ScreenStore,c.a.UserStore]}static calculateState(){const{versionsVisible:e}=c.a.ScreenStore.getState(),{connectedComponentsDevModeEnabled:t}=c.a.BarrelStore.getState();return{userRestricted:p.a.isUserRestricted(),versionsVisible:e,connectedComponentsDevModeEnabled:t}}handleBaseRef(e){Object(b.default)(this,"base")(e),this.props.baseRef(e)}handleKeyDown(e){const{connectedComponentsDevModeEnabled:t}=this.state;Object(m.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(S.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.base}),t?u.a.disableDevMode():u.a.enableDevMode())}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{versionsVisible:e,isLayoutPaddingVisible:t,isLayoutGapVisible:n}=this.state;return i.h("div",{class:"screenContainer",ref:this.handleBaseRef},e&&i.h(s.a,null),i.h(a.default,{isLayoutPaddingVisible:t,isLayoutGapVisible:n}),i.h(r.default,{onLayoutPaddingVisibilityChange:this.handleLayoutPaddingVisibilityChange,onLayoutGapVisibilityChange:this.handleLayoutGapVisibilityChange}))}}t.default=g()(v,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1700);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),l=n(610),c=n(686),d=n(959),u=s(n(559)),h=a(n(688)),p=n(548),f=a(n(724)),g=n(547),m=n(1040),b=a(n(1619)),S=a(n(1701)),y=a(n(1734)),v=a(n(1737)),O=a(n(1386)),C=a(n(929)),E=a(n(684)),T=a(n(710)),_=a(n(691)),P=a(n(567)),I=n(1220);n(1740);class j extends r.Component{constructor(){super(...arguments),this.sidebarRef=r.createRef(),this.handleCollapse=()=>{const{compactMode:e,latestVersionSelected:t}=this.state;!e&&t||T.default.enableVersionsCompactMode()},this.handleCollapserClick=()=>{var e,t;const{compactMode:n,latestVersionSelected:i}=this.state;n?null===(e=this.sidebarRef.current)||void 0===e||e.expand():i?T.default.hideVersions():null===(t=this.sidebarRef.current)||void 0===t||t.collapse()},this.handleRelease=(e,{collapsed:t})=>{const{latestVersionSelected:n}=this.state;T.default.changeVersionsSidebarWidth(e),t&&n&&T.default.hideVersions()},this.handleOpenMenu=e=>{const{barrelId:t,screenId:n}=this.state,i=c.urlResolve("project-screen-version",{url:{pid:t,sid:n,vid:e}});I.fetchShortlink(i)},this.handleCopyWebUrl=(e,t)=>{const{barrelId:n,screenId:i}=this.state,o=c.urlResolve("project-screen-version",{url:{pid:n,sid:i,vid:e}});d.copyContent({content:I.getShortlink(o),toastContainer:t})},this.handleCopyAppUri=(e,t)=>{const{barrelId:n,screenId:i}=this.state,o=`${p.ZPL_PROTOCOL}//screen?pid=${n}&sid=${i}&vid=${e}`;d.copyContent({content:o,toastContainer:t})},this.handleDelete=e=>{const{screenId:t,screenName:n,totalVersionCount:i}=this.state;1!==i?u.create({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb(){T.default.removeVersion({vid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}}):u.create({title:`Delete ${n}?`,message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb(){T.default.removeScreen({sid:t,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleSelectedVersionChange=e=>{const{barrelId:t,screenId:n,versions:i}=this.state,o=i.findIndex((t=>t._id===e))>0?"project-screen-version":"project-screen";h.default.history.replace(c.urlResolve(o,{url:{pid:t,sid:n,vid:e}}))},this.handleCommitColorChange=({vid:e,color:t,syncWithApi:n})=>{const{barrelUser:i}=this.state;l.permissions.canManageScreens(i)&&T.default.updateCommitColor({vid:e,color:t,syncWithApi:n})},this.handleKeyDown=e=>{if(d.isEditableElement(e.target))return;const{barrelId:t,screenId:n,versions:i,selectedVersionId:o}=this.state,s=i.findIndex((e=>e._id===o));switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:{e.preventDefault();const o=s-1;if(o>=0){const e=0===o?"project-screen":"project-screen-version",s=i[o]._id;h.default.history.replace(c.urlResolve(e,{url:{pid:t,sid:n,vid:s}}))}break}case Zeplin.KEY_CODE.ArrowDown:{e.preventDefault();const o=s+1;if(o<i.length){const e=i[o]._id;h.default.history.replace(c.urlResolve("project-screen-version",{url:{pid:t,sid:n,vid:e}}))}break}}},this.handleShowPlanChooserOverlay=()=>{m.showPlanChooserOverlay({source:"Version history",upgradeTrigger:g.PlanUpgradeTrigger.VERSION_LIMIT})}}static getStores(){return[P.default.BarrelStore,P.default.ScreenStore,P.default.ProjectsDataStore,P.default.UserStore]}static calculateState(){const{loading:e,barrelId:t}=P.default.BarrelStore.getState(),n=E.default.findUser(),i=P.default.UserStore.getState().paymentPlan,{screenId:o,loadingVersions:s,versionId:a,latestVersionSelected:r,versionsCompactMode:c,versionsSidebarWidth:d}=P.default.ScreenStore.getState();if(e||!t||!o)return{loading:!0};const{versions:u,totalVersionCount:h,allowedVersionCount:p,name:f}=_.default.getScreen(),g=h-p,m=g>0;return{barrelId:t,barrelUser:n,screenId:o,screenName:f,versions:u,loading:s,totalVersionCount:h,remainingVersionCount:g,selectedVersionId:a,latestVersionSelected:r,compactMode:c,collapsed:c,sidebarWidth:d,paymentPlan:i,canDelete:l.permissions.canManageScreens(n),versionLimitExceededHintboxVisible:["owner","king"].includes(n.role)&&m}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{loading:e,barrelId:t,barrelUser:n,versions:i,selectedVersionId:o,latestVersionSelected:s,remainingVersionCount:a,compactMode:l,collapsed:c,sidebarWidth:d,paymentPlan:u,canDelete:h,versionLimitExceededHintboxVisible:p}=this.state;let g;return"free"===u.id?g="On the free plan, you can access 30 days of version history. If you want to access more, you need to upgrade.":u.versionLimit<99&&(g=`On the ${u.name} plan, you can access ${u.versionLimit} screen versions. If you want to access more, you need to upgrade.`),r.h(b.default,{ref:this.sidebarRef,class:f.default("versionsSidebar",{versionLimitExceededHintboxVisible:p}),resizingSide:"right",minWidth:245,initialWidth:d,compact:l||!s,collapsed:c,onCollapse:this.handleCollapse,onExpand:T.default.disableVersionsCompactMode,onRelease:this.handleRelease},!l&&r.h("h2",{class:"versionsSidebarHeader"},"Versions"),e?r.h(y.default,null):r.h(S.default,{barrelId:t,versions:i,remainingVersionCount:a,selectedVersionId:o,barrelUser:n,compact:l,onCommitColorChange:this.handleCommitColorChange,onCommitMessageChange:T.default.updateCommitMessage,onSelectedVersionChange:this.handleSelectedVersionChange,onOpenMenu:this.handleOpenMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:h?this.handleDelete:null}),r.h(v.default,{latestVersionSelected:s,compact:l,onClick:this.handleCollapserClick}),p&&r.h("div",{class:"upgradeNowHintboxContainer"},r.h(O.default,{class:"upgradeNowHintbox",actionContent:"Upgrade",onActionClick:this.handleShowPlanChooserOverlay},g)))}}t.default=C.default(j)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1702);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1703)),r=i(n(1716)),l=i(n(1727)),c=i(n(1730)),d=n(610),u=n(693),h=i(n(724));n(1733),t.default=function({barrelId:e,versions:t,remainingVersionCount:n,selectedVersionId:i,barrelUser:p,compact:f,onCommitColorChange:g,onCommitMessageChange:m,onSelectedVersionChange:b,onOpenMenu:S,onCopyWebUrl:y,onCopyAppUri:v,onDelete:O}){const[C,E]=s.useState(!1),T=s.useRef();function _(e){E(!0),S(e)}function P(){E(!1)}function I(e){O&&O(e)}function j(e){y(e,T.current)}function D(e){v(e,T.current)}function k(e){b(e)}return o.h("div",{ref:T,class:h.default("versions",{contextMenuOpen:C})},t.reduce((function(n,s){const{_id:l,creator:c,created:h,commit:{color:b,message:S}={}}=s,{version:y,renderedVersions:v}=n,O=!y||c._id!==y.creator._id,C=new Date(h),E=y&&new Date(y.created),T=E&&u.inSameDay(E,C),R=o.h(o.Fragment,null,!T&&o.h(a.default,{date:C,hideNode:!y}),o.h(r.default,{id:l,barrelId:e,selected:l===i,commitColor:b,hideTopConnector:!y,creator:c,created:h,messagePlaceholder:(A=s,A.creator&&A.creator._id===p.user._id?1===t.length?"Got any notes?":"What has changed in this version?":"No commit message yet."),message:S,showDelete:d.permissions.canRemoveVersions(p),versionOwner:(null==c?void 0:c._id)===p.user._id,shouldDisplayAvatar:O||!T,compact:f,onColorChange:g,onCommitMessageChange:m,onSelect:k,onOpenMenu:_,onCloseMenu:P,onCopyWebUrl:j,onCopyAppUri:D,onDelete:I}));var A;return v.push(R),{version:s,renderedVersions:v}}),{version:null,renderedVersions:[]}).renderedVersions,n>0?o.h(c.default,{remainingVersionCount:n}):o.h(l.default,null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1704);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(693),a=i(n(1705));n(1715),t.default=function({date:e,hideNode:t}){return o.h("h3",{class:"versionHeader"},o.h(a.default.forHeader,{hideConnector:t}),o.h("span",{class:"versionHeaderText"},s.getDateString(e)))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1706);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1707)),a=i(n(724));function r(e){return o.h("div",{class:"versionNode noSelect"},e.children)}n(1714),r.forHeader=function({hideConnector:e}){return o.h("div",{class:"versionNode headerNode noSelect"},o.h("div",{class:a.default("versionConnector",{transparent:e})}))},r.forInitialCommit=function(){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:"versionConnector top",key:"initialCommitTopConnector"}),o.h("img",{src:"/img/icHeart.svg",alt:"<3",key:"icHeart"}))},r.forCommit=function({selected:e,color:t,hideTopConnector:n,compact:i,onColorChange:r}){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:a.default("versionConnector top",{transparent:n}),key:"commitTopConnector"}),o.h(s.default,{selected:e,color:t,compact:i,onColorChange:r}),o.h("div",{class:"versionConnector bottom",key:"commitBottomConnector"}))},t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1708);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1709)),r=i(n(724));n(1713),t.default=function({selected:e,color:t,compact:n,onColorChange:i}){const[l,c]=s.useState(!1);return o.h("div",{class:r.default("versionNodeDot",t,{selected:e}),onMouseEnter:()=>{c(!0)}},!n&&l&&o.h(a.default,{selected:e,color:t,onChange:i,onClose:()=>{c(!1)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1710);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(1711),r=i(n(724)),l=n(610);n(1712),t.default=function({selected:e,color:t,onChange:n,onClose:i}){const c=s.useRef();return o.h("div",{ref:c,class:r.default("nodeColorChooser",t),onClick:l.stopPropagation,onMouseLeave:function(){var e;null===(e=c.current)||void 0===e||e.addEventListener("transitionend",i,{once:!0})}},o.h("div",{class:r.default("nodeColor",{selected:e})},o.h("div",null)),a.versionNodeColorOptions.map((e=>{const i=e===t;let s;return i||(s=()=>n(e)),o.h("div",{key:e,class:r.default("nodeColorOption",e,{selectedColor:i}),onClick:s})})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionNodeColorOptions=void 0;t.versionNodeColorOptions=["yellow","orange","peach","green","turquoise"]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1717);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1705)),a=i(n(1718)),r=i(n(1724)),l=n(959),c=n(631),d=i(n(1231));n(1726);class Version extends o.Component{constructor(){super(...arguments),this.baseRef=o.createRef(),this.state={contextMenuOpen:!1,contextMenuOrigin:{x:0,y:0}},this.handleColorChange=e=>{const{id:t,onColorChange:n}=this.props;n({vid:t,color:c.getColorValueByName(e),syncWithApi:!0})},this.handleCommitMessageChange=e=>{const{id:t,onCommitMessageChange:n}=this.props;n({vid:t,message:e,syncWithApi:!0})},this.handleSelect=()=>{const{id:e,onSelect:t}=this.props;t(e)},this.handleOpenMenu=e=>{e.stopPropagation();const{id:t,onOpenMenu:n}=this.props;this.setState({contextMenuOpen:!0,contextMenuOrigin:{x:e.clientX,y:e.clientY-28}}),n(t)},this.handleCloseMenu=()=>{this.setState({contextMenuOpen:!1}),this.props.onCloseMenu()},this.handleCopyWebUrl=()=>{const{id:e,onCopyWebUrl:t}=this.props;t(e),mixpanel.master.track("Copied web link",{Target:"Version",Source:"Versions panel"})},this.handleCopyAppUri=()=>{const{id:e,onCopyAppUri:t}=this.props;t(e),mixpanel.master.track("Copied app URI",{Target:"Version",Source:"Versions panel"})},this.handleDelete=()=>{const{id:e,onDelete:t}=this.props;t(e)}}componentDidMount(){this.props.selected&&l.scrollIfNecessary(this.baseRef.current)}componentWillReceiveProps(e){!this.props.selected&&e.selected&&l.scrollIfNecessary(this.baseRef.current)}renderContextMenu(){const{versionOwner:e,showDelete:t}=this.props,{contextMenuOpen:n,contextMenuOrigin:i}=this.state;return n?o.h(r.default,{autoPosition:{zIndex:1e3,clickOrigin:i},canDelete:null!=e?e:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:this.handleDelete,onClose:this.handleCloseMenu}):null}render(){const{barrelId:e,selected:t,commitColor:n,hideTopConnector:i,compact:r,creator:l,created:d,messagePlaceholder:u,message:h,versionOwner:p,shouldDisplayAvatar:f,hover:g}=this.props,{contextMenuOpen:m}=this.state,b=c.getColorName(n);return o.h("div",{ref:this.baseRef,class:"version",onClick:this.handleSelect},o.h(s.default.forCommit,{selected:t,color:b,hideTopConnector:i,onColorChange:this.handleColorChange,compact:r}),o.h(a.default,{creator:l,createdAt:d,messagePlaceholder:u,message:h,color:b,selected:t,versionOwner:p,shouldDisplayAvatar:f,shouldDisplayButtons:m||g,onOpenMenu:this.handleOpenMenu,onCommitMessageChange:this.handleCommitMessageChange,barrelId:e}),this.renderContextMenu())}}Version.defaultProps={message:"",commitColor:c.getColorValueByName("yellow")},t.default=d.default(Version)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1719);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1720)),r=i(n(1650)),l=i(n(724)),c=n(1617);n(1723);class d extends o.Component{constructor(){super(...arguments),this.textAreaRef=s.useRef(),this.handleMessageSubmit=e=>{const{onCommitMessageChange:t}=this.props;this.setState({editing:!1}),e!==this.props.message&&t(e)},this.handleEdit=()=>{this.setState({editing:!0})},this.handleCancelEdit=()=>{this.setState({editing:!1})}}componentDidUpdate(e){var t;e.selected&&!this.props.selected&&this.state.editing&&(null===(t=this.textAreaRef.current)||void 0===t||t.cancelEdit())}render(){const{barrelId:e,creator:t,createdAt:n,versionOwner:i,shouldDisplayButtons:s,shouldDisplayAvatar:d,onOpenMenu:u,message:h,messagePlaceholder:p,selected:f,color:g}=this.props,{editing:m}=this.state;return o.h("div",{class:l.default("versionCommit",g,{selected:f,editing:m,empty:!h})},o.h(a.default,{creator:t,createdAt:n,shouldDisplayButtons:s&&!m,shouldDisplayAvatar:d,shouldDisplayTime:!m||!s,shouldDisplayEditButton:s&&i&&!!h,onEdit:this.handleEdit,onOpenMenu:u}),o.h(r.default,{ref:this.textAreaRef,value:h||"",maxLength:1024,editing:m,color:g,placeholder:p,onCancelEdit:this.handleCancelEdit,onSubmit:this.handleMessageSubmit,formatter:c.formatComment,showEmojiAutoComplete:!0,barrelId:e}),i&&!m&&!h&&o.h("button",{type:"button",class:"enterMessageButton",onClick:this.handleEdit},"ENTER COMMIT MESSAGE"))}}t.default=d},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1721);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(935)),r=i(n(1209)),l=n(731),c=n(610),d=n(959),u=n(553);n(1722);t.default=function({creator:e,createdAt:t,shouldDisplayButtons:n,shouldDisplayAvatar:i,shouldDisplayTime:h,shouldDisplayEditButton:p,onEdit:f,onOpenMenu:g}){const[m,b]=s.useState(!1),{src:S,srcset:y}=d.getUserAvatar(e,{ignoreRandomEmotar:!1,size:24}),v=c.formatTime(t,{hour:"numeric",minute:"numeric"}),O=o.h(o.Fragment,null,o.h(a.default,{class:"versionAuthorImageFrame",src:S,srcset:y,size:24}),o.h("div",{class:"versionAuthorName ellipsis"},e?u.getUserDisplayName(e):"Anonymous"));return o.h("div",{class:"versionMetadata"},i?o.h(o.Fragment,null,e?o.h(r.default,{class:"versionAuthor",userId:e._id,openToLeft:!1,onVisibilityChange:b},O):o.h("div",{class:"versionAuthor"},O)):o.h("time",null,v),!m&&n?o.h("div",{class:"commitButtons"},p&&o.h("button",{type:"button",onClick:f},o.h(l.IconEdit,null)),o.h("button",{type:"button",onClick:g},o.h(l.IconMenu,null))):i&&h&&o.h("time",null,v))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1725);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1137));t.default=function({autoPosition:e,canDelete:t,onClose:n,onDelete:i,onCopyWebUrl:a,onCopyAppUri:r}){return o.h(s.default.overlay,{autoPosition:e,onClose:n},o.h(s.default.Item,{onClick:a},"Copy version web link"),o.h(s.default.Item,{onClick:r},"Copy version App URI"),t&&o.h(o.Fragment,null,o.h(s.default.ItemDivider,null),o.h(s.default.Item,{onClick:i,warning:!0},"Delete version")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1728);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1705));n(1729),t.default=function(){return o.h("div",{class:"initialCommit"},o.h(s.default.forInitialCommit,null),o.h("div",{class:"commit"},o.h("h4",null,"The story begins here!"),o.h("p",null,"“Versions” panel lists the changes on this screen over time.")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1731);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(583);n(1732),t.default=function({remainingVersionCount:e}){return i.h("div",{class:"versionLimitExceeded noSelect"},o.pluralize(e,"more version")," available, ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/version-limits",target:"_blank",onClick:function(){mixpanel.master.track("Clicked version limits learn more button")}},"learn more")," about version limits in different plans")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1735);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1736),t.default=function(){return i.h("div",{class:"versionsLoading"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1738);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(731);n(1739),t.default=function({latestVersionSelected:e,compact:t,onClick:n}){return i.h("button",{class:"versionsCollapser",onClick:n},t||!e?i.h(o.IconCollapseLeft,null):i.h(o.IconClose,null))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1742);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1743),s=n(1817),a=n(1235),r=n(1832),l=n(1853),c=n.n(l),d=n(1157),u=n(684),h=n.n(u),p=n(710),f=n.n(p),g=n(691),m=n.n(g),b=n(1829),S=n.n(b),y=n(567),v=n.n(y),O=n(1830),C=n.n(O),E=n(1862),T=n.n(E),_=n(929),P=n.n(_),I=n(610),j=n(624),D=n(724),k=n.n(D),R=n(712),A=n(1745),w=n(693),N=n(852),L=n(582),M=n(959),x=n(583),U=n(544),B=n(631),V=n(548),z=n(547),F=n(1863),W=n.n(F);n(1864);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends i.Component{constructor(...e){super(...e),G(this,"state",{holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null,parentIndex:0}),G(this,"setZoomOrigin",(e=>{if(this.zoomOrigin)return;const{top:t,left:n,width:i,height:o}=this.nodeRefs.snapshotDetail.getBoundingClientRect(),{clientX:s,clientY:a}=e;this.zoomOrigin={x:s,y:a,xRatio:(s-n)/i,yRatio:(a-t)/o}})),G(this,"setZoomOriginAsCenter",(()=>{const{screenView:e,snapshotDetail:t}=this.nodeRefs,{top:n,width:i,height:o}=e.getBoundingClientRect(),{top:s,left:a,width:r,height:l}=t.getBoundingClientRect(),c=i/2,d=o/2+n;this.zoomOrigin={x:c,y:d,xRatio:(c-a)/r,yRatio:(d-s)/l}})),G(this,"scrollToZoomOrigin",(()=>{const{x:e,y:t,xRatio:n,yRatio:i}=this.zoomOrigin,{screenView:o,dotgrid:s,snapshotDetail:a}=this.nodeRefs,r=o.getBoundingClientRect(),l=s.getBoundingClientRect(),c=a.getBoundingClientRect(),d=c.left-l.left-e+n*c.width,u=c.top-l.top+r.top-t+i*c.height;o.scrollTo(d,u)})),G(this,"animateScroll",(()=>{this.scrollToZoomOrigin(),this.scrollHandle=requestAnimationFrame(this.animateScroll)})),G(this,"deselectLayer",(()=>{f.a.deselectLayer()})),G(this,"handleMouseLeave",(()=>{const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})})),G(this,"handleMouseMove",(e=>{const{loading:t,selectedLayer:n,holdingSpace:i,holdingMouse:o}=this.state;t||(i&&o&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},n&&this.handleEdgeDistanceMode(e))})),G(this,"handleMouseDown",(e=>{document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}})),G(this,"handleMouseUp",(()=>{document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(f.a.disableNoteMode(),this.scrolledScreenView=!1)})),G(this,"handleGestureStart",(e=>{e.preventDefault(),f.a.startGesture()})),G(this,"handleGestureChange",(e=>{e.preventDefault(),this.setZoomOrigin(e),f.a.zoomWithGesture(e.scale)})),G(this,"handleWheel",(e=>{e.ctrlKey&&(e.preventDefault(),this.setZoomOrigin(e),f.a.zoomWithWheel(e.deltaY))})),G(this,"handleKeyPress",(e=>{Object(M.isEditableElement)(e.target)||e.keyCode===Zeplin.KEY_CODE.SPACE&&e.preventDefault()})),G(this,"handleKeyDown",(e=>{if(Object(M.isEditableElement)(e.target))return;const{screenId:t,percentageMode:n,selectedLayer:i,destinationLayer:o,parentLayers:{length:s},parentIndex:a,holdingSpace:r,edgesToMeasure:l,componentLayer:c,variantViewState:{componentVariantViewVisible:d,stateVariants:u},variantViewSourceLayerId:h}=this.state;if(e.keyCode!==Zeplin.KEY_CODE.SPACE||r)if(e.keyCode===Zeplin.KEY_CODE.ArrowUp&&n&&s)e.preventDefault(),this.setState({parentIndex:(a+1)%s});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown&&n&&s)e.preventDefault(),this.setState({parentIndex:(a-1+s)%s});else if(e.altKey||e.keyCode!==Zeplin.KEY_CODE.ArrowLeft)if(e.altKey||e.keyCode!==Zeplin.KEY_CODE.ArrowRight){if(e.altKey){switch(e.code){case z.Keyboard.Code.Minus:e.preventDefault(),e.stopPropagation(),f.a.zoomOut();break;case z.Keyboard.Code.Equal:e.preventDefault(),e.stopPropagation(),f.a.zoomIn()}switch(e.keyCode){case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),f.a.resetZoom();break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),f.a.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),f.a.openTagManager([t]);break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),f.a.toggleVersions()}}}else{e.preventDefault();const n=m.a.getNextScreen(t);n&&m.a.navigateToScreen(n._id)}else{e.preventDefault();const n=m.a.getPreviousScreen(t);n&&m.a.navigateToScreen(n._id)}else e.preventDefault(),this.setState({holdingSpace:!0});if(!Object(U.cmdKey)(e)||!Object(U.isCmdPressed)(e)||Object(U.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?f.a.disableNoteMode():f.a.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!i||!o&&!l?f.a.disablePercentageMode():f.a.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?f.a.hideFlowLinks():f.a.showFlowLinks(),e.key===z.Keyboard.Key.v){if(i&&c&&c.variant&&i._id!==h)return void S.a.open(c._id,T.a.SHORTCUT);if(d&&u){const e=u.findIndex((e=>e.selected));if(-1===e)return;let t,n=(e+1)%u.length;for(;n!==e;){if(({coid:t}=u[n]),t)return S.a.changeVariant({coid:t,variantChangeValueSource:C.a.SHORTCUT,isState:!0});n=(n+1)%u.length}}}})),G(this,"handleKeyUp",(e=>{if(Object(M.isEditableElement)(e.target))return;const{holdingSpace:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:o}=this.state;e.keyCode===Zeplin.KEY_CODE.SPACE&&t&&(e.preventDefault(),this.setState({holdingSpace:!1})),!Object(U.cmdKey)(e)||Object(U.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?f.a.disableNoteMode():f.a.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!n||!i&&!o?f.a.disablePercentageMode():f.a.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?f.a.hideFlowLinks():f.a.showFlowLinks()})),G(this,"handleCopy",(e=>{const{selectedLayer:t}=this.state;if(!t||"text"!==t.type)return;"Range"!==window.getSelection().type&&(e.preventDefault(),e.clipboardData.setData("text/plain",t.content))})),G(this,"handleCopyDotWebUrl",(e=>{const{screenView:t}=this.nodeRefs;Object(M.copyContent)({content:e,toastContainer:t})})),G(this,"handleCopyDotAppUri",(e=>{const{screenView:t}=this.nodeRefs,{barrelId:n,screenId:i}=this.state,o=`${V.ZPL_PROTOCOL}//dot?pid=${n}&sid=${i}&did=${e}`;Object(M.copyContent)({content:o,toastContainer:t})})),G(this,"handleLayerSelect",((e,t)=>{const{noteMode:n,holdingSpace:i}=this.state;n||i||(e.stopPropagation(),this.setState({edgesToMeasure:null}),f.a.selectLayer(t))})),G(this,"handleComponentLayerTagClick",(()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Header"})})),G(this,"handleZoomIn",(()=>{this.setZoomOriginAsCenter(),f.a.zoomIn()})),G(this,"handleZoomOut",(()=>{this.setZoomOriginAsCenter(),f.a.zoomOut()})),G(this,"handleZoomChange",(e=>{this.setZoomOriginAsCenter(),f.a.changeZoomLevel(e,!0)})),G(this,"handleComponentVariantsButtonClick",(e=>{S.a.open(e,T.a.LAYER_DETAIL)})),G(this,"handleScroll",(()=>{const{screenView:e}=this.nodeRefs,{scrollTop:t,scrollLeft:n}=e;f.a.changeScrollPosition(t,n)})),G(this,"handleScreenVariantSelect",((e,t)=>{f.a.selectScreenVariant({svid:e,usingKeyboardShortcut:t})})),G(this,"handleScreenVariantRename",((e,t)=>{f.a.renameScreenVariant({svid:e,name:t,syncWithApi:!0})})),G(this,"handleScreenVariantReorder",((e,t)=>{f.a.reorderScreenVariant({svid:e,index:t,syncWithApi:!0})})),G(this,"handleScreenVariantRemove",(e=>{f.a.removeScreenVariant({svid:e,syncWithApi:!0})})),G(this,"handleScreenVariantDelete",(e=>{f.a.removeScreen({sid:e,vgid:this.state.variantGroup._id,syncWithApi:!0})}))}static getStores(){return[v.a.BarrelStore,v.a.ScreenStore,v.a.ProjectsDataStore,v.a.StyleguidesDataStore,v.a.UserStore,v.a.ComponentVariantStore,v.a.DotsStore]}static calculateState(e={}){const t=h.a.getStyleguidesData({barrelStore:v.a.BarrelStore,styleguidesDataStore:v.a.StyleguidesDataStore,projectsDataStore:v.a.ProjectsDataStore}),{loading:n,barrelId:i,barrelType:o,screenVersionsLastSeen:s}=v.a.BarrelStore.getState();if(n)return{loading:!0};const a=h.a.findUser(),{screenId:r,loadingVersions:l,versionId:c,animateZooming:d,zoomLevel:u,percentageMode:p,selectedLayer:f,destinationLayer:g,flowLinksVisible:b,latestVersionSelected:S,layoutGridEnabled:y,notesVisible:O,noteMode:C,hasNewVersions:E,showVersionsAuntie:T,showVersionsTutorial:_,versionsVisible:P,imageProcessingHintboxSeen:I}=v.a.ScreenStore.getState(),{componentVariantViewVisible:D,selectedComponentVariantId:k,selectedLayer:w,destinationLayer:N,sourceLayerId:L}=v.a.ComponentVariantStore.getState();if(l&&!S)return{loading:!0};const{statusFilter:M,colorFilter:x}=v.a.DotsStore.getState(),U=sessionStorage.getItem("newVersionsAuntieStatus"),B=sessionStorage.getItem("versionsCommitAuntieStatus"),V=h.a.getBarrel(),z=m.a.getScreen(),F=m.a.getVersion({sid:r,vid:c});if(!F)return{loading:!0};const{snapshot:$}=F,q=V.variantGroups&&V.variantGroups.find((({screens:e})=>e.find((({id:e})=>e===z._id)))),Z=Object(R.getComponentLayerForVariant)(f,t),K=Z?{_id:Z.component._id,name:Z.component.name,rect:Z.layer.absoluteRect,variant:!!Z.component.variant}:null;let Y={};if(D){const{ancestors:e,component:n}=Object(R.findComponentById)(t,k);Y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedComponentVariantId:k,componentVariantViewVisible:D,selectedLayer:w,destinationLayer:N},W()({ancestors:e,component:n},o,i))}const J=t.flatMap((({spacingSections:e})=>e.flatMap((e=>e.spacingTokens)))),X=p&&f&&g&&$?Object(A.findParents)(f,g,$):[],{parentLayers:Q=[]}=e;let{parentIndex:ee=0}=e;const te=Object(j.arrayEqual)(Q,X,((e,t)=>e._id===t._id));return p&&f&&g&&te||(ee=0),{loading:!1,barrelId:i,barrel:V,remPreferences:t[0].remPreferences,barrelUser:a,screenId:r,screen:z,version:F,componentLayer:K,spacingTokens:J,animateZooming:d,zoomLevel:u,percentageMode:p,selectedLayer:f,destinationLayer:g,parentLayers:X,parentIndex:ee,flowLinksVisible:b,layoutGridEnabled:y,notesVisible:O,noteMode:C,latestVersionSelected:S,hasNewVersions:E,showVersionsAuntie:T,showVersionsTutorial:_,screenVersionsLastSeen:s,newVersionsAuntieStatus:U,versionsCommitAuntieStatus:B,versionsVisible:P,variantViewState:Y,variantViewSourceLayerId:L,notesStatusFilter:M,notesColorFilter:x,variantGroup:q,imageProcessingHintboxSeen:I}}dismissVersionsCommitAuntie(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}dismissNewVersionsAuntie(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!Object(j.arrayEqual)(t,e,((e,t)=>e===t))))&&this.setState({edgesToMeasure:e})}resetModeFlags(){f.a.hideFlowLinks(),f.a.disablePercentageMode(),f.a.disableNoteMode()}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleNotesVisibilityChange(e){e?f.a.showNotes():f.a.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),f.a.showVersionsAuntie()}getChildContext(){const{barrel:{densityScale:e,dimensionSuffix:t}={},barrelUser:n}=this.state;return{densityScale:e,dimensionSuffix:t,canManageScreens:n&&I.permissions.canManageScreens(n.role)}}componentDidMount(){const{selectedLayer:e}=this.state,{dotgrid:t,screenView:n}=this.nodeRefs;e&&document.addEventListener("click",this.deselectLayer),window.addEventListener("blur",this.resetModeFlags),document.addEventListener("keypress",this.handleKeyPress),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("copy",this.handleCopy),n.addEventListener("scroll",this.handleScroll,{passive:!0}),"GestureEvent"in window&&(t.addEventListener("gesturestart",this.handleGestureStart),t.addEventListener("gesturechange",this.handleGestureChange))}componentDidUpdate(e,t){const{zoomLevel:n,animateZooming:i,selectedLayer:o}=this.state;t.zoomLevel!==n&&this.zoomOrigin&&(clearTimeout(this.originResetTimeout),this.originResetTimeout=setTimeout((()=>{cancelAnimationFrame(this.scrollHandle),this.zoomOrigin=null}),300),cancelAnimationFrame(this.scrollHandle),this.scrollHandle=i?requestAnimationFrame(this.animateScroll):requestAnimationFrame(this.scrollToZoomOrigin)),o?document.addEventListener("click",this.deselectLayer):document.removeEventListener("click",this.deselectLayer)}componentWillUnmount(){const{dotgrid:e,screenView:t}=this.nodeRefs;window.removeEventListener("blur",this.resetModeFlags),this.resetModeFlags(),document.removeEventListener("click",this.deselectLayer),document.removeEventListener("keypress",this.handleKeyPress),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("mouseup",this.handleMouseUp),t.removeEventListener("scroll",this.handleScroll),"GestureEvent"in window&&(e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange))}renderScreen(){const{loading:e,screen:t,version:n,componentLayer:s,spacingTokens:a,barrel:r,barrelUser:l,remPreferences:c,zoomLevel:d,percentageMode:u,selectedLayer:h,destinationLayer:p,parentLayers:g,parentIndex:m,edgesToMeasure:b,flowLinksVisible:S,layoutGridEnabled:y,latestVersionSelected:v,notesVisible:O,variantGroup:C,imageProcessingHintboxSeen:E}=this.state;if(e||!t||!n)return i.h(o.default.Loading,null);const{snapshot:T}=n,_=g[m],{isLayoutPaddingVisible:P,isLayoutGapVisible:I}=this.props;return i.h(o.default,{snapshotDetailRef:Object(N.default)(this,"snapshotDetail"),screenViewRef:this.nodeRefs.screenView,project:r,screen:t,snapshot:T,barrelUser:l,remPreferences:c,notesVisible:O&&v,layoutGridEnabled:y,zoomLevel:d,selectedLayer:h,destinationLayer:p,parentLayer:_,componentLayer:s,spacingTokens:a,percentageMode:u,flowLinksVisible:S,edgesToMeasure:b,isLayoutPaddingVisible:P,isLayoutGapVisible:I,variantGroup:C,imageProcessingHintboxSeen:E,onCopyDotWebUrl:this.handleCopyDotWebUrl,onCopyDotAppUri:this.handleCopyDotAppUri,onLayerSelect:this.handleLayerSelect,onLayerEnter:f.a.enterLayer,onLayerLeave:f.a.leaveLayer,onComponentLayerTagClick:this.handleComponentLayerTagClick,onComponentVariantsButtonClick:this.handleComponentVariantsButtonClick})}renderDotGrid(){const{version:e,zoomLevel:t,animateZooming:n,holdingSpace:o,holdingMouse:s,noteMode:a}=this.state;let r,l;e?({snapshot:{width:r,height:l}}=e):(r=320,l=480);const c=20*t,d=`linear-gradient(to bottom, transparent, transparent ${2*t}px, #FFF ${2*t}px, #FFF ${c}px), linear-gradient(to right, #C8C3C7, #C8C3C7 ${2*t}px, #FFF ${2*t}px, #FFF ${c}px`,u=`${window.innerWidth/2-151-t*r/2}px ${-3*c+58}px`,h=`${c}px ${c}px`;return i.h("div",{class:k()("dotgrid","noSelect",{noteMode:a,zooming:n,grab:o&&!s,grabbing:o&&s}),style:{width:r*t+240,height:l*t+120,backgroundImage:d,backgroundPosition:u,backgroundSize:h},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onTransitionEnd:f.a.zoomApplied,ref:Object(N.default)(this,"dotgrid")},this.renderScreen())}renderScreenVariants(){const{variantGroup:e,screen:t}=this.state;return e&&e.screens.length?i.h(d.default,{class:"screenVariantsContainer",itemsClass:"screenVariantsDragItems"},i.h(c.a,{selectedVariantId:t._id,screenVariants:e.screens,onSelect:this.handleScreenVariantSelect,onRename:this.handleScreenVariantRename,onReorder:this.handleScreenVariantReorder,onDelete:this.handleScreenVariantDelete,onRemove:this.handleScreenVariantRemove})):null}renderComponentVariants(){const{loading:e,barrel:t,screen:n,remPreferences:o,spacingTokens:a,variantViewState:r}=this.state;if(e||!r.componentVariantViewVisible)return null;const{componentName:l,componentURL:c,snapshot:d,stateVariants:u,otherVariants:h,selectedLayer:p,destinationLayer:f,largestOfVariants:g}=r,{isLayoutPaddingVisible:m,isLayoutGapVisible:b}=this.props;return i.h(s.default,{screenViewRef:this.nodeRefs.screenView,componentName:l,componentURL:c,screenName:n.name,platform:t.type,remPreferences:o,spacingTokens:a,snapshot:d,stateVariants:u,otherVariants:h,selectedLayer:p,destinationLayer:f,largestOfVariants:g,isLayoutPaddingVisible:m,isLayoutGapVisible:b})}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,latestVersionSelected:o,versionsVisible:s,screen:a,barrelUser:l,notesStatusFilter:c,notesColorFilter:d}=this.state,u=!a||!a.dots,h=a&&a.dots&&0===a.dots.length,p=!n||u||h,g=u?[]:a.dots.filter((e=>Object(B.checkFilter)(e,c,d,l.user)));return i.h(r.default,{latestVersionSelected:o,versionsVisible:s,hasNewVersions:t,onVersionsToggleClick:f.a.showVersions,zoomLevel:e,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomChange:this.handleZoomChange,onPopoutWidgetClick:f.a.openPopout,onAddNoteWidgetClick:f.a.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange,fetchingNotes:u,noNotes:h,dotCount:g.length,notesStatusFilter:c,notesColorFilter:d,disableFilterNotesDropdown:p,onFilterNotesChange:f.a.changeDotFilter})}renderEarlierVersionWarning(){const{version:e,latestVersionSelected:t}=this.state;return!e||t?null:i.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.h("time",{datetime:e.created},Object(w.getDateString)(e.created)))}renderVersionsAuntie(){const{loading:e,barrelUser:t,screenId:n,screen:o,hasNewVersions:s,showVersionsTutorial:r,showVersionsAuntie:l,screenVersionsLastSeen:c,versionsCommitAuntieStatus:d,newVersionsAuntieStatus:u}=this.state;if(e)return null;const{versions:h}=o||{};if(r)return i.h("img",{class:"versionsTutorialCircle",src:Object(L.imageUrl)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick});if(l)return i.h(a.default,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:f.a.hideVersionsAuntie});if(!s)return null;const p=c&&c[n]?c[n]:new Date(0),g=h.filter((({created:e})=>new Date(e)>p)),m=g.filter((({creator:e})=>e&&e._id===t.user._id)),b=m.find((({commit:e})=>!e||!e.message)),S=g.length-m.length;if(b&&"dismissed"!==d){const e=new Date-new Date(b.created)>36e5?i.h("span",null,"Looks like you uploaded a version ",i.h("time-ago",{type:"time-ago",datetime:b.created}),". Add a commit message and share what has changed!"):"New version! Add a commit message and share what has changed.";return i.h(a.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissVersionsCommitAuntie})}if(S&&"dismissed"!==u){const e=`There ${S>1?"are":"is"} ${Object(x.pluralize)(S,"new version",{one:"a"})} since you last visited!`;return i.h(a.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissNewVersionsAuntie})}return null}render(){return i.h("div",{class:"screenViewContainer"},i.h("section",{class:"screenView",ref:Object(N.default)(this,"screenView")},this.renderDotGrid()),this.renderScreenVariants(),this.renderComponentVariants(),this.renderWidgets(),this.renderEarlierVersionWarning(),this.renderVersionsAuntie())}}t.default=P()($)},function(e,t,n){"use strict";n.r(t);var i=n(1744);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852),r=n(1745),l=n(1746),c=n(1778),d=n(1784),u=n(1787),h=n(1809),p=n(1813),f=n(1815);n(1816);class Screen extends i.Component{constructor(e){var t,n,i;super(e),t=this,n="prepareFutureNavigations",i=Object(p.memoize)((e=>{const{screen:{_id:t},variantGroup:{screens:n=[]}={}}=this.props;Object(f.prefetchFutureScreens)(t,n)})),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleSnapshotDetailRef=this.handleSnapshotDetailRef.bind(this),this.layerClickHandler=Object(r.getLayerClickHandler)()}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:o}=this.props,s=this.nodeRefs.snapshotDetail.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:i,snapshotDetailRect:s}))}handleSnapshotDetailRef(e){Object(a.default)(this,"snapshotDetail")(e);const{snapshotDetailRef:t}=this.props;t&&t(e)}componentWillReceiveProps(e){const{selectedLayer:t}=e,{selectedLayer:n}=this.props;!t&&n&&this.layerClickHandler.reset()}renderScreenImage(){const{zoomLevel:e,snapshot:{_id:t,width:n,height:o,url:a,tileInfo:r},screenViewRef:l,imageProcessingHintboxSeen:c}=this.props,d=r&&"error"===r.status;if(l)return r&&!d?i.h(h.default,{key:`snapshotImage-${t}`,screenViewRef:l,zoomLevel:e,imageWidth:n,imageHeight:o,imageSrc:a,tileInfo:r,imageProcessingHintboxSeen:c,onInitialTileLoad:this.prepareFutureNavigations,class:s()("snapshotImage",{pixelated:e>=1}),style:{width:n*e,height:o*e}}):i.h(u.default.Image,{key:`snapshotImage-${t}`,class:s()("snapshotImage",{pixelated:e>=2}),onImageSrcSet:this.prepareFutureNavigations,style:{width:n*e,height:o*e}})}renderComponentLayer(){const{project:e,screen:{name:t},snapshot:{width:n,height:o},componentLayer:s,zoomLevel:a,onComponentLayerTagClick:r,onComponentVariantsButtonClick:l}=this.props;return i.h(u.default.ComponentLayer,{barrelId:e.id,barrelType:"project",containerName:t,componentLayer:s,containerWidth:n,containerHeight:o,zoomLevel:a,onTagClick:r,onVariantsButtonClick:l})}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,parentLayer:o,onLayerEnter:s,onLayerLeave:a,edgesToMeasure:r,percentageMode:l,isLayoutPaddingVisible:c,isLayoutGapVisible:d,zoomLevel:h}=this.props;return e.layers?i.h(u.default.Layers,{key:"layers",layers:e.layers,selectedLayer:t,hoveredId:n?n._id:null,edgeDistanceMode:!!r,parentLayer:o,percentageMode:l,zoomLevel:h,isLayoutPaddingVisible:c,isLayoutGapVisible:d,containsSelection:Boolean(t),componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:s,onLayerLeave:a}):null}renderFlowLinks(){const{project:e,snapshot:t,flowLinksVisible:n}=this.props;return n&&t.links&&t.links.length?i.h(c.default,{key:"flowLinks",project:e,snapshot:t}):null}renderDotsContainer(){const{screenViewRef:e,notesVisible:t,onCopyDotWebUrl:n,onCopyDotAppUri:o}=this.props;return t?i.h(l.default,{key:"dotsContainer",screenViewRef:e,onCopyWebUrl:n,onCopyAppUri:o}):null}renderRulers(){const{selectedLayer:e}=this.props;return e?i.h(u.default.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height}):null}renderDistances(){const{selectedLayer:e,destinationLayer:t,parentLayer:n,percentageMode:o,edgesToMeasure:s,isLayoutPaddingVisible:a,isLayoutGapVisible:r}=this.props;return!(a||r)&&e&&(t||s&&s.length)?t?i.h(u.default.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:o,parentRect:n?n.rect:null}):i.h(u.default.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:s,percentageMode:o}):null}renderLayoutGrid(){const{layoutGridEnabled:e,zoomLevel:t,snapshot:n}=this.props;return e&&n.grid?i.h(d.default,{key:"layoutGrid",zoomLevel:t,width:n.width,height:n.height,grid:n.grid}):null}renderLayersAndDots(){const{flowLinksVisible:e}=this.props;return e?null:[this.renderDotsContainer(),this.renderLayers(),this.renderRulers(),this.renderDistances(),this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},project:{type:o},remPreferences:s,zoomLevel:a,spacingTokens:r}=this.props;return i.h(u.default,{baseRef:this.handleSnapshotDetailRef,snapshot:e,platform:o,spacingTokens:r,remPreferences:s,style:{width:t*a,height:n*a},class:"screenSnapshotDetail"},this.renderScreenImage(),this.renderFlowLinks(),this.renderLayersAndDots())}}Screen.Loading=()=>i.h("div",{class:"screen loading"}),t.default=Screen},function(e,t,n){"use strict";n.r(t),n.d(t,"areRectsIdentical",(function(){return y})),n.d(t,"findParents",(function(){return v})),n.d(t,"addAssetStats",(function(){return O})),n.d(t,"createArtboardLayer",(function(){return C})),n.d(t,"preprocessLayers",(function(){return E})),n.d(t,"getLayerClickHandler",(function(){return T})),n.d(t,"findCoveringLink",(function(){return _}));var i=n(548),o=n(610),s=n(624),a=n(1160),r=n(686),l=n(582),c=n(551),d=n(547);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=100;function g(e){const{url:t,format:n,density:i,densityScale:s=Object(o.getDensityScale)(i)}=e;return fetch(t,{method:"HEAD"}).then((e=>({length:e.headers.get("Content-Length"),densityScale:s,format:n})))}function m(e){return Promise.all([e,e.optimized].map(g)).then((([{length:t},{length:n}])=>{e.optimized.percent=Math.round((t-n)/t*f)})).catch((e=>{}))}function b(e,t,n){let i=[];for(let o=e.length-1;o>=0;o--){const s=e[o],{width:a,height:r}=s.rect,l=a<3?6:0,c=r<3?6:0,d=s.absoluteRect.y-c,u=s.absoluteRect.x+a+l,h=s.absoluteRect.y+r+c;s.absoluteRect.x-l<=t&&d<=n&&u>=t&&h>=n&&("group"===s.type?("top"===s.interactionLevel&&i.push(s),i=i.concat(b(s.layers,t,n)),"bottom"===s.interactionLevel&&i.push(s)):i.push(s))}return i}function S(e,t){let n=[];for(let i=0;i<e.length;i++){let o=e[i],s=o.absoluteRect.x+o.rect.width,a=o.absoluteRect.y+o.rect.height;o.absoluteRect.x<=t.left&&o.absoluteRect.y<=t.top&&s>=t.right&&a>=t.bottom&&(("group"!==o.type||["bottom","top"].includes(o.interactionLevel))&&n.push(o),"group"===o.type&&(n=n.concat(S(o.layers,t))))}return n}function y(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function v(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let o=S(n.layers,i);return e===t&&(o=o.filter((t=>!y(t.absoluteRect,e.absoluteRect)))),o.length?o.sort(((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height)):[n.layers[0]]}function O(e,t,n,s){const a={},r=new Set,u=s.contents.filter((({originalURL:e,format:t})=>Boolean(e)&&"webp"!==t));let p=s.contents.filter((({format:e})=>"webp"===e));s.contents=s.contents.filter((({originalURL:e})=>!e)),p=p.map((e=>h(h({},s.contents.find((({url:t})=>t===e.originalURL))),{},{_id:e._id,format:"webp",optimized:h({},e)}))),s.contents=[...s.contents,...p];const b=[];for(let i=0;i<s.contents.length;i++){const{url:e,format:t,density:n,densityScale:l=Object(o.getDensityScale)(n),optimized:c}=s.contents[i];if(!c){const t=u.find((({originalURL:t})=>t===e));t&&(s.contents[i].optimized=h({},t))}const d=s.contents[i].optimized;d&&d.url&&"ready"===d.status&&b.push(m(s.contents[i])),t in a?a[t]++:a[t]=1,r.add(l)}let S;var y;S=!("jpg"in a)||"svg"in a||"pdf"in a||a.jpg!==a.png?"svg"in a?"optimized"in(y=s.contents.find((({format:e})=>"svg"===e)))?Promise.resolve():(y.optimized=h(h({},y),{},{url:`${i.IMG_URL}/svgo/${encodeURIComponent(y.url)}`}),Promise.all([y,y.optimized].map(g)).then((([{length:e},{length:t}])=>{y.optimized.percent=Math.round((e-t)/e*f)})).catch((e=>{y.optimized=null}))):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,o=0;return Promise.all(e.contents.map(g)).then((s=>{t.forEach((e=>{const t=s.filter((t=>t.densityScale===e)).reduce(((e,t)=>(e[t.format]=t.length,e)),{});i+=Number(t.jpg)/Number(t.png),o+=Number(t.png)/Number(t.jpg)})),i=Math.round(f-i/t.size*f),o=Math.round(f-o/t.size*f),i>=10?n={type:"jpg",diff:i}:o>=10&&(n={type:"png",diff:o}),n&&(e.percent=n)})).catch((e=>{}))}(s,r);const v=s.contents.find((({density:e,densityScale:t=Object(o.getDensityScale)(e),format:n})=>t===d.DENSITY.BASE&&"png"===n));const O=!v||"lightness"in s?Promise.resolve():Object(l.getImageProperties)(v.url).then((e=>Object.assign(s,e))).catch((e=>null)),C="localName"in s?Promise.resolve():function(e,t,n,i){const o=n.assets.find((e=>e._id===i));return o?"localName"in o?Promise.resolve(o.localName):c.barrelPrefs.get(e,t,"assetNames").then((e=>e&&e[i])):Promise.resolve()}(e,t,n,s._id).then((e=>{e&&Object.assign(s,{localName:e})}));return Promise.all([S,O,C,...b])}function C(e,{_id:t,width:n,height:i,backgroundColor:o}){return{_id:t,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:n,height:i},type:"shape",fills:o?[{fillType:"color",color:o}]:[],borders:[],shadows:[]}}function E(e,t=null){const{absoluteRect:n={x:0,y:0}}=t||{};for(const i of e)i.absoluteRect={x:i.rect.x+n.x,y:i.rect.y+n.y,width:i.rect.width,height:i.rect.height},i.parent=t,"group"===i.type&&(Array.isArray(i.layers)?E(i.layers,i):i.layers=[])}function T(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:o,width:a,height:r},selectedLayer:l,snapshotDetailRect:c}){let d=i;const u=(n.clientX-c.left)/c.width*a,h=(n.clientY-c.top)/c.height*r,p=b(o,u,h);if(e&&t&&l){const n=b(o,e,t);if(Math.hypot(e-u,t-h)>40||!Object(s.arrayEqual)(p,n,((e,t)=>e._id===t._id)))d=p[0];else{const e=l._id,t=p.findIndex((t=>t._id===e));d=p[(t+1)%p.length]}}else d=p[0];return e=u,t=h,d}}}function _(e,t,n){if(!n||!t.snapshot.links)return;const i=t.snapshot.links.find((e=>Object(a.rectContains)(e.rect,n.absoluteRect)));if(!i)return;let o,s,l;switch(i.destination.type){case"previous":s="previous screen";break;case"screen":s=i.destination.name,o=e.findScreenByName(i.destination.name),o&&(l=Object(r.urlResolve)("project-screen",{url:{pid:e.id,sid:o._id}}));break;default:return}return{name:s,url:l}}},function(e,t,n){"use strict";n.r(t);var i=n(1747);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(631),s=n(686),a=n(559),r=n(1220),l=n(1748),c=n(1756),d=n.n(c),u=n(684),h=n.n(u),p=n(710),f=n.n(p),g=n(567),m=n.n(g),b=n(691),S=n.n(b),y=n(929),v=n.n(y);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}class P extends i.Component{constructor(...e){super(...e),I.set(this,{writable:!0,value:i.createRef()}),T(this,"handleDelete",(e=>{const{barrelUser:t}=this.state,{creator:n}=S.a.getDot({did:e})||{};let i;i=n?n._id===t.user._id?"Delete your note?":`Delete ${n.username}’s note?`:"Delete note?",a.create({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb(){f.a.removeDot({did:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})})),T(this,"handleMenuOpen",(e=>{const{barrelId:t,screenId:n}=this.state,i=Object(s.urlResolve)("project-screen",{url:{pid:t,sid:n},query:{did:e}});Object(r.fetchShortlink)(i),f.a.openDotMenu()})),T(this,"handleCopyWebUrl",(e=>{const{onCopyWebUrl:t}=this.props,{barrelId:n,screenId:i}=this.state,o=Object(s.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:e}});t(Object(r.getShortlink)(o))}))}static calculateState(){const{loading:e,barrelId:t}=m.a.BarrelStore.getState();if(e)return{loading:e};const n=h.a.findUser(),{statusFilter:i,colorFilter:s,flash:a,dotId:r,highlightedDots:l}=m.a.DotsStore.getState(),{noteMode:c,screenId:d}=m.a.ScreenStore.getState(),{dots:u=[]}=S.a.getScreen()||{},p=u.filter((e=>Object(o.checkFilter)(e,i,s,n.user))).map((e=>{const{_id:t,status:n="open",color:i,comments:s}=e,a=E(e,["_id","status","color","comments"]),r=Object(o.getColorName)(i);return C(C({},a),{},{id:t,colorName:r,status:n,highlight:l.includes(t)})}));return{loading:e,barrelUser:n,dots:p,dotId:r,noteMode:c,flash:a,screenId:d,barrelId:t}}static getStores(){return[m.a.BarrelStore,m.a.ScreenStore,m.a.DotsStore,m.a.ProjectsDataStore,m.a.UserStore]}handleCreate(e,t){f.a.createNote({x:e,y:t})}handlePositionChange(e,t,n){f.a.updateDotPosition({did:e,x:t,y:n,syncWithApi:!0})}handleStatusChange(e,t){f.a.updateDotStatus({did:e,status:t,syncWithApi:!0})}render(){const{screenViewRef:e,onCopyAppUri:t}=this.props,{barrelUser:n,loading:o,dotId:s,dots:a,noteMode:r,flash:c}=this.state;return o?null:i.h(i.Fragment,null,i.h(l.default,{dotRef:_(this,I),dots:a,selectedDotId:s,noteMode:r,flash:c,barrelUser:n,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:t,onPositionChange:this.handlePositionChange,onStatusChange:this.handleStatusChange,onMenuOpen:this.handleMenuOpen,onClick:f.a.selectDot,onCreate:this.handleCreate,onMoveThresholdExceed:f.a.closeDotPopup,onAnimationEnd:f.a.dotsFlashed,onDelete:this.handleDelete}),i.h(d.a,{dotRef:_(this,I),screenViewRef:e}))}}var I=new WeakMap;t.default=v()(P)},function(e,t,n){"use strict";n.r(t);var i=n(1749);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(1750),s=n(1753),a=n(610),r=n(631),l=n(724),c=n.n(l),d=n(852);n(1755);class u extends i.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.handleClick=this.handleClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:11},this.clickedDotOriginX=null,this.clickedDotOriginY=null}isDragging(e){const{movingDot:{id:t}}=this.state;return e.id===t}isMoving(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDragging(e)&&t}isOverlapping(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+13,e.top+13);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.comparePositions()}comparePositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+13,n=e.top+13,i=this.nodeRefs.base.children;for(let o=0;o<i.length&&i[o].classList.contains("dot");o++){const e=i[o].getBoundingClientRect();if(i[o]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleContextMenu(e,t){const{onMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleMenuClose(){this.setState({dotMenu:{}})}handleMouseDown(e,t){Object(r.isDraft)(t)||(this.clickedDotOriginX=e.clientX,this.clickedDotOriginY=e.clientY,this.setState({dotMenu:{},movingDot:{id:t,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMoveBeforeThreshold(e){const{dots:t,onMoveThresholdExceed:n}=this.props,{movingDot:{id:i},movingDot:o}=this.state,s=Math.abs(e.clientX-this.clickedDotOriginX),a=Math.abs(e.clientY-this.clickedDotOriginY);if(Math.hypot(s,a)>4){n();const{x:e,y:s}=t.find((e=>e.id===i));this.setState({movingDot:Object.assign({},o,{x:e,y:s,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.base.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),o=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),s=this.isOverlapping();this.setState({movingDot:Object.assign({},n,{x:i,y:o,overlap:s})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp),this.clickedDotOriginX=null,this.clickedDotOriginY=null;const{onPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:o,y:s},movingDot:a,dotZIndex:r}=this.state;n?i?this.setState({movingDot:Object.assign({},a,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:r+1}),e(t,o,s)):this.setState({movingDot:{}})}handleTransitionEnd(){this.setState({movingDot:{}})}handleClick(e){const{noteMode:t,onCreate:n}=this.props;if(t){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect();n(Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),Math.max(0,Math.min((e.clientY-t.top)/t.height,1)))}}handleDotClick(e){if(Object(r.isDraft)(e))return;const{onClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t({dotId:e,source:"Layer detail"})}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find((e=>e.id===t)),o=i.find((e=>e.id===t));o&&o.x===e.x&&o.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:o},movingDot:s}=this.state;if(n){const n=e.find((e=>t===e.id&&i!==e.x&&o!==e.y));n&&this.setState({movingDot:Object.assign({},s,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dotRef:e,dots:t,selectedDotId:n}=this.props,{movingDot:s,dotZIndex:a,dotMenu:r}=this.state;return t.map((t=>{const l=Object.assign({},t,{key:t.id,selected:n===t.id,baseRef:n===t.id?e:null,zIndex:a,menuOpen:r.id===t.id,onClick:this.handleDotClick});return this.isMoving(t)?i.h(o.default,Object.assign({},l,{x:s.x,y:s.y,moving:!0,overlap:s.overlap,revert:s.revert,onTransitionEnd:s.revert?this.handleTransitionEnd:null,zIndex:a+5,draggingRef:Object(d.default)(this,"dragging")})):this.isDragging(t)?i.h(o.default,Object.assign({},l,{draggingRef:Object(d.default)(this,"dragging")})):i.h(o.default,Object.assign({},l,{onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown}))}))}renderMenu(){const{dots:e,barrelUser:t,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:r,onDelete:l,onMenuOpen:c}=this.props,{dotMenu:{id:d,origin:u},dotZIndex:h}=this.state;if(!d)return null;const p=e.find((e=>e.id===d));if(!p)return null;const f=p.creator&&p.creator._id===t.user._id||a.permissions.canRemoveNotes(t);return i.h(s.default,{key:"dotmenu",id:d,status:p.status,canDelete:f,autoPosition:{clickOrigin:u,zIndex:h},onClose:this.handleMenuClose,onOpen:c,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:r,onDelete:l})}render(){const{noteMode:e,flash:t,onAnimationEnd:n}=this.props,o=c()("dots",{noteMode:e});return i.h("div",{class:o,ref:Object(d.default)(this,"base"),onClick:this.handleClick},this.renderDots(),this.renderMenu(),t&&i.h("div",{key:"flash",class:"flash",onAnimationEnd:n}))}}},function(e,t,n){"use strict";n.r(t);var i=n(1751);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(968);n(1752);class c extends l.default{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(e,t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{baseRef:e,name:t,colorName:n,x:o,y:s,status:a="open",highlight:l,moving:c,overlap:d,revert:u,selected:h,menuOpen:p,zIndex:f,draggingRef:g}=this.props,m=`calc(${100*o}% - 13px)`,b=`calc(${100*s}% - 13px)`,S=r()("dot",n,a,{highlight:l,moving:c,menuOpen:p,overlap:d,revert:u,selected:h});return i.h("div",{class:S,ref:g||e,"data-color":n,style:{left:m,top:b,zIndex:f},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}c.propTypes={id:s.a.string,name:s.a.string,colorName:s.a.string,x:s.a.number,y:s.a.number,status:s.a.oneOf(["open","resolved"]),moving:s.a.bool,menuOpen:s.a.bool,zIndex:s.a.number},c.defaultProps={moving:!1,overlap:!1,revert:!1,selected:!1},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1754);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o);class a extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{const{onOpen:e,id:t}=this.props;e(t)},(n="handleMenuOpen")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleStatusChange=this.handleStatusChange.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyWebUrl(e){e.stopPropagation();const{id:t,onCopyWebUrl:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Dot"})}handleCopyAppUri(e){e.stopPropagation();const{id:t,onCopyAppUri:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Dot"})}handleDelete(e){e.stopPropagation();const{id:t,onDelete:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:o}=this.props;return i.h(s.a.overlay,{onClose:o,onOpen:this.handleMenuOpen,autoPosition:n},i.h(s.a.Item,{onClick:this.handleStatusChange},"open"===e?"Resolve":"Reopen"),i.h(s.a.ItemDivider,null),i.h(s.a.Item,{onClick:this.handleCopyWebUrl},"Copy web link"),i.h(s.a.Item,{onClick:this.handleCopyAppUri},"Copy App URI"),t&&i.h(s.a.ItemDivider,null),t&&i.h(s.a.Item,{warning:!0,onClick:this.handleDelete},"Delete note"))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1757);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i,o,s=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return a(t,e),t},l=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=n(4),h=d(n(567)),p=d(n(684)),f=d(n(710)),g=d(n(691)),m=d(n(929)),b=d(n(711)),S=d(n(650)),y=n(547),v=r(n(559)),O=d(n(724)),C=n(631),E=n(610),T=n(611),_=n(687),P=d(n(890)),I=d(n(1758)),j=d(n(1764)),D=d(n(1774));n(1777);const k=13;class R extends u.Component{constructor(){super(...arguments),i.set(this,u.createRef()),o.set(this,""),this.relocateDotPopup=()=>{const{dotRef:e,screenViewRef:t}=this.props,{dotId:n,dot:o}=this.state;if(!(n&&o&&e.current&&t))return;const s=o.x<=.5?"left":"right",a=t.getBoundingClientRect(),r=l(this,i).current.getBoundingClientRect(),c=e.current.getBoundingClientRect(),d=c.left+c.width/2,u=c.top+c.height/2,h=u-13,p=d+13,f=u+13,g=d-13;let m=6,b=6,S=29,y=!1,v="left";p<=0?(y=!0,m=6):g>=a.right?(y=!0,m=a.width-6-r.width):g<=r.width+6+k?(v="right",m=p+k):p+k+r.width+6>=a.right?(v="left",m=g-k-r.width):(v=s,m="left"===s?g-k-r.width:p+k),h<=a.top+26+6?(y=!0,b=a.top+6):f>=window.innerHeight-26?(y=!0,b=window.innerHeight-r.height-6):h>=window.innerHeight-r.height+26-6?(b=window.innerHeight-r.height-6,S=h-b+6):h+r.height-29>window.innerHeight?(y=!0,b=window.innerHeight-r.height-6):b=h-26,this.setState({overflown:y,position:v,top:b,left:m,anchorTop:S})},this.handleColorChange=e=>{const{dotId:t}=this.state,n=C.getColorValueByName(e);f.default.updateDotColor({did:t,color:n,syncWithApi:!C.isDraft(t)})},this.handleCommentHover=e=>{f.default.unhighlightComment(e)},this.handleCommentEdit=e=>{this.setState({editedCommentId:e})},this.handleAttachImageButtonClick=()=>{this.setState({editedCommentId:"new",openFilePicker:!0})},this.handleCommentInput=()=>{this.relocateDotPopup()},this.handleCommentImageLoad=()=>{this.relocateDotPopup()},this.handleMarkdownUpdate=()=>{this.relocateDotPopup()},this.handleNewCommentInput=e=>{c(this,o,e),this.relocateDotPopup()},this.handleNewCommentEdit=()=>{this.setState({editedCommentId:"new"})},this.handleCommentCancelEdit=()=>{const{barrelId:e,screenId:t,dotId:n}=this.state;C.isDraft(n)?f.default.removeDot({pid:e,sid:t,did:n,note:l(this,o)}):f.default.saveNote({sid:t,did:n,note:l(this,o)}),this.setState({editedCommentId:null})},this.handleUpdateStatus=e=>{const{dotId:t}=this.state;f.default.updateDotStatus({did:t,status:e,syncWithApi:!0})},this.handleReaction=e=>{var t;const{userId:n,barrelId:i,screenId:o,dotId:s,dot:{comments:a}}=this.state,r=a[a.length-1];(null===(t=null==r?void 0:r.author)||void 0===t?void 0:t._id)===n&&r.note===e||(f.default.createComment({pid:i,sid:o,did:s,note:e,hasReaction:!0,syncWithApi:!0}),this.setState({editedCommentId:null,scrollToBottom:!0}))},this.handleCommentSubmit=e=>{const{barrelId:t,screenId:n,dotId:i,dot:s,editedCommentId:a}=this.state,r=e.trim();let l=!1;if(C.isDraft(i)){const{x:e,y:t,color:n}=s;c(this,o,""),f.default.addDot({dot:{_id:i,x:e,y:t,color:n,comments:[{note:r}]},syncWithApi:!0})}else if("new"===a)c(this,o,""),f.default.createComment({pid:t,sid:n,did:i,note:r,hasReaction:!1,syncWithApi:!0}),l=!0;else{if(!r)return this.handleCommentDelete(a),void this.setState({editedCommentId:null});f.default.updateComment({pid:t,sid:n,did:i,cmid:a,commentData:{note:r,updated:new Date},syncWithApi:!0})}this.setState({editedCommentId:null,scrollToBottom:l})},this.handleCommentDelete=e=>{const{userId:t,barrelId:n,screenId:i,dotId:o,dot:{comments:s}}=this.state,a=1===s.length?"note":"comment",r=s.find((t=>t._id===e));let l;l=r.author?r.author._id===t?`Delete your ${a}?`:`Delete ${r.author.username}’s ${a}?`:`Delete ${a}?`,v.create({title:l,message:`Deleted ${a}s cannot be restored.`,done:{name:"DELETE",cb(){1===s.length?f.default.removeDot({pid:n,sid:i,did:o,syncWithApi:!0}):f.default.removeComment({sid:i,did:o,cmid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleReopenAndEdit=()=>{const{dotId:e}=this.state;f.default.updateDotStatus({did:e,status:b.default.OPEN,statusFilter:S.default.Open,syncWithApi:!0}),this.setState({editedCommentId:"new"})},this.handleDocumentClick=()=>{f.default.closeDotPopup()},this.handleDocumentKeyDown=e=>{e.key===y.Keyboard.Key.Escape&&f.default.closeDotPopup()}}static getStores(){return[h.default.BarrelStore,h.default.ScreenStore,h.default.DotsStore,h.default.ProjectsDataStore,h.default.StyleguidesDataStore,h.default.UserStore]}static calculateState(e){var t,n,i,o,s,a,r,l,c,d;const{userId:u}=h.default.UserStore.getState(),f=h.default.BarrelStore.getState().barrelId,{screenId:m,zoomLevel:b,scrollTop:S,scrollLeft:y}=h.default.ScreenStore.getState(),{dotId:v,highlightedComments:O,savedNotes:E}=h.default.DotsStore.getState(),_=g.default.getDot(),P=p.default.findUser(),I=T.permissions.canRemoveNotes(P);return{userId:u,barrelId:f,screenId:m,zoomLevel:b,scrollTop:S,scrollLeft:y,dotId:v,dot:_,highlightedComments:O,savedNote:null!==(n=null===(t=E[m])||void 0===t?void 0:t[C.isDraft(v)?"newDot":v])&&void 0!==n?n:"",canRemoveNotes:I,overflown:null!==(i=null==e?void 0:e.overflown)&&void 0!==i&&i,position:null!==(o=null==e?void 0:e.position)&&void 0!==o?o:"left",top:null!==(s=null==e?void 0:e.top)&&void 0!==s?s:58,left:null!==(a=null==e?void 0:e.left)&&void 0!==a?a:6,anchorTop:null!==(r=null==e?void 0:e.anchorTop)&&void 0!==r?r:0,editedCommentId:null!==(l=null==e?void 0:e.editedCommentId)&&void 0!==l?l:null,openFilePicker:null!==(c=null==e?void 0:e.openFilePicker)&&void 0!==c&&c,scrollToBottom:null!==(d=null==e?void 0:e.scrollToBottom)&&void 0!==d&&d}}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeyDown),this.relocateDotPopup()}componentDidUpdate(e,t){const{dotRef:n,screenViewRef:i}=this.props,{dotRef:s,screenViewRef:a}=e,{dotId:r,dot:d,savedNote:u,zoomLevel:h,scrollTop:p,scrollLeft:g,scrollToBottom:m,openFilePicker:b,editedCommentId:S}=this.state,{barrelId:y,screenId:v,dotId:O,dot:E,zoomLevel:T,scrollTop:_,scrollLeft:P,editedCommentId:I}=t;r!==O&&(C.isDraft(O)?f.default.removeDot({pid:y,sid:v,did:O,note:l(this,o)}):O&&f.default.saveNote({sid:v,did:O,note:l(this,o)}),c(this,o,u));const j={};r&&r!==O&&(j.editedCommentId=null),m&&(j.scrollToBottom=!1),b&&(j.openFilePicker=!1),Object.keys(j).length>0&&this.setState(j),!r||d===E&&n.current===s.current&&i===a&&h===T&&p===_&&g===P&&S===I||this.relocateDotPopup()}componentWillUnmount(){const{screenId:e,dotId:t}=this.state;f.default.saveNote({sid:e,did:t,note:l(this,o)}),document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeyDown)}renderComments(){const{userId:e,barrelId:t,screenId:n,dotId:o,dot:{status:s,comments:a,color:r},highlightedComments:c,canRemoveNotes:d,editedCommentId:h,scrollToBottom:p}=this.state;let f=!0;return u.h("div",{class:"dotComments"},a.map(((a,g)=>{var m;const b=a._id,S=(null===(m=a.author)||void 0===m?void 0:m._id)===e,y=c.includes(b),v=y&&f||0===c.length&&p;y&&f&&(f=!1);const O=_.urlResolve("project-screen",{url:{pid:t,sid:n},query:{did:o,cmid:b}});return u.h(j.default,{key:b,dotPopupRef:l(this,i),index:g,comment:a,color:C.getColorName(r),editing:b===h,dotStatus:s,isOwner:S,canRemoveNotes:d,pid:t,commentURL:O,scroll:v,highlight:y,onHover:this.handleCommentHover,onUpdateStatus:this.handleUpdateStatus,onEdit:this.handleCommentEdit,onInput:this.handleCommentInput,onImageLoad:this.handleCommentImageLoad,onMarkdownUpdate:this.handleMarkdownUpdate,onCancelEdit:this.handleCommentCancelEdit,onSubmit:this.handleCommentSubmit,onDelete:this.handleCommentDelete})})))}render(){var e;const{screenViewRef:t}=this.props,{userId:n,barrelId:o,dotId:s,dot:a,savedNote:r,overflown:c,position:d,top:h,left:p,anchorTop:f,editedCommentId:g,openFilePicker:m}=this.state;if(!s||!a||!t)return null;const{color:b,status:S,comments:y}=a,v=y[y.length-1],T=v&&(null===(e=v.author)||void 0===e?void 0:e._id)!==n?"Reply":"Post",_=O.default("dotPopup","noSelect",d,{overflown:c}),j={transform:`translate(${p}px, ${h}px)`},k={top:f},R=C.getColorName(b),A=C.isDraft(s),w="new"===g||A,N=!g||w;return u.h(P.default,null,u.h("div",{ref:l(this,i),class:_,style:j,onClick:E.stopPropagation},u.h("div",{class:"dotPopupAnchor",style:k}),u.h(I.default,{draft:A,selectedColor:R,onClick:this.handleColorChange}),this.renderComments(),N&&u.h(D.default,{barrelId:o,draft:A,dotStatus:S,color:R,buttonLabel:T,editing:w,value:r,openFilePicker:m,onEdit:this.handleNewCommentEdit,onAttachImageButtonClick:this.handleAttachImageButtonClick,onInput:this.handleNewCommentInput,onCancelEdit:this.handleCommentCancelEdit,onReaction:this.handleReaction,onSubmit:this.handleCommentSubmit,onReopenAndEdit:this.handleReopenAndEdit})))}}i=new WeakMap,o=new WeakMap,t.default=m.default(R)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1759);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1760)),a=i(n(724)),r=n(631);n(1763),t.default=function({draft:e,selectedColor:t,onClick:n}){const i=a.default("dotColors",{draft:e});return o.h("div",{class:i},r.colorNames.map((e=>o.h(s.default,{key:e,color:e,selected:t===e,onClick:n}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1761);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724));n(1762),t.default=function({color:e,selected:t,onClick:n}){const i=s.default("dotColor",e,{selected:t});return o.h("div",{class:i,onClick:function(){n(e)}})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1765);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(935)),r=i(n(1766)),l=i(n(1209)),c=i(n(1213)),d=n(1215),u=i(n(711)),h=i(n(724)),p=n(959),f=n(631),g=i(n(1219));n(1773);const m=[d.CustomRules.SPOTIFY,d.CustomRules.YOUTUBE,d.MarkdownRules.CHECKBOX,d.MarkdownRules.TABLE,d.MarkdownRules.HEADING];t.default=function({dotPopupRef:e,index:t,comment:{_id:n,author:i,created:d,updated:b,note:S},color:y,editing:v,dotStatus:O,isOwner:C,canRemoveNotes:E,pid:T,commentURL:_,scroll:P,highlight:I,onHover:j,onUpdateStatus:D,onEdit:k,onInput:R,onImageLoad:A,onMarkdownUpdate:w,onCancelEdit:N,onSubmit:L,onDelete:M}){var x,U;const B=s.useRef();function V(){D(u.default.RESOLVED)}function z(){D(u.default.OPEN)}function F(){k(n)}function W(){M(n)}s.useEffect((()=>{var e;P&&(null===(e=B.current)||void 0===e||e.scrollIntoView())}),[P]);const H=0===t,G=new Date(d),$=new Date(b),q=$.getTime()-G.getTime()>3e5,Z=g.default.canWeMakeThisJumbo(S,1)&&!H,K=!v&&Z,Y=!v&&!Z,J=h.default("comment",y,{editing:v,highlight:I,reaction:Z,compactReaction:K});return o.h("div",{class:J,ref:B,onMouseOver:function(){I&&j(n)}},o.h("div",{class:"commentInfo"},o.h(l.default,{class:"commentAuthorProfilePopoverContainer",member:{user:null!=i?i:{fullName:"Anonymous"}}},o.h(a.default,{class:"commentAuthorImage",src:p.getUserAvatar(i).src,size:32}),!K&&o.h("span",{class:"commentAuthorName"},null!==(U=null!==(x=null==i?void 0:i.fullName)&&void 0!==x?x:null==i?void 0:i.username)&&void 0!==U?U:"Anonymous")),K&&o.h(c.default,{disabledFeatures:m},S),o.h("a",{class:"commentLink",href:_,"data-link-type":"inApp"},o.h("zpl-time-ago",{format:"micro",datetime:G})),function(){if(v)return null;const e=H&&O===u.default.OPEN,t=H&&O===u.default.RESOLVED,n=O===u.default.OPEN&&C,i=C||E;return o.h("div",{class:"commentButtons"},e&&o.h("button",{type:"button",onClick:V},"Resolve"),t&&o.h("button",{type:"button",onClick:z},"Reopen"),n&&o.h("button",{type:"button",onClick:F},"Edit"),i&&o.h("button",{type:"button",onClick:W},"Delete"))}()),!K&&o.h("div",{class:"commentContent textSelect"},v?o.h(r.default,{containerClass:"commentTextArea",placeholder:f.getRandomPlaceholder(),value:S,maxLength:1024,color:y,barrelId:T,editing:!0,resetOnSubmit:!0,autoCompleteContainer:e.current,markdownEditor:!0,buttonLabel:"Done",onInput:R,onCancelEdit:N,onSubmit:L}):o.h(c.default,{disabledFeatures:m,onMarkdownUpdate:w,onImageLoad:A},S)),Y&&o.h("div",{class:"commentFooter"},q&&o.h("span",{class:"commentEdited"},"Edited ",o.h("relative-time",{datetime:$}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1767);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i,o,s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=n(4),d=n(215),u=n(221),h=n(1768),p=n(1770),f=n(547),g=l(n(724)),m=n(1294),b=n(959),S=n(583),y=n(544),v=n(610),O=l(n(1658)),C=l(n(1652)),E=l(n(1297)),T=l(n(684)),_=l(n(685)),P=l(n(1655)),I=n(1302),j=l(n(890)),D=l(n(1771));n(1772);function k(e,t){const n=T.default.getBarrel({bid:t}),i=_.default.getOrganization(void 0,{pid:t}),o=e.toLowerCase(),s=S.normalizeAndLowerCase(e);if(!n)return[];const{users:a}=n,r=[{_id:"everyone",name:"everyone",self:!1,description:"Notify all project members",groupDataType:n.icon.type,group:!0}];return i&&r.push({_id:"organization",name:"organization",icon:i.logo,self:!1,description:"Notify all workspace members",groupDataType:i.logo?void 0:"organizationPlaceholder",group:!0}),o&&r.push({_id:"project",name:"project",self:!1,description:"Notify all project members",groupDataType:n.icon.type,group:!0}),[...r.filter((({name:e})=>e.toLowerCase().startsWith(o))),...a.filter((({user:{status:e,username:t,email:n,fullName:i,_id:a}})=>"invited"!==e&&("me"===o&&Zeplin.user._id===a||t.toLowerCase().startsWith(s)||n.toLowerCase().startsWith(o)||i&&function(e,t){return e.split(" ").some((e=>S.normalizeAndLowerCase(e).startsWith(t)))}(i,s)))).map((({user:e,user:{username:t,email:n,_id:i,fullName:o}})=>({_id:i,name:t||n,icon:b.getUserAvatar(e).src,self:Zeplin.user._id===i,description:n,fullName:o})))]}class R extends c.Component{constructor(e){var t,n,l;super(e),i.set(this,void 0),o.set(this,void 0),this.getSuggestionPositions=()=>{var e;let t=0,n=0;const i=b.findFirstPositionedAncestor(this.autocompleteListRef.current);i&&({top:t,left:n}=i.getBoundingClientRect());const{top:o=0,bottom:s=0,left:a=0}=(null===(e=this.textAreaMirrorRef.current)||void 0===e?void 0:e.getBoundingClientRect())||{};return{suggestionPositionedParentTop:t,suggestionPositionedParentLeft:n,suggestionTargetTop:o,suggestionTargetBottom:s,suggestionTargetLeft:a}},this.serialize=e=>{var t;if(d.Text.isText(e))return null!==(t=e.text)&&void 0!==t?t:"";const n=e,i=n.children.map((e=>this.serialize(e))).join("");return"mention"===e.type?`@${n.username}`:i},this.getValueString=e=>{const t=null!=e?e:this.state.value;let n="";const i=t.length;for(let o=0;o<i;o++)n+=o===i-1?this.serialize(t[o]):`${this.serialize(t[o])}\n`;return n},this.insertMention=()=>{var e;const{suggestedUsers:t,selectedUserIndex:n}=this.state,i=t[n],o=[{type:"mention",username:i.name,fullName:null!==(e=i.fullName)&&void 0!==e?e:i.name,children:[{text:""}]}];d.Transforms.insertNodes(this.editor,o),d.Transforms.move(this.editor),d.Transforms.insertText(this.editor," ")},this.cancelEdit=()=>{const{onCancelEdit:e}=this.props,{originalValue:t}=this.state;this.abortController&&(this.abortController.abort(),this.abortController=null),e&&e();const n={path:[0,0],offset:0};this.editor.selection={anchor:n,focus:n},this.editor.history={undos:[],redos:[]},this.setState({editing:!1,uploading:!1,value:t,error:""},(()=>{u.ReactEditor.blur(this.editor)}))},this.submit=()=>{const{disabledWhenEmpty:e,resetOnSubmit:t,maxLength:n,onSubmit:o}=this.props,{value:s,originalValue:a}=this.state;if(!(r(this,i).length>n))if(JSON.stringify(s)!==JSON.stringify(a)||e){if(e&&!r(this,i))return;const n={path:[0,0],offset:0};this.editor.selection={anchor:n,focus:n},this.editor.history={undos:[],redos:[]};const l={error:"",editing:!1,originalValue:s};t&&Object.assign(l,{value:a}),this.setState(l),null==o||o(r(this,i))}else this.cancelEdit()},this.changeSuggestedUsers=(e,t)=>{const{suggestedUsers:n,selectedUserIndex:i}=this.state,{barrelId:o}=this.props,s=k(e,o),a=this.getSuggestionPositions(),r=Math.max(0,Math.min(n.length?i:s.findIndex((({group:e})=>!e)),s.length-1));this.setState({target:t,suggestionPositions:a,suggestedUsers:s,selectedUserIndex:r})},this.setComposing=e=>{this.setState({isComposing:e})},this.changeSuggestedEmojis=(e,t,n)=>{const{barrelId:i}=this.props,{selectedEmojiIndex:o}=this.state,s=I.getSuggestedEmojis(e,n.offset,i);if(!s.length)return!1;const a=this.getSuggestionPositions(),r={anchor:{path:t,offset:e.substring(0,n.offset).lastIndexOf(":")},focus:Object.assign({},n)},l=Math.max(0,Math.min(o,s.length-1));return this.setState({target:r,suggestionPositions:a,suggestedEmojis:s,selectedEmojiIndex:l}),!0},this.handleChange=e=>{const{readOnly:t,onInput:n}=this.props;if(t)return;this.setState({value:e},(()=>{n&&n(r(this,o))}));const{selection:i}=this.editor;if(i&&d.Range.isCollapsed(i)){const[e]=d.Range.edges(i),t=d.Editor.before(this.editor,e,{unit:"word"}),n=t&&d.Editor.before(this.editor,t),o=n&&d.Editor.range(this.editor,n,e),s=o&&d.Editor.string(this.editor,o),a=s&&s.match(/^@(\S+)$/),r=d.Editor.after(this.editor,e),l=d.Editor.range(this.editor,e,r),c=d.Editor.string(this.editor,l).match(/^(\s|$)/),u=d.Editor.before(this.editor,e),h=u&&d.Editor.range(this.editor,u,e),p=h&&d.Editor.string(this.editor,h);if(!a&&p&&"@"===p)return void this.changeSuggestedUsers("",h);if(a&&c)return void this.changeSuggestedUsers(a[1],o);const f=d.Editor.node(this.editor,e),[g,m]=f,b=this.serialize(g);if(this.changeSuggestedEmojis(b,m,e))return;this.setState({suggestedUsers:[],suggestedEmojis:[],target:void 0})}},this.handleSelectUser=()=>{const{target:e}=this.state;d.Transforms.select(this.editor,e),this.insertMention(),this.setState({target:void 0,suggestedUsers:[]})},this.handleSelectEmoji=()=>{const{target:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state;d.Transforms.select(this.editor,e);const i=t[n];d.Transforms.insertText(this.editor,`:${i.formattedAlias}: `),this.setState({target:void 0,suggestedEmojis:[]})},this.handleUserClick=e=>{this.setState({selectedUserIndex:e},this.handleSelectUser)},this.handleEmojiClick=e=>{this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)},this.handleUserMouseOver=e=>{this.setState({selectedUserIndex:e,suggestedUsers:this.state.suggestedUsers.slice()})},this.handleEmojiMouseOver=e=>{this.setState({selectedEmojiIndex:e,suggestedEmojis:this.state.suggestedEmojis.slice()})},this.handleKeyDownUserListActions=v.debounce((e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedUsers:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectUser();break;case Zeplin.KEY_CODE.ArrowDown:this.setState((e=>e.selectedUserIndex>=e.suggestedUsers.length-1?{selectedUserIndex:e.suggestedUsers.length-1}:{selectedUserIndex:e.selectedUserIndex+1}));break;case Zeplin.KEY_CODE.ArrowUp:this.setState((e=>e.selectedUserIndex<=0?{selectedUserIndex:0}:{selectedUserIndex:e.selectedUserIndex-1}))}})),this.handleKeyDownEmojiListActions=v.debounce((e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState((e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1}));break;case Zeplin.KEY_CODE.ArrowUp:this.setState((e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1}))}})),this.handleKeyDownWhenUserListOpen=e=>{(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&(e.preventDefault(),e.stopPropagation()),this.handleKeyDownUserListActions(e)},this.handleKeyDownWhenEmojiListOpen=e=>{(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&(e.preventDefault(),e.stopPropagation()),this.handleKeyDownEmojiListActions(e)},this.handleKeyDown=e=>{const{readOnly:t}=this.props;if(t)return;const{editing:n,uploading:i,suggestedUsers:o,suggestedEmojis:s,error:a}=this.state;a&&this.setState({error:""});const r=n&&0!==o.length,l=n&&0!==s.length;return r?(e.stopPropagation(),void this.handleKeyDownWhenUserListOpen(e)):l?(e.stopPropagation(),void this.handleKeyDownWhenEmojiListOpen(e)):(e.key===f.Keyboard.Key.Escape&&(e.stopPropagation(),this.cancelEdit()),void(e.key===f.Keyboard.Key.Enter&&y.cmdKey(e)&&!i&&(e.stopPropagation(),this.handleSubmit())))},this.handleButtonClick=()=>{const{readOnly:e}=this.props;e||this.handleSubmit()},this.handleFileUpload=(e,t)=>s(this,void 0,void 0,(function*(){const{uploading:n}=this.state;if(n)return;let{selection:i}=this.editor;if(!i&&y.getBrowser()===y.BROWSER.SAFARI){const{backupSelection:e}=this.state;i=e,e&&d.Transforms.select(this.editor,e)}i&&!d.Range.isCollapsed(i)&&(d.Transforms.collapse(this.editor,{edge:"focus"}),({selection:i}=this.editor));const o={anchor:{offset:0,path:[0,0]},focus:{offset:0,path:[0,0]}},s=null!=i?i:o,a=Array.from(t).find((e=>m.IMAGE_MIME_TYPES.includes(e.type)));if(!a)return;if(e.preventDefault(),e.stopPropagation(),a.size>1e7)return void this.setState({error:"Smaller than 10 MB please!"});const r=d.Editor.range(this.editor,o,s),l=d.Editor.fragment(this.editor,r),c=this.getValueString(l),p=""===c||c.endsWith("\n")?"":"\n",f=S.getFilenameWithoutExtensionFromPath(a.name),g=`${p}![${f}](Uploading…)`;this.editor.history={redos:[],undos:[]},h.HistoryEditor.withoutSaving(this.editor,(()=>d.Transforms.insertText(this.editor,g,{at:s}))),this.setState({error:"",uploading:!0});const b={offset:g.length+s.anchor.offset,path:[...s.anchor.path]},v=d.Editor.range(this.editor,s,b);try{this.abortController=new AbortController;const{fileURL:e}=yield m.uploadCommentImage(a,this.abortController.signal);this.abortController=null,h.HistoryEditor.withoutSaving(this.editor,(()=>{d.Transforms.delete(this.editor,{at:v}),d.Transforms.insertText(this.editor,`${p}![${f}](${e})`,{at:s}),d.Editor.insertBreak(this.editor)})),u.ReactEditor.focus(this.editor),this.setState({uploading:!1})}catch(O){if("AbortError"===O.name)return;h.HistoryEditor.withoutSaving(this.editor,(()=>d.Transforms.delete(this.editor,{at:v}))),this.setState({uploading:!1,error:"Image failed to upload"},(()=>{u.ReactEditor.focus(this.editor),d.Transforms.select(this.editor,s)}))}})),this.handleFileInputChange=e=>{this.handleFileUpload(e,e.target.files)},this.handlePaste=e=>{e.clipboardData&&this.handleFileUpload(e,e.clipboardData.files)},this.handleDrop=e=>{e.dataTransfer&&this.handleFileUpload(e,e.dataTransfer.files)},this.handleBlur=()=>{const{submitOnBlur:e,onSubmit:t}=this.props,{uploading:n}=this.state;this.setState({backupSelection:this.editor.selection}),e&&!n&&t&&this.submit()},this.handleSubmit=()=>{const{submitOnBlur:e,maxLength:t,onSubmit:n}=this.props;r(this,i).length>t||!e&&n&&this.submit()},this.handleClick=()=>{const{readOnly:e}=this.props,{editing:t}=this.state;e||t||this.setState({editing:!0})},this.handleKeyUp=e=>{e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({suggestedUsers:this.state.suggestedUsers.slice(),suggestedEmojis:this.state.suggestedEmojis.slice()})},this.renderAutocompleteLists=()=>{const{autoCompleteContainer:e}=this.props,{editing:t,suggestedUsers:n,suggestedEmojis:i,suggestionPositions:o,selectedUserIndex:s,selectedEmojiIndex:a}=this.state,r=t&&0!==n.length,l=t&&0!==i.length,{suggestionPositionedParentTop:d,suggestionPositionedParentLeft:u,suggestionTargetTop:h,suggestionTargetBottom:p,suggestionTargetLeft:f}=o,g=c.h(O.default,{baseRef:this.autocompleteListRef,tabIndex:-1,positionedParentLeft:u,positionedParentTop:d,targetTop:h,targetBottom:p,targetLeft:f},c.h(c.Fragment,null,r?c.h(P.default,{onItemClick:this.handleUserClick,onItemMouseOver:this.handleUserMouseOver,suggestedUsers:n,selectedIndex:s}):null,l?c.h(E.default,{class:"",onItemClick:this.handleEmojiClick,onItemMouseOver:this.handleEmojiMouseOver,suggestedEmojis:i,selectedIndex:a}):null));return e?c.h(j.default,{into:e},g):g},this.renderElement=e=>c.h(p.Element,Object.assign({},e)),this.renderPlaceholder=e=>{const{attributes:t,children:n}=e,i=Object.assign(Object.assign({},t),{style:{display:"block",maxWidth:"100%",pointerEvents:"none",position:"absolute",textDecoration:"none",userSelect:"none",width:"100%",color:"#c1bec1",opacity:"1"}});return c.h("span",Object.assign({},i),n)},this.renderEditorInfo=()=>{const{error:e}=this.state,{markdownEditor:t,maxLength:n}=this.props;if(e)return c.h("div",{class:"error"},e);if(t&&!r(this,i))return c.h("div",{class:"markdownInfo"},c.h("strong",null,"**bold**"),"  ",c.h("em",null,"_italics_"),"  ",c.h("code",null,"`code`"),"  ",c.h("span",null,">quote"));const o=g.default("counter",{negative:r(this,i).length>n});return c.h("div",{class:o},n-r(this,i).length)},this.editor=(e=>{const{isInline:t,isVoid:n}=e;return e.isInline=e=>"mention"===e.type||t(e),e.isVoid=e=>"mention"===e.type||n(e),e})(h.withHistory(u.withReact(d.createEditor()))),this.autocompleteListRef=c.createRef(),this.textAreaMirrorRef=c.createRef(),this.abortController=null,a(this,i,null!==(t=this.props.value)&&void 0!==t?t:""),a(this,o,null!==(n=this.props.value)&&void 0!==n?n:"");const C=p.structureCommentTextAreaValue(this.props.value,this.props.barrelId);this.state={editing:null!==(l=this.props.editing)&&void 0!==l&&l,uploading:!1,suggestedUsers:[],suggestedEmojis:[],target:void 0,selectedUserIndex:0,selectedEmojiIndex:0,value:C,originalValue:C,error:"",suggestionPositions:{suggestionPositionedParentTop:0,suggestionPositionedParentLeft:0,suggestionTargetTop:0,suggestionTargetBottom:0,suggestionTargetLeft:0},backupSelection:{anchor:{offset:0,path:[0,0]},focus:{offset:0,path:[0,0]}},isComposing:!1}}componentDidMount(){const{editing:e,value:t}=this.state;a(this,i,this.getValueString()),a(this,o,r(this,i));const n=t.length-1,s=t[n].children.length-1,l=t[n].children[s],c={path:[n,s],offset:l.text?l.text.length:0};e&&(u.ReactEditor.focus(this.editor),d.Transforms.select(this.editor,c))}componentWillReceiveProps(e){const{value:t,barrelId:n}=e,i=p.structureCommentTextAreaValue(t,n);JSON.stringify(this.state.originalValue)!==JSON.stringify(i)&&this.setState({value:i,originalValue:i},(()=>{const e={path:[0,0],offset:0};this.editor.selection={anchor:e,focus:e},this.editor.history={undos:[],redos:[]}}))}render(){const{placeholder:e,markdownEditor:t,color:n,openFilePicker:s,buttonLabel:l,disabledWhenEmpty:d,class:h,containerClass:p,maxLength:f}=this.props,{value:m,editing:b,uploading:S,isComposing:v}=this.state;a(this,i,this.getValueString()),S||a(this,o,r(this,i));const O=y.getOS()===y.OS.MAC?"⌘⏎":"Ctrl+⏎",E=g.default("shortcut",{[y.getOS()]:!0}),T=S||r(this,i).length>f||d&&!r(this,i);return c.h("div",{class:g.default("commentTextAreaContainer",p)},c.h("div",{class:g.default("textArea",h,{editing:b,markdownEditor:t},n)},c.h("div",{class:"editor",ref:this.textAreaMirrorRef},c.h(u.Slate,{editor:this.editor,value:m,onChange:this.handleChange},S?c.h(D.default,{key:"readonlyEditor",readOnly:!0,className:"editable",placeholder:v?"":e,renderElement:this.renderElement,renderPlaceholder:this.renderPlaceholder,spellCheck:"false",onBlur:this.handleBlur}):c.h(D.default,{key:"mainEditor",className:"editable",placeholder:v?"":e,renderElement:this.renderElement,renderPlaceholder:this.renderPlaceholder,spellCheck:"false",onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,onDrop:this.handleDrop,onBlur:this.handleBlur,onClick:this.handleClick,onKeyUp:this.handleKeyUp,setComposing:this.setComposing}))),c.h("div",{class:"controls",tabIndex:-1},this.renderEditorInfo(),t&&c.h(C.default,{open:s,disabled:S,onChange:this.handleFileInputChange}),c.h("button",{type:"button",class:"submit",disabled:T,onClick:this.handleButtonClick},c.h("span",{class:"labelMirror"},l),c.h("span",{class:"label"},l),c.h("span",{class:E},O)))),this.renderAutocompleteLists())}}i=new WeakMap,o=new WeakMap,R.defaultProps={placeholder:"",buttonLabel:"Done",readOnly:!1,submitOnBlur:!1,onSubmit:null,resetOnSubmit:!1,disabledWhenEmpty:!1,markdownEditor:!1,onCancelEdit:null,openFilePicker:!1},t.default=R},function(e,t,n){"use strict";n.r(t),n.d(t,"HISTORY",(function(){return a})),n.d(t,"History",(function(){return s})),n.d(t,"HistoryEditor",(function(){return c})),n.d(t,"MERGING",(function(){return l})),n.d(t,"SAVING",(function(){return r})),n.d(t,"withHistory",(function(){return d}));var i=n(1769),o=n(215),s={isHistory:e=>Object(i.default)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||o.Operation.isOperationList(e.redos[0]))&&(0===e.undos.length||o.Operation.isOperationList(e.undos[0]))},a=new WeakMap,r=new WeakMap,l=new WeakMap,c={isHistoryEditor:e=>s.isHistory(e.history)&&o.Editor.isEditor(e),isMerging:e=>l.get(e),isSaving:e=>r.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=c.isMerging(e);l.set(e,!1),t(),l.set(e,n)},withoutSaving(e,t){var n=c.isSaving(e);r.set(e,!1),t(),r.set(e,n)}},d=e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:n}=e;if(n.length>0){var i=n[n.length-1];c.withoutSaving(t,(()=>{o.Editor.withoutNormalizing(t,(()=>{for(var e of i)t.apply(e)}))})),e.redos.pop(),e.undos.push(i)}},t.undo=()=>{var{history:e}=t,{undos:n}=e;if(n.length>0){var i=n[n.length-1];c.withoutSaving(t,(()=>{o.Editor.withoutNormalizing(t,(()=>{var e=i.map(o.Operation.inverse).reverse();for(var n of e)t.apply(n)}))})),e.redos.push(i),e.undos.pop()}},t.apply=e=>{var{operations:i,history:o}=t,{undos:s}=o,a=s[s.length-1],r=a&&a[a.length-1],l=p(e,r),d=c.isSaving(t),g=c.isMerging(t);if(null==d&&(d=h(e)),d){if(null==g&&(g=null!=a&&(0!==i.length||(u(e,r)||l))),a&&g)l&&a.pop(),a.push(e);else{var m=[e];s.push(m)}for(;s.length>100;)s.shift();f(e)&&(o.redos=[])}n(e)},t},u=(e,t)=>"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!o.Path.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!o.Path.equals(e.path,t.path))),h=(e,t)=>"set_selection"!==e.type||null!=e.properties&&null!=e.newProperties,p=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),f=e=>"set_selection"!==e.type},function(e,t,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function i(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}n.r(t),t.default=function(e){var t,n;return!1!==i(e)&&("function"==typeof(t=e.constructor)&&(!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.structureCommentTextAreaValue=t.Mention=t.Element=void 0;const o=n(4),s=i(n(684)),a=i(n(685)),r=/!\[[^\]]+\]\([^)]+\)/g;t.Element=e=>{const{attributes:t,children:n,element:i}=e;switch(i.type){case"mention":return o.h(l,Object.assign({},e));default:return o.h("p",Object.assign({},t),n)}};const l=({attributes:e,children:t,element:n})=>{const i=n;return o.h("span",Object.assign({},e,{contentEditable:!1,class:"mention"}),"@",i.fullName,t)};t.Mention=l;const c=[{type:"paragraph",children:[{text:""}]}];function d(e,t){return!(e.length<3||e.length>30)&&t.find((({username:t})=>t===e))}function u(e,t,n,i){const o=e.split(/(@\w+)/);let s=t.slice();for(const a of o)if(a.startsWith("@")){const e=d(a.substr(1),i);e?(n.push({text:s}),s="",n.push({type:"mention",username:e.username,fullName:e.fullName,children:[{text:""}]})):s+=a}else s+=a;n.push({text:s})}function h(e,t){if(e.includes("@")){const n=[],i=function(e){const t=s.default.getBarrel({bid:e});if(!t)return[];const n=a.default.getOrganization(void 0,{pid:e}),{users:i}=t;let o=[{username:"everyone",fullName:"everyone"},{username:"project",fullName:"project"}];if(n&&o.push({username:"organization",fullName:"organization"}),i){const e=i.filter((({user:{status:e}})=>"invited"!==e)).map((({user:e})=>{var t;return{username:e.username,fullName:null!==(t=e.fullName)&&void 0!==t?t:e.email}}));o=[...o,...e]}return o}(t);let o;if(e.match(r)){const t=[];for(;null!==(o=r.exec(e));)t.push({start:o.index,end:o.index+o[0].length});let s="",a="",l="";for(let o=0;o<t.length;o++)0===o&&t[o].start>0&&(a=e.substring(0,t[o].start),u(a,l,n,i),l=""),s=e.substring(t[o].start,t[o].end),l+=s,o===t.length-1?(a=e.substring(t[o].end,e.length),u(a,l,n,i),l=""):(a=e.substring(t[o].end,t[o+1].start),u(a,l,n,i),l="")}else u(e,"",n,i);return n}return[{text:e}]}t.structureCommentTextAreaValue=function(e,t){if(!e)return c;const n=[],i=e.split("\n");for(const o of i)n.push({type:"paragraph",children:h(o,t)});return n}},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(221),a="function"==typeof InputEvent.prototype.getTargetRanges;function r(e){var t;e.preventDefault(),e.stopPropagation(),null===(t=e.currentTarget)||void 0===t||t.dispatchEvent(new InputEvent("beforeinput",{bubbles:!0,cancelable:!0,data:e.key}))}function l(e,t){return n=>{n.currentTarget&&("CompositionStart"===e?t(!0):"CompositionEnd"===e&&t(!1),n.currentTarget.dispatchEvent(new CompositionEvent(e,n)))}}t.default=function(e){var{setComposing:t}=e,n=i(e,["setComposing"]);return t?o.h(s.Editable,Object.assign({},n,{oncompositionstart:l("CompositionStart",t),oncompositionupdate:l("CompositionUpdate",t),oncompositionend:l("CompositionEnd",t),onKeyPress:a?void 0:r})):o.h(s.Editable,Object.assign({},n,{onKeyPress:a?void 0:r}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1775);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(711)),a=i(n(724)),r=n(631),l=n(583),c=i(n(738)),d=i(n(841)),u=i(n(1766));n(1776),t.default=function({barrelId:e,draft:t,dotStatus:n,color:i,buttonLabel:h,editing:p,value:f,openFilePicker:g,onEdit:m,onAttachImageButtonClick:b,onInput:S,onCancelEdit:y,onReaction:v,onSubmit:O,onReopenAndEdit:C}){function E(e){const t=e.currentTarget;v(t.value)}const T=a.default("newCommentArea",{draft:t});return o.h("div",{class:T},n===s.default.RESOLVED||p?null:o.h("div",{class:"newCommentButtons"},o.h("div",{class:"newCommentReactions"},Object.entries(r.reactions).map((([e,t])=>o.h("button",{key:e,type:"button",class:"newCommentReaction noSelect",value:t,onClick:E},o.h(d.default,{asset:`img/emj${l.uppercaseFirst(e)}.png`,alt:t}))))),o.h("button",{class:"newCommentAttachImageButton noSelect",onClick:b},o.h(c.default,null)),o.h("button",{type:"button",class:"newCommentButton",onClick:m},h)),n!==s.default.RESOLVED&&p?o.h(u.default,{placeholder:r.getRandomPlaceholder(),buttonLabel:h,maxLength:1024,color:i,barrelId:e,value:f,editing:!0,openFilePicker:g,disabledWhenEmpty:!0,markdownEditor:!0,onInput:S,onCancelEdit:y,onSubmit:O}):null,n===s.default.OPEN?null:o.h("div",{class:"resolvedNoteInfo"},o.h("button",{onClick:C},"Reopen")," to continue the conversation"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1779);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(686),s=n(607),a=n(1780);n(1783);t.default=function(e){const{project:t,snapshot:{_id:n,links:r,width:l,height:c}}=e,d=r.map(((e,r)=>{const{rect:{x:d,y:u,width:h,height:p},destination:{type:f,name:g}}=e;let m;if("screen"===f){const e=t.screens.find((e=>e.name===g));if(!e)return null;m=Object(o.urlResolve)("project-screen",{url:{pid:t.id,sid:e._id}})}const b=Object(s.toPercentage)(h,l),S=Object(s.toPercentage)(p,c),y=Object(s.toPercentage)(d,l),v=Object(s.toPercentage)(u,c);return i.h(a.default,{key:`${t.id}-${n}-link-${r}`,style:{width:b,height:S,top:v,left:y},type:f,to:m})})).filter(Boolean);return i.h("div",{class:"flowLinks"},d)}},function(e,t,n){"use strict";n.r(t);var i=n(1781);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1782);function o({style:e,type:t,to:n}){const o="previous"===t?"pop":"replace",s="previous"===t?"#":n;return i.h("a",{href:s,class:"flowLink",style:e,"data-link-type":"inApp","data-nav-op":o,"data-flow-nav":!0})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1785);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(968),r=n(852);n(1786);const l="rgba(0, 255, 255, 0.7)";class c extends a.default{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,o=i.getContext("2d");o.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let s="rgba(238, 103, 35, 0.3)";if(n.vertical){const{columnWidth:e,gutterWidth:t,guttersOnOutside:a,numberOfCols:r}=n.vertical,c=this.toDeviceDimen(e+t),d=this.toDeviceDimen((n.horizontalOffset||0)+(a?t/2:0));let u,h=r;n.horizontal&&!n.horizontal.gutterHeight||!t?(s=l,u=1):u=this.toDeviceDimen(e),h=1===u?h+1:h,o.fillStyle=s;let p=d;for(let n=0;n<h;n++)o.fillRect(p,0,u,i.height),p+=c}if(n.horizontal){const{rowHeight:e,gutterHeight:t,numberOfRows:a}=n.horizontal,r=this.toDeviceDimen(e+t),c=this.toDeviceDimen(n.horizontalOffset||0),d=this.toDeviceDimen(n.verticalOffset||0);let u,h,p;n.vertical&&!n.vertical.gutterWidth||!t?(s=l,h=1):h=this.toDeviceDimen(e),a?(u=a,u=1===h?u+1:u):u=Math.ceil(i.height/r),o.fillStyle=s,p=1===h?void 0!==n.verticalOffset?d:r:d;for(let s=0;s<u;s++){const e=c;let t=i.width-2*c;t=n.vertical&&n.vertical.gutterWidth>0&&n.vertical.guttersOnOutside?t+this.toDeviceDimen(n.vertical.gutterWidth/2):t,o.fillRect(e,p,t,h),p+=r}}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.h("div",{class:"layoutGridContainer"},i.h("canvas",{ref:Object(r.default)(this,"canvas"),width:"100%",height:"100%"}))}}c.propTypes={height:s.a.number.isRequired,width:s.a.number.isRequired,grid:s.a.shape({horizontalOffset:s.a.number,verticalOffset:s.a.number,vertical:s.a.shape({gutterWidth:s.a.number,columnWidth:s.a.number,numberOfCols:s.a.number,guttersOnOutside:s.a.bool}),horizontal:s.a.shape({gutterHeight:s.a.number,rowHeight:s.a.number,numberOfRows:s.a.number})})},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1788);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(1789),r=n(1792),l=n(1795),c=n(1804),d=n(1806);class u extends i.Component{getChildContext(){const{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}=this.props;return{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}}render(){const{baseRef:e,class:t,style:n,children:o,onClick:a}=this.props;return i.h("div",{ref:e,class:s()("snapshotDetail",t),style:n,onClick:a},o)}}u.Layers=l.default,u.Rulers=r.default,u.Distances=a,u.Image=c.default,u.ComponentLayer=d.default,t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1790);n.d(t,"BetweenEdges",(function(){return i.BetweenEdges})),n.d(t,"BetweenLayers",(function(){return i.BetweenLayers}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BetweenEdges",(function(){return S})),n.d(t,"BetweenLayers",(function(){return b}));var i=n(4),o=n(607),s=n(583),a=n(624),r=n(724),l=n.n(r),c=n(584),d=n.n(c);n(1791);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){const{style:t,side:n}=e,o=["left","right"].includes(n)?"top":"left";return i.h("div",{class:"spacingHighlight",style:h(h({},t),{},{[o]:0})})}function g(e){const{style:t,side:n,value:o,matchedSpacingTokens:s,showVerticalLabelOnLeft:a,showHorizontalLabelOnBottom:r}=e,c=["left","right"].includes(n)?"horizontal":"vertical",d=l()("distance",c,{onLeft:"vertical"===c&&a,onBottom:"horizontal"===c&&r});return i.h("div",{class:d,style:t},i.h("div",{class:"value"},Boolean(s.length)&&[i.h("div",{key:"spacingTokenNames"},s.map((({_id:e,token:t})=>i.h("span",{key:e,class:"spacingTokenName ellipsis"},t)))),i.h("div",{key:"valueDivider",class:"valueDivider"})],i.h("span",null,o)))}function m(e){const{measurements:t}=e,{platform:n,spacingTokens:r,remPreferences:l,densityScale:c,dimensionSuffix:u}=this.context,p="web"===n&&"enabled"===l.status&&l.useForMeasurements,{topDistanceAmount:m,rightDistanceAmount:b,bottomDistanceAmount:S,leftDistanceAmount:y}=t,v=null===b&&null!==m&&null!==S&&null!==y,O=null===m&&null!==b&&null!==S&&null!==y,C=["top","right","bottom","left"].map((e=>{if(null===t[`${e}DistanceAmount`])return null;const{[`${e}DistanceTop`]:n,[`${e}DistanceLeft`]:m,[`${e}DistanceAmount`]:b,[`${e}DistanceValue`]:S,[`${e}DistanceValuePercentage`]:y}=t,C=Object(o.round)(S/c,1),E={top:n,left:m,[["left","right"].includes(e)?"width":"height"]:b};let T=[],_=y;if(!y){const e=1===r.length&&C<=144&&C%r[0].value==0&&C!==r[0].value;T=Object(a.removeDuplicatesFromArrayOfObjects)(r.filter((e=>e.value===C)),"token"),e&&T.push(h(h({},r[0]),{},{_id:Object(s.getRandomString)(24),value:C,token:`${C/r[0].value} ${r[0].token}`})),_=p?Object(o.toRemSize)(S/c,l.remRootFontSize):C+u}return[Boolean(T.length)&&i.h(f,{style:h(h({},E),{},{backgroundColor:new d.a(T[0].color).toRGBAString()}),side:e}),i.h(g,{key:`${e}-distance`,style:E,side:e,value:_,matchedSpacingTokens:T,showVerticalLabelOnLeft:v,showHorizontalLabelOnBottom:O})]}),this);return C.filter(Boolean).length?i.h("div",{class:"distances"},C):null}class b extends i.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:s}}=this.context,a=e.x,r=a+e.width,l=t.x,c=l+t.width;let d=!1,u=null,h=null,p=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,O=null,C=null;return c<a?(O=a-c,b=Object(o.toPercentage)(c,s)):l<a&&c>r?(O=a-l,b=Object(o.toPercentage)(l,s),C=c-r,h=Object(o.toPercentage)(r,s),u=Object(o.toPercentage)((a+r)/2,s),m=Object(o.toPercentage)((a+r)/2,s),d=!0):l>a&&c<r?(O=l-a,b=Object(o.toPercentage)(a,s),C=r-c,h=Object(o.toPercentage)(c,s)):c>a&&c<r?(O=a-l,b=Object(o.toPercentage)(l,s),c-a>7&&(u=Object(o.toPercentage)((c+a)/2,s),m=Object(o.toPercentage)((c+a)/2,s),d=!0)):l>a&&l<r?(O=l-a,b=Object(o.toPercentage)(a,s),r-l>7&&(u=Object(o.toPercentage)((l+r)/2,s),m=Object(o.toPercentage)((l+r)/2,s),d=!0)):l>r&&(C=l-r,h=Object(o.toPercentage)(r,s)),O&&(S=Object(o.toPercentage)(O,s),y=O,n&&(v=Object(o.percentageLength)(O,i.width))),C&&(p=Object(o.toPercentage)(C,s),f=C,n&&(g=Object(o.percentageLength)(C,i.width))),d||(u=Object(o.toPercentage)((l+c)/2,s),m=Object(o.toPercentage)((l+c)/2,s)),{topDistanceLeft:u,rightDistanceLeft:h,rightDistanceAmount:p,rightDistanceValue:f,rightDistanceValuePercentage:g,bottomDistanceLeft:m,leftDistanceLeft:b,leftDistanceAmount:S,leftDistanceValue:y,leftDistanceValuePercentage:v}}_measureVertical(e,t,n,i){const{snapshot:{height:s}}=this.context,a=e.y,r=a+e.height,l=t.y,c=l+t.height;let d=!1,u=null,h=null,p=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,O=null,C=null;return c<a?(O=a-c,u=Object(o.toPercentage)(c,s)):l<a&&c>r?(O=a-l,u=Object(o.toPercentage)(l,s),C=c-r,y=Object(o.toPercentage)(r,s),v=Object(o.toPercentage)((a+r)/2,s),g=Object(o.toPercentage)((a+r)/2,s),d=!0):l>a&&c<r?(O=l-a,u=Object(o.toPercentage)(a,s),C=r-c,y=Object(o.toPercentage)(c,s)):c>a&&c<r?(O=a-l,u=Object(o.toPercentage)(l,s),c-a>7&&(v=Object(o.toPercentage)((c+a)/2,s),g=Object(o.toPercentage)((c+a)/2,s),d=!0)):l>a&&l<r?(O=l-a,u=Object(o.toPercentage)(a,s),r-l>7&&(v=Object(o.toPercentage)((l+r)/2,s),g=Object(o.toPercentage)((l+r)/2,s),d=!0)):l>r&&(C=l-r,y=Object(o.toPercentage)(r,s)),O&&(h=Object(o.toPercentage)(O,s),p=O,n&&(f=Object(o.percentageLength)(O,i.height))),C&&(m=Object(o.toPercentage)(C,s),b=C,n&&(S=Object(o.percentageLength)(C,i.height))),d||(v=Object(o.toPercentage)((l+c)/2,s),g=Object(o.toPercentage)((l+c)/2,s)),{topDistanceTop:u,topDistanceAmount:h,topDistanceValue:p,topDistanceValuePercentage:f,rightDistanceTop:g,bottomDistanceAmount:m,bottomDistanceValue:b,bottomDistanceValuePercentage:S,bottomDistanceTop:y,leftDistanceTop:v}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.h(m,{measurements:this.measure()})}}class S extends i.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i}}=this.context,{edgesToMeasure:s}=this.props,a=e.x,r=a+e.width,l=e.y,c=l+e.height;let d=null,u=null,h=null,p=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,O=null,C=null,E=null,T=null,_=null,P=null,I=null,j=null,D=null;return s.includes("left")&&(d=0,h=Object(o.toPercentage)(a,n),u=Object(o.toPercentage)((l+c)/2,i),p=a,t&&(f=Object(o.percentageLength)(a,n))),s.includes("top")&&(m=0,b=Object(o.toPercentage)(l,i),g=Object(o.toPercentage)((a+r)/2,n),S=l,t&&(y=Object(o.percentageLength)(l,i))),s.includes("right")&&(v=Object(o.toPercentage)(r,n),C=Object(o.toPercentage)(n-r,n),O=Object(o.toPercentage)((l+c)/2,i),E=n-r,t&&(T=Object(o.percentageLength)(E,n))),s.includes("bottom")&&(j=Object(o.toPercentage)(c,i),_=Object(o.toPercentage)(i-c,i),D=Object(o.toPercentage)((a+r)/2,n),P=i-c,t&&(I=Object(o.percentageLength)(P,i))),{leftDistanceLeft:d,leftDistanceTop:u,leftDistanceAmount:h,leftDistanceValue:p,leftDistanceValuePercentage:f,topDistanceLeft:g,topDistanceTop:m,topDistanceAmount:b,topDistanceValue:S,topDistanceValuePercentage:y,rightDistanceLeft:v,rightDistanceTop:O,rightDistanceAmount:C,rightDistanceValue:E,rightDistanceValuePercentage:T,bottomDistanceLeft:D,bottomDistanceTop:j,bottomDistanceAmount:_,bottomDistanceValue:P,bottomDistanceValuePercentage:I}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.h(m,{measurements:this.measure()})}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1793);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(607);n(1794);t.default=function(e){const{x:t,y:n,width:s,height:a}=e,{snapshot:{width:r,height:l}}=this.context,c=Object(o.toPercentage)(n,l),d=Object(o.toPercentage)(t+s,r),u=Object(o.toPercentage)(n+a,l),h=Object(o.toPercentage)(t,r);return i.h("div",{class:"rulers"},i.h("div",{style:{top:c},class:"ruler horizontal"}),i.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.h("div",{style:{left:h},class:"ruler vertical"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1796);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1797),s=n(852),a=n(607),r=n(1745),l=n(1160);n(1803);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=()=>{};class u extends i.Component{constructor(...e){super(...e),c(this,"state",{layerWidthOnBottom:!1}),c(this,"processLayer",(e=>{if("group"===e.type){const t=e.layers.flatMap(this.processLayer);return"bottom"===e.interactionLevel?[e,...t]:"top"===e.interactionLevel?[...t,e]:t}return[e]})),c(this,"positionLayerWidth",(()=>{const{selectedLayer:e,componentLayer:t}=this.props,{layerWidthOnBottom:n}=this.state;if(e&&t&&this.nodeRefs){const{componentLayerTag:e,layerWidth:t,selectedLayerRef:i}=this.nodeRefs;if(!e||!t||!i)return;const o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a=e.getBoundingClientRect();if(n){const e=new DOMRect(o.x,s.y-24,o.width,o.height);Object(l.rectanglesIntersect)(e,a)||this.setState({layerWidthOnBottom:!1})}else{const e=Object(l.rectanglesIntersect)(o,a);e&&this.setState({layerWidthOnBottom:e})}}})),c(this,"renderLayer",(e=>{const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:a,edgeDistanceMode:r,selectedLayer:l,hoveredId:c,parentLayer:u,percentageMode:h,zoomLevel:p,isLayoutPaddingVisible:f,isLayoutGapVisible:g}=this.props,{snapshot:m,densityScale:b,dimensionSuffix:S}=this.context,{layerWidthOnBottom:y}=this.state,v=l===e,O=!(f||g)&&v&&!r&&(!c||c===e._id);return i.h(o.default,{key:e._id,selectedLayerRef:O?Object(s.default)(this,"selectedLayer"):d,layerWidthRef:O?Object(s.default)(this,"layerWidth"):d,showWidthLabelOnBottom:y,selected:v,shouldRenderDimensions:O,parentLayer:u,container:m,data:e,densityScale:b,dimensionSuffix:S,percentageMode:h,zoomLevel:p,isLayoutPaddingVisible:f,isLayoutGapVisible:g,isHovered:c===e._id,onSelect:t,onEnter:n,onLeave:a})})),c(this,"renderSelectedLayerParentIndicator",(()=>{const{selectedLayer:e,containsSelection:t}=this.props;if(!e||!e.parent||!t)return null;const n=e.parent.absoluteRect;if(!this.hasParentLayout()||this.componentLayer&&Object(r.areRectsIdentical)(n,this.componentLayer.rect))return null;const{snapshot:o}=this.context;return i.h("div",{class:"selectedLayerParentIndicator",style:{width:Object(a.toPercentage)(n.width,o.width),height:Object(a.toPercentage)(n.height,o.height),left:Object(a.toPercentage)(n.x,o.width),top:Object(a.toPercentage)(n.y,o.height)}},i.h("div",{class:"label"},"Parent"))}))}get componentLayer(){const{componentLayer:e}=this.props;return e&&e.props.componentLayer}flattenLayers(){return this.props.layers.flatMap(this.processLayer)}hasParentLayout(){const{selectedLayer:e}=this.props;return e&&e.parent&&e.parent.layout}componentDidUpdate(){this.positionLayerWidth()}render(){const{componentLayer:e,selectedLayer:t}=this.props,n=this.flattenLayers();return i.h("div",{class:"layers"},n.map(this.renderLayer),e&&i.cloneElement(e,{hasLayout:this.hasParentLayout()&&this.componentLayer&&Object(r.areRectsIdentical)(t.parent.absoluteRect,this.componentLayer.rect),componentLayerTagRef:Object(s.default)(this,"componentLayerTag")}),this.renderSelectedLayerParentIndicator())}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1798);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1799),s=n.n(o),a=n(607),r=n(724),l=n.n(r),c=n(968);n(1802);class Layer extends c.default{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){const{selected:e}=this.props;return e?i.h(i.Fragment,null,i.h("div",{class:"cornerCircle topLeftCircle"}),i.h("div",{class:"cornerCircle topRightCircle"}),i.h("div",{class:"cornerCircle bottomRightCircle"}),i.h("div",{class:"cornerCircle bottomLeftCircle"})):null}renderEdgeCircles(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;if(!e)return null;const o=[];return t>120&&o.push(i.h("div",{key:"tc",class:"edgeCircle topCircle"}),i.h("div",{key:"bc",class:"edgeCircle bottomCircle"})),n>120&&o.push(i.h("div",{key:"rc",class:"edgeCircle rightCircle"}),i.h("div",{key:"lc",class:"edgeCircle leftCircle"})),o}renderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props,o=t<3,s=n<3;if(e||!o&&!s)return null;const a=l()("hitRegion",{tooNarrow:o,tooShort:s});return i.h("div",{key:"hitRegion",class:a})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:o,dimensionSuffix:s,showWidthLabelOnBottom:r,shouldRenderDimensions:c,layerWidthRef:d}=this.props;if(!c)return null;const{platform:u,remPreferences:h}=this.context,p=l()("layerWidth",{showOnBottom:r}),f="web"===u&&"enabled"===h.status&&h.useForMeasurements;return e?[i.h("div",{key:"layerWidth",ref:d,class:p},Object(a.percentageLength)(t,e.rect.width)),i.h("div",{key:"layerHeight",class:"layerHeight"},Object(a.percentageLength)(n,e.rect.height))]:[i.h("div",{key:"layerWidth",ref:d,class:p},f?Object(a.toRemSize)(t/o,h.remRootFontSize):Object(a.round)(t/o,1)+s),i.h("div",{key:"layerHeight",class:"layerHeight"},f?Object(a.toRemSize)(n/o,h.remRootFontSize):Object(a.round)(n/o,1)+s)]}renderLayout(){const{selected:e,data:t,data:{constraints:n},container:o,percentageMode:a,zoomLevel:r,isLayoutPaddingVisible:l,isLayoutGapVisible:c,isHovered:d}=this.props;if(!e)return null;let u;if(n)for(u=t;u.parent&&u.sourceId!==n.relativeTo;)u=u.parent;return i.h(s.a,{layer:t,layoutParent:u,containerWidth:o.width,containerHeight:o.height,percentageMode:a,zoomLevel:r,isPaddingVisible:l,isGapVisible:c,isHovered:d})}render(){const{selected:e,parentLayer:t,data:{_id:n,absoluteRect:{width:o,height:s,x:r,y:c}},container:d,onLeave:u,selectedLayerRef:h}=this.props,p={width:Object(a.toPercentage)(o,d.width),height:Object(a.toPercentage)(s,d.height),left:Object(a.toPercentage)(r,d.width),top:Object(a.toPercentage)(c,d.height)};return i.h("div",{class:l()("zplLayer",{selected:e}),style:p,ref:h,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},this.renderLayerDimensions(),this.renderCornerCircles(),this.renderEdgeCircles(),this.renderLayout(),this.renderHitRegion(),t&&t._id===n&&i.h("div",{class:"parent"}))}}t.default=Layer},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1800);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=n(547),r=n(607);function l({layer:e,layoutParent:t,containerWidth:n,containerHeight:i,percentageMode:l,zoomLevel:c,isPaddingVisible:d,isGapVisible:u,isHovered:h},p){const{platform:f,densityScale:g,dimensionSuffix:m,remPreferences:b,spacingTokens:S}=p,{absoluteRect:y,constraints:v,layout:O,layers:C}=e,E=d||u,T=f===a.PLATFORM.WEB&&"enabled"===b.status&&b.useForMeasurements;function _(){const{direction:e}=O,t=C.slice();return"row"===e?t.sort(((e,t)=>e.absoluteRect.x-t.absoluteRect.x)):"column"===e&&t.sort(((e,t)=>e.absoluteRect.y-t.absoluteRect.y)),t}function P(e,t){return l?r.percentageLength(e,t):T?r.toRemSize(e/g,b.remRootFontSize):r.round(e/g,1)+m}function I(e,t){const n=S.filter((t=>t.value===e));return o.h("div",{class:"value"},Boolean(n.length)&&o.h(o.Fragment,null,o.h("div",null,n.map((({_id:e,token:t})=>o.h("span",{key:e,class:"spacingTokenName ellipsis"},t)))),o.h("div",{class:"divider"})),o.h("span",null,P(e,t)))}function j(e,t){const s=_()[t+1];if(!s)return null;const{direction:a,padding:l}=O,{absoluteRect:c}=e,{absoluteRect:d}=s;if("row"===a){const t=d.x-(c.x+c.width);if(t>=0){const i=(null==l?void 0:l.top)||0,s=(null==l?void 0:l.bottom)||0;return o.h("div",{class:"gap",style:{width:r.toPercentage(t,y.width),height:r.toPercentage(y.height-(i+s),y.height),top:r.toPercentage(i,y.height),left:r.toPercentage(e.rect.x+e.absoluteRect.width,y.width)}},o.h("div",{class:"gapDistance horizontal"},I(t,n),o.h("div",{class:"boundary left"}),o.h("div",{class:"boundary right"})))}}else if("column"===a){const t=d.y-(c.y+c.height);if(t>=0){const n=(null==l?void 0:l.left)||0,s=(null==l?void 0:l.right)||0;return o.h("div",{class:"gap",style:{width:r.toPercentage(y.width-(n+s),y.width),height:r.toPercentage(t,y.height),top:r.toPercentage(e.rect.y+e.absoluteRect.height,y.height),left:r.toPercentage(n,y.width)}},o.h("div",{class:"gapDistance vertical"},I(t,i),o.h("div",{class:"boundary top"}),o.h("div",{class:"boundary bottom"})))}}return null}return o.h("div",{class:s.default("selectedLayerLayout",{layoutPropertiesHighlighted:E})},function(){if(!h||!t||!v||E)return null;const{absoluteRect:e}=t,{horizontal:s,vertical:a}=v,{min:l,max:c}=s,{min:d,max:u}=a;let p,f,g,m;if(l){const t=y.x-e.x;p=o.h("div",{class:"pinnedIndicator left",style:{width:r.toPercentage(t,y.width),left:r.toPercentage(-t,y.width)}},o.h("span",{class:"value"},P(t,n)))}if(c){const t=e.width+e.x-(y.x+y.width);f=o.h("div",{class:"pinnedIndicator right",style:{width:r.toPercentage(t,y.width),right:r.toPercentage(-t,y.width)}},o.h("span",{class:"value"},P(t,n)))}if(d){const t=y.y-e.y;g=o.h("div",{class:"pinnedIndicator top",style:{height:r.toPercentage(t,y.height),top:r.toPercentage(-t,y.height)}},o.h("span",{class:"value"},P(t,i)))}if(u){const t=e.height+e.y-(y.y+y.height);m=o.h("div",{class:"pinnedIndicator bottom",style:{height:r.toPercentage(t,y.height),bottom:r.toPercentage(-t,y.height)}},o.h("span",{class:"value"},P(t,i)))}return o.h(o.Fragment,null,p,f,g,m)}(),function(){if(!O||!E)return null;const e=_(),{padding:t}=O;let a,l,h,p;return d&&t&&(t.left&&(a=o.h("div",{class:"paddingDistance left",style:{width:r.toPercentage(t.left,y.width)}},I(t.left,n),o.h("div",{class:"head"}),o.h("div",{class:"tail"}))),t.right&&(l=o.h("div",{class:"paddingDistance right",style:{width:r.toPercentage(t.right,y.width)}},I(t.right,n),o.h("div",{class:"head"}),o.h("div",{class:"tail"}))),t.top&&(h=o.h("div",{class:"paddingDistance top",style:{height:r.toPercentage(t.top,y.height)}},I(t.top,i),o.h("div",{class:"head"}),o.h("div",{class:"tail"}))),t.bottom&&(p=o.h("div",{class:"paddingDistance bottom",style:{height:r.toPercentage(t.bottom,y.height)}},I(t.bottom,i),o.h("div",{class:"head"}),o.h("div",{class:"tail"})))),o.h("div",{class:s.default("layoutShadow",{gapHighlighted:u}),style:{paddingLeft:r.toPercentage(t.left||0,y.width),paddingRight:r.toPercentage(t.right||0,y.width),paddingTop:r.toPercentage(t.top||0,y.width),paddingBottom:r.toPercentage(t.bottom||0,y.width)}},d&&o.h("div",{class:"paddingIndicator",style:{borderLeftWidth:(t.left||0)*c,borderRightWidth:(t.right||0)*c,borderTopWidth:(t.top||0)*c,borderBottomWidth:(t.bottom||0)*c}}),u&&e.map(j),a,l,h,p)}(),function(){if(!O)return null;const{direction:e,distribution:t,itemAlignment:n}=O;let i,a;return"center"===t&&(i=o.h("div",{key:"alignmentIndicatorOne",class:s.default("alignmentIndicator","row"===e?"vertical":"horizontal")})),"center"===n&&(a=o.h("div",{key:"alignmentIndicatorTwo",class:s.default("alignmentIndicator","row"===e?"horizontal":"vertical")})),o.h(o.Fragment,null,i,a)}())}n(1801),l.defaultProps={zoomLevel:1},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1805);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={src:null}}getProps(e,t){return t.snapshot?t.snapshot:e.snapshot?e.snapshot:e}componentDidMount(){this.setState({src:this.getProps(this.props,this.context).url},(()=>{const{onImageSrcSet:e}=this.props;e&&e(this.state.src)}))}componentWillReceiveProps(e,t){const{src:n}=this.state,{url:i}=this.getProps(e,t);n!==i&&this.setState({src:i})}render(){const{class:e,style:t,onError:n}=this.props,{src:o}=this.state,{width:s,height:a}=this.getProps(this.props,this.context);return i.h("img",{class:e,style:t,width:s,height:a,src:o,crossOrigin:"anonymous",onError:n})}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1807);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731),s=n(590),a=n.n(s),r=n(724),l=n.n(r),c=n(686),d=n(607);n(1808);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"handleTagClick",(()=>{const{onTagClick:e}=this.props;e&&e()})),u(this,"handleVariantsButtonClick",(e=>{const{onVariantsButtonClick:t,componentLayer:{_id:n}}=this.props;e.stopPropagation(),t(n)}))}render(){const{barrelId:e,barrelType:t,containerName:n,componentLayer:s,containerWidth:r,containerHeight:u,zoomLevel:h,componentLayerTagRef:p,hasLayout:f}=this.props;if(!s)return null;const{_id:g,name:m,rect:{width:b,height:S,x:y,y:v},variant:O}=s,C=t===a.a.PROJECT?"project-styleguide-components":"styleguide-components",E=Object(c.urlResolve)(C,{url:{bid:e},query:{coid:g}}),T={width:Object(d.toPercentage)(b,r),height:Object(d.toPercentage)(S,u),left:Object(d.toPercentage)(y,r),top:Object(d.toPercentage)(v,u)},_=Math.min(b*h,240),P=O?36:null;return i.h("div",{class:l()("componentLayer",{hasLayout:f}),style:T},i.h("div",{class:"componentLayerControls",style:{maxWidth:_,minWidth:P}},i.h("a",{ref:p,href:E,title:m,onClick:this.handleTagClick,"data-link-type":"inApp","data-back":n},_>62&&i.h("span",{class:"componentLayerName ellipsis"},f&&"Parent: ",m),i.h(o.IconGoTo,{width:"12",height:"12",color:"#fff"})),O&&i.h(i.Fragment,null,i.h("div",{class:"variantsSeperator"}),i.h("button",{type:"button",onClick:this.handleVariantsButtonClick},i.h(o.IconVariants,{width:"14",height:"14",color:"#fff"})))))}}h.defaultProps={zoomLevel:1},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1810);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1811),s=n.n(o),a=n(1541),r=n(1813),l=n(724),c=n.n(l),d=n(544),u=n(1203),h=n.n(u),p=n(1386),f=n.n(p),g=n(710),m=n.n(g),b=n(953),S=n.n(b);n(1814);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(...e){super(...e),y(this,"state",{visibleTiles:new Set,isInitialTileLoaded:!1}),y(this,"calculateProcessingDimensions",((e,t)=>({processingWidth:240,processingHeight:Math.min(Math.round(240/e*t),520)}))),y(this,"onLoad",(()=>{if(!this.state.isInitialTileLoaded){const{onInitialTileLoad:e,imageSrc:t}=this.props;e&&e(t)}this.setState({isInitialTileLoaded:!0})})),y(this,"generateImageTiles",Object(r.memoize)(((e,t,n,i,o)=>{const s=Math.ceil(e/n);return o.map(((o,a)=>{const r=Math.floor(a/s),l=a%s,c=r*i,d=l*n;return{row:r,column:l,url:o,width:Math.min(n,e-d),height:Math.min(i,t-c)}}))}))),y(this,"handleEnterViewport",((e,t)=>{this.setState({visibleTiles:this.state.visibleTiles.add(t)})})),y(this,"handleAboutToEnterViewport",((e,t)=>{Object(a.prefetch)(t,{crossOrigin:"anonymous"})})),y(this,"renderProcessingState",(()=>{const{imageWidth:e,imageHeight:t,imageSrc:n,imageProcessingHintboxSeen:o}=this.props,{processingWidth:s,processingHeight:a}=this.calculateProcessingDimensions(e,t);return i.h(i.Fragment,null,i.h(S.a,{contentClass:"hintboxPopover",content:i.h(f.a,{class:"imageProcessingHintbox",hideButtonText:"Got it!",onHideClick:m.a.hideImageProcessingHintbox},"We’re currently optimizing the screen to display it in a performant way!"),open:!o,targetNode:document.querySelector("header"),showAnchor:!0,centerX:!0,centerY:!1,faceLeft:!0,faceTop:!1,top:53,key:"imageProcessingHintbox"}),i.h(h.a,{source:n,width:s,height:a,class:"screenProcessingPlaceholder"}))})),y(this,"renderImageTiles",(()=>{const{tileInfo:{urls:e,width:t,height:n,snapshotWidth:o,snapshotHeight:a},style:r,zoomLevel:l,screenViewRef:u,imageWidth:h,class:p}=this.props,{visibleTiles:f}=this.state,g=this.generateImageTiles(o,a,t,n,e),m=h/o,b=Object(d.getBrowser)()===d.BROWSER.SAFARI;return i.h("div",{className:"snapshotTilesWrapper",style:r},g.map((({url:e,width:n,height:o})=>{const a=n*l*m,r=o*l*m,d={width:a,height:r},h=(.25+l)*t*m,g=f.has(e)?e:null;return i.h(s.a,{key:e,targetStyle:d,options:{root:u,rootMargin:b?`${h}px`:"0px"},onEnter:this.handleEnterViewport,onAboutToEnter:this.handleAboutToEnterViewport,observedItem:e,offScreenMargin:h},i.h("img",{decoding:b?"async":"auto",className:c()(p,{offscreenTile:!g}),alt:"",style:d,width:a,height:r,src:g,crossOrigin:"anonymous",onLoad:this.onLoad}))})))}))}componentDidUpdate({imageSrc:e}){const{imageSrc:t}=this.props;e!==t&&this.setState({isInitialTileLoaded:!1})}render(){const{tileInfo:e}=this.props;return e&&"processing"===e.status?this.renderProcessingState():e?this.renderImageTiles():null}}t.default=v},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1812);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(852)),a=n(610);function r(e,t,n){var i;const o=null!==(i=null==n?void 0:n.threshold)&&void 0!==i?i:0,s=Array.isArray(o)?Math.min(...o):o;return e&&t>=s}class l extends o.Component{constructor(){super(...arguments),this.observer=null,this.state={observedEntry:null},this.observeIntersection=()=>{var e;const t=null===(e=this.nodeRefs)||void 0===e?void 0:e.intersectionTarget;if(!t)throw new Error("Target element is missing to be observed. Be sure, you did not mutate it.");const{options:n}=this.props,i=this.handleIntersect(n);this.observer=new IntersectionObserver(i,n),this.observer.observe(t)},this.unObserveIntersection=()=>{var e;const t=null===(e=this.nodeRefs)||void 0===e?void 0:e.intersectionTarget;t&&this.observer&&this.observer.unobserve&&this.observer.unobserve(t)},this.listenScrollIfNecessary=()=>{const{onAboutToEnter:e,options:{root:t}={}}=this.props;e&&t&&t.addEventListener("scroll",this.handleScrollPositionChange)},this.removeListeningScrollIfNecessary=()=>{const{onAboutToEnter:e,options:{root:t}={}}=this.props;e&&t&&t.removeEventListener("scroll",this.handleScrollPositionChange)},this.handleAboutToEnter=(e,t)=>{const{options:n}=this.props,{boundingClientRect:i,rootBounds:o,isIntersecting:s,intersectionRatio:a}=e;if(r(s,a,n))return;const l=null!=t?t:i,{offScreenMargin:c,onAboutToEnter:d,observedItem:u}=this.props;(function(e,t){return!(t.left>=e.right||t.top>=e.bottom||t.right<=e.left||t.bottom<=e.top)})(l,function(e,t=0){const n={top:e.top-t,right:e.right+t,bottom:e.bottom+t,left:e.left-t};return Object.assign(Object.assign({},n),{width:n.right-n.left,height:n.bottom-n.top})}(o,c))&&d&&d(e,u)},this.handleOffscreen=(e,t)=>{const{onLeave:n,onAboutToEnter:i}=this.props;n&&n(e,t),i&&this.handleAboutToEnter(e)},this.handleVisible=(e,t)=>{const{onEnter:n}=this.props;n&&n(e,t)},this.handleScrollPositionChange=a.throttle((()=>{var e,t;const{observedEntry:n}=this.state;if(!n)return;const i=null===(t=null===(e=n)||void 0===e?void 0:e.target)||void 0===t?void 0:t.getBoundingClientRect();this.handleAboutToEnter(n,i)}),500)}handleIntersect(e){return t=>{const{observedItem:n}=this.props;t.forEach((t=>{const{isIntersecting:i,intersectionRatio:o}=t,s=r(i,o,e);this.setState({observedEntry:t}),s?this.handleVisible(t,n):this.handleOffscreen(t,n)}))}}componentDidMount(){this.observeIntersection(),this.listenScrollIfNecessary()}componentDidUpdate(e){const{options:t}=this.props;(function(e,t){try{return JSON.stringify(e)!==JSON.stringify(t)}catch(n){return console.warn(n),!0}})(e.options,t)&&(this.unObserveIntersection(),setTimeout(this.observeIntersection))}componentWillUnmount(){this.unObserveIntersection(),this.removeListeningScrollIfNecessary()}render(){const{targetClass:e,targetStyle:t,children:n}=this.props;return o.h("div",{ref:s.default(this,"intersectionTarget"),style:t,className:e},n)}}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0;t.memoize=function(e,t,n=5e4,i=3e5){const o=new Map,s=Date.now();return function(...a){try{(o.size>n||Date.now()>s+i)&&o.clear();const r=t?t(a):JSON.stringify(a);if(o.has(r))return o.get(r);const l=e.apply(this,a);return o.set(r,l),l}catch(r){return console.warn("Trying to memoize improper arguments. So, this is no-op.",r),e.apply(this,a)}}}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchFutureScreens=void 0;const o=n(1541),s=i(n(691));t.prefetchFutureScreens=function(e,t){const n=[s.default.getPreviousScreen(e),s.default.getNextScreen(e),...t.map((({id:e})=>s.default.getScreen({sid:e})))].filter(Boolean);if(!n.length)return;n.map((e=>e.versions[0].snapshot)).map((({tileInfo:e,url:t})=>!e&&t)).filter(Boolean).forEach((e=>e&&o.prefetch(e,{crossOrigin:"anonymous"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1818),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(1149),r=i(n(1819)),l=i(n(1823)),c=i(n(1826)),d=i(n(888)),u=n(731),h=i(n(724)),p=n(959),f=n(1821),g=i(n(1829)),m=i(n(1830));n(1831),t.default=function(e){const{screenViewRef:t,componentName:n,componentURL:i,screenName:b,snapshot:S,platform:y,spacingTokens:v,remPreferences:O,stateVariants:C,otherVariants:E,selectedLayer:T,destinationLayer:_,largestOfVariants:P,isLayoutPaddingVisible:I,isLayoutGapVisible:j}=e,D=s.useRef(),[k,R]=s.useState(null);function A(e){g.default.changeVariant({coid:e,variantChangeValueSource:m.default.BUTTON,isState:!0})}function w(e){g.default.changeVariant({coid:e,variantChangeValueSource:m.default.BUTTON,isState:!1})}s.useEffect((()=>(T?document.addEventListener("click",g.default.deselectLayer):document.removeEventListener("click",g.default.deselectLayer),()=>document.removeEventListener("click",g.default.deselectLayer))),[!!T]),a.useDidMountEffect((()=>{const e=document.querySelector(".screenViewContainer");if(!e)return;const t=document.querySelector(".componentLayer"),{width:n,height:i}=S,o=Math.min(720,i+36+46),s=(null==t?void 0:t.getBoundingClientRect())||{height:0,top:0},a=e.getBoundingClientRect(),r=s.top-a.top+(s.height-o)/2,l=a.right-n;R({x:l,y:r})}));const N=P.width+f.MIN_HORIZONTAL_PADDING_BOTH_SIDES,L=N>f.MAX_IMAGE_WIDTH?f.MAX_IMAGE_WIDTH:N,M={minWidth:Math.max(f.MIN_IMAGE_WIDTH,L),maxWidth:Math.min(f.MAX_IMAGE_WIDTH,P.width+f.MAX_HORIZONTAL_PADDING_BOTH_SIDES)};if(!k)return null;const{x:x,y:U}=k;return o.h(c.default,{offset:{top:12,right:12,bottom:52,left:12},x:x,y:U},o.h("div",{ref:D,class:"componentVariantView",onClick:function(e){e.stopPropagation(),g.default.deselectLayer()},style:M},o.h("div",{class:"componentInspect",style:{minHeight:P.height+f.MAX_VERTICAL_PADDING_BOTH_SIDES}},o.h(r.default,{platform:y,snapshot:S,spacingTokens:v,remPreferences:O,selectedLayer:T,destinationLayer:_,isLayoutPaddingVisible:I,isLayoutGapVisible:j,onLayerSelect:function(e,t){e.stopPropagation(),g.default.selectLayer(t)},onLayerEnter:g.default.enterLayer,onLayerLeave:g.default.leaveLayer})),o.h("div",{class:"variantInfo"},C?C.filter((({coid:e})=>!e)).length===C.length?null:o.h(d.default,{onChange:A,class:"stateVariantsDropdown",optionsClass:"stateVariantsDropdownOptions"},C.map((({name:e,coid:t,selected:n})=>o.h(d.default.Item,{class:h.default("stateVariantDropdownItem",{disabled:!t}),key:e,value:t,label:e,selected:n})))):null,0===E.length?null:o.h(l.default,{variants:E,onChangeVariant:w})),o.h("button",{class:"closeButton",onClick:g.default.close},o.h(u.IconHintClose,{width:14,height:14})),o.h("button",{class:"copyButton",onClick:function(){p.copyContent({content:i,toastContainer:t}),mixpanel.master.track("Copied component variant link"),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Variant pop-up"})}},o.h(u.IconCustomLink,{width:16,height:16,class:"copyButtonIcon",color:"var(--teflon)"})),o.h("a",{onClick:function(){mixpanel.master.track("Navigated to component from screen",{Source:"Variant pop-up"})},href:i,title:n,"data-link-type":"inApp","data-back":b},o.h("span",{class:"ellipsis"},n),o.h(u.IconGoTo,{width:12,height:12,color:"#fff"}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1820);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1787)),r=n(1821),l=i(n(724)),c=n(582);n(1822),t.default=function({platform:e,snapshot:t,selectedLayer:n,destinationLayer:i,remPreferences:d,spacingTokens:u,isLayoutPaddingVisible:h,isLayoutGapVisible:p,onLayerSelect:f,onLayerEnter:g,onLayerLeave:m}){const[b,S]=s.useState("dark");s.useEffect((()=>{c.getImageProperties(t.url).then((({lightness:e})=>S(e))).catch((()=>{S("dark")}))}),[t.url]);let y=t.width,v=t.height;if(t.width>r.MAX_IMAGE_WIDTH){const e=r.MAX_IMAGE_WIDTH/y;y*=e,v*=e}if(t.height>r.MAX_IMAGE_HEIGHT){const e=r.MAX_IMAGE_HEIGHT/v;y*=e,v*=e}const O={width:y,height:v};return o.h(a.default,{class:l.default("componentVariantInspect",{dark:"dark"===b}),platform:e,snapshot:t,remPreferences:d,spacingTokens:u,style:O},o.h(a.default.Image,{style:O,key:`componentVariantSnapshotImage-${t.url}`}),function(){if(!n)return null;const{absoluteRect:{x:e,y:t,width:i,height:s}}=n;return o.h(a.default.Rulers,{key:"rulers",x:e,y:t,width:i,height:s})}(),t.layers&&0!==t.layers.length?o.h(a.default.Layers,{key:"layers",layers:t.layers,selectedLayer:n,hoveredId:i?i._id:null,isLayoutPaddingVisible:h,isLayoutGapVisible:p,containsSelection:Boolean(n),onLayerSelect:f,onLayerEnter:g,onLayerLeave:m}):null,h||p||!n||!i?null:o.h(a.default.Distances.BetweenLayers,{key:"distances",sourceRect:n.absoluteRect,destRect:i.absoluteRect}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_VERTICAL_PADDING_BOTH_SIDES=t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_IMAGE_HEIGHT=t.MIN_IMAGE_WIDTH=t.MAX_IMAGE_WIDTH=void 0,t.MAX_IMAGE_WIDTH=1080,t.MIN_IMAGE_WIDTH=180,t.MAX_IMAGE_HEIGHT=720,t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=216,t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=36,t.MAX_VERTICAL_PADDING_BOTH_SIDES=36},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1824);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724)),r=n(731),l=i(n(1316)),c=i(n(890));n(1825),t.default=function({variants:e,onChangeVariant:t}){const[n,i]=s.useState(!1),d=s.useRef();function u(){i(!1)}function h(e){t(e),u()}const p=e.reduce(((e,t)=>t.values.reduce(((e,{name:t,selected:n})=>n?[...e,t]:e),e)),[]).join(", ");return o.h(o.Fragment,null,o.h("button",{type:"button",ref:d,class:a.default("otherVariants",{open:n}),onClick:function(){i(!n)}},o.h("span",{class:"ellipsis"},p),o.h(r.IconArrowDown,{width:9,color:"var(--gandalf)"})),n&&o.h(c.default,{didRender:function(e){if(!d.current)return;const t=d.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=12,o=t.bottom,s=t.left;let a,r;r=o<i?i:o+n.height+i>window.innerHeight?window.innerHeight-n.height-i:o,a=s+n.width+i>window.innerWidth?window.innerWidth-n.width-i:s,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}},o.h(l.default,{onChange:t,onClose:u,class:"otherVariantsMenu"},e.map((function(e){const{name:t,values:n}=e;return o.h(l.default.Submenu,{content:t},n.map((({name:e,coid:t,selected:n})=>o.h(l.default.Switch,{key:e,content:e,name:t,disabled:!t,value:n,onClick:h}))))})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1827);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(223),s=n(1149),a=n(607);n(1828),t.default=function({children:e,x:t=0,y:n=0,offset:r=0}){var l,c,d,u,h;const p=o.useRef(),[f,g]=o.useState(!1),[m,b]=o.useState({x:0,y:0}),[S,y]=o.useState({x:0,y:0}),[v,O]=o.useState({x:t,y:n}),[C,E]=o.useState("hidden");function T(e){e.preventDefault(),e.stopPropagation(),y({x:e.clientX-m.x,y:e.clientY-m.y})}function _(e){e.preventDefault(),e.stopPropagation(),g(!1)}o.useEffect((()=>(f?(document.addEventListener("mousemove",T),document.addEventListener("mouseup",_)):(document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",T)),()=>{document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",T)})),[f]),s.useDidMountEffect((()=>E("visible")));const{width:P=0,height:I=0}=null!==(d=null===(c=null===(l=p.current)||void 0===l?void 0:l.parentElement)||void 0===c?void 0:c.getBoundingClientRect())&&void 0!==d?d:{},{width:j=0,height:D=0}=null!==(h=null===(u=p.current)||void 0===u?void 0:u.getBoundingClientRect())&&void 0!==h?h:{};let k,R,A,w;"number"==typeof r?(k=r,R=r,A=r,w=r):({top:k,right:R,bottom:A,left:w}=r);const N={transform:`translate(${a.clamp(v.x+S.x,w,P-j-R)}px, ${a.clamp(v.y+S.y,k,I-D-A)}px)`,visibility:C};return i.h("div",{ref:p,style:N,class:"draggablePanel",onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),O({x:v.x+S.x,y:v.y+S.y}),b({x:e.clientX,y:e.clientY}),y({x:0,y:0}),g(!0)}},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(648)),s=i(n(567)),a={open(e,t){const{selectedLayer:n}=s.default.ScreenStore.getState();s.default.dispatcher.dispatch({type:o.default.OPEN,coid:e,sourceLayerId:n&&n._id,variantPopupSource:t})},close(){s.default.dispatcher.dispatch({type:o.default.CLOSE})},selectLayer(e){s.default.dispatcher.dispatch({type:o.default.SELECT_LAYER,layer:e})},enterLayer(e){s.default.dispatcher.dispatch({type:o.default.ENTER_LAYER,layer:e})},leaveLayer(){s.default.dispatcher.dispatch({type:o.default.LEAVE_LAYER})},deselectLayer(){s.default.dispatcher.dispatch({type:o.default.DESELECT_LAYER})},changeVariant({coid:e,variantChangeValueSource:t,isState:n}){s.default.dispatcher.dispatch({type:o.default.CHANGE_VARIANT,coid:e,variantChangeValueSource:t,isState:n})}};t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="Button",e.SHORTCUT="Shortcut"}(i||(i={})),t.default=i},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1833);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(1834),r=n(1837),l=n(1840),c=n(1843),d=n(1846),u=n(1848),h=n.n(u),p=n(545);n(1852);const f=Object(p.featureValue)("popout");function g(e){return i.h("div",{class:"widgets"},i.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:o}=e;return t?null:i.h(a.default,{onClick:o,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:o,onZoomChange:s}=e;return i.h(r.default,{value:t,onZoomIn:n,onZoomOut:o,onChange:s})}(e),function(e){const{onPopoutWidgetClick:t}=e;return p.isWindowsApp?i.h(l.default,{disabled:!f,onClick:t}):null}(e)),i.h("div",{class:"widgetGroup"},function(e){const{latestVersionSelected:t,notesVisible:n,onAddNoteWidgetClick:o,onNotesVisibilityChange:s,fetchingNotes:a,noNotes:r,notesStatusFilter:l,notesColorFilter:u,disableFilterNotesDropdown:p,dotCount:f,onFilterNotesChange:g}=e;return t?i.h(i.Fragment,null,i.h(c.default,{onClick:o}),i.h(d.default,{notesVisible:n,onChange:s}),i.h(h.a,{class:"widget",top:-146,fetchingNotes:a,noNotes:r,statusFilter:l,colorFilter:u,dotCount:f,disabled:p,onFilterChange:g})):null}(e)))}g.propTypes={latestVersionSelected:s.a.bool.isRequired,versionsVisible:s.a.bool.isRequired,hasNewVersions:s.a.bool.isRequired,onVersionsToggleClick:s.a.func.isRequired,zoomLevel:s.a.number.isRequired,onZoomIn:s.a.func.isRequired,onZoomOut:s.a.func.isRequired,onZoomChange:s.a.func.isRequired,onPopoutWidgetClick:s.a.func.isRequired,onAddNoteWidgetClick:s.a.func.isRequired,notesVisible:s.a.bool.isRequired,onNotesVisibilityChange:s.a.func.isRequired,noNotes:s.a.bool.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1835);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(731);n(1836);function c(e){const{hasNewVersions:t,onClick:n}=e;return i.h("button",{class:r()("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.h(l.IconHourGlass,null))}c.propTypes={hasNewVersions:s.a.bool.isRequired,onClick:s.a.func.isRequired},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1838);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(831),r=n(653),l=n.n(r);n(1839);class c extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.h("div",{class:"zoomWidget widget"},i.h(a.default,{disabled:e<=r.ZOOM_LEVEL_MIN,onClick:n},i.h("div",{class:"minus"})),i.h("select",{id:"zoomDropdown",onChange:this.handleChange},l.a.map((t=>i.h("option",{key:t,value:t,selected:e===t},100*t,"%")))),i.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.h(a.default,{disabled:e>=r.ZOOM_LEVEL_MAX,onClick:t},i.h("div",{class:"plus"})))}}c.propTypes={value:s.a.number.isRequired,onZoomIn:s.a.func.isRequired,onZoomOut:s.a.func.isRequired,onChange:s.a.func.isRequired},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1841);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(731),r=n(1188),l=n(724),c=n.n(l);n(1842);function d(e){const{disabled:t,onClick:n}=e;return i.h(r.default,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.h("button",{class:c()("popoutWidget",{disabled:t}),onClick:t?null:n},i.h(a.IconPopout,null)))}d.propTypes={disabled:s.a.bool.isRequired,onClick:s.a.func.isRequired},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1844);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(731),r=n(544);n(1845);class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){const e=Object(r.getOS)()===r.OS.MAC?"⌘":"Ctrl";return i.h("button",{class:"widget addNoteWidget",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},i.h("span",{class:"shortcut"},e,i.h(a.IconCursorPointer,{class:"cursorPointer"})),i.h(a.IconAddNote,{class:"addNoteIcon"}))}}l.propTypes={onClick:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(968),r=n(841);n(1847);class l extends a.default{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.h(r.default,{asset:e?"img/maymusOpen.png":"img/maymusClose.png"}))}}l.propTypes={notesVisible:s.a.bool.isRequired,onChange:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1849);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(888)),a=i(n(1180)),r=i(n(724)),l=n(583),c=n(631),d=i(n(1850)),u=n(586);function h({color:e,count:t,status:n,fetchingNotes:i,noNotes:s}){let r;return r=i?"Fetching…":s?"No notes yet":l.pluralize(t>0?t:"No",d.default[n].slice(0,-1)),o.h("div",{class:"statusFilterLabel"},e&&o.h(a.default,{class:"statusFilterLabelColor",color:e,selected:!1}),r)}n(1851),t.default=function({class:e,statusFilter:t,colorFilter:n,dotCount:i,top:l,disabled:p,fetchingNotes:f,noNotes:g,onFilterChange:m}){function b(e,i){m(t,n===i?null:i)}return o.h(s.default,{disabled:p,alignRight:!0,class:r.default("filterNotesDropdown",e),top:l,onChange:function(e){t!==e&&m(e,n)}},u.entriesOf(d.default).map((([e,a])=>o.h(s.default.Item,{key:e,label:o.h(h,{color:n,count:i,status:e,fetchingNotes:f,noNotes:g}),value:e,selected:t===e},o.h("span",{class:"noteStatusFilterItem"},a)))),o.h("div",{class:"noteFilterSeparator"}),o.h("div",{class:"noteColorFilter"},c.colorNames.map((e=>o.h(a.default,{key:e,class:"noteColorFilterItem",color:e,selected:e===n,onClick:b})))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(650)),s={[o.default.Open]:"Open Notes",[o.default.Mentioned]:"Mentioned Notes",[o.default.Resolved]:"Resolved Notes"};t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1854);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(1149),r=i(n(1855)),l=i(n(831)),c=n(731),d=i(n(1316)),u=n(547),h=i(n(724)),p=n(607),f=n(959);n(1861);t.default=function(e,t){const{canManageScreens:n}=t,{screenVariants:i,onSelect:g,onRename:m,onReorder:b,onDelete:S,onRemove:y}=e,v=e.selectedVariantId||i[0].id,[O,C]=s.useState(0),[E,T]=s.useState(!1),[_,P]=s.useState(!1),I=s.useRef(),j=s.useRef(),D=i.findIndex((({id:e})=>e===v)),k=i.length-O,R=D>k-1,A=O>0;function w(e){if(!f.isEditableElement(e.target))if(e.altKey&&e.key===u.Keyboard.Key.ArrowLeft){const e=p.mod(D-1,i.length),t=i[e];g(t.id,!0),e<k?M():L()}else if(e.altKey&&e.key===u.Keyboard.Key.ArrowRight){const e=p.mod(D+1,i.length),t=i[e];g(t.id,!0),e>=k?L():M()}else e.key===u.Keyboard.Key.Escape&&(_?U():E&&M())}function N(e){var t;const n=null===(t=j.current)||void 0===t?void 0:t.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||n||U()}function L(){T(!0),_&&U()}function M(){T(!1)}function x(){P(!0)}function U(){P(!1)}return s.useLayoutEffect((()=>{var e,t;if((null!==(t=null===(e=I.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0)>720){C(O+1)}})),a.useDidMountWillUnmountEffect((()=>(document.addEventListener("click",N),()=>{document.removeEventListener("click",N)}))),s.useEffect((()=>(document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)})),[v,_,E]),o.h("div",{ref:I,class:"screenVariantToggle"},o.h("div",{class:"iconWrapper"},o.h(c.IconScreenVariant,null)),o.h("div",{class:"variants"},i.slice(0,k).map(((e,t)=>{const{id:n,variantName:i}=e,s=n===v,a=t<D;return o.h(l.default,{key:n,onClick:(r=n,()=>g(r)),class:h.default("variantButton","ellipsis",{beforeSelected:a,selected:s}),ninja:!s,primary:s,secondary:!s},i);var r})),(n||A)&&o.h(o.Fragment,null,o.h(l.default,{baseRef:j,class:h.default("screenVariantsMenuButton",{focus:_||R}),onClick:A?L:x},o.h(c.IconMenu,{width:20,height:20,color:"var(--gandalf)"})),E&&o.h(d.default,{class:"screenVariantsMenu",onChange:function(e,t){"edit"===t?x():g(t)},onClose:M},o.h(d.default.Picker,{name:"otherScreenVariants",value:v,options:i.slice(k).map((({id:e,variantName:t})=>({name:t,value:e})))}),o.h(d.default.Divider,null),n&&o.h(d.default.Button,{name:"edit"},"Manage variants")),_&&o.h(r.default,{class:"manageScreenVariants",screenVariants:i,onClose:U,onRename:m,onReorder:b,onDelete:S,onRemove:y}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1856);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(831)),a=i(n(1857)),r=n(610);n(1860),t.default=function({class:e,screenVariants:t,onClose:n,onRename:i,onReorder:l,onDelete:c,onRemove:d}){return o.h("div",{onClick:r.stopPropagation,class:e},o.h("div",{class:"manageScreenVariantsContainer"},o.h("div",{class:"scrollableWrapper"},t.map((({id:e,variantName:t},n)=>o.h(a.default,{index:n,key:e,id:e,value:t,onBlur:i,onRemove:d,onDelete:c,onReorder:l})))),o.h("div",{class:"manageScreenVariantsFooter"},o.h(s.default,{onClick:n,ninja:!0},"Done"))))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),l=n(223),c=n(1157),d=n(731),u=s(n(1858)),h=n(547),p=c.DragSource({itemType:"ScreenVariantInput",allowX:!1,mirrorComponent:e=>{var t=a(e,[]);return r.h(u.default,Object.assign({mirror:!0},t))},provideDragData:e=>e,getSourceRef:({getSourceRef:e})=>e(),onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()})(d.IconSectionDrag),f=u.getScreenVariantInput(p),g=c.DropTarget({acceptsItemType:"ScreenVariantInput",discardHorizontalPosition:!0,onHover:({onHover:e},t)=>e(t),onHoverOut:({onHoverOut:e})=>e(),onDrop:({onDrop:e},t)=>e(t)})(f);t.default=function(e){const t=l.useRef(),[n,i]=l.useState(!1),[o,s]=l.useState(null);return r.h(g,Object.assign({baseRef:t,dragging:n,movePosition:o,onStartDrag:function(){i(!0)},onEndDrag:function(){i(!1)},onHover:function({mirrorPosition:e}){var n;const i=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect();if(!i)return;const o=i.top+i.height/2;s(e.top>o?h.DragDropTargetPosition.BOTTOM:h.DragDropTargetPosition.TOP)},onHoverOut:function(){s(null)},onDrop:function({dragData:{id:t,index:n}}){const{index:i,onReorder:s}=e;let a=i;n>i&&o===h.DragDropTargetPosition.BOTTOM?a+=1:n<i&&o===h.DragDropTargetPosition.TOP&&(a-=1),n!==a&&s(t,a)}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getScreenVariantInput=void 0;const o=n(4),s=n(223),a=n(731),r=n(1027),l=n(547),c=i(n(724));function d(e){function t(t){const{baseRef:n,id:i,value:d,dragging:u,movePosition:h,mirror:p,onBlur:f,onRemove:g,onDelete:m}=t,[b,S]=s.useState(d),[y,v]=s.useState(!1),O=s.useRef();return s.useEffect((()=>{S(d)}),[d]),o.h("div",{class:c.default("screenVariantInputWrapper",h,{hidden:u,mirror:p}),ref:function(e){null!==e&&(O.current=e,n.current=e)}},o.h("div",{class:"screenVariantInput"},e?o.h(e,Object.assign({},t,{class:"dragIcon draggable",getSourceRef:function(){return O.current}})):o.h(a.IconSectionDrag,{class:"dragIcon"}),o.h("input",{type:"text",name:"screenVariantName",value:b,onKeyDown:function(e){if(e.key===l.Keyboard.Key.Escape){e.preventDefault(),S(d);const t=e.target;setTimeout((()=>{t.blur()}),0)}else e.key===l.Keyboard.Key.Enter&&(e.preventDefault(),e.target.blur())},onBlur:function(){d!==b.trim()&&f(i,b)},onInput:function(e){S(e.target.value)},maxLength:100}),o.h("button",{type:"button",onClick:function(){v(!0)}},o.h(a.IconDelete,null))),y&&o.h(r.BasicOverlayDialog,{class:"differentTypeDialog",onPositiveButtonClick:function(){g(i)},onFallbackButtonClick:function(){m(i)},onClose:function(){v(!1)},positiveButtonText:"REMOVE AS VARIANT",negativeButtonText:"CANCEL",fallbackButtonText:"DELETE VARIANT",hideNegativeButton:!1,width:600,title:`Remove “${d}” as variant?`,message:o.h(o.Fragment,null,o.h("p",null,"Removing “",d,"” as variant will move it to the project dashboard as an individual screen."),o.h("br",null),o.h("p",null,"You can also delete the variant entirely. Deleted variants cannot be restored."))}))}return e=>o.h(t,Object.assign({},e))}n(1859),t.getScreenVariantInput=d;const u=d();t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HEADER="Header",e.LAYER_DETAIL="Layer detail",e.SHORTCUT="Shortcut",e.NOTE="Note"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(590)),s=n(686);function a(e,t,n){var i;for(const o of n.components)if(o._id!==e._id&&o.variant&&o.variant.values.length===(null===(i=e.variant)||void 0===i?void 0:i.values.length)){if(!o.variant.values.find((n=>{var i;if(n.propertyId===t.propertyId)return n.value!==t.value;const o=null===(i=e.variant)||void 0===i?void 0:i.values.find((e=>e.propertyId===n.propertyId));return!o||o.value!==n.value})))return o}for(const o of n.componentSections){const n=a(e,t,o);if(n)return n}return null}t.default=function(e,t,n){var i;const{ancestors:r,component:l}=e,c=r.find((e=>!!e.variant)),d=c?function(e,t){if(!e.variant||!t.variant)return null;const n=t.variant.properties.find((e=>"state"===e.name.toLowerCase())),i=t.variant.properties.filter((e=>"state"!==e.name.toLowerCase())),o=e.variant.values.find((({propertyId:e})=>(null==n?void 0:n._id)===e));let s,r={width:e.latestVersion.snapshot.width,height:e.latestVersion.snapshot.height};if(n){s=[];for(const i of n.values){const l=a(e,{propertyId:n._id,value:i},t),c=l?l._id:null;s.push({name:i,selected:(null==o?void 0:o.value)===i,coid:(null==o?void 0:o.value)===i?e._id:c}),r=l?{width:Math.max(r.width,l.latestVersion.snapshot.width),height:Math.max(r.height,l.latestVersion.snapshot.height)}:r}}const l=[];for(const{_id:c,name:d,values:u}of i)if(u.length>0){const n=e.variant.values.find((({propertyId:e})=>c===e)),i=[];for(const o of u){const s=a(e,{propertyId:c,value:o},t),r=s?s._id:null;i.push({name:o,selected:(null==n?void 0:n.value)===o,coid:(null==n?void 0:n.value)===o?e._id:r})}l.push({name:d,values:i})}return{stateVariants:s,otherVariants:l,largestOfVariants:r}}(l,c):{},u=t===o.default.PROJECT?"project-styleguide-components":"styleguide-components",h=s.urlResolve(u,{url:{bid:n},query:{coid:l._id}});return Object.assign({snapshot:l.latestVersion.snapshot,componentURL:h,componentName:null!==(i=null==c?void 0:c.name)&&void 0!==i?i:l.name},d)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1866);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(702),r=n.n(a),l=n(684),c=n.n(l),d=n(710),u=n.n(d),h=n(1867),p=n.n(h),f=n(691),g=n.n(f),m=n(1104),b=n.n(m),S=n(567),y=n.n(S),v=n(1829),O=n.n(v),C=n(1868),E=n(2008),T=n(1619),_=n(559),P=n(610),I=n(724),j=n.n(I),D=n(852),k=n(959),R=n(961),A=n(1745),w=n(1462),N=n(712);n(2043);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(...e){super(...e),M(this,"handleAddColorClick",(e=>{r.a.addColor({color:e,syncWithApi:!0}),Object(R.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})})),M(this,"handleColorNameChange",((e,t)=>{r.a.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})})),M(this,"handleRemoveColorClick",(e=>{r.a.removeColor({cid:e,syncWithApi:!0})})),M(this,"handleAddTextStyleClick",(e=>{r.a.addTextStyle({textStyle:e,syncWithApi:!0}),Object(R.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})})),M(this,"handleTextStyleNameChange",((e,t)=>{const{styleguidesData:[{textStyles:n}]}=this.state;if(n.some((e=>e.name===t)))return _.create({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();r.a.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})})),M(this,"handleRemoveTextStyleClick",(e=>{r.a.removeTextStyle({tsid:e,syncWithApi:!0})})),M(this,"handleRequestOrgInviteClick",(()=>{const{organizationId:e}=this.state;b.a.requestInvite(e,this.nodeRefs.sidebar)})),M(this,"handleCopyCode",((e,t)=>{const{platform:n}=this.state;r.a.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Screen"})})),M(this,"handleCopy",(e=>{Object(k.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})})),M(this,"handleProcessFailedAssetContents",(e=>{const{barrelId:t,barrelType:n,screenId:i,version:o,componentVariantViewVisible:s,variantViewSelectedLayer:a,variantComponent:r}=this.state;for(const l of e)s&&a?p.a.processComponentVersionAssetContent({barrelType:n,bid:t,csids:r.idPath.slice(0,-1),coid:r._id,vid:r.latestVersion._id,vaid:l.assetId,vacid:l._id,ovacid:l.optimized._id}):p.a.processVersionAssetContent({pid:t,sid:i,vid:o._id,vaid:l.assetId,vacid:l._id,ovacid:l.optimized._id})}))}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onProcessFailedAssetContents:this.handleProcessFailedAssetContents}}static getStores(){return[y.a.BarrelStore,y.a.ScreenStore,y.a.ProjectsDataStore,y.a.StyleguidesDataStore,y.a.UserStore,y.a.ComponentVariantStore]}static calculateState(){const{loading:e,barrelType:t,barrelId:n,organizationId:i}=y.a.BarrelStore.getState();if(e)return{loading:!0};const o=c.a.getBarrel(),s=c.a.findUser(),{screenId:a,loadingVersions:r,versionId:l,latestVersionSelected:d,selectedLayer:u,screenSidebarWidth:h}=y.a.ScreenStore.getState();if(r&&!d)return{loading:!0};const p=g.a.getScreen(),f=g.a.getVersion({sid:a,vid:l}),m=Object(A.findCoveringLink)(o,f,u),b=new w.default(o),S=c.a.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore,projectsDataStore:y.a.ProjectsDataStore}),{componentVariantViewVisible:v,selectedLayer:O,selectedComponentVariantId:C}=y.a.ComponentVariantStore.getState();let E;v&&({component:E}=Object(N.findComponentById)(S,C));const T=S.some((({connectedComponents:e})=>e&&e.length>0));return{loading:!1,barrelType:t,barrelId:n,barrelUser:s,organizationId:i,platform:o.type,flowLink:m,formatter:b,screenId:a,screen:p,version:f,selectedLayer:u,sidebarWidth:h,styleguidesData:S,componentVariantViewVisible:v,variantViewSelectedLayer:O,variantComponent:E,hasConnectedComponent:T}}getChildContext(){const{barrelType:e,barrelId:t,barrelUser:n={},platform:i,hasConnectedComponent:o}=this.state;return{barrelType:e,barrelId:t,projectId:t,platform:i,projectType:i,barrelUser:n,userRole:n.role,hasConnectedComponent:o,permissions:{canManageColors:P.permissions.canManageColors(n),canManageScreens:P.permissions.canManageColors(n),canManageTextStyles:P.permissions.canManageTextStyles(n)}}}renderLayerDetail(){const{screen:e,version:t,selectedLayer:n,flowLink:o,formatter:s,componentVariantViewVisible:a,variantViewSelectedLayer:r,variantComponent:l}=this.state,{onLayoutPaddingVisibilityChange:c,onLayoutGapVisibilityChange:d}=this.props;return a&&r?i.h(C.default,L({layer:r,layerContainer:l,version:l.latestVersion,formatter:s},this.getHandlers(),{onCloseClick:O.a.deselectLayer,onLayoutPaddingVisibilityChange:c,onLayoutGapVisibilityChange:d})):i.h(C.default,L({layer:n,layerContainer:e,version:t,flowLink:o,formatter:s},this.getHandlers(),{onCloseClick:u.a.deselectLayer,onLayoutPaddingVisibilityChange:c,onLayoutGapVisibilityChange:d}))}renderResourceView(){const{formatter:e}=this.state;return i.h(E.default,L({formatter:e,onRequestOrgInviteClick:this.handleRequestOrgInviteClick},this.getHandlers()))}render(){const{loading:e,selectedLayer:t,variantViewSelectedLayer:n,sidebarWidth:o}=this.state;if(e)return i.h(T.default.Loading,{width:o});const s=!t&&!n;return i.h(T.default,{baseRef:Object(D.default)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:o,minWidth:260,onRelease:u.a.changeScreenSidebarWidth},i.h("div",{class:"sidebarViews",onClick:P.stopPropagation},i.h("div",{class:j()("sidebarView",{scrollable:s})},t||n?this.renderLayerDetail():this.renderResourceView())))}}t.default=s()(x)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(644)),s=i(n(567)),a={setVersionAssets({pid:e,sid:t,vid:n,assets:i}){s.default.dispatcher.dispatch({type:o.default.SET_VERSION_ASSETS,pid:e,sid:t,vid:n,assets:i})},setComponentAssets({coid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.SET_COMPONENT_ASSETS,coid:e,assets:t})},updateVersionAssetOptimizedContents({vid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.UPDATE_VERSION_ASSET_OPTIMIZED_CONTENTS,vid:e,assets:t})},processVersionAssetContent({pid:e,sid:t,vid:n,vaid:i,vacid:a,ovacid:r}){s.default.dispatcher.dispatch({type:o.default.PROCESS_VERSION_ASSET_CONTENT_REQUEST,pid:e,sid:t,vid:n,vaid:i,vacid:a,ovacid:r})},processVersionAssetContentFailure({vid:e,vaid:t,vacid:n}){s.default.dispatcher.dispatch({type:o.default.PROCESS_VERSION_ASSET_CONTENT_FAILURE,vid:e,vaid:t,vacid:n})},updateComponentVersionAssetOptimizedContents({coid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.UPDATE_COMPONENT_VERSION_ASSET_OPTIMIZED_CONTENTS,coid:e,assets:t})},processComponentVersionAssetContent({barrelType:e,bid:t,csids:n,coid:i,vid:a,vaid:r,vacid:l,ovacid:c}){s.default.dispatcher.dispatch({type:o.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST,barrelType:e,bid:t,csids:n,coid:i,vid:a,vaid:r,vacid:l,ovacid:c})},processComponentVersionAssetContentFailure({coid:e,vaid:t,vacid:n}){s.default.dispatcher.dispatch({type:o.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_FAILURE,coid:e,vaid:t,vacid:n})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1869);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(610),a=n(1295),r=n(712),l=n(1870),c=n(599),d=n(1871),u=n(1987),h=n(702),p=n.n(h),f=n(684),g=n.n(f),m=n(567),b=n.n(m),S=n(1618),y=n(929),v=n.n(y),O=n(547),C=n(2006),E=n.n(C);n(2007);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends o.default{constructor(...e){super(...e),P(this,"handleDownloadAssetClick",((e,t)=>{const{layerContainer:{name:n}}=this.props,{selectedView:i,assets:o}=this.state,{screenContainerRef:s,styleguideContainerRef:a}=this.context,r=i===O.ProjectViewTypes.SCREEN?s():a();p.a.downloadAsset({containerName:n,assets:o,assetId:e,format:t,toastContainer:r,source:"Layer detail"})})),P(this,"handleAssetNameChange",((e,t)=>{const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;p.a.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Layer detail"})}))}static getStores(){return[b.a.BarrelStore,b.a.StyleguidesDataStore,b.a.ProjectsDataStore,b.a.ScreenStore,b.a.ComponentVariantStore,b.a.AssetsStore]}static calculateState(e,t){const{layer:n,version:{_id:i,snapshot:o,snapshot:{density:l,densityScale:c=Object(s.getDensityScale)(l)}},componentId:d}=t,{loading:u,selectedView:h,assetDensityScalePrefs:p,assetExportTarget:f,assetNamingConvention:m,densityMismatchWarningHidden:S,flowLinkInfoDismissed:y,noVectorAssetInfoHidden:v,showOptimizedSVG:O,showOptimizedPNG:C,showOptimizedJPG:E,connectedComponentsDevModeEnabled:T,connectedComponentsLocalWorkspace:_,connectedComponentsEditorInfo:P,connectedComponentsOnboardingDialogSeen:I,numberOfHighlightedConnectToCodeButtonViews:j}=b.a.BarrelStore.getState();if(u)return{loading:!0};const{type:D,densityScale:k}=g.a.getBarrel(),{componentVariantsOnboardingHintboxSeen:R,componentVariantViewSeen:A,numberOfLayerComponentViews:w}=b.a.ScreenStore.getState(),N=c!==k&&!S,L=g.a.getStyleguidesData({barrelStore:b.a.BarrelStore,styleguidesDataStore:b.a.StyleguidesDataStore,projectsDataStore:b.a.ProjectsDataStore}),{componentVariantViewVisible:M,selectedLayer:x,selectedComponentVariantId:U}=b.a.ComponentVariantStore.getState();let B;M&&x&&({component:B}=Object(r.findComponentById)(L,U));const{versionsAssets:V,componentsAssets:z}=b.a.AssetsStore.getState();let F,W=V[i];d?W=z[d]:B&&(W=z[B._id],F=W&&W.length?W:B.latestVersion.snapshot.assets||[]),W=W&&W.length?W:o.assets;let{asset:H,parent:G}=Object(a.findAsset)(W,n)||{};!H&&F&&(H=F.find((e=>"snapshot"===e.layerId)));const $=!A&&!R&&w<r.LAYER_COMPONENT_VIEW_LIMIT,q=!I&&j<r.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT,Z=L.flatMap((({spacingSections:e})=>e.flatMap((e=>e.spacingTokens))));return{loading:!1,selectedView:h,platform:D,asset:H,assetParent:G,assetDensityScalePrefs:p,assetExportTarget:f,assetNamingConvention:m,showDensityMismatchWarning:N,flowLinkInfoDismissed:y,noVectorAssetInfoHidden:v,showOptimizedSVG:O,showOptimizedPNG:C,showOptimizedJPG:E,connectedComponentsDevModeEnabled:T,connectedComponentsLocalWorkspace:_,connectedComponentsEditorInfo:P,styleguidesData:L,shouldDisplayComponentVariantsOnboardingHintbox:$,shouldHighlightConnnectToCodeButton:q,assets:W,spacingTokens:Z}}render(){const{layerContainer:{name:e},formatter:t,layer:n,flowLink:o,version:s,onCopy:a,onCopyCode:h,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:m,onAddTextStyleClick:b,onTextStyleNameChange:y,onRemoveTextStyleClick:v,onCloseClick:O,onProcessFailedAssetContents:C,onLayoutPaddingVisibilityChange:T,onLayoutGapVisibilityChange:P}=this.props,{loading:I,platform:j,selectedView:D,asset:k,assetParent:R,assetDensityScalePrefs:A,assetExportTarget:w,assetNamingConvention:N,showDensityMismatchWarning:L,flowLinkInfoDismissed:M,noVectorAssetInfoHidden:x,showOptimizedSVG:U,showOptimizedPNG:B,showOptimizedJPG:V,connectedComponentsDevModeEnabled:z,connectedComponentsLocalWorkspace:F,connectedComponentsEditorInfo:W,styleguidesData:H,shouldDisplayComponentVariantsOnboardingHintbox:G,shouldHighlightConnnectToCodeButton:$,spacingTokens:q}=this.state;if(I)return null;const Z=s.creator,K=Object(r.getComponentLayerForVariant)(n,H);let Y=null,J=null;K&&(J=E()(K),Y=Object(r.findConnectedComponentByIdOrName)(K.component._id,K.component.name,H,z));const X=new c.default(_(_({},n),{},{asset:k})),Q=Object(l.transformLayer)(X,{formatter:t,platform:j,styleguidesData:H,component:J,assetParent:R});return i.h("div",{class:"layerDetail"},i.h(d.default,{layer:Q,selectedView:D,versionCreator:Z,connectedComponent:Y,shouldDisplayComponentVariantsOnboardingHintbox:G,shouldHighlightConnnectToCodeButton:$,connectedComponentsDevModeEnabled:z,connectedComponentsLocalWorkspace:F,connectedComponentsEditorInfo:W,containerName:e,projectType:j,showDensityMismatchWarning:L,noVectorAssetInfoHidden:x,assetDensityScalePrefs:A,namingConvention:N,showOptimizedSVG:U,showOptimizedPNG:B,showOptimizedJPG:V,flowLink:o,flowLinkInfoDismissed:M,assetExportTarget:w,spacingTokens:q,onOpenExportTargetClick:p.a.openExportTarget,onChangeExportTargetClick:p.a.changeExportTarget,onCloseClick:O,onAddTextStyleClick:b,onTextStyleNameChange:y,onRemoveTextStyleClick:v,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:m,onContentCopyClick:a,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:p.a.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:p.a.hideNoVectorAssetInfo,onAssetDensityOptionChange:p.a.changeAssetDensityScalePref,onNamingConventionChange:p.a.changeAssetNamingConvention,onShowOptimizedSVGChange:p.a.toggleSVGOptimization,onShowOptimizedPNGChange:p.a.togglePNGOptimization,onShowOptimizedJPGChange:p.a.toggleJPGOptimization,onHideFlowInfoClick:p.a.dismissFlowLinkInfo,onProcessFailedAssetContents:C,onLayoutPaddingVisibilityChange:T,onLayoutGapVisibilityChange:P}),i.h(u.default,{class:"codeSection",version:s,layer:X,onCopyClick:h,onSettingsClick:S.default.openSettings}))}}t.default=v()(I,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"transformAsset",(function(){return h})),n.d(t,"transformAuthors",(function(){return p})),n.d(t,"transformColor",(function(){return f})),n.d(t,"transformLayer",(function(){return y}));var i=n(610),o=n(607),s=n(1295),a=n(959);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return`linear-gradient(to bottom, ${e.colorStops.map((e=>function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`}(e,t))).join(", ")})`}function u(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach((({font:o,range:s})=>{const a=n.find((e=>e.font.equals(o)));let r,l;var c;t.equals(o)?l="default":a?l=a.group:(c=i,l=["turquoise","cornflower-blue","green","yellow","peach"][parseInt(c,10)]||"group-"+c,r=e.content.substring(s.start,s.end),i+=1),r=e.content.substring(s.start,s.end),n.push({font:o,range:s,group:l,content:r})})),n}function h(e,t,n){const{localName:o,displayName:a,layerName:r,autoExported:l,contents:c,percent:d,size:u,lightness:h,_id:p}=e,f={},g={},m={previewImages:f,displayName:a,layerName:r,localName:o,autoExported:l,formats:g,percent:d,size:u,light:"light"===h,id:p},b=c.filter((e=>Object(s.isSupportedAssetContent)(n,e)));for(const s of b){const{_id:e,density:t,densityScale:n=Object(i.getDensityScale)(t),format:o,optimized:a,url:r}=s,l={_id:e,densityScale:n,optimized:a,url:r};o in g?g[o].variants.push(l):g[o]={variants:[l]},"diff"in g[o]||(d&&d.type===o?g[o].diff={type:"jpg"===d.type?"png":"jpg",percent:d.diff}:a&&!a.originalURL&&a.percent&&(g[o].diff={type:"svg",percent:a.percent}))}return m.size&&(m.size={width:t.withUnit(m.size.width),height:t.withUnit(m.size.height)}),"png"in g||"svg"in g?("svg"in g&&(f.svg=g.svg.variants[0].url),"png"in g&&g.png.variants.forEach((e=>{f[e.densityScale]=e.url})),m):null}function p(e){const t=e.reduce(((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e}),{});return Object.keys(t).map((e=>{const n=t[e];n.sort(((e,t)=>e.created<t.created));const i=n[0],o=i.creator||{username:"Anonymous"},{_id:s,fullName:r,username:l}=o;return{id:s,fullName:r,username:l,avatar:Object(a.getUserAvatar)(o),versions:n.length,lastUpdated:i.created}}))}function f(e,t,n){const i={sourceId:e.sourceId,name:e.name,r:e.r,g:e.g,b:e.b,a:e.a};let o;const s=e.toCSS(),a=t.colorString(e);for(const{id:r,name:l,colors:c,isMember:d,isOrganizationBarrel:u}of n){const n=c.filter((t=>t.equals(e)));for(const i of n){const n={styleguideId:r,styleguideName:l,isMember:d,isOrganizationBarrel:u,added:!0,id:i.id,value:{sourceId:e.sourceId,name:i.name,r:e.r,g:e.g,b:e.b,a:e.a},colorStyle:e.toCSS(),colorString:t.colorString(e),name:i.name,exactMatch:e.toRGBAString()===i.toRGBAString()};if(i.sourceId||!e.sourceId)return n;o||(o=n)}if(o)return o}for(const{id:r,name:l,colors:c,isMember:d,isOrganizationBarrel:u}of n){const n=c.find((t=>t.hexBase()===e.hexBase()));if(n&&1===n.a&&(!e.sourceId||!n.sourceId)){const{id:o,name:c}=n;return{styleguideId:r,styleguideName:l,isMember:d,isOrganizationBarrel:u,added:!1,id:o,value:i,colorStyle:s,colorString:a,name:c,opacity:t.alpha(e.a),exactMatch:!0}}}return{added:!1,value:i,colorStyle:s,colorString:a,exactMatch:!0}}function g(e,t,n){return{gradientStyle:d(e),colorStops:e.colorStops.map((({color:e,position:i})=>({position:Object(o.round)(i,2),color:f(e,t,n)})))}}function m(e,t,n,s){const a=Object(i.getMostConformingTextStyle)(s,e),{color:r,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:u,textAlign:h,fontVariationSettings:p}=e,{densityScale:g,remPreferences:m}=s[0],b="web"===n&&"enabled"===m.status&&m.useForFontSizes,S=r&&f(r,t,s),{id:y,styleguideId:v,styleguideName:O,isMember:C,isOrganizationBarrel:E}=a||{};return{styleguideId:v,styleguideName:O,isMember:C,isOrganizationBarrel:E,id:y,added:!!a,color:S,name:a&&a.name,fontFace:l,fontSize:b?Object(o.toRemSize)(c/g,m.remRootFontSize):t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:u&&(b?Object(o.toRemSize)(u/g,m.remRootFontSize):t.textLength(u)),textAlign:h,fontVariationSettings:p,value:{color:S&&S.value,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:u,textAlign:h,fontVariationSettings:p}}}function b(e,t,n,i){return"text"!==e.type?[]:u(e).map((({font:e,group:o,content:s,range:a})=>({textStyle:m(e,t,n,i),group:o,content:s,range:a})))}function S(e,t,n,i){const{densityScale:s,remPreferences:a}=i,{status:r,useForMeasurements:l,remRootFontSize:c}=a;return"web"===n&&"enabled"===r&&l?{x:Object(o.toRemSize)(e.x/s,c),y:Object(o.toRemSize)(e.y/s,c),width:Object(o.toRemSize)(e.width/s,c),height:Object(o.toRemSize)(e.height/s,c)}:{x:t.length(e.x),y:t.length(e.y),width:t.length(e.width),height:t.length(e.height)}}function y(e,{formatter:t,platform:n,styleguidesData:i,component:s,assetParent:a}){const{_id:r,id:c=r,absoluteRect:d,assetData:u,blendMode:p,blur:m,borders:y,borderRadius:v,content:O,fills:C,name:E,opacity:T,rotation:_,shadows:P,type:I,styleName:j,constraints:D,layout:k}=e,R={id:c,borders:y.map((e=>function(e,t,n){const{fill:{color:i,gradient:o},position:s,thickness:a}=e;return{color:i&&f(i,t,n),gradient:o&&g(o,t,n),position:s,thickness:t.length(a)}}(e,t,i))),component:s,content:O,fills:C.map((e=>function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=f(e.color,t,n):"gradient"===e.type&&(i.gradient=g(e.gradient,t,n)),i}(e,t,i))),name:E,rect:S(d,t,n,i[0]),shadows:P.map((e=>function(e,t,n){const{blurRadius:i,color:o,offsetX:s,offsetY:a,spread:r,type:l}=e;return{blurRadius:t.length(i),color:f(o,t,n),offsetX:t.length(s),offsetY:t.length(a),spread:t.length(r),type:l}}(e,t,i))),type:I,typefaces:b(e,t,n,i),styleName:j};return u&&(R.asset=h(u,t,n),R.assetParent=a),m&&(R.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(m,t)),T<1&&(R.opacity=t.percentage(T)),v>0&&(R.borderRadius=t.length(v)),0!==_&&(R.rotation=_),"normal"!==p&&(R.blendMode=p),D&&(R.constraints=D),k&&(R.layout=function(e,t,n,i){const{densityScale:s,remPreferences:a}=i,{status:r,useForMeasurements:c,remRootFontSize:d}=a,u="web"===n&&"enabled"===r&&c,{padding:h,gap:p}=e;let f={};return h&&h.top>=0&&(f={padding:{top:Object(o.round)(h.top/s,1),right:Object(o.round)(h.right/s,1),bottom:Object(o.round)(h.bottom/s,1),left:Object(o.round)(h.left/s,1)}},f=l(l({},f),{},u?{formattedPadding:{top:Object(o.toRemSize)(h.top/s,d),right:Object(o.toRemSize)(h.right/s,d),bottom:Object(o.toRemSize)(h.bottom/s,d),left:Object(o.toRemSize)(h.left/s,d)}}:{formattedPadding:{top:t.length(h.top),right:t.length(h.right),bottom:t.length(h.bottom),left:t.length(h.left)}})),p&&(-3===p?f=l(l({},f),{},{formattedGap:"auto"}):-2===p?f=l(l({},f),{},{formattedGap:"mixed"}):p>=0&&(f=l(l({},f),{},{gap:Object(o.round)(p/s,1),formattedGap:u?Object(o.toRemSize)(p/s,d):t.length(p)}))),l(l({},e),f)}(k,t,n,i[0])),R}},function(e,t,n){"use strict";n.r(t);var i=n(1872);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1873),s=n(1875),a=n.n(s),r=n(1879),l=n(1894),c=n(1919),d=n(1922),u=n(852),h=n(553),p=n(547),f=n(1386),g=n.n(f),m=n(1952),b=n(1955),S=n(1958),y=n(1962),v=n(1965),O=n(1968),C=n(1971),E=n(1974),T=n(1977),_=n(1980),P=n.n(_),I=n(1983),j=n.n(I);n(1986);class D extends i.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderLayerStyle(e){const{layer:{styleName:t}}=this.props;return t?{layerStyle:i.h(E.default,{styleName:t,showSeparator:e}),showSeparator:!0}:{layerStyle:null,showSeparator:e}}renderAssets(e){const{layer:{asset:t,assetParent:n},projectType:o,assetDensityScalePrefs:s,assetExportTarget:a,namingConvention:r,showDensityMismatchWarning:c,showOptimizedSVG:d,showOptimizedPNG:u,showOptimizedJPG:h,noVectorAssetInfoHidden:p,onChangeExportTargetClick:f,onOpenExportTargetClick:g,onDownloadAssetClick:m,onAssetNameChange:b,onHideDensityMismatchWarningClick:S,onHideNoVectorAssetInfoClick:y,onAssetDensityOptionChange:v,onNamingConventionChange:O,onShowOptimizedSVGChange:C,onShowOptimizedPNGChange:E,onShowOptimizedJPGChange:T,onProcessFailedAssetContents:_}=this.props;return t?{assets:i.h(l.default,{showSeparator:!!e,asset:t,assetParent:n,projectType:o,showDensityMismatchWarning:c,noVectorAssetInfoHidden:p,assetDensityScalePrefs:s,namingConvention:r,showOptimizedSVG:d,showOptimizedPNG:u,showOptimizedJPG:h,assetExportTarget:a,onChangeExportTargetClick:f,onOpenExportTargetClick:g,onDownloadClick:m,onNameChange:b,onHideDensityMismatchWarningClick:S,onHideNoVectorAssetInfoClick:y,onAssetDensityOptionChange:v,onNamingConventionChange:O,onShowOptimizedSVGChange:C,onShowOptimizedPNGChange:E,onShowOptimizedJPGChange:T,onProcessFailedAssetContents:_}),showSeparator:!0}:{assets:null,showSeparator:e}}renderBlur(e){const{layer:{blur:t}}=this.props;return t?{blur:i.h(o.default,{title:"Blur",showSeparator:!!e},i.h(C.default,{blur:t})),showSeparator:!0}:{blur:null,showSeparator:e}}renderBorders(e){const{layer:{borders:t},onAddColorClick:n,onRemoveColorClick:s,onColorNameChange:a}=this.props;return t.length?{borders:i.h(o.default,{title:"Borders",showSeparator:!!e},t.map(((e,t)=>i.h(v.default,{key:t,border:e,onColorNameChange:a,onColorAddClick:n,onColorRemoveClick:s})))),showSeparator:!0}:{borders:null,showSeparator:e}}renderComponentSection(){const{containerName:e,layer:{component:t},connectedComponent:n,connectedComponentsDevModeEnabled:s,connectedComponentsLocalWorkspace:a,connectedComponentsEditorInfo:r,shouldDisplayComponentVariantsOnboardingHintbox:l,shouldHighlightConnnectToCodeButton:c}=this.props;if(!t)return{componentSection:i.h("div",{class:"withPadding"},i.h(o.default,{title:"Component",showSeparator:!0},i.h(T.default,null))),showSeparator:!0};const{componentId:u,componentName:h,properties:p}=t;return{componentSection:i.h(d.default,{containerName:e,connectedComponentsDevModeEnabled:s,shouldDisplayComponentVariantsOnboardingHintbox:l,shouldHighlightConnnectToCodeButton:c,connectedComponentsLocalWorkspace:a,connectedComponentsEditorInfo:r,componentId:u,componentName:h,properties:p,connectedComponent:n,showLayerComponent:!0,userRestricted:!1}),showSeparator:!1}}renderContent(e){const{layer:{content:t,type:n,typefaces:o},onContentCopyClick:s}=this.props,{hoveredTypeface:a}=this.state;return"text"!==n?{content:null,showSeparator:e}:{content:i.h(m.default,{showSeparator:!!e,textStyles:o.filter((e=>"default"!==e.group)),onCopyClick:s,content:t,hovered:a}),showSeparator:!0}}renderFills(e){const{layer:{fills:t},selectedView:n,versionCreator:s,onAddColorClick:a,onRemoveColorClick:l,onColorNameChange:c}=this.props;return t.length?{fills:i.h(o.default,{title:"Colors",showSeparator:!!e},t.map((e=>{if("color"===e.type){const{color:t}=e,o=n===p.ProjectViewTypes.SCREEN?"screen":"component";return i.h(i.Fragment,null,i.h(r.default,{color:t,onNameChange:c,onAddClick:a,onRemoveClick:l}),t&&!t.exactMatch&&t.name&&i.h(g.a,{type:"warning",class:"notSyncedHintBox",emoji:"💁‍♀️"},"Looks like color “",t.name,"” was updated in your styleguide after this ",o," was published. Check in with"," ",Object(h.getUserDisplayName)(s)," ","to make sure that this ",o," ","is up-to-date."))}return"gradient"===e.type?i.h(y.default,{gradient:e.gradient,onColorNameChange:c,onColorAddClick:a,onColorRemoveClick:l}):null}))),showSeparator:!0}:{fills:null,showSeparator:e}}renderShadows(e){const{layer:{shadows:t},onAddColorClick:n,onRemoveColorClick:s,onColorNameChange:a}=this.props;return t.length?{shadows:i.h(o.default,{title:"Shadows",showSeparator:!!e},t.map(((e,t)=>i.h(O.default,{key:t,shadow:e,onColorNameChange:a,onColorAddClick:n,onColorRemoveClick:s})))),showSeparator:!0}:{shadows:null,showSeparator:e}}renderTypefaces(e){const{layer:{type:t,typefaces:n},onAddTextStyleClick:s,onRemoveTextStyleClick:a,onTextStyleNameChange:r,onAddColorClick:l,onRemoveColorClick:c,onColorNameChange:d}=this.props;return"text"!==t?{typefaces:null,showSeparator:e}:{typefaces:i.h(o.default,{showSeparator:!!e},i.h(S.default,{typefaces:n,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:s,onRemoveTextStyleClick:a,onTextStyleNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d})),showSeparator:!0}}render(){const{flowLink:e,layer:t,flowLinkInfoDismissed:n,spacingTokens:o,onCloseClick:s,onHideFlowInfoClick:r,onLayoutPaddingVisibilityChange:l,onLayoutGapVisibilityChange:d}=this.props,{componentSection:h,showSeparator:p}=this.renderComponentSection(),{layerStyle:f,showSeparator:g}=this.renderLayerStyle(p),{typefaces:m,showSeparator:S}=this.renderTypefaces(g),{assets:y,showSeparator:v}=this.renderAssets(S),{fills:O,showSeparator:C}=this.renderFills(v),{borders:E,showSeparator:T}=this.renderBorders(C),{shadows:_,showSeparator:I}=this.renderShadows(T),{blur:D,showSeparator:k}=this.renderBlur(I),{content:R}=this.renderContent(k),{constraints:A,layout:w}=t;return i.h("div",{class:"detailSections",ref:Object(u.default)(this,"base")},i.h("div",{class:"withPadding"},i.h(c.default,{onCloseClick:s},t.name)),Boolean(A)&&i.h(P.a,{constraints:A}),i.h("div",{class:"withPadding"},i.h(b.default,{flowLink:e,layer:t,flowLinkInfoDismissed:n,onHideFlowInfoClick:r})),Boolean(w)&&i.h("div",{class:"withPadding"},i.h(a.a,null),i.h(j.a,{layout:w,spacingTokens:o,onPaddingVisibilityChange:l,onGapVisibilityChange:d})),h,i.h("div",{class:"withPadding"},f,m,y,O,E,_,D,R))}}t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(1874);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1875),s=n.n(o),a=n(724),r=n.n(a);n(1878);t.default=function(e){const{class:t,children:n,title:o,showSeparator:a}=e;return i.h("div",{class:r()("sidebarSection",t)},a&&i.h(s.a,null),o&&i.h("h2",{class:"title"},o),n)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1876);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1877),t.default=function(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1880);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1881),s=n(1231),a=n.n(s);n(1893);class r extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:s,colorString:a,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:h}=this.props,{permissions:{canManageColors:p}}=this.context;return i.h("div",{class:"layerColor"},i.h("div",{class:"colorPreview",style:{backgroundColor:s}}),i.h(o.default,{class:"layerColorInfo",added:n,hover:h,id:e,name:t,colorString:a,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}}const l=a()(r);t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1882);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1883),s=n.n(o),a=n(590),r=n.n(a),l=n(731),c=n(1885),d=n(724),u=n.n(d),h=n(686);n(1892);t.default=function(e,t){const{added:n,isMember:o,isOrganizationBarrel:a,styleguideId:d,styleguideName:p,id:f,name:g,canManageColors:m,class:b,colorString:S,hover:y,opacity:v,onAddClick:O,onRemoveClick:C,onNameChange:E}=e,{barrelType:T,barrelId:_}=t;let P;!!g&&(P=n&&m&&d===_?i.h(s.a,{initialValue:g,hasHover:y,textInputProps:{prefix:"#",maxLength:100,blurOnEnter:!0,withMirror:!0},onBlur:E}):i.h(s.a,{initialValue:v?`${g}, ${v}`:g,hasHover:y,textInputProps:{readonly:!0,prefix:"#",maxLength:100,blurOnEnter:!0,withMirror:!0},onBlur:E}));const I=!m||n&&d!==_,j=T===r.a.STYLEGUIDE?"styleguide":"project-styleguide",D=Object(h.urlResolve)(`${j}-colors`,{url:{bid:_},query:{cid:f}});return i.h("div",{class:u()("colorInfo",b,{hover:y})},i.h("div",{class:"infoContent"},P,i.h("div",{class:"value"},S)),i.h(c.default,{onAddClick:O,onRemoveClick:C,resourceAdded:n,isMember:o,isOrganizationBarrel:a,styleguideId:d,styleguideName:p,canManageResource:m,class:"resourceButton",type:c.default.TYPE.COLOR,disabled:I}),f&&i.h("a",{href:D,class:"goToResource","data-link-type":"inApp"},i.h(l.IconGoTo,{width:"18",height:"18"})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1884);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1527)),a=n(547);class r extends o.Component{constructor(){super(...arguments),this.state={oldValue:this.props.initialValue,value:this.props.initialValue},this.inputRef=void 0,this.handleInputRef=e=>{this.inputRef=e},this.handleKeyDown=e=>{e.key===a.Keyboard.Key.Escape&&(e.stopPropagation(),this.setState({value:this.state.oldValue},(()=>{var e;null===(e=this.inputRef)||void 0===e||e.blur()})))},this.handleBlur=e=>{if(!e.target)return;const{initialValue:t,onBlur:n}=this.props,{value:i,oldValue:o}=this.state,s=e.target.value.trim();o!==i&&(s?(this.setState({oldValue:i,value:s}),t!==s&&n(s)):this.setState({value:o}))},this.handleFocus=()=>{this.setState({oldValue:this.state.value})},this.handleInput=e=>{const{onAttemptToChange:t}=this.props;if(t)return void t();if(!e.target)return;const n=e.target,{value:i}=n;this.setState({value:i})}}componentDidUpdate(e){this.props.initialValue!==e.initialValue&&this.props.initialValue!==this.state.value&&this.setState({value:this.props.initialValue,oldValue:this.props.initialValue})}render(){const{textInputProps:e,hasHover:t}=this.props,{value:n}=this.state;return o.h(s.default,Object.assign({},e,{inputRef:this.handleInputRef,value:n,hasHover:t,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1886);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1887),s=n(1889);n(1891);class a extends i.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:r,styleguideName:l,canManageResource:c,type:d=a.TYPE.DEFAULT,resourceAdded:u,disabled:h},{hasClickHover:p}){return u?i.h(s.default,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:r,styleguideName:l,disabled:h,hideHoverState:p,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.h(o.default,{type:d,class:e,disabled:h,onClick:this.handleAddClick})}}a.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1888);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(1188),a=n(1192),r=n(731);const l={color:i.h(r.IconColor,{type:"add"}),textStyle:i.h(r.IconTextStyle,{type:"add"})};t.default=function(e,t){const{class:n,disabled:r,type:c,onClick:d}=e,{userRole:u}=t,h=c.replace(/[A-Z]/g,(e=>` ${e.toLowerCase()}`)),p=r?Object(a.default)(u,`add ${h}s`):`Add ${h} to Styleguide`;return i.h(s.default,{targetClass:n,content:p},i.h(o.default,{class:"addResourceButton resourceButtonButton",disabled:r,onClick:d},l[c]))}},function(e,t,n){"use strict";n.r(t);var i=n(1890);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(686),s=n(831),a=n(1188),r=n(731),l=n(1192),c=n(724),d=n.n(c);const u={color:i.h(r.IconColor,{color:"#fff",key:"tick",type:"tick",opacity:".5"}),textStyle:i.h(r.IconTextStyle,{color:"#fff",key:"tick",type:"tick",opacity:".5"})},h={color:[i.h(r.IconColor,{color:"#fff",key:"tick",type:"tick"}),i.h(r.IconColor,{color:"#fff",class:"remove",key:"remove",type:"remove"})],textStyle:[i.h(r.IconTextStyle,{color:"#fff",key:"tick",type:"tick"}),i.h(r.IconTextStyle,{color:"#fff",class:"remove",key:"remove",type:"remove"})]};function p({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:s,styleguideName:a,resourceName:r,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:s,styleguideId:a,styleguideName:r}){if(!n)return Object(l.default)(s,`delete ${e}s`);const c=Object(o.urlResolve)("styleguide",{url:{bid:a}});return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Go to ",r)," to update the ",e,"s.")]:[i.h("p",{key:"tooltipExplanation"},"You’re not a member of the ",i.h("strong",null,r)," Styleguide, only members can remove ",e,"s."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Join to edit ",r),".")]}({resourceName:r,isMember:e,canManageResource:n,userRole:c,styleguideId:s,styleguideName:a}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:s}){return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:Object(o.urlResolve)("styleguide",{url:{bid:n}}),"data-link-type":"inApp"},"Go to ",s)," update the ",e,"s.")]:i.h("p",null,"You are not a member of ",s,". Contact the owner to request access.")}({resourceName:r,isMember:e,styleguideId:s,styleguideName:a})}t.default=function(e,t){const{class:n,disabled:o,type:r,onClick:l,hideHoverState:c,onMouseLeave:f,isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y}=e,{userRole:v}=t,O=r.replace(/[A-Z]/g,(e=>` ${e.toLowerCase()}`)),C=o?p({isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y,resourceName:O,userRole:v}):`Delete ${O} from Styleguide`,E=i.h(s.default,{class:d()("removeResourceButton","resourceButtonButton",{hideHoverState:c}),disabled:o,onClick:l,onMouseLeave:f},o?u[r]:h[r]);return c?E:function(e,{targetClass:t,content:n}){return i.h(a.default,{targetClass:t,content:n},e)}(E,{targetClass:n,content:C})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1895);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(1295),r=n(959),l=n(610),c=n(547),d=n(831),u=n(983),h=n.n(u),p=n(841),f=n(1527),g=n(1188),m=n(731),b=n(1896),S=n(1898),y=n(1900),v=n(1903),O=n(1906),C=n(1909),E=n(1912),T=n(1915),_=n.n(T),P=n(1873);n(1918);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=Object(r.canDownload)();class R extends i.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(a.formatName)(e,t)}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:o}=e.target,s=n||this.getAssetName();o?s!==o&&i(t,o):e.target.value=s}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderAutoExportedAssetTooltip(){return i.h(i.Fragment,null,"This asset is auto-exported.",i.h("br",null),i.h("a",{href:"https://zpl.io/article/auto-export-assets",rel:"noopener noreferrer",target:"_blank"},"Learn more."))}renderExports(){const{asset:{id:e,formats:t},assetDensityScalePrefs:n,showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:r,projectType:l,onProcessFailedAssetContents:d}=this.props;return l===c.PLATFORM.BASE?i.h(h.a,null,"To download assets, navigate to a linked project or a platform‑specific child styleguide."):i.h("div",{class:"assetExports"},Object.keys(t).sort(a.sortFormats).map((a=>{const{variants:l,diff:c}=t[a],u=l.map((t=>j(j({},t),{},{assetId:e})));return i.h(y.default,{key:a,format:a,variants:u,diff:c,assetDensityScalePrefs:n,showCompressionInfo:"svg"!==a||c,optimizationSettings:{showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:r},onProcessFailedAssetContents:d,onDownloadClick:this.createDownloadClickHandler(a)})})))}renderBitmapInfo(){const{onHideNoVectorAssetInfoClick:e}=this.props;return i.h(h.a,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(){const{class:e,showSeparator:t,asset:{autoExported:n,localName:o,size:a,formats:r,light:u,previewImages:h},assetParent:y,noVectorAssetInfoHidden:T,showDensityMismatchWarning:I,assetDensityScalePrefs:j,namingConvention:D,showOptimizedSVG:R,showOptimizedPNG:A,showOptimizedJPG:w,projectType:N,assetExportTarget:L,onChangeExportTargetClick:M,onOpenExportTargetClick:x,onHideDensityMismatchWarningClick:U,onAssetDensityOptionChange:B,onNamingConventionChange:V,onShowOptimizedSVGChange:z,onShowOptimizedPNGChange:F,onShowOptimizedJPGChange:W}=this.props,{settingsOpen:H}=this.state,G=i.h("div",{class:"assetsTitle"},"Assets",i.h("div",{class:"assetsTitleActions"},n&&i.h(g.default,{targetClass:"autoExportedAssetTooltip",content:this.renderAutoExportedAssetTooltip()},i.h(p.default,{asset:"img/emjTestTube.png",alt:"Experimental"})),i.h(O.default,{open:H,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:B,onNamingConventionChange:V,onShowOptimizedSVGChange:z,onShowOptimizedPNGChange:F,onShowOptimizedJPGChange:W,projectType:N,settings:{assetDensityScalePrefs:j,namingConvention:D,showOptimizedSVG:R,showOptimizedPNG:A,showOptimizedJPG:w},target:i.h(d.default,{class:s()("assetSettingsButton",{active:H}),onClick:this.showSettingsMenu},i.h(m.IconSettings,null))}))),$=Object.keys(r).some((e=>"jpg"===e))&&Object.keys(r).every((e=>"svg"!==e&&"pdf"!==e)),q=this.getAssetName(),{pattern:Z,text:K}=function(e){switch(e){case c.PLATFORM.BASE:case c.PLATFORM.WEB:default:return{pattern:"[\\w-]+",text:"letters, numbers, underscores, and hyphens"};case c.PLATFORM.IOS:case c.PLATFORM.MACOS:return{pattern:"[a-zA-Z\\d]+",text:"letters, and numbers"};case c.PLATFORM.ANDROID:return{pattern:"[a-z\\d_]+",text:"lower cased letters, numbers, and underscores"}}}(N),Y=`${Object(l.getPlatformString)(N)} platform assets can only contain ${K}`;return i.h(P.default,{class:s()("assetSection",e),title:G,showSeparator:t},I&&i.h(b.default,{class:"warningBox",onHideClick:U}),!k&&i.h(S.default,{class:"warningBox"}),y&&i.h(_.a,{parent:y}),i.h(v.default,{class:"preview",light:u,images:h}),i.h(E.default,{name:"Name",capitalize:!1},i.h(f.default,{class:"assetName",blurOnEnter:!0,title:Y,value:o||this.getAssetName(),pattern:Z,onBlur:this.handleNameChange,onInput:this.handleNameInput})),o&&i.h("div",{class:"renameInfo"},"Renamed locally from “",q,"”"),i.h(E.default,{name:"Size"},a&&`${a.width} × ${a.height}`),this.renderExports(),L&&i.h(C.default,{name:L.name,type:L.type,path:L.path,pathParts:L.pathParts,onChangeClick:M,onOpenClick:x}),$&&!T&&this.renderBitmapInfo())}}t.default=R},function(e,t,n){"use strict";n.r(t);var i=n(1897);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o);function a(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.default=function(e){const{class:t,onHideClick:n}=e;return i.h(s.a,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:a},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";n.r(t);var i=n(1899);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o);t.default=function(e){const{class:t}=e;return i.h(s.a,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";n.r(t);var i=n(1901);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(731),a=n(610),r=n(1295),l=n(583),c=n(724),d=n.n(c);n(1902);function u(e){return"svg"===e||"pdf"===e}t.default=function(e,t){const{format:n,variants:c,assetDensityScalePrefs:h,diff:p,showCompressionInfo:f,optimizationSettings:{showOptimizedSVG:g,showOptimizedPNG:m,showOptimizedJPG:b},onDownloadClick:S,onProcessFailedAssetContents:y}=e,{projectType:v}=t,O=c.filter((e=>Object(r.isAssetDensityScaleSelected)(h,n,e.densityScale))),C=O.length,E=Object(r.getSupportedDensityScales)(v).every((e=>Object(r.isAssetDensityScaleSelected)(h,n,e))),T=g&&"svg"===n,_=m&&"png"===n,P=b&&"jpg"===n;let I,j,D=!1,k=[];(_||P||"webp"===n)&&(k=O.filter((({optimized:e})=>e&&"ready"===e.status)),I=O.filter((({optimized:e})=>e&&("queued"===e.status||"processing"===e.status))),j=O.filter((({optimized:e})=>e&&"error"===e.status))),(_||P||T)&&(D=O.some((({optimized:e})=>Boolean(e))));const R=Boolean(I&&I.length),A=Boolean(j&&j.length);function w(){y(j)}return i.h("div",{class:d()("assetExport",{hasError:!R&&A})},i.h("div",{class:d()("exportType",{fourChar:4===r.ASSET_FORMAT_TITLES[n].length})},r.ASSET_FORMAT_TITLES[n]),i.h("div",{class:"exportInfo"},function(){const e=`${C}${E?"":" selected"}${D?" optimized":""} ${Object(r.getFormatType)(n)} image${C>1?"s":""}`;return i.h("div",{class:"ellipsis",title:e},e)}(),function(){let e,t,o;if(R)e="Optimizing now…",t=e;else if(A){const n=`Optimized with ${Object(l.pluralize)(j.length,"error")}`;e=i.h("a",{class:"assetExportRetryOptimization",onClick:w},n,". Retry."),t=n}else if(!u(n)){const o=[...new Set(c.map((e=>e.densityScale)))].sort(((e,t)=>e-t));e=o.reduce(((e,t,o,s)=>{const l=Object(a.getDensityScaleRepresentation)(v,t);return e.push(Object(r.isAssetDensityScaleSelected)(h,n,t)?l:i.h("s",null,l)),o!==s.length-1&&e.push(", "),e}),[]),t=o.filter((e=>Object(r.isAssetDensityScaleSelected)(h,n,e))).map((e=>Object(a.getDensityScaleRepresentation)(v,e))).join(", ")}if(k.length===C){const e=k.reduce(((e,t)=>e+(t.optimized.percent||0)),0),t=Math.round(e/C);t&&(o=`~${t}% smaller`,"webp"===n&&(o+=" than original PNG"))}else if(!u(n)&&p)o=`~${p.percent}% smaller than original ${p.type.toUpperCase()}`;else if(T){let e;if(p)e=p.percent;else{const t=O.reduce(((e,t)=>e+(t.optimized?t.optimized.percent:0)),0);e=Math.round(t/C)}o=`~${e}% smaller`}return o&&(t=`${o}${t?`; ${t}`:""}`,f&&(e=o)),e?i.h("div",{class:"extraInfo ellipsis",title:t},e):null}()),R?i.h(s.IconDotSpinner,{class:"assetExportOptimizationPendingIcon",width:16}):i.h(o.default,{class:"downloadButton",onClick:S},i.h(s.IconDownload,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1904);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852),r=n(582),l=n(1294);n(1905);class c extends i.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}async setImageSource(){const{images:e}=this.props;try{if(e.svg){const n=await fetch(e.svg,{mode:"cors"}),i=await n.text(),o=new DOMParser;let s,a=!1,r=!1;try{s=o.parseFromString(i,l.MIME_TYPE.svg)}catch(t){a=!0}if(a||(r=Boolean(s.querySelector("text")),a=Boolean(s.querySelector("parsererror"))),!r&&!a)return void this.setState({source:e.svg,svg:!0})}const[n]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),i=n*window.devicePixelRatio,o=Object.keys(e).filter((e=>"svg"!==e)).map(Number).sort(((e,t)=>e-t)),s=e[o[0]],a=(await Object(r.getImageProperties)(s)).size.height,c=o.find((e=>a*e>=i))||o[o.length-1];this.setState({source:e[c],svg:!1})}catch(t){}}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:o}=this.props;return i.h("div",{class:s()("assetPreview","noSelect",n,{light:o,svg:t})},i.h("img",{ref:Object(a.default)(this,"image"),src:e,crossorigin:"anonymous"}))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1907);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1316),s=n(852),a=n(610),r=n(1295);n(1908);const l=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}];class c extends i.Component{constructor(e){super(e),this.handlePositionMenu=this.handlePositionMenu.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static optimizedAssetsOptionVisible(e){return"base"!==e}get optimizedAssetsSelectedOptionNames(){const{settings:{showOptimizedSVG:e,showOptimizedPNG:t,showOptimizedJPG:n}}=this.props,i=[];return e&&i.push("SVG"),t&&i.push("PNG"),n&&i.push("JPG"),i}handlePositionMenu(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=12,o=t.top,s=t.left-n.width;let a,r;r=o<i?i:o+n.height+i>window.innerHeight?window.innerHeight-n.height-i:o,a=s+n.width+i>window.innerWidth?window.innerWidth-n.width-i:s,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}handleSettingsChange(e,t){if("naming"===e)this.props.onNamingConventionChange(t);else if("optimizedAssets"===e){const{onShowOptimizedSVGChange:e,onShowOptimizedPNGChange:n,onShowOptimizedJPGChange:i}=this.props;let[o]=t.filter((e=>!this.optimizedAssetsSelectedOptionNames.includes(e))),s=!0;o||([o]=this.optimizedAssetsSelectedOptionNames.filter((e=>!t.includes(e))),s=!1),"SVG"===o?e(s):"PNG"===o?n(s):"JPG"===o&&i(s)}else"bitmapScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t},projectType:n,open:d,target:u,onClose:h}=this.props,p=[];return c.densityScaleOptionVisible(n)&&p.push(i.h(o.default.SwitchMenu,{name:"bitmapScales",content:"Bitmap Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:1,options:Object(r.getSupportedDensityScales)(n).map((e=>({name:e,content:Object(a.getDensityScaleRepresentation)(n,e)})))})),c.namingOptionVisible(n)&&p.push(i.h(o.default.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:l})),c.optimizedAssetsOptionVisible(n)&&p.push(i.h(o.default.SwitchMenu,{name:"optimizedAssets",content:"Optimize Assets",selectedOptionNames:this.optimizedAssetsSelectedOptionNames,options:[{name:"PNG",content:"PNG"},{name:"JPG",content:"JPG"},{name:"SVG",content:"SVG"}],footer:i.h(i.Fragment,null,i.h(o.default.Divider,null),i.h(o.default.Link,{href:"https://zpl.io/optimized-assets"},"About Optimized Assets"))})),i.h("div",{class:"assetSettings"},i.h("div",{class:"target",ref:Object(s.default)(this,"target")},u),d&&i.h(o.default.Overlay,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:h,onPositionMenu:this.handlePositionMenu,overlayDivProps:{onClick:a.stopPropagation}},p))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1910);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(731),a=n(724),r=n.n(a),l=n(582);n(1911);t.default=function(e){const{name:t,type:n,path:a,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.h("div",{class:"exportPathSelection"},i.h("div",{class:"pathLocation"},i.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"”"),i.h("div",{class:"path",title:a,onClick:u},c.join(" ▸ "))),i.h(o.default,{class:r()(n,"openExportPath"),onClick:u},"android"===n?[i.h("img",{key:"regular",src:Object(l.imageUrl)("img/icAndroidStudio.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/icAndroidStudio.png"))}),i.h("img",{key:"pressed",src:Object(l.imageUrl)("img/icAndroidStudioPressed.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/icAndroidStudioPressed.png"))})]:i.h(s.IconFolder,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1913);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a);n(1914);function l(e){const{capitalize:t,name:n,abbr:o,children:s,theme:a,valueTitle:l}=e,c=n?`${n}`:null,d=o?i.h("abbr",null,o):null,u=c&&d?", ":"";return i.h("div",{class:r()("layerProperty",a,{capitalize:t})},i.h("span",{class:"propertyName noSelect"},c,u,d,": "),i.h("span",{class:"propertyValue ellipsis",title:l},s))}l.Group=function({children:e}){return i.h("div",{class:"layerPropertyGroup"},e)},l.propTypes={capitalize:s.a.bool,name:s.a.string,abbr:s.a.string,children:s.a.element.isRequired,theme:s.a.oneOf(["light","dark"]),valueTitle:s.a.string},l.defaultProps={capitalize:!0,theme:"light"},t.default=l},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1916);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(710));n(1917),t.default=function({parent:e}){const{name:t}=e;return o.h("div",{class:"parentLayerAssetInfo"},o.h("span",null,"From parent layer “"),o.h("a",{class:"ellipsis",title:t,onClick:function(){s.default.selectLayer(e)}},t),"”")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1920);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(831),r=n(731);n(1921);function l(e){const{children:t,onCloseClick:n}=e;return i.h("div",{class:"sidebarHeader"},i.h("h2",{class:"ellipsis"},t),i.h(a.default,{class:"closeButton",onClick:n},i.h(r.IconClose,{color:"#979197"})))}l.propTypes={onCloseClick:s.a.func,children:s.a.oneOfType([s.a.node,s.a.element])},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1923);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(831),r=n(1213),l=n(1924),c=n(731),d=n(545),u=n(702),h=n.n(u),p=n(710),f=n.n(p),g=n(1829),m=n.n(g),b=n(1862),S=n.n(b),y=n(686),v=n(959),O=n(583),C=n(724),E=n.n(C),T=n(1927),_=n(1934),P=n(1936),I=n(1912),j=n(1875),D=n.n(j),k=n(1939),R=n.n(k),A=n(1942),w=n.n(A),N=n(1948),L=n.n(N);n(1951);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(e){super(e),M(this,"handleLayerComponentClick",(()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Layer detail"})})),M(this,"handleOpenComponentVariantViewClick",(()=>{m.a.open(this.props.componentId,S.a.HEADER)})),M(this,"handleVariantsHintboxActionClick",(()=>{Object(v.openLink)("#")})),this.state={showCoCoOnboardingDialog:!1},this.handleConnectToCodeClick=this.handleConnectToCodeClick.bind(this),this.handleCloseOnboarding=this.handleCloseOnboarding.bind(this),this.handleOpenDocumentationClick=this.handleOpenDocumentationClick.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this)}handleConnectToCodeClick(){const{shouldHighlightConnnectToCodeButton:e}=this.props;e&&h.a.markConnectedComponentsOnboardingDialogAsSeen(),this.setState({showCoCoOnboardingDialog:!0});const t=this.props.showLayerComponent;mixpanel.master.track("Opened connected component onboarding",{Source:t?"Screen":"Component"})}handleCloseOnboarding(){this.setState({showCoCoOnboardingDialog:!1})}handleOpenDocumentationClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked local configuration documentation button",{Source:e?"Screen":"Component"}),Object(v.openLink)("https://zpl.io/connected-components-local-configuration")}handleAddWorkspacePath(e){const{barrelId:t}=this.context;h.a.setConnectedComponentsLocalWorkspace({bid:t,workspace:e})}renderLayerComponent(){if(!this.props.showLayerComponent)return null;const{containerName:e,componentId:t,componentName:n}=this.props,{projectId:o}=this.context,s=Object(y.urlResolve)("project-styleguide-components",{url:{bid:o},query:{coid:t}});return[i.h("h2",{key:"componentTitle",class:"componentTitle"},"Component"),i.h("div",{key:"styleguideComponent",class:"styleguideComponent"},i.h("span",{class:"name ellipsis",title:n},n),i.h("a",{href:s,onClick:this.handleLayerComponentClick,"data-link-type":"inApp","data-back":e},i.h(c.IconGoTo,{width:"18",height:"18",color:"#C1BEC1"})))]}renderComponentProperties(){const{showLayerComponent:e,properties:t,shouldDisplayComponentVariantsOnboardingHintbox:n}=this.props;return e&&t?i.h(i.Fragment,null,i.h(D.a,null),i.h("h2",{class:"componentTitle"},"Properties",i.h("button",{onClick:this.handleOpenComponentVariantViewClick},i.h(c.IconVariants,null))),t.map((({name:e,value:t})=>i.h(I.default,{key:t,name:e,theme:"dark"},t))),n&&i.h(R.a,{onActionClick:this.handleVariantsHintboxActionClick,onHideClick:f.a.hideComponentVariantsOnboardingHintbox})):null}renderDevModeHintBox(){const{connectedComponentsDevModeEnabled:e}=this.props;return e?i.h(P.default,{onReload:h.a.reloadLocalConnectedComponents}):null}renderCodeComponent(){const{connectedComponent:e,connectedComponentsDevModeEnabled:t,componentName:n,shouldHighlightConnnectToCodeButton:o,showLayerComponent:s,properties:c,shouldDisplayComponentVariantsOnboardingHintbox:d,componentId:u}=this.props,h=!(s&&c&&d)&&o;if(!e)return t?i.h(i.Fragment,null,i.h("span",{class:"notFoundDescription"},`${n} not found in local configuration file. Reload to try again.`),i.h(a.default,{class:"openDocumentation",onClick:this.handleOpenDocumentationClick},"Open Documentation")):i.h(i.Fragment,null,i.h("span",{class:"notConnectedDescription"},"Connect this component to your component in code to see a quick overview with links to documentation, e.g. Storybook."),i.h(a.default,{class:E()("connectToCode",{highlight:o}),onClick:this.handleConnectToCodeClick},"Connect to Code"),h&&i.h(L.a,{key:u}));let{name:p,path:f,data:g}=e;p||(p=Object(O.getFilenameWithoutExtensionFromPath)(f));const{description:m,snippet:b,lang:S}=(y=g).find((e=>!!e.snippet))||y.find((e=>!!e.description))||{};var y;return[i.h("div",{key:"componentInfo",class:"componentInfo"},i.h("span",{class:"componentName ellipsis"},p),i.h("span",{class:"componentPath ellipsis"},f)),m||b?[m&&i.h("div",{key:"componentDescription",class:"componentDescription"},i.h(r.default,null,m)),b&&i.h("div",{key:"componentCodeSnippet",class:"snippet"},i.h(l.default,{lineIndicator:!0,lang:S,content:b}))]:i.h("div",{key:"noData",class:"componentDescription"},i.h(r.default,null,"No description or code snippet."))]}renderOpenInEditor(e){const{connectedComponentsLocalWorkspace:t,connectedComponentsEditorInfo:n,userRestricted:o}=this.props;if(d.isWindowsApp){const{editorList:t,defaultEditorPreferences:s,workspacePath:a}=n,r=Object(O.getFileExtensionFromPath)(e),l=s&&s[r];return i.h(_.default,{filePath:e,fileExtension:r,editorList:t,selectedEditor:l,workspacePath:a,disabled:o,onOpenFileInEditor:h.a.openComponentFileInEditor,onEditorChange:h.a.setConnectedComponentsEditorPreference,onSelectWorkspace:h.a.selectConnectedComponentsWorkspaceFolder})}return i.h(T.OpenInVSCode,{filePath:e,showOptionsButton:!0,onAddWorkspacePath:this.handleAddWorkspacePath,workspace:t,disabled:o})}renderOpenInButtons(){const{connectedComponent:e,userRestricted:t}=this.props;if(!e)return;const{urlPaths:n,path:o}=e,s=[],a=[];return n&&n.forEach((e=>{const{name:n,type:o,url:r}=e;"github"===o?a.push(i.h(T.OpenInGitHub,{key:"github",name:n,uri:r,disabled:t})):"gitlab"===o?a.push(i.h(T.OpenInGitLab,{key:"gitlab",name:n,uri:r,disabled:t})):"bitbucket"===o?a.push(i.h(T.OpenInBitbucket,{key:"bitbucket",name:n,uri:r,disabled:t})):"styleguidist"===o?a.push(i.h(T.OpenInStyleguidist,{key:"styleguidist",name:n,uri:r,disabled:t})):"storybook"===o?s.push(r):"custom"===o&&a.push(i.h(T.OpenInCustomLink,{key:`custom-${n}`,name:n,uri:r,disabled:t}))})),i.h("div",{class:"openInButtons"},a.length>0&&a,s.length>0&&i.h(T.OpenInStorybook,{uriList:s,disabled:t}),this.renderOpenInEditor(o))}render(){const{componentId:e}=this.props,{showCoCoOnboardingDialog:t}=this.state;return i.h(i.Fragment,null,i.h("div",{class:"componentDetailSection"},i.h("div",{class:"componentDetailsWrapper"},i.h("div",{class:"componentDetails"},this.renderLayerComponent(),this.renderComponentProperties(),this.renderDevModeHintBox(),this.renderCodeComponent())),this.renderOpenInButtons()),t&&i.h(w.a,{componentId:e,onClose:this.handleCloseOnboarding}))}}x.propTypes={containerName:s.a.string,componentId:s.a.string,componentName:s.a.string,showLayerComponent:s.a.bool,shouldDisplayComponentVariantsOnboardingHintbox:s.a.bool,connectedComponent:s.a.object},t.default=x},function(e,t,n){"use strict";n.r(t);var i=n(1925);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(1218);n(1926);class r extends i.Component{constructor(...e){var t,n,i;super(...e),i={lines:[]},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}async highlight(){const{content:e,lang:t}=this.props,n=await async function(e,t){if(!t)return e.split("\n");const n=await Object(a.getPrismInstance)();return n.languages[t]?function(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}(n.tokenizeFlat(e,n.languages[t])):e.split("\n")}(e,t);this.setState({lines:n})}componentDidMount(){this.highlight()}componentDidUpdate(e){e.content!==this.props.content&&this.highlight()}render(){const{class:e,lang:t,lineIndicator:n,style:o}=this.props,{lines:a}=this.state,r=s()("code",e,{lineIndicator:n});return i.h("pre",{class:r},i.h("code",{class:`language-${t}`,style:o},a.map(((e,t)=>i.h("span",{key:t,class:"lineWrapper"},i.h("span",{class:"lineno"}),i.h("pre",{class:"line"},Array.isArray(e)?e.map((e=>"string"==typeof e?e:i.h("span",{class:s()("token",e.type)},e.content))):e))))))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1928);n.d(t,"default",(function(){return i.default})),n.d(t,"OpenInVSCode",(function(){return i.OpenInVSCode})),n.d(t,"OpenInStyleguidist",(function(){return i.OpenInStyleguidist})),n.d(t,"OpenInGitHub",(function(){return i.OpenInGitHub})),n.d(t,"OpenInGitLab",(function(){return i.OpenInGitLab})),n.d(t,"OpenInBitbucket",(function(){return i.OpenInBitbucket})),n.d(t,"OpenInStorybook",(function(){return i.OpenInStorybook})),n.d(t,"OpenInCustomLink",(function(){return i.OpenInCustomLink}))},function(e,t,n){"use strict";n.r(t),n.d(t,"OpenInVSCode",(function(){return y})),n.d(t,"OpenInGitHub",(function(){return O})),n.d(t,"OpenInGitLab",(function(){return C})),n.d(t,"OpenInBitbucket",(function(){return E})),n.d(t,"OpenInStorybook",(function(){return T})),n.d(t,"OpenInStyleguidist",(function(){return v})),n.d(t,"OpenInCustomLink",(function(){return _}));var i=n(4),o=n(1929),s=n(852),a=n(724),r=n.n(a),l=n(544),c=n(610),d=n(1316),u=n(1930);n(1933);function h(e){const{name:t,icon:n,uri:s,target:a,showOptionsButton:l,onOptionsClick:d,onClickOpenInButton:u,disabled:h}=e;return i.h("div",{class:r()("openInButtonWrapper",{disabled:h})},i.h("a",{class:"openInButton noSelect",href:h?"":s,target:a,onClick:h?c.preventDefault:u},n,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",t)),l&&i.h("button",{onClick:d},o.optionsIcon))}function p(){S("Styleguidist")}function f(){S("GitHub")}function g(){S("GitLab")}function m(){S("Bitbucket")}function b(){S("Storybook")}function S(e){mixpanel.master.track("Clicked open in button",{Type:e})}class y extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleHideDialog=this.handleHideDialog.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.state={showDialog:!1,optionsDialog:!1}}handleOpen(){const{filePath:e,workspace:t}=this.props;if(t){mixpanel.master.track("Clicked open in button for connected component",{Type:"Editor",Source:"Visual Studio Code"});const n=`vscode://file/${Object(l.toURI)(t)}/${Object(l.toURI)(e)}`;window.open(n,"_self")}else this.setState({showDialog:!0,optionsDialog:!1})}handleOptionsClick(){this.setState({showDialog:!0,optionsDialog:!0})}handleHideDialog(){this.setState({showDialog:!1})}handleAddWorkspacePath(e){const{optionsDialog:t}=this.state,{filePath:n,onAddWorkspacePath:i}=this.props;if(i(e),this.handleHideDialog(),!t){const t=`vscode://file/${Object(l.toURI)(e)}/${Object(l.toURI)(n)}`;window.open(t,"_self")}}render(){const{name:e,showOptionsButton:t,workspace:n,disabled:a}=this.props,{showDialog:l}=this.state;return i.h("div",{class:r()("openInButtonWrapper",{disabled:a}),ref:Object(s.default)(this,"base")},l&&i.h(u.default,{workspace:n,onAdd:this.handleAddWorkspacePath,onHide:this.handleHideDialog}),i.h("button",{class:"openInButton noSelect",onClick:a?c.preventDefault:this.handleOpen},o.vsCodeIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",e||"VS Code")),t&&i.h("button",{onClick:a?c.preventDefault:this.handleOptionsClick},o.optionsIcon))}}function v(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:a,disabled:r}=e;return i.h(h,{name:t||"Styleguidist",icon:o.styleguidistIcon,uri:n,target:"_blank",disabled:r,showOptionsButton:s,onOptionsClick:a,onClickOpenInButton:p})}function O(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:a,disabled:r}=e;return i.h(h,{name:t||"GitHub",icon:o.gitHubIcon,uri:n,target:"_blank",disabled:r,showOptionsButton:s,onOptionsClick:a,onClickOpenInButton:f})}function C(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:a,disabled:r}=e;return i.h(h,{name:t||"GitLab",icon:o.gitLabIcon,uri:n,target:"_blank",disabled:r,showOptionsButton:s,onOptionsClick:a,onClickOpenInButton:g})}function E(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:a,disabled:r}=e;return i.h(h,{name:t||"Bitbucket",icon:o.bitbucketIcon,uri:n,target:"_blank",disabled:r,showOptionsButton:s,onOptionsClick:a,onClickOpenInButton:m})}class T extends i.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handlePositionMenu=this.handlePositionMenu.bind(this),this.setState({showOptions:!1})}getStoryName(e){const t=new URL(e),n=t.searchParams.get("selectedStory"),i=t.searchParams.get("path");if(n)return n;if(i){const e=/^\/(docs|story)\/(.*)--(.*)$/g.exec(i);if(e)return e[3]}return null}hideOptions(){this.setState({showOptions:!1})}handleOptionsClick(){this.setState({showOptions:!0})}handlePositionMenu(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=12,o=t.top,s=t.left-n.width;let a,r;r=o<i?i:o+n.height+i>window.innerHeight?window.innerHeight-n.height-i:o,a=s+n.width+i>window.innerWidth?window.innerWidth-n.width-i:s,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}render(){const{uriList:e,disabled:t}=this.props,{showOptions:n}=this.state,a=[];return e.forEach((e=>{const t=this.getStoryName(e);t&&a.push({name:t,uri:e})})),i.h("div",null,i.h("div",{class:r()("openInButtonWrapper",{disabled:t})},i.h("a",{class:"openInButton noSelect",href:t?"":e[0],target:"_blank",onClick:t?c.preventDefault:b},o.storybookIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in Storybook")),a.length>1&&i.h("button",{class:r()("storybookSettings",{active:n}),onClick:t?c.preventDefault:this.handleOptionsClick,ref:Object(s.default)(this,"target")},o.optionsIcon)),n&&i.h(d.default.Overlay,{class:"storybooksMenu",onClose:this.hideOptions,onPositionMenu:this.handlePositionMenu,overlayDivProps:{onClick:c.stopPropagation}},i.h(d.default.Submenu,{name:"Stories"},a.map((e=>i.h(d.default.Button,{key:e.name,onClick:()=>window.open(e.uri)},e.name))))))}}function _(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:a,disabled:r}=e;return i.h(h,{name:t||"Custom Link",icon:o.customLinkIcon,uri:n,target:"_blank",disabled:r,showOptionsButton:s,onOptionsClick:a})}t.default=h},function(e,t,n){"use strict";n.r(t),n.d(t,"optionsIcon",(function(){return o})),n.d(t,"vsCodeIcon",(function(){return s})),n.d(t,"vsCodeInsidersIcon",(function(){return a})),n.d(t,"androidStudioIcon",(function(){return r})),n.d(t,"sublimeIcon",(function(){return l})),n.d(t,"atomIcon",(function(){return c})),n.d(t,"ideaIcon",(function(){return d})),n.d(t,"webStormIcon",(function(){return u})),n.d(t,"defaultEditorIcon",(function(){return h})),n.d(t,"styleguidistIcon",(function(){return p})),n.d(t,"gitHubIcon",(function(){return f})),n.d(t,"storybookIcon",(function(){return g})),n.d(t,"gitLabIcon",(function(){return m})),n.d(t,"bitbucketIcon",(function(){return b})),n.d(t,"customLinkIcon",(function(){return S}));var i=n(4);const o=i.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),s=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.175.123l4.117 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.125l-4.117 1.98c-.12.058-.245.095-.371.112l-.127.01a1.245 1.245 0 0 1-.923-.363L5.87 12.332l-3.433 2.605a.833.833 0 0 1-.97.027l-.093-.074L.273 13.89a.833.833 0 0 1-.001-1.232l2.977-2.715L.272 7.227a.833.833 0 0 1 0-1.231l1.102-1.001a.833.833 0 0 1 1.063-.048L5.87 7.552 13.754.365c.124-.125.27-.219.428-.28l.12-.04c.285-.078.594-.056.873.078zm-.172 5.281L9.021 9.942l5.982 4.538V5.404z"})),a=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.174.123l4.118 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.126l-4.118 1.98c-.437.21-.952.146-1.323-.154l-.088-.08.07.062a.732.732 0 0 0 1.17-.588V.882a.732.732 0 0 0-1.17-.587l-.07.06.088-.078c.371-.3.886-.364 1.323-.154zm-2.05.742a.625.625 0 0 1 1.046.461v4.51l-5.238 4.15 5.238 4.063v4.504a.625.625 0 0 1-1.047.46L.272 7.228a.833.833 0 0 1 0-1.232l1.102-1.001a.833.833 0 0 1 1.063-.048l3.395 2.634zM2.868 10.42l2.559 2.333-2.989 2.184a.833.833 0 0 1-1.063-.047L.273 13.889a.833.833 0 0 1-.001-1.232l2.595-2.237z"})),r=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.988 0a8.988 8.988 0 0 1 5.785 15.867l1.253 2.173a.598.598 0 0 1 .059.149l.013.078.13 1.498a.16.16 0 0 1-.073.138.154.154 0 0 1-.103.014l-.05-.022-1.248-.85a.47.47 0 0 1-.116-.103l-.046-.068-1.19-2.056a8.947 8.947 0 0 1-4.414 1.158A8.947 8.947 0 0 1 5.54 16.8l-1.203 2.083a.585.585 0 0 1-.1.118l-.062.052-1.247.842c-.048.032-.105.04-.153.008a.158.158 0 0 1-.072-.097l-.001-.04.113-1.507a.554.554 0 0 1 .038-.153l.035-.074L4.16 15.83A8.988 8.988 0 0 1 9.988 0zm3.102 14.55a6.375 6.375 0 0 1-5.995.136l-.256-.135-.69 1.197a7.738 7.738 0 0 0 3.839 1.013 7.738 7.738 0 0 0 3.807-.994l-.705-1.216zM9.988 1.216A7.773 7.773 0 0 0 4.78 14.759l3.169-5.48-.324-.324c-.084-.084-.132-.158-.144-.225l-.002-.05h-.008V6.567c0-.474.363-.87.823-.925l.108-.006h.526V3.968h2.065v1.668h.518c.474 0 .87.363.925.823l.007.108V8.68a.425.425 0 0 1-.099.213l-.055.062-.324.324 1.603 2.77a4.776 4.776 0 0 0 1.151-2.858l.007-.252h1.66a6.415 6.415 0 0 1-1.756 4.409l-.196.199.72 1.249A7.773 7.773 0 0 0 9.987 1.215zm.746 9.287l-.316.316a.62.62 0 0 1-.36.186l-.101.008-.008-.008a.603.603 0 0 1-.38-.116l-.082-.07-.316-.316-1.506 2.607a4.727 4.727 0 0 0 2.292.591c.741 0 1.444-.166 2.057-.464l.226-.119-1.506-2.615zm-.77-4.049c-.696 0-1.246.551-1.246 1.247 0 .646.49 1.177 1.113 1.24l.126.007A1.253 1.253 0 0 0 11.204 7.7c0-.688-.559-1.238-1.24-1.247z"})),l=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M19.228.003c.426 0 .775.349.775.774v18.451a.777.777 0 0 1-.775.77H.778a.778.778 0 0 1-.775-.774V.777c0-.425.349-.774.774-.774h18.451zM15.643 3.05c.179-.72-.564-.331-.564-.331L4.613 6.041c-.052.016-.403.146-.29.802L4.3 9.927c-.001.05.014.4.703.546l4.175 1.344-4.408 1.346c-.06.006-.529.077-.47 1.016.063.998-.004 3.008-.004 3.008s.044.372.555.157l10.465-3.34c.06-.016.309-.093.1-.18.092.022.299.034.267-.303l.005-3.438c.01-.046.055-.369-.546-.586l-4.24-1.33 4.253-1.329c.645-.116.515-.586.515-.586z"})),c=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M6.118 1.158c.79-.058 1.758.367 2.801 1.232a.382.382 0 1 1-.487.587c-.875-.726-1.677-1.102-2.257-1.058a.98.98 0 0 0-.38.103c-.672.342-.938 1.528-.729 3.252.051.417.13.855.23 1.306.829-.128 1.734-.21 2.698-.238 2.201-2.847 4.61-4.695 6.316-4.76.427-.017.807.08 1.124.285.887.576 1.16 1.882.787 3.777a.382.382 0 0 1-.75-.147c.3-1.52.134-2.609-.453-2.99-.182-.118-.41-.172-.68-.162-1.356.051-3.424 1.632-5.353 3.985.385.003.79.015 1.209.037 2.609.137 5.047.638 6.865 1.412 1.937.824 2.972 1.888 2.914 2.997-.052.977-.918 1.82-2.505 2.435a.382.382 0 0 1-.276-.712c1.25-.484 1.985-1.127 2.018-1.763.04-.754-.853-1.575-2.45-2.255-1.738-.74-4.084-1.22-6.606-1.351a27.133 27.133 0 0 0-1.444-.038c-.11 0-.219.002-.327.004a25.337 25.337 0 0 0-1.935 2.975c.227.532.477 1.069.75 1.604 1.146 2.25 2.54 4.2 3.924 5.487 1.27 1.182 2.385 1.664 3.058 1.322.641-.327.915-1.439.75-3.05-.179-1.753-.85-3.908-1.89-6.068a.382.382 0 0 1 .688-.33c1.077 2.237 1.774 4.482 1.962 6.32.201 1.97-.212 3.323-1.164 3.808a1.776 1.776 0 0 1-.816.189c-.881 0-1.953-.557-3.108-1.632-1.448-1.347-2.898-3.371-4.084-5.7-.186-.363-.36-.728-.525-1.092-.666 1.321-1.154 2.608-1.42 3.761-.389 1.691-.249 2.897.384 3.308.595.387 1.675.082 2.963-.835a.382.382 0 1 1 .443.621c-1.067.76-2.01 1.146-2.786 1.146-.389 0-.736-.097-1.036-.292-1.736-1.128-.876-4.951 1.065-8.605a21.89 21.89 0 0 1-.879-2.577C2.244 7.949.812 8.872.765 9.769c-.034.643.611 1.339 1.816 1.96a.382.382 0 0 1-.35.678C.723 11.63-.048 10.704.003 9.73c.072-1.375 1.812-2.468 4.543-3.016a13.94 13.94 0 0 1-.236-1.347c-.254-2.091.15-3.52 1.14-4.024.203-.104.429-.166.67-.184zm3.932 8.086a1.145 1.145 0 1 1 0 2.29 1.145 1.145 0 0 1 0-2.29zM7.408 7.13c-.69.038-1.332.105-1.926.195.164.598.365 1.217.604 1.847A25.166 25.166 0 0 1 7.408 7.13z"})),d=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M2.906 0l6.25.75 2.183 2.492 2.442-2.93L20 5.345l-.375 11.562L11.937 20 7.74 17.278 1.625 19.5 2.906 15l.266-.894-2.953-2.325 1.733-3.22L0 7.906 2.906 0zM16.25 3.75H3.75v12.5h12.5V3.75z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zM8.28 6.312v-.937H5.72v.938h.718v3.28H5.72v.97H8.28v-.97h-.719v-3.28h.72zm2.5 4.313a2.097 2.097 0 0 1-1.031-.219 2.46 2.46 0 0 1-.688-.562l.72-.813c.129.143.276.269.437.375a.916.916 0 0 0 .5.125.581.581 0 0 0 .5-.219.916.916 0 0 0 .187-.656V5.312h1.156v3.375c.012.277-.03.553-.124.813a1.562 1.562 0 0 1-.438.688 2.234 2.234 0 0 1-1.219.437z"}))),u=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M12.75 0l4.656.406.986 2.423.014-.017L20 6.783l-2.188 2.28L20 13.157l-3.75 2.223V3.75H3.75v12.5h11.031l-.332.197L13.75 20 2.687 18.062 0 2.095 5 .03l3.156 1.875L11.094.344l.924.357L12.75 0z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zm6.125-4.094L11.719 9c.469.375.937.625 1.531.625.469 0 .75-.188.75-.5 0-.281-.188-.438-1.031-.656-1.031-.281-1.688-.563-1.688-1.594v-.031c0-.938.75-1.563 1.781-1.563a3.06 3.06 0 0 1 1.907.657l-.594.875a2.381 2.381 0 0 0-1.313-.5c-.406 0-.656.187-.656.468 0 .344.219.469 1.094.688 1.031.281 1.625.656 1.625 1.562 0 1.031-.781 1.625-1.875 1.625a3.603 3.603 0 0 1-2.188-.844m-1-4.437l-.78 3-.876-3h-.875l-.875 3-.781-3H4.656l1.5 5.188h.969l.844-3 .843 3h.97l1.5-5.188h-1.22z"}))),h=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"}))),p=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.985 3.125a3.243 3.243 0 0 1 3.236 3.052l.005.184v2.416a1.658 1.658 0 0 1-.715 1.388 1.141 1.141 0 0 1-.325 1.67l-.116.06v.892a.595.595 0 0 1-.123.364c.066.527.206.913.428 1.171.067.013.142.02.228.02.318 0 .551-.306.648-.846l.023-.153.355-2.61c.139-.9.476-1.6.984-2.107.38-.38.844-.643 1.365-.796l.227-.059 1.722-.454a.41.41 0 0 1 .419.408c0 .36-.043.535-.252.792a.88.88 0 0 1-.292.206c-.14.07-.32.142-.534.216a11.174 11.174 0 0 1-.768.233c-.592.16-1.06.69-1.199 1.276.396-.427.887-.704 1.527-.866l.248-.055 1.603-.412c.256 0 .452.317.452.543 0 .258-.113.531-.286.745-.134.165-.396.313-.663.392l-.134.034-.672.143a2.516 2.516 0 0 0-.975.6c.306-.166.672-.259 1.116-.282l.229-.006h1.818c.23 0 .411.19.411.419a1.075 1.075 0 0 1-.958 1.071l-.122.007-1.154-.005c-.24 0-.47.176-.709.534-.198.299-.365.653-.63 1.296-.239.577-.565 1.066-1.001 1.434-.534.45-1.206.696-2.025.696a3.905 3.905 0 0 1-2.455-.884 3.2 3.2 0 0 1-.933-1.253 3.2 3.2 0 0 1-.933 1.253 3.905 3.905 0 0 1-2.456.884c-.819 0-1.49-.245-2.025-.696-.436-.368-.762-.857-1-1.434-.266-.643-.433-.997-.631-1.296-.208-.314-.412-.487-.62-.526l-.09-.008-1.152.005A1.078 1.078 0 0 1 0 11.703c0-.2.139-.37.328-.41l.083-.009H2.23c.55 0 .988.094 1.346.289a2.478 2.478 0 0 0-.793-.531l-.182-.07-.673-.143c-.31-.065-.64-.233-.797-.426a1.23 1.23 0 0 1-.285-.745c0-.201.154-.474.369-.532l.082-.011 1.604.412c.763.15 1.329.441 1.774.92-.14-.586-.607-1.115-1.2-1.275a12.39 12.39 0 0 1-.767-.233 4.554 4.554 0 0 1-.534-.216.88.88 0 0 1-.292-.206c-.209-.257-.252-.433-.252-.792 0-.19.135-.36.331-.4l.088-.008 1.722.454c.613.14 1.158.42 1.593.855.456.456.775 1.068.936 1.842l.047.264.356 2.611c.077.635.323.998.67.998.086 0 .161-.006.228-.019.222-.258.362-.644.428-1.171a.594.594 0 0 1-.115-.263l-.008-.1v-.857a1.144 1.144 0 0 1-.763-1.077c0-.277.1-.532.266-.73a1.642 1.642 0 0 1-.651-1.183l-.008-.164V6.361a3.24 3.24 0 0 1 3.236-3.236zm-2.183 7.224a.696.696 0 0 0-.218.505.701.701 0 1 0 1.343-.282 14.892 14.892 0 0 1-.306-.056 2.223 2.223 0 0 1-.82-.167zm4.307.025a2.244 2.244 0 0 1-.756.142c-.133.026-.267.05-.4.072a.701.701 0 1 0 1.35.267.696.696 0 0 0-.194-.48zm-.509.193a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577zm-3.336-.001a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577z"})),f=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M18.659 4.98a9.957 9.957 0 0 0-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341a9.956 9.956 0 0 0-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091a.51.51 0 0 0 .17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051a3.82 3.82 0 0 1-.723.046 5.506 5.506 0 0 1-.904-.091 2.022 2.022 0 0 1-.873-.39 1.652 1.652 0 0 1-.573-.801l-.13-.3a3.254 3.254 0 0 0-.41-.664c-.187-.243-.375-.408-.566-.495l-.091-.065a.956.956 0 0 1-.17-.156.714.714 0 0 1-.117-.183c-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065a2.59 2.59 0 0 0 .586-.195c.078-.582.29-1.029.638-1.341a8.915 8.915 0 0 1-1.335-.235 5.314 5.314 0 0 1-1.224-.508A3.505 3.505 0 0 1 4.57 12.8c-.278-.347-.506-.803-.684-1.367-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351a9.245 9.245 0 0 1 2.5-.338c.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367a3.64 3.64 0 0 1-1.054.866c-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"})),g=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M17.717.943l.002.031v18.02A1.006 1.006 0 0 1 16.67 20l-13.422-.603a1.006 1.006 0 0 1-.96-.967l-.62-16.508A1.006 1.006 0 0 1 2.61.88L13.614.19l-.094 2.267a.15.15 0 0 0 .013.067l.018.03a.15.15 0 0 0 .167.052l.043-.023.88-.668.744.586a.15.15 0 0 0 .237-.075l.006-.048L15.546.07 16.65.002a1.006 1.006 0 0 1 1.066.94zm-7.721 2.46c-2.618 0-4.084 1.422-4.084 3.554 0 3.715 5.012 3.786 5.012 5.812 0 .568-.278.906-.89.906-.8 0-1.115-.408-1.078-1.794 0-.3-3.044-.394-3.137 0-.236 3.36 1.856 4.328 4.251 4.328 2.32 0 4.14-1.237 4.14-3.476 0-3.98-5.087-3.874-5.087-5.847 0-.8.595-.906.947-.906.372 0 1.04.065.984 1.558 0 .391 2.635.204 2.99-.07 0-2.665-1.43-4.065-4.048-4.065z"})),m=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M19.91 11.374L18.866 8.16a.454.454 0 00-.026-.086l-2.098-6.46a.834.834 0 00-.796-.568.82.82 0 00-.787.573l-2 6.155H6.845L4.842 1.62a.82.82 0 00-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684a.47.47 0 00.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95a.254.254 0 01-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429a.254.254 0 01-.09.284z"})),b=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M.649 1a.64.64 0 00-.64.745l2.72 16.51a.872.872 0 00.853.73H16.63a.642.642 0 00.641-.537l2.72-16.699a.64.64 0 00-.528-.733c-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"})),S=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))},function(e,t,n){"use strict";n.r(t);var i=n(1931);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),s=n(1045),a=n(831),r=n(1527),l=n(890);n(1932);class c extends i.Component{constructor(e){super(e),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}focusTextInput(){const{textInput:e}=this.nodeRefs;e.focus()}handleDocumentKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onHide()}handleAddWorkspacePath(e){const t=this.nodeRefs.textInput.value;t?this.props.onAdd(t):e.preventDefault()}handleInputChange(e){const t=e.target.value.split(/\u25B8/g).map((e=>e.replace(/[^\x20-\x7E]/g,"").trim())).join("/");this.nodeRefs.textInput.value=t}componentDidMount(){const{workspace:e}=this.props;this.nodeRefs.textInput.value=e||"",document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.focusTextInput()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{onHide:e,workspace:t}=this.props,n=t?"CHANGE":"SAVE";return i.h(l.default,null,i.h(s.default,{onClose:e},i.h("div",{class:"localWorkspaceDialog"},i.h("div",{class:"dialogContent"},i.h("p",null,(t?"Change":"Enter")+" local path for repository"),i.h(r.default,{inputRef:Object(o.default)(this,"textInput"),class:"localWorkspacePath",placeholder:"e.g. /Users/zo/Developer/project/",onInput:this.handleInputChange})),i.h("div",{class:"footer"},i.h(a.default,{class:"negative",onClick:e},"CANCEL"),i.h(a.default,{class:"positive",onClick:this.handleAddWorkspacePath},n)))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1935);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1929),s=n(610),a=n(852),r=n(724),l=n.n(r),c=n(1316);n(1933);const d={"Visual Studio Code":o.vsCodeIcon,"Visual Studio Code - Insiders":o.vsCodeInsidersIcon,Atom:o.atomIcon,"Sublime Text":o.sublimeIcon,"Android Studio":o.androidStudioIcon,"IntelliJ IDEA":o.ideaIcon,WebStorm:o.webStormIcon},u={name:"Default Editor",value:"defaultEditor"};class h extends i.Component{constructor(e){super(e),this.handlePositionMenu=this.handlePositionMenu.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.state={showMenu:!1}}selectedEditorAvailable(){const{selectedEditor:e,editorList:t}=this.props;return t.findIndex((t=>t.exePath===e.exePath))>-1}handlePositionMenu(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=12,o=t.top,s=t.left-n.width;let a,r;r=o<i?i:o+n.height+i>window.innerHeight?window.innerHeight-n.height-i:o,a=s+n.width+i>window.innerWidth?window.innerWidth-n.width-i:s,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}handleOptionsClick(){this.setState({showMenu:!0})}handleCloseMenu(){this.setState({showMenu:!1})}handleMenuItemClick(e,t){if("editors"===e){const{editorList:e,selectedEditor:n,onEditorChange:i,fileExtension:o}=this.props,s=e.find((e=>e.exePath===t));return void(n&&!s?i(o,null):(!n&&s||n&&s.name!==n.name)&&i(o,s))}const{onSelectWorkspace:n}=this.props;n()}handleOpen(){const{selectedEditor:e,filePath:t,onOpenFileInEditor:n}=this.props;n(t,e)}render(){const{editorList:e,selectedEditor:t,workspacePath:n,disabled:r}=this.props,{showMenu:h}=this.state,p=[u];e&&e.forEach((e=>{p.push({name:e.name,value:e.exePath})}));const f=[i.h(c.default.Button,{key:"openInEditorSelectButton"},n?"Change":"Select"," Folder in File Explorer")];return e&&e.length>0&&f.push(i.h(c.default.Picker,{key:"openInEditorPicker",name:"editors",content:"Editors",submenu:!0,value:t&&this.selectedEditorAvailable()&&t.exePath||u.value,options:p})),i.h("div",null,i.h("div",{class:l()("openInButtonWrapper",{disabled:r})},i.h("button",{class:"openInButton noSelect",onClick:r?s.preventDefault:this.handleOpen},t?d[t.name]:o.defaultEditorIcon,i.h("span",{class:"openInButtonText ellipsis"},`Open in ${t?t.name:"default editor"}`)),i.h("button",{onClick:r?s.preventDefault:this.handleOptionsClick,ref:Object(a.default)(this,"target")},o.optionsIcon)),h&&i.h(c.default.Overlay,{class:"openInEditorMenu",onChange:this.handleMenuItemClick,onClose:this.handleCloseMenu,onPositionMenu:this.handlePositionMenu,overlayDivProps:{onClick:s.stopPropagation}},f))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1937);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(544);n(1938);t.default=function(e){const{onReload:t}=e;return i.h("div",{class:"devModeHintBox"},i.h("span",{class:"hintAunt"},"👷‍♀️"),i.h("div",{class:"devModeHintContent"},i.h("p",{class:"devModeHint"},`Local configuration enabled -- this is only visible to you, use shortcut ${Object(s.getDevModeShortcut)()} to disable it.`),i.h(o.default,{class:"devModeReload",onClick:t},"Reload")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1940);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1386)),r=i(n(841));var l;n(1941),function(e){e.DEFAULT="default",e.HOVER="hover",e.PRESSED="pressed",e.DISABLED="disabled"}(l||(l={}));const c=[l.DEFAULT,l.HOVER,l.PRESSED,l.DISABLED];t.default=function({onHideClick:e,onActionClick:t}){const[n,i]=s.useState(0);s.useEffect((()=>{const e=setTimeout((()=>{i((n+1)%c.length)}),1e3);return()=>clearTimeout(e)}),[n]);const d=c[n];return o.h(a.default,{class:"variantsHintBox",onActionClick:t,actionContent:"Learn more",onHideClick:e,hideButtonText:"OK, hide it!"},"You can now see different variants of the components by clicking on V.",o.h("div",{class:"variantsHintBoxBody"},o.h("div",{class:"variantsImageWrapper"},o.h(r.default,{style:{visibility:d===l.DEFAULT?"visible":"hidden"},asset:"/img/variants-onboarding/default.png"}),o.h(r.default,{style:{visibility:d===l.HOVER?"visible":"hidden"},asset:"/img/variants-onboarding/hover.png"}),o.h(r.default,{style:{visibility:d===l.PRESSED?"visible":"hidden"},asset:"/img/variants-onboarding/pressed.png"}),o.h(r.default,{style:{visibility:d===l.DISABLED?"visible":"hidden"},asset:"/img/variants-onboarding/disabled.png"}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1943);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1027)),a=i(n(841)),r=i(n(1944)),l=i(n(590));n(1947),t.default=function({componentId:e,onClose:t},{barrelType:n,barrelId:i,hasConnectedComponent:c}){return o.h(s.default,{positiveButtonText:"DONE",onClose:t,width:720},o.h("div",{class:"connectedComponentsOnboardingDialog"},o.h("h4",{class:"dialogHeader"},"Connected components"),o.h("p",{class:"introText"},"By connecting your components, you can access components in your codebase right on the designs, with links to Storybook, GitHub and any other source of documentation."),o.h("div",{class:"dialogBody"},o.h("div",{class:"description"},o.h("p",null,"Make your components visible within designs, promoting reusability. Access a summary of your component with:"),o.h("br",null),o.h("ul",null,o.h("li",null,"• Documentation"),o.h("li",null,"• Bite-sized code snippet describing how to initiate it"),o.h("li",null,"• Links to Storybook, GitHub and so on")),o.h("br",null),o.h("p",null,"Explore the"," ",o.h("a",{href:"https://zpl.io/connected-components",target:"_blank"},"documentation")," ","to learn more.")),o.h(a.default,{asset:"img/coco-onboarding.png",alt:"CoCo onboarding",title:"CoCo onboarding"})),!c&&o.h("p",null,"Get started within minutes by connecting this component!"),c?o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository to connect this component:"):o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository:"),o.h(r.default,{copyActionText:"Click to copy the command.",copyDoneText:"Command copied to clipboard.",lines:[`npx @zeplin/cli connect ${c?"add-components":"initialize"} \\`,`    --${n===l.default.PROJECT?"project-id":"styleguide-id"} ${i} \\`,`    --component-id ${e}`]})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1945);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724)),r=n(959);n(1946),t.default=function({copyActionText:e,copyDoneText:t,lines:n}){const[i,l]=s.useState(!1);return s.useEffect((()=>{l(!1)}),[JSON.stringify(n)]),o.h("button",{onClick:function(){r.copyContent({content:n.join("\n")}),l(!0)},class:a.default("copyContents",{copied:i})},o.h("p",null,i?t:e),o.h("strong",null,n.map(((e,t)=>o.h("span",{key:t},e)))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1949);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(1149),a=i(n(702)),r=i(n(841));n(1950),t.default=function(){return s.useDidMountEffect(a.default.highlightedConnectToCodeButtonViewed),o.h("div",{class:"highlightedConnectToCodeButtonDescription"},o.h(r.default,{class:"connectToCodeArrow",asset:"img/icConnectToCodeHighlightArrow.png"}),o.h("div",{class:"connectToCodeDescriptionText"},"👀 We simplified the Connected Components experience, you can now get it running within minutes."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1953);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(1873),a=n(731),r=n(724),l=n.n(r),c=n(959),d=n(713);n(1954);const u=/\u2028/g,h=Object(c.canCopy)();function p(e){return e.replace(u,"\n")}class f extends i.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",p(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(p(n)),setTimeout(c.selectContent,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(p(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,o=p(e);if(!t.length)return o;const s=[];let a=0;return t.forEach((({range:e,group:t})=>{const r=Object(d.escapeHTML)(o.substring(e.start,e.end));if(e.start>a)s.push(Object(d.escapeHTML)(o.substring(a,e.start)));else if(e.start<a)return;s.push(i.h("span",{class:l()({hovered:n===t}),"data-color-group":t},r)),a=e.end})),s.push(Object(d.escapeHTML)(o.substring(a,o.length))),s}renderTitle(){return i.h("div",{class:"contentTitle"},"Content",h&&i.h(o.default,{class:"contentCopyButton",onClick:this.handleCopyClick},i.h(a.IconCopy,null)))}render(){const{class:e,showSeparator:t}=this.props;return i.h(s.default,{class:l()("contentSection",e),title:this.renderTitle(),showSeparator:t},i.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}t.default=f},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1956);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1873),s=n(983),a=n.n(s),r=n(1912),l=n(731),c=n(724),d=n.n(c);n(1957);function u({name:e,url:t}){return i.h("div",{class:"linkProperty"},i.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":"inApp"},e),t&&i.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp"},i.h(l.IconScreenLink,null)))}t.default=function(e){const{class:t,showSeparator:n,flowLink:s,layer:{rect:l,opacity:c,borderRadius:h,rotation:p,blendMode:f,constraints:g},flowLinkInfoDismissed:m,onHideFlowInfoClick:b}=e;let S=l.width,y=l.height,v=S,O=y;return g&&"fixed"!==g.horizontal.sizingMode&&(S=`auto (${l.width})`,v=i.h(i.Fragment,null,"auto ",i.h("span",{class:"extraInfo"},"(",l.width,")"))),g&&"fixed"!==g.vertical.sizingMode&&(y=`auto (${l.height})`,O=i.h(i.Fragment,null,"auto ",i.h("span",{class:"extraInfo"},"(",l.height,")"))),i.h(o.default,{class:d()("infoSection",t),showSeparator:n},i.h(r.default.Group,null,i.h(r.default,{name:"X"},l.x),i.h(r.default,{name:"Y"},l.y)),i.h(r.default.Group,null,i.h(r.default,{name:"Width",capitalize:!1,valueTitle:S},v),i.h(r.default,{name:"Height",capitalize:!1,valueTitle:y},O)),h&&i.h(r.default,{name:"Radius"},h),c&&i.h(r.default,{name:"Opacity"},c),p&&i.h(r.default,{name:"Rotation"},`${p}°`),f&&i.h(r.default,{name:"Blend Mode"},f),s&&s.url&&i.h(i.Fragment,null,i.h(r.default,{name:"Linked to"},i.h(u,{name:s.name,url:s.url})),!m&&i.h(a.a,{class:"flowInfo",onHideClick:b},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.h("strong",null,"Shift"),".")))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1959);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1960),s=n(1873);n(1961);class a extends i.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{showSeparator:e,typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:a,onTextStyleNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=this.props;return i.h("div",null,function(e){const t={};return e.sort((({range:{start:e}},{range:{start:t}})=>e-t)).filter((({group:e})=>!t[e]&&(t[e]=!0,!0)))}(t).map((({textStyle:t,group:u,content:h})=>{const p="default"===u;return this.handleHoverChangeByGroup[u]||(this.handleHoverChangeByGroup[u]=this.handleHoverChange.bind(this,u)),i.h(s.default,{class:"typefaceSection",showSeparator:e,key:u},i.h(o.default,{textStyle:t,colorGroup:!p&&u,snippet:h,onHoverChange:p?null:this.handleHoverChangeByGroup[u],onAddClick:n,onRemoveClick:a,onNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))})))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(686),s=n(607),a=n(724),r=n.n(a),l=n(1448),c=n(1912),d=n(1885),u=n(1527),h=n(1879),p=n(1231),f=n.n(p),g=n(731),m=n(590),b=n.n(m);n(1961);class S extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:o}=e.target;o?n!==o&&i(t,o):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(l.enumerateFontVariationSettings)(e).map((([e,t])=>i.h(c.default,{key:e,name:l.REGISTERED_AXES[e],abbr:e},Object(s.round)(t,2)))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:s,styleguideName:a,isMember:l,isOrganizationBarrel:p,id:f,added:m,name:S,color:y,fontFace:v,fontSize:O,letterSpacing:C,lineHeight:E,textAlign:T},hover:_,onColorAddClick:P,onColorRemoveClick:I,onColorNameChange:j}=this.props,{barrelType:D,barrelId:k,permissions:{canManageTextStyles:R}}=this.context,A=t?i.h("div",{class:"typefaceHeader","data-color-group":t},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface "),i.h("span",null,n),i.h("span",null,"”")),t&&i.h("div",{class:"colorGroup"})):i.h("div",{class:"typefaceHeader"},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface"))),w=!R||m&&s!==k,N=i.h(d.default,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:m,isMember:l,isOrganizationBarrel:p,styleguideId:s,styleguideName:a,canManageResource:R,type:d.default.TYPE.TEXT_STYLE,disabled:w}),L=D===b.a.STYLEGUIDE?"styleguide":"project-styleguide",M=Object(o.urlResolve)(`${L}-textstyles`,{url:{bid:k},query:{tsid:f}});return i.h("div",{class:r()("typeface",e,{hover:_})},A,m?[i.h("div",{key:`textStyleName-${f}`,class:"textStyleName"},i.h(u.default,{class:"textStyleNameInput",value:S,blurOnEnter:!0,disabled:w,onBlur:this.handleNameChange,ellipsized:!0}),i.h("div",{class:"buttonSpacer"},N),i.h("a",{href:M,class:"goToResource","data-link-type":"inApp"},i.h(g.IconGoTo,{width:"18",height:"18"}))),i.h("div",{key:`layerFontFace-${f}`,class:"layerFontFace"},i.h("span",{class:"ellipsis"},v))]:i.h("div",{class:"layerFontFace"},i.h("span",{class:"ellipsis"},v),i.h("div",{class:"buttonSpacer"},N)),i.h(c.default.Group,null,i.h(c.default,{name:"Size"},O),void 0!==T&&i.h(c.default,{name:"Align"},T)),this.renderFontVariationSettings(),void 0!==E&&i.h(c.default,{name:"Line Height"},E),void 0!==C&&i.h(c.default,{name:"Letter Spacing"},C),y&&i.h(h.default,{color:y,initialHover:_,onNameChange:j,onAddClick:P,onRemoveClick:I}))}}const y=f()(S);t.default=y},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1963);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(890),s=n(1881),a=n(1231),r=n.n(a);n(1964);const l=r()((function(e){const{color:{id:t,name:n,added:o,colorString:a,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:h,onNameChange:p,onAddClick:f,onRemoveClick:g,hover:m}=e;return i.h("div",{class:"gradientColor"},i.h(s.default,{class:"gradientColorInfo",added:o,hover:m,id:t,name:n,colorString:a,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,editable:o&&h,onAddClick:f,onRemoveClick:g,onNameChange:p}))}));class c extends i.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:`${Math.trunc(n-5)}px`}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:s,onColorNameChange:a}=this.props,{activeColorStop:r}=this.state,{permissions:{canManageColors:c}}=this.context;return i.h("div",{class:"layerGradient"},i.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map((({color:{colorStyle:e},position:t},n)=>{const o=t>0&&t<1,s={top:`${Math.trunc(100*t)}%`,color:e};return i.h("div",{class:"colorStop",key:n,style:s,"data-pos":t,onMouseEnter:o?this.handleColorStopMouseEnter:null,onMouseLeave:o?this.handleColorStopMouseLeave:null})}))),i.h("div",{class:"gradientColors"},e.map((({color:e},t)=>{const{id:o,value:r}=e;return i.h(l,{key:t,color:e,canManageColors:c,onNameChange:function(e){a(o,e)},onAddClick:function(){n(r)},onRemoveClick:function(){s(o)}})}))),r&&i.h(o.default,null,i.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${r.x}, ${r.y}, 0`}},r.value)))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1966);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1879),s=n(1962);n(1967);t.default=function(e){const{border:{color:t,gradient:n,position:a,thickness:r},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.h("div",{class:"layerBorder"},i.h("div",{class:"borderInfo"},a,", ",r),t?i.h(o.default,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.h(s.default,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1969);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1879),s=n(1912);n(1970);t.default=function(e){const{shadow:{blurRadius:t,color:n,offsetX:a,offsetY:r,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:h,onColorNameChange:p}=e;return i.h("div",{class:"layerShadow"},i.h("div",{class:"shadowType"},c),i.h(s.default.Group,null,i.h(s.default,{name:"X"},a),i.h(s.default,{name:"Y"},r)),i.h(s.default.Group,null,i.h(s.default,{name:"Blur"},t),i.h(s.default,{name:"Spread"},l)),i.h(o.default,{color:n,disabled:d,onAddClick:h,onRemoveClick:u,onNameChange:p}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1972);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1973);t.default=function(e){const{blur:{radius:t,type:n}}=e;return i.h("div",{class:"layerBlur"},i.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1975);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1873),s=n(731);n(1976);t.default=function({styleName:e,showSeparator:t}){return i.h(o.default,{title:"Style",showSeparator:t},i.h("div",{class:"layerStyle"},i.h("div",{className:"layerStyleIconWrapper"},i.h(s.IconLayerStyle,{width:23,height:25})),i.h("span",{className:"ellipsis",title:e},e)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1978);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731);n(1979);t.default=function(){return i.h("div",{class:"noComponent"},i.h("span",{class:"description ellipsis"},"Not a part of a component yet."),i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},i.h(o.IconInfo,{width:"21",height:"21"})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1981);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724)),r=n(731);n(1982),t.default=function({constraints:e}){const[t,n]=s.useState(""),{horizontal:i,vertical:l}=e,{min:c,max:d}=i,{min:u,max:h}=l,p="fixed"===i.sizingMode,f="stretch"===i.sizingMode,g="hug-contents"===i.sizingMode,m="fixed"===l.sizingMode,b="stretch"===l.sizingMode,S="hug-contents"===l.sizingMode;function y(e){n(""),setTimeout((()=>{n(e)}),200)}return s.useEffect((()=>{let e="";c&&d||p||u&&h||m?c&&d||p?u&&h||m||(e=b?"stretchHeight":"shrinkHeight"):e=f?"stretchWidth":"shrinkWidth":f&&b?e="stretch":f&&S?e="stretchWidthShrinkHeight":g&&b?e="shrinkWidthStretchHeight":g&&S&&(e="shrink"),y(e)}),[e]),o.h("div",{class:"constraints"},o.h("div",{class:a.default("constraintsVisual",t,{hasAnimation:Boolean(t)}),onMouseEnter:function(){y(t)}},o.h("div",{class:"border vertical"}),o.h("div",{class:"border horizontal"}),o.h("div",{class:a.default("box",{pinnedToLeft:c,pinnedToRight:d,pinnedToTop:u,pinnedToBottom:h,horizontalFixed:p,horizontalStretch:f,horizontalHugContents:g,verticalFixed:m,verticalStretch:b,verticalHugContents:S})},c?o.h("div",{class:"pinnedIndicator left"}):f?o.h(r.IconChevronRight,{class:"chevron left inside"}):g?o.h(r.IconChevronLeft,{class:"chevron left"}):null,d?o.h("div",{class:"pinnedIndicator right"}):f?o.h(r.IconChevronLeft,{class:"chevron right inside"}):g?o.h(r.IconChevronRight,{class:"chevron right"}):null,u?o.h("div",{class:"pinnedIndicator top"}):b?o.h(r.IconChevronBottom,{class:"chevron top inside"}):S?o.h(r.IconChevronTop,{class:"chevron top"}):null,h?o.h("div",{class:"pinnedIndicator bottom"}):b?o.h(r.IconChevronTop,{class:"chevron bottom inside"}):S?o.h(r.IconChevronBottom,{class:"chevron bottom"}):null)),o.h("p",{class:"constraintsDescription"},function(){const e=[];return c&&e.push("left"),d&&e.push("right"),u&&e.push("top"),h&&e.push("bottom"),e.length?o.h(o.Fragment,null,"pinned to ",o.h("span",null,e.join(", ").replace(/, ([^,]*)$/," and $1")),", "):null}(),p&&m?o.h(o.Fragment,null,o.h("span",null,"fixed")," width and height"):p||m?o.h(o.Fragment,null,o.h("span",null,p?"fixed":"auto")," width and ",o.h("span",null,m?"fixed":"auto")," height"):o.h(o.Fragment,null,o.h("span",null,"auto")," width and height")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1984);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1912)),a=i(n(724)),r=n(547);n(1985),t.default=function({layout:e,spacingTokens:t,onPaddingVisibilityChange:n,onGapVisibilityChange:i}){const{direction:l,distribution:c,itemAlignment:d,padding:u,gap:h,formattedPadding:p,formattedGap:f}=e,g="row"===l||"column"===l,m="center"===c,b="min"===c,S="max"===c,y="space-between"===c,v="center"===d,O="min"===d,C="max"===d,E="stretch"===d,T="inherit"===d,_=c&&r.MainAxisAlignmentTypes[c],P=d&&r.CrossAxisAlignmentTypes[d];function I(e){const n=t.filter((t=>t.value===e));if(n.length){const e=n.map((({token:e})=>e));let t;return n.length>1&&(t=", +"+(n.length-1)),o.h("span",{title:e.join(", ")}," (",e[0],t,")")}return null}return o.h("div",{class:"layout"},o.h("div",{class:"layoutVisualContainer"},o.h("div",{class:a.default("layoutVisual",g?l:"",{hasDirection:g,mainAxisCenter:m,mainAxisStart:b,mainAxisEnd:S,mainAxisSpaceBetween:y,crossAxisCenter:v,crossAxisStart:O,crossAxisEnd:C,crossAxisStretch:E,crossAxisInherit:T||!P})},o.h("div",{class:"layoutVisualBackground",onMouseEnter:function(){n(!0)},onMouseLeave:function(){n(!1)}},o.h("div",{class:"paddingLine vertical"}),o.h("div",{class:"paddingLine horizontal"})),g?o.h("div",{class:"layoutVisualContent"},o.h("div",{class:"layoutVisualContentGapBackground",onMouseEnter:function(){i(!0)},onMouseLeave:function(){i(!1)}},o.h("div",{class:"gapLine vertical"}),o.h("div",{class:"gapLine horizontal"})),o.h("div",{class:"item first"}),o.h("div",{class:"gap"}),o.h("div",{class:"item second"}),o.h("div",{class:"gap"}),o.h("div",{class:"item third"})):o.h("div",{class:"layoutVisualContent"})),_?o.h("div",{class:"layoutAxisPropertiesContainer"},o.h(s.default,{name:"main axis",capitalize:!1},_),o.h(s.default,{name:"cross axis",capitalize:!1},P||"mixed")):null),function(){if(!p)return null;const{left:e,right:t,top:n,bottom:i}=u;return o.h(o.Fragment,null,o.h(s.default,{name:"Left",capitalize:!1},p.left,I(e)),o.h(s.default,{name:"Right",capitalize:!1},p.right,I(t)),o.h(s.default,{name:"Top",capitalize:!1},p.top,I(n)),o.h(s.default,{name:"Bottom",capitalize:!1},p.bottom,I(i)))}(),f?o.h(s.default,{name:"Gap",capitalize:!1},f,h>=0&&I(h)):null)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1988),s=n(2005);const a="layer";class r extends i.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e.layer(t,n,i).then((e=>s.CodeSnippet.fromUnknown(e,a)))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.h(o.default,{id:e.id,assets:e.assets,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1989);n.d(t,"default",(function(){return i.default}));var o=n(1991);n.d(t,"ExtensionCode",(function(){return o.default}));var s=n(1999);n.d(t,"ResizableExtensionCode",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(624),r=n(930),l=n(598),c=n(684),d=n.n(c),u=n(567),h=n.n(u),p=n(929),f=n.n(p);n(1990);class g extends i.Component{constructor(...e){var t,n,i;super(...e),i={snippets:{}},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static calculateState(){const{extensions:e,enabledExtensions:t}=h.a.ExtensionsStore.getState(),{loading:n,barrelType:i,barrelId:o}=h.a.BarrelStore.getState();if(n)return{loading:n};const s=d.a.getBarrel({bid:o}),a=d.a.getStyleguidesData({barrelStore:h.a.BarrelStore,styleguidesDataStore:h.a.StyleguidesDataStore,projectsDataStore:h.a.ProjectsDataStore}),{styleguides:r}=h.a.StyleguidesDataStore.getState();return{loading:n,barrel:s,styleguidesData:a,styleguides:r,barrelType:i,extensions:e,enabledExtensions:t}}static getStores(){return[h.a.ExtensionsStore,h.a.BarrelStore,h.a.ProjectsDataStore,h.a.StyleguidesDataStore]}async generateCode(e,t){const{generateCode:n}=this.props;try{const i=await n(e,t);return{[e.id]:{snippets:i?[i]:[],title:e.name}}}catch(i){return null}}async generateCodeSnippets(){const{onGenerateCode:e}=this.props,{barrel:t,styleguidesData:n,styleguides:i,barrelType:o,extensions:s,enabledExtensions:a}=this.state,r=Object(l.transformBarrelToObject)(t,o,n,i),c=s.filter((e=>e.loaded&&a.includes(e.id)));try{const t=(await Promise.all(c.map((e=>this.generateCode(e,r))))).filter(Boolean);if(e){e(t.some((e=>Object.keys(e).some((t=>e[t].snippets.length)))))}this.setState({snippets:Object.assign({},...t)})}catch(d){}}componentDidMount(){this.generateCodeSnippets()}componentDidUpdate(e,t){const{extensions:n,enabledExtensions:i}=this.state;!Object(r.default)(e,this.props)&&Object(a.arrayEqual)(t.extensions,n,((e,t)=>e===t))&&Object(a.arrayEqual)(t.enabledExtensions,i,((e,t)=>e===t))||this.generateCodeSnippets()}render(){const{render:e}=this.props,{loading:t,snippets:n}=this.state;return t?null:e(n)}}g.propTypes={generateCode:s.a.func.isRequired,onGenerateCode:s.a.func,id:s.a.string,assets:s.a.array,render:s.a.func.isRequired},t.default=f()(g,{pure:!1})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1992);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(959),r=n(1993);const l=Object(a.canCopy)();class c extends i.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some((e=>!n.includes(e))))||i.some((t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some(((e,t)=>n[t].language!==e.language||n[t].code!==e.code))}))}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:o}=this.props,a=Object.keys(e).map((o=>{const{snippets:s,title:a}=e[o];return s.length?i.h(r.default,{class:"extensionCode",key:o,extensionId:o,copyEnabled:l,onCopyClick:t,onSettingsClick:n,snippets:s,title:a}):null})).filter(Boolean);if(a.length)return i.h("div",{class:s()("extensionCodePanel",o)},a)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1994);n.d(t,"Gutter",(function(){return i.Gutter})),t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(724),a=n.n(s),r=n(1995);n.d(t,"Gutter",(function(){return r.default}));var l=n(831),c=n(1924),d=n(731);n(1998);class u extends o.default{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map((e=>e.code)).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t(n)}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=()=>this.props.onExportClick(e.name),this.exportHandlers.set(e,t),t)}render(){const{class:e,copyEnabled:t,exportEnabled:n,snippets:o,title:s}=this.props,u=o.map((e=>i.h("div",{key:e.name,class:"snippet"},n&&e.exportable&&i.h(l.default,{class:"exportButton",onClick:this.bindExportHandler(e)},i.h(d.IconDownload,{color:"#C1BEC1"})),i.h(c.default,{lineIndicator:!0,lang:e.language,content:e.code}))));return i.h("div",{class:a()("codePanel",e)},i.h(r.default,null),i.h("div",{class:"title"},i.h("h3",null,s),t&&i.h(l.default,{class:"copyButton",onClick:this.handleCopyClick},i.h(d.IconCopy,{color:"#C1BEC1"})),i.h(l.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(d.IconSettings,{color:"#C1BEC1"}))),u)}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1996);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1997);t.default=function(){return i.h("div",{class:"codePanelGutter"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2e3);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1991),s=n(2001),a=n(1993),r=n(724),l=n.n(r),c=n(852);n(2004);class d extends i.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:r,onCopyClick:d,onSettingsClick:u,codeGap:h,snippets:p}=this.props;return Object.keys(p).some((e=>p[e].snippets.length))?i.h("div",{class:l()("resizableExtensionCodePanel",e),ref:Object(c.default)(this,"base"),style:{height:t,minHeight:n,maxHeight:r}},i.h(s.default,{onResize:this.handleResize}),i.h(o.default,{onCopyClick:d,onSettingsClick:u,snippets:p}),i.h("div",{class:"availableSpace",style:{height:h}},i.h(a.Gutter,null))):null}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(2002);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1993);n(2003);class s extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.h(o.Gutter,null),i.h("div",{class:"resizerIcon"}))}}t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeSnippet=void 0;class i{constructor(e,t,n){this.name=e,this.code=t,this.language=n}static fromUnknown(e,t){const n=function(e){if("string"==typeof e)return e;if(!e)return;const{code:t}=e;return"string"==typeof t?t:void 0}(e);if("string"==typeof n)return new i(t,n,function(e){if(!e)return;const{language:t}=e;return"string"==typeof t?t:void 0}(e))}}t.CodeSnippet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({component:e,ancestors:t}){const n=t.find((e=>!!e.variant));return{componentId:e._id,componentName:e.name,properties:n?(i=e.variant,o=n.variant,i&&o?i.values.map((({propertyId:e,value:t})=>{const n=o.properties.find((({_id:t})=>t===e));return n?{name:n.name,value:t}:null})).filter(Boolean):null):null};var i,o}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2009);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(702),r=n.n(a),l=n(684),c=n.n(l),d=n(652),u=n.n(d),h=n(710),p=n.n(h),f=n(691),g=n.n(f),m=n(685),b=n.n(m),S=n(567),y=n.n(S),v=n(2010),O=n(2023),C=n(2029),E=n(2035),T=n(610),_=n(686),P=n(1103),I=n(582),j=n(583),D=n(548),k=n(2041);n(2042);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),A(this,"handleClick",(e=>{const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)}))}render(){const{id:e,selected:t,title:n}=this.props,o=`ic${Object(j.uppercaseFirst)(e)}Tab${t?"Selected":""}`;return i.h("label",{class:"noSelect",title:n},i.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.h("img",{alt:n,src:Object(I.imageUrl)(`img/${o}.png`),srcset:Object(I.srcset)(Object(I.imageUrl)(`img/${o}.png`))}))}}class N extends i.Component{constructor(...e){super(...e),A(this,"handleDescriptionChange",(e=>{const{screenId:t,screen:{description:n}}=this.state;e!==n&&p.a.updateDescription({sid:t,description:e,syncWithApi:!0})})),A(this,"handleManageTagsClick",(()=>{const{screenId:e}=this.state;p.a.openTagManager([e])})),A(this,"handleDownloadAssetClick",((e,t)=>{const{screen:{name:n},assets:i}=this.state,{screenContainerRef:o}=this.context;r.a.downloadAsset({containerName:n,assets:i,assetId:e,format:t,toastContainer:o(),source:"Assets tab"})})),A(this,"handleDownloadSelectedAssetClick",(e=>{const{screen:{name:t},assets:n}=this.state,{screenContainerRef:i}=this.context;r.a.downloadMultipleAsset({containerName:t,assets:n,assetList:e,toastContainer:i(),source:"Assets tab"})})),A(this,"handleCopyScreenWebUrl",(e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})})),A(this,"handleCopyScreenAppUri",(e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})}))}static getStores(){return[y.a.BarrelStore,y.a.ScreenStore,y.a.AssetsStore,y.a.DotsStore,y.a.ProjectsDataStore,y.a.StyleguidesDataStore,y.a.UserStore,y.a.OrganizationStore]}static calculateState(){const{loading:e,barrelId:t,assetDensityScalePrefs:n,assetNamingConvention:i,densityMismatchWarningHidden:o,sourceFileInfoHidden:s,showOptimizedSVG:a,showOptimizedPNG:r,showOptimizedJPG:l}=y.a.BarrelStore.getState();if(e)return{loading:!0};const{loadingSnapshot:d,screenId:u,loadingVersions:h,versionId:p,latestVersionSelected:f,selectedSidebarTab:m,layoutGridEnabled:S,sourceFiles:v}=y.a.ScreenStore.getState();if(h&&!f)return{loading:!0};const{statusFilter:O,colorFilter:C}=y.a.DotsStore.getState(),{type:E,densityScale:I}=c.a.getBarrel(),j=c.a.findUser(),k=c.a.isUserRestricted(),R=g.a.getScreen(),A=g.a.getSectionOfScreen(),w=g.a.getVersion({sid:u,vid:p});if(!w)return{loading:!0};const{versionsAssets:N}=y.a.AssetsStore.getState(),L=N[p],M=L&&L.length?L:w.snapshot.assets,{density:x,densityScale:U=Object(T.getDensityScale)(x)}=w.snapshot,B=U!==I&&!o,V=v[p],z=c.a.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore,projectsDataStore:y.a.ProjectsDataStore}),F=f?"":`&vid=${p}`,W=`${D.ZPL_PROTOCOL}//screen?pid=${t}&sid=${u}${F}`,H=f?Object(_.urlResolve)("project-screen",{url:{pid:t,sid:u}}):Object(_.urlResolve)("project-screen-version",{url:{pid:t,sid:u,vid:p}}),G=b.a.getOrganization();return{loading:!1,barrelUser:j,userRestricted:k,platform:E,assetDensityScalePrefs:n,assetNamingConvention:i,showDensityMismatchWarning:B,sourceFileInfoHidden:s,showOptimizedSVG:a,showOptimizedPNG:r,showOptimizedJPG:l,styleguidesData:z,loadingSnapshot:d,screenId:u,screen:R,section:A,latestVersionSelected:f,version:w,assets:M,selectedTab:m,layoutGridEnabled:S,appUri:W,webUrl:H,sourceFile:V,noteStatusFilter:O,noteColorFilter:C,organizationFrozen:b.a.isOrganizationFrozen(),isTeamPlan:G&&Object(P.hasTeamPlan)(G.paymentPlan)}}renderTabs(){const{selectedTab:e}=this.state;return i.h("div",{class:"resourceTabs"},u.a.map((({id:t,title:n})=>i.h(w,{id:t,key:t,title:n,selected:e===t,onChange:p.a.changeSidebarTab}))))}renderInfoTab(){const{formatter:e,onCopyCode:t,onRequestOrgInviteClick:n}=this.props,{loading:o,screenId:s,screen:a,section:l,latestVersionSelected:c,version:d,layoutGridEnabled:u,sourceFileInfoHidden:h,appUri:f,webUrl:g,sourceFile:m}=this.state;if(o||!a||!d)return null;const b=Object(k.transformInfo)(a,d);return i.h(v.default,R({latestVersionSelected:c,appUri:f,webUrl:g,formatter:e,layoutGridEnabled:u,sourceFileInfoHidden:h,screenId:s,sectionId:l&&l._id,onCopyCode:t,onCopyScreenWebUrl:this.handleCopyScreenWebUrl,onCopyScreenAppUri:this.handleCopyScreenAppUri,sourceFile:m,onGridToggleChange:p.a.toggleLayoutGrid,onDescriptionChange:this.handleDescriptionChange,onManageTagsClick:this.handleManageTagsClick,onSourceFileClick:p.a.openSourceFile,onSourceFolderClick:p.a.openSourceFolder,onRequestOrgInviteClick:n,onHideSourceFileInfoClick:r.a.hideSourceFileInfo},b))}renderColorsTab(){const{formatter:e,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o,onRequestOrgInviteClick:s}=this.props,{loadingSnapshot:a,userRestricted:r,organizationFrozen:l,isTeamPlan:c,version:d,styleguidesData:u}=this.state,h=Object(k.transformColors)(d,e,u);return i.h(O.default,R({loading:a,restricted:r,organizationFrozen:l,isTeamPlan:c,onRequestOrgInviteClick:s,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o},h))}renderAssetsTab(){const{formatter:e,onRequestOrgInviteClick:t,onProcessFailedAssetContents:n}=this.props,{loadingSnapshot:o,userRestricted:s,organizationFrozen:a,isTeamPlan:l,platform:c,version:d,assetDensityScalePrefs:u,assetNamingConvention:h,showDensityMismatchWarning:p,showOptimizedSVG:f,showOptimizedPNG:g,showOptimizedJPG:m,assets:b}=this.state;return i.h(C.default,{restricted:s,organizationFrozen:a,isTeamPlan:l,formatter:e,showDensityMismatchWarning:p,assetDensityScalePrefs:u,namingConvention:h,showOptimizedSVG:f,showOptimizedPNG:g,showOptimizedJPG:m,loading:o,platform:c,source:d.snapshot.source,assets:Object(k.transformAssets)(b,e,c),onRequestOrgInviteClick:t,onHideDensityMismatchWarningClick:r.a.hideDensityMismatchWarning,onAssetDensityOptionChange:r.a.changeAssetDensityScalePref,onNamingConventionChange:r.a.changeAssetNamingConvention,onShowOptimizedSVGChange:r.a.toggleSVGOptimization,onShowOptimizedPNGChange:r.a.togglePNGOptimization,onShowOptimizedJPGChange:r.a.toggleJPGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick,onProcessFailedAssetContents:n})}renderNotesTab(){const{barrelUser:e,screen:t,noteStatusFilter:n,noteColorFilter:o}=this.state;return i.h(E.default,{dots:t.dots,statusFilter:n,colorFilter:o,barrelUser:e,onFilterChange:p.a.changeDotFilter,onNoteClick:p.a.selectDot,onAddNoteClick:p.a.enableNoteMode})}renderContent(){const{selectedTab:e}=this.state,t=u.a.reduce(((e,t)=>(e[t.id]=t.id,e)),{});switch(e){case t.colors:return this.renderColorsTab();case t.assets:return this.renderAssetsTab();case t.notes:return this.renderNotesTab();case t.info:default:return this.renderInfoTab()}}render(){return i.h("div",{class:"resourceView"},this.renderTabs(),i.h("div",{class:"resourceContent"},this.renderContent()))}}t.default=s()(N)},function(e,t,n){"use strict";n.r(t);var i=n(2011);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2012),s=n(831),a=n(2013),r=n(1650),l=n(1013),c=n(1188),d=n(983),u=n.n(d),h=n(1873),p=n(2016),f=n(2019),g=n(1281),m=n(731),b=n(686),S=n(724),y=n.n(S),v=n(1192),O=n(582),C=n(1617),E=n(544),T=n(1618);n(2022);class _ extends i.Component{getGridData(){const{grid:{horizontal:e,vertical:t},height:n}=this.props,i={};if(t){const{columnWidth:e,gutterWidth:n,guttersOnOutside:o,numberOfCols:s}=t,a=Math.min(230*e/(e+n),206);Object.assign(i,{vertical:!0,columnWidth:e,gutterWidth:n,vizColumnWidth:Math.floor(a),vizGutterWidth:Math.ceil(230-a),totalWidth:s*e+(s-!o)*n,numberOfCols:s})}if(e){const{rowHeight:t,gutterHeight:o,numberOfRows:s}=e,a=Math.min(48*t/(t+o),32),r=t+o,l=s||Math.ceil(n/r);Object.assign(i,{horizontal:!0,rowHeight:t,gutterHeight:o,vizRowHeight:Math.floor(a),vizGutterHeight:Math.ceil(48-a),numberOfRows:l,totalHeight:l*t+(l-1)*o})}return i}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:o,vizColumnWidth:s,vizGutterWidth:a,totalWidth:r,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:h,vizGutterHeight:p,totalHeight:f,numberOfRows:g}=this.getGridData();let m;return t?m={sizeLabel:"Total width:",size:e.length(r),countLabel:"# of columns:",count:l}:c&&(m={sizeLabel:"Total height:",size:e.length(f),countLabel:"# of rows:",count:g}),i.h("div",{class:y()("layoutGrid",{vertical:t,horizontal:c})},i.h("table",null,i.h("tr",null,i.h("td",{class:"gridColumnWidth"},e.length(n)),i.h("td",{class:"gridGutterWidth"},e.length(o)),i.h("td",null)),i.h("tr",null,i.h("td",{class:"gridColumn",style:{width:`${s}px`}}),i.h("td",{class:"verticalGutter",style:{width:`${a}px`}}),i.h("td",{class:"gridRowHeight",style:{height:`${h}px`}},e.length(d))),i.h("tr",null,i.h("td",{class:"horizontalGutter"}),i.h("td",null),i.h("td",{class:"gridGutterHeight",style:{height:`${p}px`}},e.length(u)))),m&&i.h(i.Fragment,null,i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},m.sizeLabel),i.h("span",{class:"value"},m.size)),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},m.countLabel),i.h("span",{class:"value"},m.count))))}}class P extends i.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{screenId:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderTags(){const{tags:e,onManageTagsClick:t}=this.props,{barrelId:n,barrelUser:{role:o},permissions:{canManageScreens:a}}=this.context,r=e.map((e=>{const t=Object(b.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:[e]}});return i.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)})),l=Object(E.getOS)()===E.OS.MAC?"⌥T":"Alt+T";return i.h("div",{class:"tags"},r,i.h(c.default,{content:a?"Manage tags":Object(v.default)(o,"organize screens using tags")},i.h(s.default,{class:"manageTagsButton",onClick:t,disabled:!a},i.h(m.IconGear,null),i.h("span",{class:"label"},"Manage"),i.h("span",{class:"shortcut"},l))))}renderLayoutGrid(){const{grid:e,formatter:t,layoutGridEnabled:n,onGridToggleChange:o,version:s}=this.props;if(!e)return null;const a=i.h("div",{class:"gridsTitle"},"Grids",i.h(l.default,{checked:n,onChange:o}));return i.h(h.default,{title:a,showSeparator:!0},i.h(_,{grid:e,formatter:t,height:s.snapshot.height}))}renderSourceFile(){const{sourceFile:e,sourceFileInfoHidden:t,onHideSourceFileInfoClick:n}=this.props;if(!e)return null;const o=t?null:i.h(u.a,{class:"sourceFileHint",onHideClick:n},"This is only visible to you, to quickly jump to your design file.");return i.h(h.default,{title:"File",showSeparator:!0},i.h("div",{class:"sourceFileInfo"},i.h("div",{class:"sourceFileLocation"},i.h("div",{class:"sourceFileName ellipsis",title:e.name,onClick:this.handleSourceFileClick},e.name),i.h("div",{class:"sourceFilePath",title:e.dir,onClick:this.handleSourceFolderClick},e.pathParts.join(" ▸ "))),i.h(s.default,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),o)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.h("img",{key:"ps",src:Object(O.imageUrl)("img/icFilePhotoshopNew.png"),srcset:Object(O.srcset)(Object(O.imageUrl)("img/icFilePhotoshopNew.png"))}),i.h("img",{key:"psPressed",src:Object(O.imageUrl)("img/icFilePhotoshopNewPressed.png"),srcset:Object(O.srcset)(Object(O.imageUrl)("img/icFilePhotoshopNewPressed.png"))})]:"xd"===e?[i.h("img",{key:"xd",src:Object(O.imageUrl)("img/icFileXD.png"),srcset:Object(O.srcset)(Object(O.imageUrl)("img/icFileXD.png"))}),i.h("img",{key:"xdPressed",src:Object(O.imageUrl)("img/icFileXDPressed.png"),srcset:Object(O.srcset)(Object(O.imageUrl)("img/icFileXDPressed.png"))})]:void 0}renderJiraAttachmentsWithSections(e){return e?i.h(h.default,{class:"jiraIntegrationContainer",showSeparator:!0},e):null}render(){const{authors:e,description:t,latestVersionSelected:n,showNoResourceInfo:s,appUri:l,webUrl:c,screen:d,screenId:u,sectionId:m,version:b,onCopyCode:S,onCopyScreenWebUrl:y,onCopyScreenAppUri:v,onDescriptionChange:O}=this.props,{barrelId:E,permissions:{canManageScreens:_}}=this.context;return i.h(p.default,{class:"infoTab"},i.h(h.default,{showSeparator:s},e.map((({id:t,fullName:n,username:o,avatar:s={},versions:a,lastUpdated:r})=>i.h(f.default,{key:o,id:t,avatar:s,fullName:n,username:o,versionCount:a,authorCount:e.length,lastUpdated:r})))),i.h(g.default,{class:"jiraIntegration",wrappingFn:this.renderJiraAttachmentsWithSections,items:[{itemType:"screen",itemId:u,label:"Attached to "},{itemType:"section",itemId:m,label:"Section attached to "}]}),i.h(h.default,{title:"Share "+(n?"screen":"version"),showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(a.default,{webUrl:c,appUri:l,onCopyWebUrl:y,onCopyAppUri:v}))),i.h(h.default,{title:"Description",showSeparator:!0},i.h(r.default,{class:"descriptionInput",value:t,placeholder:_?"Got any notes?":"No description yet",color:"cornflowerBlue",readOnly:!_,submitOnBlur:!0,onSubmit:O,autoEdit:!0,formatter:C.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024,barrelId:E})),i.h(h.default,{title:"Tags",showSeparator:!0},this.renderTags()),this.renderLayoutGrid(),this.renderSourceFile(),i.h(o.default,{class:"codeSection",screen:d,version:b,onCopyClick:S,onSettingsClick:T.default.openSettings}))}}P.defaultProps={authors:[]},t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1988),s=n(2005);const a="screen";class r extends i.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e.screen(t,i,n).then((e=>s.CodeSnippet.fromUnknown(e,a)))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.h(o.default,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(2014);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(959),s=n(1220),a=n(831),r=n(1188),l=n(731);n(2015);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function u(e){const t=window.getSelection().toString().trim();return t&&t!==e}class h extends i.Component{constructor(...e){super(...e),c(this,"state",{shortWebUrl:null}),c(this,"handleCopyAppUriClick",(()=>{const{appUri:e,onCopyAppUri:t}=this.props;t(e)})),c(this,"handleCopyWebUrlClick",(()=>{const{webUrl:e,onCopyWebUrl:t}=this.props;t(Object(s.getShortlink)(e))})),c(this,"handleCopyAppUri",(e=>{u(this.props.appUri)||(e.preventDefault(),this.handleCopyAppUriClick(),Object(o.selectContent)(e.target))})),c(this,"handleCopyWebUrl",(e=>{u(d(this.props.webUrl))||(e.preventDefault(),this.handleCopyWebUrlClick(),Object(o.selectContent)(e.target))}))}async componentDidMount(){const e=await Object(s.fetchShortlink)(this.props.webUrl);this.setState({shortWebUrl:e})}async componentDidUpdate({webUrl:e}){const{webUrl:t}=this.props;if(e!==t){Object(s.hasShortlink)(t)||this.setState({shortWebUrl:null});const e=await Object(s.fetchShortlink)(t);this.setState({shortWebUrl:e})}}render(){const{shortWebUrl:e}=this.state,{appUri:t}=this.props;return i.h("div",{class:"shareView"},i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"Web:"),e?[i.h("span",{key:"webUrl",class:"link"},i.h(r.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},d(e)))),i.h("div",{key:"webUrlShareButtons",class:"shareButtons"},i.h(r.default,{targetClass:"shareButton",content:"Copy web link"},i.h(a.default,{onClick:this.handleCopyWebUrlClick},i.h(l.IconCopy,null))))]:i.h("span",{class:"fetching"},"Fetching…")),i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"App:"),i.h("span",{class:"link"},i.h(r.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.h("div",{class:"shareButtons"},i.h(r.default,{targetClass:"shareButton",content:"Open in App"},i.h("a",{href:t},i.h(l.IconShare,null))),i.h(r.default,{targetClass:"shareButton",content:"Copy app URI"},i.h(a.default,{onClick:this.handleCopyAppUriClick},i.h(l.IconCopy,null))))))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2017);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o);n(2018);t.default=function(e){const{class:t,children:n,afterContent:o,title:a,onClick:r}=e;return i.h("div",{class:s()("resourceTab",t),onClick:r},a&&i.h("div",{class:"title"},i.h("h1",null,a)),i.h("div",{class:"tabContent"},n),o)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2020);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(935),s=n.n(o),a=n(1209);n(2021);t.default=function(e){const{id:t,avatar:n,fullName:o,username:r,versionCount:l,authorCount:c,lastUpdated:d}=e,u=i.h(s.a,{class:"userImageFrame",src:n.src,srcset:n.srcset,size:28}),h=i.h("span",{class:"author ellipsis",title:o||r},o||r);return i.h("div",{class:"versionAuthor"},t?i.h(a.default,{userId:t},u):u,i.h("div",{class:"authorAndCount"},t?i.h(a.default,{class:"versionAuthorNameUserProfileCardPopoverContainer",userId:t,openToLeft:!1},h):h,(c>1||l>1)&&i.h("span",null,", ",l," version",l>1?"s":"")),i.h("zpl-time-ago",{format:"micro",class:"date",datetime:d}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2024);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1873),s=n(2016),a=n(1879),r=n(2025),l=n(582);n(2028);class c extends i.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,organizationFrozen:d,isTeamPlan:u,onAddColorClick:h,onRemoveColorClick:p,onColorNameChange:f}=this.props;let g;return n?g=i.h(o.default,null,i.h(r.default,null)):c?g=i.h(o.default,null,i.h("div",{class:"restricted"},i.h("h2",null,"Need Developer access?"),i.h("p",null,"Your organization role is Reviewer ",i.h("img",{src:Object(l.imageUrl)("img/icPawn.png"),srcSet:Object(l.srcset)(Object(l.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!"))):d?g=i.h(o.default,{class:"restricted"},i.h("h2",null,"Workspace Suspended 😢"),i.h("p",null,"Due to a failed payment, access to your workspace has been restricted."),u?i.h("p",null,"Contact an Admin to update the payment details and reactivate the workspace."):i.h("p",null,"Please email ",i.h("a",{href:"mailto:success@zeplin.io"},"success@zeplin.io")," to reactivate the workspace.")):e||t.length?(g=[],e&&g.push(i.h(o.default,{title:"Background color"},i.h(a.default,{onAddClick:h,onRemoveClick:p,onNameChange:f,color:e}))),t.length>0&&g.push(i.h(o.default,{title:"Colors",showSeparator:g.length>0},t.map((e=>i.h(a.default,{key:e.colorStyle,onAddClick:h,onRemoveClick:p,onNameChange:f,color:e})))))):g=i.h(o.default,null,i.h("div",{class:"noColors"},i.h("h2",null,"No colors. ",i.h("img",{width:"24",height:"24",src:Object(l.imageUrl)("img/emjPalette.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.h("p",null,"All the colors used in the screen will be listed here."),i.h("p",null,"Could this be a bitmap? ",i.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.h(s.default,{class:"colorsTab",title:"Colors"},g)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(2026);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852);n(2027);class r extends i.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(5*Math.random())+1,this.intervalId=setInterval(this.handleOnePeriod,1260))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.h("div",{ref:Object(a.default)(this,"base"),class:"tabLoading loadingShapes"},i.h("div",{class:s()("loadingShape","yellow",e[0]||"circle")}),i.h("div",{class:s()("loadingShape","lightOrange",e[1]||"circle")}),i.h("div",{class:s()("loadingShape","orange",e[2]||"circle")}),i.h("div",{class:s()("loadingShape","peach",e[3]||"circle")}),i.h("div",{class:s()("loadingShape","green",e[4]||"circle")}),i.h("div",{class:s()("loadingShape","turquoise",e[5]||"circle")}),i.h("div",{class:s()("loadingShape","cornflowerBlue",e[6]||"circle")}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2030);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2031),s=n(2016),a=n(2025),r=n(831),l=n(1896),c=n(1898),d=n(1900),u=n(1903),h=n(1906),p=n(1873),f=n(731),g=n(852),m=n(724),b=n.n(m),S=n(1295),y=n(959),v=n(544),O=n(551),C=n(582);n(2034);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=Object(y.canDownload)();class I extends i.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:o,light:s,previewImages:a}=this.props;return i.h("div",{class:b()("assetEntry","noSelect",{selected:!!o}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.h(u.default,{class:"preview",light:s,images:a}),i.h("div",{class:"entryInfo"},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"size ellipsis"},t&&`${t.width} × ${t.height}`)),o&&i.h("div",null,Object.keys(n).sort(S.sortFormats).map((e=>i.h(r.default,{key:e,class:b()("exportType",{selected:o===e,fourChar:4===S.ASSET_FORMAT_TITLES[e].length}),onClick:this.createFormatSelectHandler(e)},S.ASSET_FORMAT_TITLES[e])))))}}function j(e,t){return n=>t(e,n)}function D(e,t){return n=>t(e,n)}function k(e){return Object.keys(e).sort().join("&")}class R extends i.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[k(e.formats)]||"png";return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,{assets:o}=this.props;if(t.shiftKey){const t=Math.min(n,e),s=Math.max(n,e),a=o.slice(t,s+1),r=function(e,t,n){const i=Object.assign({},e);for(let o=n-1;o>=0;o--){const e=t[o].id;if(!i[e])break;delete i[e]}for(let o=n;o<t.length;o++){const e=t[o].id;if(!i[e])break;delete i[e]}return i}(i,o,n),l=a.reduce(((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t))),r);return void this.setState((e=>({assetSelections:l})))}const s=this.getPreferredFormatObjectForAsset(o[e]);if(Object(v.cmdKey)(t)){const t=o[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,s),lastSelectedAssetIndex:e})}else this.setState((t=>({assetSelections:s,lastSelectedAssetIndex:e})))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:o}=this.props,s=o[e],a=Object.assign({},n,{[s.id]:t});this.setState({assetSelections:a,assetFormatPreference:Object.assign({},i,{[k(s.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map((e=>({assetId:e,format:n[e]})));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){O.userPrefs.get("assetFormatPreference").then((e=>{e&&this.setState({assetFormatPreference:e})})),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:o}=this.state,s=Object.keys(t).length,a=Object.keys(i).length;n!==o&&function(e){O.userPrefs.set("assetFormatPreference",e)}(o),0===s&&a>0?document.body.classList.add("supportButtonHidden"):s>0&&0===a&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n,showOptimizedPNG:o,showOptimizedJPG:s,onProcessFailedAssetContents:a}=this.props,r={};let l=!1;for(const i of e)Object.keys(i.formats).forEach((e=>{const t=i.formats[e].variants.map((e=>T(T({},e),{},{assetId:i.id})));r[e]=(r[e]||[]).concat(t)})),i.formats.svg&&!i.formats.svg.diff&&(l=!0);return Object.keys(r).sort(S.sortFormats).map((e=>i.h(d.default,{key:e,format:e,variants:r[e],assetDensityScalePrefs:t,showCompressionInfo:"svg"===e&&!l,optimizationSettings:{showOptimizedSVG:n,showOptimizedPNG:o,showOptimizedJPG:s},onProcessFailedAssetContents:a,onDownloadClick:this.createDownloadClickHandler("all",e)})))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map(((e,o)=>{const s=this.getPreferredFormatObjectForAsset(e);return i.h(I,{key:e.id,name:Object(S.getExportName)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,s[e.id]),onClick:j(o,this.handleAssetClick),onFormatChange:D(o,this.handleAssetFormatChange)})}))}render(){const{assets:e,source:t="sketch",loading:n,restricted:d,organizationFrozen:u,isTeamPlan:m,showDensityMismatchWarning:S,assetDensityScalePrefs:y,namingConvention:v,showOptimizedSVG:O,showOptimizedPNG:E,showOptimizedJPG:T,platform:_,onHideDensityMismatchWarningClick:I,onAssetDensityOptionChange:j,onNamingConventionChange:D,onShowOptimizedSVGChange:k,onShowOptimizedPNGChange:R,onShowOptimizedJPGChange:A}=this.props,{assetSelections:w,settingsOpen:N}=this.state,L=i.h("div",{class:"assetsTitle"},"Assets",i.h(h.default,{open:N,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:j,onNamingConventionChange:D,onShowOptimizedSVGChange:k,onShowOptimizedPNGChange:R,onShowOptimizedJPGChange:A,projectType:_,settings:{assetDensityScalePrefs:y,namingConvention:v,showOptimizedSVG:O,showOptimizedPNG:E,showOptimizedJPG:T},target:i.h(r.default,{class:b()("assetSettingsButton",{active:N}),onClick:this.showSettingsMenu},i.h(f.IconSettings,null))}));let M;return M=n?i.h(a.default,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0}):d?i.h(p.default,{class:"restricted"},i.h("h1",null,"Need Developer access?"),i.h("p",null,"Your workspace role is Reviewer ",i.h("img",{src:Object(C.imageUrl)("img/icPawn.png"),srcSet:Object(C.srcset)(Object(C.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")):u?i.h(p.default,{class:"restricted"},i.h("h1",null,"Workspace Suspended 😢"),i.h("p",null,"Due to a failed payment, access to your workspace has been restricted."),m?i.h("p",null,"Contact an Admin to update the payment details and reactivate the workspace."):i.h("p",null,"Please email ",i.h("a",{href:"mailto:success@zeplin.io"},"success@zeplin.io")," to reactivate the workspace.")):e.length?[i.h(p.default,{class:"allAssets",key:"allAssets"},!P&&i.h(c.default,{class:"warningBox"}),S&&i.h(l.default,{class:"warningBox",onHideClick:I}),i.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.h(p.default,{title:"Download individual assets",key:"individualAssets",showSeparator:!0},i.h("div",{class:"individualAssets",ref:Object(g.default)(this,"individualAssets")},this.renderIndividuals()),i.h("div",{class:"spacer"}))]:i.h(p.default,null,i.h(o.default,{source:t})),i.h(s.default,{onClick:this.handleDocumentClick,title:L,class:b()("assetsTab",_),afterContent:Object.keys(w).length>0&&i.h(r.default,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},M)}}t.default=R},function(e,t,n){"use strict";n.r(t);var i=n(2032);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582);n(2033);t.default=function(e){return i.h("div",{class:"noScreenAssets"},i.h("h1",null,"Rock paper scissors",i.h("img",{src:o.imageUrl("img/emjAssetVictory.png"),srcset:o.srcset(o.imageUrl("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.h("img",{src:o.imageUrl("img/emjScissors.png"),srcset:o.srcset(o.imageUrl("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.h("div",{class:"info sketchFile"},i.h("p",null,i.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icSketchMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"or"),i.h("img",{src:o.imageUrl("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.h("div",{class:"info psdFile"},i.h("p",null,i.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icPhotoshopMakeExportableNew.png"),srcset:o.srcset(o.imageUrl("img/icPhotoshopMakeExportableNew.png")),class:"exportableAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icFigmaMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icXDMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2036);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(1873),a=n(1848),r=n.n(a),l=n(2016),c=n(841),d=n(2037),u=n(650),h=n.n(u),p=n(631),f=n(582),g=n(544);n(2040);class m extends i.Component{renderShortcutImage(){return i.h("div",{class:"shortcuts"},Object(g.getOS)()===g.OS.MAC?i.h("img",{class:"dotMacShortcut",src:Object(f.imageUrl)("img/icDotMacShortcut.svg")}):i.h("img",{class:"dotWinShortcut",src:Object(f.imageUrl)("img/icDotWinShortcut.png"),srcset:Object(f.srcset)(Object(f.imageUrl)("img/icDotWinShortcut.png"))}))}renderEmptyState(){const{dots:e,statusFilter:t,onAddNoteClick:n}=this.props;return e.length?t===h.a.Open?i.h("div",{class:"empty open"},i.h("h1",null,"No open notes"),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(g.getOS)()===g.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note")):t===h.a.Resolved?i.h("div",{class:"empty resolved"},i.h("h1",null,"No resolved notes"),i.h("p",null,"Looks like things are going pretty hectic these days ",i.h("img",{src:Object(f.imageUrl)("img/emjSweatTears.png"),srcset:Object(f.srcset)(Object(f.imageUrl)("img/emjSweatTears.png"))})),i.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):t===h.a.Mentioned?i.h("div",{class:"empty mentioned"},i.h("h1",null,"No mentioned notes"),i.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.h("div",{class:"empty noDots"},i.h("h1",null,"What a quiet team!",i.h("img",{src:Object(f.imageUrl)("img/icQuietMaymus.png"),srcset:Object(f.srcset)(Object(f.imageUrl)("img/icQuietMaymus.png"))})),i.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(g.getOS)()===g.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.h(l.default,{class:"notesTab",title:e},i.h(s.default,null,t))}render(){const{dots:e,statusFilter:t,colorFilter:n,barrelUser:o,onNoteClick:s,onFilterChange:a}=this.props;if(!e)return this.renderTab("Notes",i.h("div",{class:"loadingDots"},i.h(c.default,{asset:"img/icDotsLoading.png"}),i.h("div",null,"Loading notes…")));const l=e.filter((e=>Object(p.checkFilter)(e,t,n,o.user))),u=e.length?i.h("div",{class:"notesTitle"},"Notes",i.h(r.a,{top:36,dotCount:l.length,colorFilter:n,statusFilter:t,onFilterChange:a})):"Notes";let h;return l.length?(h=l.map((({_id:e,color:t,comments:n,name:o})=>i.h(d.default,{key:e,color:Object(p.getColorName)(t),id:e,comments:n,name:o,onNoteClick:s}))),h.push(i.h("div",{class:"endingMark"},"~"))):h=this.renderEmptyState(),this.renderTab(u,h)}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(2038);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(935),s=n.n(o),a=n(724),r=n.n(a),l=n(852),c=n(959),d=n(553),u=n(1213),h=n(1215);n(2039);function p(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function f(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?`${n[0]} also replied`:`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const g=document.createElement("canvas").getContext("2d");function m(e){return g.measureText(e)}function b({content:e=""}){const t=[h.CustomRules.SPOTIFY,h.CustomRules.YOUTUBE,h.MarkdownRules.CHECKBOX,h.MarkdownRules.TABLE,h.MarkdownRules.HEADING];return i.h("div",{class:"content"},i.h(u.default,{disabledFeatures:t},e))}g.font="italic 12px Roboto";class S extends i.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let o=f(this.otherAuthorNames,this.hiddenAuthorCount);for(;m(o).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,o=f(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=o}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i({dotId:t,commentId:n.length>1?n[n.length-1]._id:null,source:"Notes tab"})}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map((e=>e.author||{username:"Anonymous"})),[n]=t,o=t[e.length-1],a=new Set([n.username,o.username]),r=[];t.forEach((e=>{a.has(e.username)||(a.add(e.username),r.push(e))}));const u=e.length-2,h=r.filter((e=>!!e._id)).length;let p;return r.sort((({_id:e},{_id:t})=>e?t?0:-1:1)),this.otherAuthorNames=r.map((e=>Object(d.getUserDisplayName)(e))),this.hiddenAuthorCount=r.length-h,p=h&&this.otherAuthorNames.length?f(this.otherAuthorNames,this.hiddenAuthorCount):u>1?`${u} more replies`:"1 more reply",i.h("div",{class:"otherReplies"},i.h("div",{class:"avatars"},r.map((e=>i.h(s.a,{class:"authorAvatar",src:Object(c.getUserAvatar)(e).src,size:16})))),i.h("div",{class:"summary",ref:Object(l.default)(this,"repliesSummary")},p))}render(){const{color:e,comments:t,name:n}=this.props,[o]=t;if(!o)return null;const a=t.length>1?t[t.length-1]:null,{author:l,note:u}=o,h=l||{username:"Anonymous",fullName:"Anonymous"},{author:f={username:"Anonymous"},note:g}=a||{},m=f||{username:"Anonymous",fullName:"Anonymous"};return i.h("div",{class:r()("dotEntry",e),onClick:this.handleClick},i.h("div",{class:"comment"},i.h("h4",null,i.h("div",{class:"commentHeader"},i.h(s.a,{src:Object(c.getUserAvatar)(h).src,size:24}),i.h("div",{class:"author ellipsis"},Object(d.getUserDisplayName)(h)),i.h("zpl-time-ago",{format:"micro",class:"time",datetime:p(o)})),i.h("div",{class:"number"},n)),i.h(b,{content:u})),t.length>2&&this.renderOtherReplies(),a&&i.h("div",{class:"comment"},i.h("h4",null,i.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.h(s.a,{src:Object(c.getUserAvatar)(m).src,size:24}),i.h("div",{class:"author ellipsis"},Object(d.getUserDisplayName)(m)),i.h("zpl-time-ago",{format:"micro",class:"time",datetime:p(a)})),i.h(b,{content:g})))}}t.default=S},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"transformInfo",(function(){return a})),n.d(t,"transformColors",(function(){return r})),n.d(t,"transformAssets",(function(){return l}));var i=n(584),o=n.n(i),s=n(1870);function a(e,t={}){const{description:n,tags:i=[],versions:o}=e,{snapshot:{grid:a,source:r}={}}=t;return{authors:Object(s.transformAuthors)(o),description:n,grid:a,source:r,tags:i,version:t,screen:e}}function r(e,t,n){const i=new Set,a={screenColors:[]};function r(e){const o=Object(s.transformColor)(e,t,n);i.has(o.colorStyle)||(a.screenColors.push(o),i.add(o.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(a.backgroundColor=Object(s.transformColor)(new o.a(l.backgroundColor),t,n)),l.layers?(l.layers.forEach((function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach((e=>{e.style.color&&r(new o.a(e.style.color))})),t.fills.forEach((e=>{switch(e.fillType){default:case"color":r(new o.a(e.color));break;case"gradient":e.gradient.colorStops.forEach((e=>{r(new o.a(e.color))}))}})))})),a):a}function l(e,t,n){return e?e.map((e=>Object(s.transformAsset)(e,t,n))).filter(Boolean):[]}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2046);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(590),s=n.n(o),a=n(610),r=n(686),l=n(712),c=n(1462),d=n(852),u=n(961),h=n(544),p=n(688),f=n.n(p),g=n(2047),m=n(2219),b=n(715),S=n.n(b),y=n(1039),v=n.n(y),O=n(567),C=n.n(O),E=n(2058),T=n.n(E),_=n(702),P=n.n(_),I=n(684),j=n.n(I),D=n(685),k=n.n(D),R=n(929),A=n.n(R);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(...e){super(...e),M(this,"handleBaseRef",(e=>{Object(d.default)(this,"styleguide")(e),this.props.baseRef(e)})),M(this,"handleSectionNavigatorClick",((e,t)=>{const{barrel:{id:n}}=this.state,i=`${this.slugPrefix()}-${e.toLowerCase()}`;f.a.history.replace(Object(r.urlResolve)(i,{url:{bid:n},query:{seid:t}}))})),M(this,"handleStyleguideLink",(e=>{const{barrel:t}=this.state;T.a.linkProjectToStyleguideRequest({project:t,styleguide:e,syncWithApi:!0})})),M(this,"handleStyleguideUnlink",(e=>{const{barrel:{_id:t}}=this.state;T.a.unlinkProjectFromStyleguide({pid:t,styleguide:e,syncWithApi:!0})})),M(this,"handleExportClick",((e,t,n,i)=>{P.a.exportCode({resourceType:e,source:t,exportObjects:n,extensionId:i})})),M(this,"handleKeyDown",(e=>{const{connectedComponentsDevModeEnabled:t}=this.state;Object(h.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(u.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.styleguide}),t?P.a.disableDevMode():P.a.enableDevMode())}))}static calculateState(){const e=C.a.BarrelStore.getState(),{loading:t}=e,n=L(e,["loading"]);if(t)return{loading:!0};const{loadingJoin:i,organizationId:o,barrelType:s,showSlackReconnectionAuntie:a,linkingProjectToStyleguide:r,connectedComponentsDevModeEnabled:l}=n,c=j.a.getBarrel(),d=j.a.findUser(),{userId:u,paymentPlan:h,shouldPromoteExportDesignTokens:p}=C.a.UserStore.getState(),f=c.users.some((({user:e})=>e._id===u));if(c.partial||!f)return{loading:t,loadingJoin:i,barrel:c,isUserJoined:f};const g=C.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:m}=C.a.VersionImportsStore.getState(),b=k.a.getOrganizationStyleguides(o),S=j.a.isUserRestricted(),y=j.a.getStyleguidesData({barrelStore:C.a.BarrelStore,styleguidesDataStore:C.a.StyleguidesDataStore,projectsDataStore:C.a.ProjectsDataStore}),v=y.some((({connectedComponents:e})=>e&&e.length>0));return N(N({loading:!1},g),{},{barrel:c,barrelUser:d,isUserJoined:f,suggestedResourcesByBarrel:m,userId:u,paymentPlan:h,shouldPromoteExportDesignTokens:p,currentOrganizationStyleguides:b,userRestricted:S,organizationId:o,barrelType:s,showSlackReconnectionAuntie:a,linkingProjectToStyleguide:r,connectedComponentsDevModeEnabled:l,styleguidesData:y,hasConnectedComponent:v})}static getStores(){return[C.a.StyleguideStore,C.a.VersionImportsStore,C.a.UserStore,C.a.BarrelStore,C.a.ProjectsDataStore,C.a.StyleguidesDataStore,C.a.OrganizationStore,C.a.UserStore]}slugPrefix(){const{barrelType:e}=this.state;return e===s.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e,userId:t,paymentPlan:n,organizationId:i,barrelType:o,barrel:s,barrelUser:r,isUserJoined:l,hasConnectedComponent:c,sortType:d}=this.state;if(e||s.partial||!l)return{};const{id:u,type:h,densityScale:p,dimensionSuffix:f,styleguideLink:g}=s;return{densityScale:p,dimensionSuffix:f,barrelType:o,barrelId:u,projectId:u,projectType:h,barrelUser:r,organizationId:i,userRole:r.role,hasLinkedStyleguide:!!g,currentUserId:t,currentUserPaymentPlan:n,hasConnectedComponent:c,sortType:d,permissions:{canManageProject:a.permissions.canUpdateProject(r),canManageStyleguide:a.permissions.canUpdateStyleguide(r),canManageColors:a.permissions.canManageColors(r),canManageScreens:a.permissions.canManageColors(r),canManageTextStyles:a.permissions.canManageTextStyles(r),canManageSpacings:a.permissions.canManageSpacings(r),canManageRemSettings:a.permissions.canManageRemSettings(r)}}}render(){const{loading:e,loadingJoin:t,barrel:n,barrelUser:o,isUserJoined:s,showSlackReconnectionAuntie:a}=this.state;if(e)return null;if(n.partial||!s)return i.h(m.default,{styleguide:n,loadingJoin:t,onJoin:P.a.join});const{barrelType:r,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:h,selectedNavigatorId:p,highlightedColors:f,highlightedTextStyles:b,highlightedSpacingTokens:y,scrolledSection:O,highlightScrolledSection:C,sortType:E,filterValue:T,moveResourcesPopup:_,selectionComponentId:I,selection:j,suggestedResourcesByBarrel:D,showSuggestedResourcesBadge:k,currentOrganizationStyleguides:R,linkingProjectToStyleguide:A,styleguidesData:w,shouldPromoteExportDesignTokens:N}=this.state,L=new c.default(n),{barrelId:M,component:x}=Object(l.findComponentById)(w,I)||{};let U=j;return!U&&x&&(U=x),i.h(g.default,{baseRef:this.handleBaseRef,linkingProjectToStyleguide:A,shouldPromoteExportDesignTokens:N,styleguidesData:w,barrelType:r,barrel:n,barrelUser:o,currentOrganizationStyleguides:R,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:h,selectedNavigatorId:p,scrolledSection:O,highlightScrolledSection:C,highlightedColors:f,highlightedTextStyles:b,highlightedSpacingTokens:y,selectionStyleguideId:M,selectionComponent:x,selection:U,sortType:E,filterValue:T,formatter:L,showSlackReconnectionAuntie:a,suggestedResources:D[n.id],showSuggestedResourcesBadge:k,onLeftSidebarRelease:S.a.changeLeftSidebarWidth,onSectionNavigatorClick:this.handleSectionNavigatorClick,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:_,onExportClick:this.handleExportClick,onStopPromotingExportDesignTokens:v.a.stopPromotingExportDesignTokens})}}t.default=A()(x,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(2048);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var i=n(4),o=n(610),s=n(852),a=n(724),r=n.n(a),l=n(553),c=n(702),d=n.n(c),u=n(1619),h=n(2049),p=n(2056),f=n(2080),g=n(2103),m=n(2114),b=n(2139),S=n(831),y=n(953),v=n.n(y),O=n(1415),C=n(2201),E=n(2207),T=n.n(E),_=n(2213),P=n(1157);n(2218);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return e.map((({_id:e,idPath:n,name:i,componentSections:o=[]})=>({id:e,idPath:n,styleguideId:t,title:i,content:i,children:k(o,t)})))}function R(e){return 0===e.length?[]:e[0].idPath}function A({children:e,baseRef:t,compact:n,overlapped:o}){const s=r()("sidebarBottom",{compact:n,overlapped:o});return i.h("div",{class:s,ref:t},i.toChildArray(e).map((e=>"string"==typeof e?e:i.cloneElement(e,{compact:n}))))}class w extends i.Component{constructor(...e){super(...e),D(this,"state",{hasDraggingElement:!1,linkToStyleguidePopupVisible:!1,targetLinkButton:null}),D(this,"openLinkPopup",(e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})})),D(this,"openLinkPopupAtTargetNode",(e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})})),D(this,"closeLinkToStyleguidePopup",(()=>{this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})})),D(this,"getScrollableDropContainers",(()=>{const e=[];if(this.nodeRefs){const{leftSidebarContent:t,componentsContainer:n}=this.nodeRefs;t&&e.push(t),n&&e.push(n)}return e.length>0?e:null})),D(this,"handleStartDrag",(()=>{this.setState({hasDraggingElement:!0})})),D(this,"handleEndDrag",(()=>{this.setState({hasDraggingElement:!1})})),D(this,"handleComponentToSectionNodeDrop",((e,t,n)=>{const i=e[e.length-1],o=e.slice(0,-1);if(o.join()===t.join())return;const s=[{coid:i,csid:o,tcsid:t,sourceIndex:n}];d.a.updateComponentsOrder({components:s,syncWithApi:!0})})),D(this,"handleReorderComponentSectionOrGroup",(e=>{d.a.updateComponentSectionsOrder({componentSections:[e],syncWithApi:!0})})),D(this,"handleLinkStyleguideSelect",(e=>{const{onStyleguideLink:t}=this.props;t(e)})),D(this,"handleRepeatedClick",(()=>{const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)})),D(this,"handleResize",(()=>{requestAnimationFrame((()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections;if(!e||!t||!n)return;const i=n.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:i,sidebarBottomHeight:i?e.clientHeight:0})}))})),D(this,"renderAbout",(()=>i.h(p.default,{ref:Object(s.default)(this,"about","componentRefs"),onSectionNavigatorClick:this.props.onSectionNavigatorClick})))}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.classList.remove("dragging")}renderStyleguideSections(){const{barrelType:e,styleguidesData:t,selectedStyleguideSection:n,selectedNavigatorId:a,onSectionNavigatorClick:r,suggestedResources:l={colors:[],textStyles:[]},showSuggestedResourcesBadge:c}=this.props,d=t.map((({id:e,name:t,colors:n=[],textStyles:i=[],spacingSections:s=[],componentSections:a=[]})=>({id:e,styleguideId:e,idPath:R(a),name:t,has:{colors:!!n.length,textStyles:!!i.length,spacing:!!s.flatMap((({spacingTokens:e})=>e)).length,components:!!Object(o.collectComponents)(a).length},componentTree:k(a.slice(1),e)}))),u={colors:!!l.colors.length&&"colors"!==n&&c.colors,textStyles:!!l.textStyles.length&&"textStyles"!==n&&c.colors};return i.h(h.default,{baseRef:Object(s.default)(this,"styleguideSections"),barrelType:e,styleguideData:d,selectedStyleguideSection:n,selectedNavigatorId:a,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:r,onComponentToSectionNodeDrop:this.handleComponentToSectionNodeDrop,onReorderComponentSectionOrGroup:this.handleReorderComponentSectionOrGroup,showBadge:u})}renderColorPalette(){const{onExportClick:e}=this.props;return i.h(f.default,{ref:Object(s.default)(this,"colors","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderTextStyleCatalog(){const{onExportClick:e}=this.props;return i.h(g.default,{ref:Object(s.default)(this,"textStyles","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSpacings(){const{barrel:e,styleguidesData:t,onExportClick:n}=this.props,o=t.reduce(((t,n)=>{let i=n;if(n.id!==e.id&&(i=j(j({},n),{},{spacingSections:n.spacingSections.filter((({spacingTokens:e})=>e.length))})),i.spacingSections.length){const{id:e,name:n,type:o,spacingSections:s,remPreferences:a,dimensionSuffix:r}=i;t.push({id:e,name:n,platform:o,spacingSections:s,remPreferences:a,dimensionSuffix:r})}return t}),[]),{remPreferences:a,parentStyleguideToInheritRemPreferences:r}=t[0];return i.h(m.default,{ref:Object(s.default)(this,"spacing","componentRefs"),remPreferences:a,parentStyleguideToInheritRemPreferences:r,spacingSectionsData:o,onExportClick:n})}renderComponents(){const{onExportClick:e}=this.props,{hasDraggingElement:t}=this.state;return i.h(b.default,{ref:Object(s.default)(this,"components","componentRefs"),baseRef:Object(s.default)(this,"componentsContainer"),hasDraggingElement:t,onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase(),e){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"spacing":return this.renderSpacings();case"components":return this.renderComponents()}}renderSidebarBottom(){const{sidebarContentOverlapped:e}=this.state,{permissions:{canManageProject:t},organizationId:n}=this.context,{barrel:o,barrelType:a,currentOrganizationStyleguides:r,shouldPromoteExportDesignTokens:l,onStyleguideUnlink:c,onStopPromotingExportDesignTokens:d}=this.props,{ancestors:u,styleguideLink:h}=o;let p,f=!1;if("project"===a)if(h){const{styleguide:e,status:t}=h,n=function(e,t=[]){return t.find((({_id:t})=>t===e._id))||e}(e,r);f=!0,p=i.h(C.default,{key:"info",barrelName:o.name,linkedStyleguide:n,linkStatus:t,onUnlink:c})}else("user"===n||t)&&(p=i.h(S.default,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide"));const g=l&&(!p||f);return i.h(A,{baseRef:Object(s.default)(this,"sidebarBottom"),overlapped:e},i.h(T.a,{barrelId:o._id,barrelName:o.name,barrelType:a,shouldPromote:l,shouldDisplayHintBox:g,shouldDisplayIncludeParentsOption:Boolean(h)&&"active"===h.status||Boolean(u&&u.length),onStopPromoting:d}),!g&&f&&i.h("div",{class:"sidebarBottomDivider"}),p)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:o}=this.state,{barrel:s,currentOrganizationStyleguides:a,linkingProjectToStyleguide:r}=this.props;if(!n)return null;const c=s.users.find((e=>"owner"===e.role)),d=a.filter((e=>["base",s.type].includes(e.type)&&"active"===e.status));let u=i.h(O.default,{onSelect:this.handleLinkStyleguideSelect,styleguides:d,selected:r,loading:!!r});return"user"===t?c.user._id!==e?u=i.h(O.NoStyleguidesForNonOwnerUser,{projectOwnerName:Object(l.getUserDisplayName)(c.user)}):d.length||(u=i.h(O.NoStyleguides,null)):d.length||(u=i.h(O.NoStyleguides,{hasOrganization:!0})),i.h(v.a,{targetNode:o,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:u,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t,baseRef:n}=this.props,{sidebarBottomHeight:a}=this.state,r=this.context.permissions.canManageStyleguide;return i.h(P.default,{getScrollableDropContainers:this.getScrollableDropContainers,disabled:!r,itemsClass:"styleguide",baseRef:n,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,enableDropOntoMultipleTargets:!0},i.h(u.default,{class:"styleguideLeftSidebar",baseRef:Object(s.default)(this,"sidebar"),contentRef:Object(s.default)(this,"leftSidebarContent"),minWidth:100,paddingBottom:a,initialWidth:e,resizingSide:"right",collapsed:!1,onClick:o.stopPropagation,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.h(_.default,null))}}},function(e,t,n){"use strict";n.r(t);var i=n(2050);n.d(t,"default",(function(){return i.default})),n.d(t,"sections",(function(){return i.sections}))},function(e,t,n){"use strict";n.r(t),n.d(t,"sections",(function(){return r})),n.d(t,"default",(function(){return l}));var i=n(4),o=n(2051),s=n(590),a=n.n(s);n(2055);const r=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Spacing and layout",value:"spacing"},{name:"Components",value:"components"}];function l(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:s,selectedNavigatorId:l,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:h,baseRef:p,showBadge:f}=e,g=t===a.a.PROJECT?r.slice(1):r;return i.h("div",{ref:p,class:"styleguideSections"},g.map((({name:e,value:a})=>{const r=s===a;return i.h(o.default,{key:a,barrelType:t,name:e,value:a,selected:r,selectedNavigatorId:l,styleguideData:n,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:h,showBadge:f[a]})})))}},function(e,t,n){"use strict";n.r(t);var i=n(2052);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(724),s=n.n(o),a=n(686),r=n(590),l=n.n(r),c=n(2053),d=n(1419);n(2054);class u extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}get sectionURL(){const{styleguideData:e,barrelType:t,value:n}=this.props,i=t===l.a.PROJECT?`project-styleguide-${n.toLowerCase()}`:`styleguide-${n.toLowerCase()}`;return Object(a.urlResolve)(i,{url:{bid:e[0].id}})}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:o,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:a}=this.props;if(1===n.length&&"components"!==e)return null;let r,l="",c=!1;switch(e){case"colors":case"textStyles":case"spacing":r=n.filter((({has:{[e]:t}})=>t)).map((({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]})));break;case"components":1===n.length?r=n[0].componentTree:(c=!0,l="linkedStyleguideTree",r=n.filter((({has:{[e]:t}})=>t)).map((({id:e,idPath:t,styleguideId:n,name:i,componentTree:o})=>({id:e,idPath:t,styleguideId:n,title:i,content:i,class:"styleguideRootNode",children:o}))));break;default:return null}return i.h(d.default,{class:["styleguideTree",l],nodeClass:"styleguideNode",nodePadding:10,dragDropEnabled:"components"===e,startingLevel:c?0:1,tree:r,selectedNodeId:t?o:null,onNodeSelect:this.handleSectionNavigatorClick,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:a})}render(){const{name:e,value:t,selected:n,showBadge:o}=this.props;return i.h("div",{class:s()("styleguideSection",{selected:n,showBadge:o}),onClick:this.handleClick},i.h("a",{href:this.sectionURL,"data-link-type":"inApp"},i.h(c.default,{type:t,selected:n}),i.h("span",{class:"name noSelect ellipsis",title:e},e),o&&i.h("div",{class:"badge"})),this.renderInstances())}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(731);t.default=function({type:e,selected:t}){const n=t?"#fff":"var(--gandalf)";switch(e){case"about":return i.h(o.IconInfo,{color:n});case"colors":return i.h(o.IconColor,{width:"22",height:"24",color:n});case"textStyles":return i.h(o.IconTextStyle,{width:"22",height:"24",color:n});case"spacing":return i.h(o.IconSpacing,{color:n});case"components":return i.h(o.IconComponent,{color:n});default:return null}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2057);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(852),r=n(702),l=n.n(r),c=n(684),d=n.n(c),u=n(715),h=n.n(u),p=n(2058),f=n.n(p),g=n(685),m=n.n(g),b=n(610),S=n(567),y=n.n(S),v=n(1039),O=n.n(v),C=n(2059);function E(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),T(this,"state",{editing:!1}),T(this,"goToTop",(()=>{if(!this.nodeRefs)return;const{about:e}=this.nodeRefs;e.scrollTop=0})),T(this,"handleStyleguideTutorialHideClick",(()=>{O.a.hideStyleguideTutorial()})),T(this,"handleSectionNavigatorClick",(e=>{const{onSectionNavigatorClick:t}=this.props;"about"===e&&this.handleEditDescription(),t(e)})),T(this,"handleEditDescription",(()=>{this.setState({editing:!0})})),T(this,"handleUpdateDescription",(e=>{this.setState({editing:!1});const{barrelId:t,barrelType:n}=this.state;l.a.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})})),T(this,"handleCancelDescription",(()=>{this.setState({editing:!1})})),T(this,"handleLinkProject",(e=>{const{barrel:t,currentOrganizationProjects:n}=this.state,i=n.find((t=>t._id===e));f.a.linkProjectToStyleguideRequest({project:i,styleguide:t})})),T(this,"handleUnlinkProject",(e=>{const{barrel:t}=this.state;f.a.unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:!0})}))}static getStores(){return[y.a.BarrelStore,y.a.StyleguideStore,y.a.StyleguidesDataStore,y.a.ProjectsDataStore,y.a.OrganizationStore,y.a.UserStore]}static calculateState(){const e=y.a.BarrelStore.getState(),{loading:t}=e,n=E(e,["loading"]),{shouldDisplayStyleguideTutorial:i}=y.a.UserStore.getState();if(t)return{loading:!0};const{barrelId:o,barrelType:s,organizationId:a,showSlackReconnectionAuntie:r}=n,l=d.a.getBarrel();if(l.partial)return{loading:!0};const c=d.a.findUser(),{rightSidebarWidth:u}=y.a.StyleguideStore.getState(),h=m.a.getOrganizationProjects(a)||[],[{colors:p}]=d.a.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore,projectsDataStore:y.a.ProjectsDataStore});return{loading:!1,barrel:l,barrelId:o,barrelType:s,organizationId:a,showSlackReconnectionAuntie:r,sidebarWidth:u,currentOrganizationProjects:h,colors:p,shouldDisplayStyleguideTutorial:i,permissions:{canManageProject:b.permissions.canUpdateProject(c),canManageStyleguide:b.permissions.canUpdateStyleguide(c)}}}getChildContext(){const{colors:e,permissions:t}=this.state;return{permissions:t,projectColors:e}}render(){const{loading:e,barrel:t,organizationId:n,showSlackReconnectionAuntie:o,sidebarWidth:s,currentOrganizationProjects:r,editing:l,shouldDisplayStyleguideTutorial:c,permissions:d}=this.state;return e?null:i.h(C.default,{nodeRef:Object(a.default)(this,"about"),barrel:t,organizationId:n,editing:l,showSlackReconnectionAuntie:o,sidebarWidth:s,shouldDisplayStyleguideTutorial:c,onStyleguideTutorialHideClick:this.handleStyleguideTutorialHideClick,onSectionNavigatorClick:this.handleSectionNavigatorClick,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:h.a.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:r,permissions:d})}}t.default=s()(_)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(589)),s=i(n(567)),a={linkProjectToStyleguideRequest({project:e,styleguide:t,syncWithApi:n=!1}){s.default.dispatcher.dispatch({type:o.default.LINK_PROJECT_REQUEST,project:e,styleguide:t,syncWithApi:n})},linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n}){s.default.dispatcher.dispatch({type:o.default.LINK_PROJECT_SUCCESS,project:e,styleguide:t,styleguides:n})},linkProjectToStyleguide({project:e,styleguide:t}){s.default.dispatcher.dispatch({type:o.default.LINK_PROJECT,project:e,styleguide:t})},unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:n}){s.default.dispatcher.dispatch({type:o.default.UNLINK_PROJECT,pid:e,styleguide:t,syncWithApi:n})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(2060);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(1600),r=n(831),l=n(2061),c=n(2064),d=n(1291),u=n(2067),h=n(2073),p=n(953),f=n.n(p),g=n(2076),m=n(852);n(2079);class b extends i.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}},editing:n}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate(),n&&setTimeout((()=>this.nodeRefs.markdownDescription.scrollIntoView()),4)}renderDescription(){const{barrel:{description:e,id:t},editing:n,onEditDescription:o,onUpdateDescription:s,onCancelDescription:a,permissions:{canManageProject:r}}=this.props;return e||n?i.h(d.default,{ref:Object(m.default)(this,"markdownDescription"),value:e,editing:n,readOnly:!r,onEdit:o,onUpdate:s,onCancel:a,barrelId:t}):i.h(l.default,{class:"markdownDescriptionEmptyState",type:l.default.TYPE.DESCRIPTION,onButtonClick:o})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,currentOrganizationProjects:o,onLinkProject:s,barrel:{_id:a,type:r,users:l,linkedProjects:c},permissions:{canManageStyleguide:d}}=this.props,u=o.filter((e=>{const t="base"===r||e.type===r;if("user"===n){const n=e.users.find((e=>"owner"===e.role));if(!n)return!1;const i=l.find((e=>"owner"===e.role)).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&d})),p=c.length>0?this.nodeRefs.inlineLinkButton:t;return i.h(f.a,{targetNode:p,onClose:this.closeLinkToProjectPopup,content:i.h(h.default,{organizationId:n,currentStyleguide:a,onSelect:s,projects:u}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{barrel:{linkedProjects:e},onUnlinkProject:t,permissions:{canManageProject:n}}=this.props;let o;return o=e.length?i.h("div",{key:"linkedProjects",class:"linkedProjects"},e.map((({_id:e,name:n,type:o,updated:s})=>i.h(c.default,{key:e,id:e,name:n,type:o,updated:s,onUnlinkProject:t})))):i.h(l.default,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.h(u.default,{key:"styleguideHeader"},"Linked projects",e.length>0&&n&&i.h(r.default,{baseRef:Object(m.default)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),o]}renderSidebar(){const{sidebarWidth:e,onSidebarRelease:t}=this.props;return i.h(a.default,{width:e,onRelease:t})}render(){const{nodeRef:e,shouldDisplayStyleguideTutorial:t,onStyleguideTutorialHideClick:n,onSectionNavigatorClick:o}=this.props;return i.h(i.Fragment,null,i.h("div",{class:s()("styleguideContainerContent","aboutContent",{styleguideTutorialVisible:t}),ref:e},t&&i.h("div",{class:"styleguideTutorialContainer"},i.h(g.default,{hideButtonText:"Got it!",onHideClick:n,onSectionNavigatorClick:o})),this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}b.defaultProps={editing:!1},t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(2062);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(841),a=n(731),r=n(724),l=n.n(r),c=n(545);n(2063);const d=Object.freeze({description:{emoji:"📝"},linkedProjects:{emoji:"🔗"},colors:{emoji:"🎨",addIcon:i.h(a.IconColor,{type:"add"}),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"✏️",addIcon:i.h(a.IconTextStyle,{type:"add"}),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:"🍡"}});function u(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,(e=>` ${e.toLowerCase()}`));return t?n.slice(0,-1):n}class h extends i.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${u(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:s}=this.context;return t&&!n&&"project"===s?i.h("li",null,i.h("h3",null,"From a Styleguide (Recommended)"),i.h("p",null,"Use ",u(e)," from a Styleguide by linking your project."),i.h(o.default,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=d[e];return i.h("li",null,i.h("h3",null,"From Layers"),i.h("p",null,"Select a layer and click ",t," next to the ",u(e,{singular:!0}),"."),i.h(s.default,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return c.isWindowsApp?i.h(i.Fragment,null,i.h("li",null,i.h("h3",null,"From Figma"),i.h("p",null,"Select a master component frame and press ⌥E or select “File > Export” from the menu."),i.h(s.default,{asset:"img/icComponentsHintFigma.png"})),i.h("li",null,i.h("h3",null,"From Adobe XD"),i.h("p",null,"Select a component in “Pasteboard”, or a layer inside it. Press ⌥⌘E or select “File > Export > Zeplin” from the menu."),i.h(s.default,{asset:"img/icComponentsHintAdobeXD.png"}))):i.h("li",null,i.h("h3",null,"From Design Tools"),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps",target:"_blank"},"Download desktop app")," to export ",u(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.h(o.default,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.h(o.default,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:o}=d[t];return i.h("div",{class:"emptyStateContainer"},i.h("div",{class:"emptyStateBefore"},n),i.h("div",{class:l()("emptyState",e)},i.h("h2",null,"No ",u(t)," yet. ",o),i.h("p",null,this.renderDescription()),this.renderBody()))}}h.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2065);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1226),s=n(1137),a=n.n(s),r=n(1027),l=n(610),c=n(686),d=n(852);n(2066);class u extends i.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+24,y:t.top-24}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.h(a.a.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.h(a.a.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.h(r.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:s,type:a,updated:r}=this.props;return i.h("div",{class:"linkedProject noSelect",ref:Object(d.default)(this,"base")},t&&this.renderContextMenu(),e&&i.h(o.default,{class:"optionsButton",baseRef:Object(d.default)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.h("a",{href:Object(c.urlResolve)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null,"data-link-type":"inApp"},i.h("div",{class:"linkedProjectName ellipsis",title:s},s),i.h("div",{class:"projectInfo"},i.h("span",null,Object(l.getPlatformString)(a)),i.h("zpl-time-ago",{format:"micro",datetime:r}))),this.renderUnlinkDialog())}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2068);n.d(t,"default",(function(){return i.default}));var o=n(2070);n.d(t,"ContextMenuButton",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(852);n(2069);class s extends i.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.h("h2",{class:"styleguideHeader",ref:Object(o.default)(this,"base")},e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2071);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o),a=n(731),r=n(724),l=n.n(r);n(2072);class c extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:o}=this.state;return i.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.h("button",{class:l()("styleguideContextMenuButton",{active:!!o||n}),onClick:this.handleClick},i.h(a.IconMenu,null)),o&&i.h(s.a,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2074);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1241),s=n(610),a=n(686),r=n(582),l=n(724),c=n.n(l),d=n(819);n(2075);const u="Add",h="Done",p="Spinner",f="Retry",g="linking",m="linked";function b({selected:e,iconType:t}){const n=Object(r.imageUrl)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.h("img",{class:`invite${t}`,src:n})}class S extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selected:e,projectName:t,projectType:n,status:o}=this.props,a=o===m,r=o===g,l=!a&&!r&&o,d=c()("projectListItem",{selected:e,linking:r}),S=Object(s.getPlatformString)(n),y=`${t} - ${S}`;let v;return v=a?h:r?p:l?f:u,i.h("div",{title:y,class:d},i.h("div",{class:"projectInfo"},i.h("div",{class:"title ellipsis"},t,", ",i.h("span",{class:"projectType"},S)),l&&i.h("p",{class:"error"},l.title)),i.h("button",{onClick:this.handleClick,disabled:a||r},i.h(b,{iconType:v,selected:e})))}}class y extends i.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:g}),Object(d.updateProjectStyleguideLink)(e,n).then((()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:m}),t(e)})).catch((t=>{this.setState({[e]:t})}))}renderProjectListItemContent({_id:e,name:t,type:n},o){return i.h(S,{onActionButtonClick:this.handleSelect,value:e,selected:o,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.h(o.default.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.h("div",{key:"projects",class:"projects"},i.h(o.default,{class:"selectableProjectList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",o="";return e.length>0?(n="No unlinked projects",o=i.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. 😎")):o="user"!==t?i.h("p",null,"Looks like there’s no organization project yet, ",i.h("a",{href:Object(a.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."):i.h("p",null,"Looks like you don’t have any projects yet, ",i.h("a",{href:Object(a.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."),i.h("div",{class:"noProjects"},i.h("h3",null,n),o)}render(){const{projects:e,class:t}=this.props,n=e.filter((e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink)),o=c()("linkToProjectPopup",t);return i.h("div",{class:o},n.length>0?this.renderProjects(n):this.renderNoProjects())}}t.default=y},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2077);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o),a=n(2049),r=n(2053),l=n(545);n(2078);const c={about:i.h("svg",{width:"11",height:"42",viewBox:"0 0 11 42"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.43 2.508c3.108.335 2.84 4.661 2.082 6.789-.81 2.27-2.142 4.38-2.59 6.782-.506 2.705.177 5.634 2.234 7.243-1.197 1.974-.789 4.44-.789 6.84 0 3.018-.68 8.225-5.198 8.513-1.553.1-1.564 2.6 0 2.5 3.585-.228 5.29-1.849 6.828-5.234.713-1.567.88-3.725.815-5.436-.085-2.213-.756-5.022 1.096-6.645.744-.652.258-1.808-.536-2.09-5.487-1.938.57-10.645 1.046-14.016.5-3.551-1.292-7.348-4.988-7.746-1.553-.167-1.542 2.334 0 2.5z"})),colorsAndTextStyles:i.h("svg",{width:"16",height:"94",viewBox:"0 0 16 94"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M15.88 41.779c.41-.927-.273-2.184-1.383-1.837-4.605 1.44-7.613-4.125-7.615-8.077-.002-4.217 1.715-8.225 2.302-12.364C10.191 12.414 7.675 5.308 2.646.357 1.51-.761-.224 1.005.914 2.125c3.419 3.365 5.588 7.797 5.998 12.65.414 4.896-1.545 9.437-2.237 14.201-.538 3.71-.08 7.27 2.229 10.29 1.528 1.997 3.638 3.318 5.972 3.399-3.04 7.761-4.26 16.156-3.275 24.5.578 4.882 2.287 10.182.037 14.88-1.882 3.928-5.654 6.546-9.088 8.94-1.294.903-.07 3.07 1.237 2.159 3.234-2.256 6.556-4.629 8.842-7.94 2.501-3.623 2.863-7.784 2.314-12.076-.659-5.14-1.48-10.07-1.107-15.281.399-5.556 1.802-10.995 4.044-16.068"})),spacing:i.h("svg",{width:"10",height:"41",viewBox:"0 0 10 41"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.172 2.497c2.959.333 2.705 4.641 1.982 6.76-.77 2.26-2.04 4.36-2.467 6.752-.481 2.693.169 5.61 2.128 7.212-1.14 1.965-.75 4.422-.75 6.81 0 3.006-.65 8.19-4.952 8.477-1.48.099-1.49 2.589 0 2.49 3.414-.228 5.038-1.842 6.503-5.212.68-1.561.838-3.71.776-5.413-.08-2.204-.72-5 1.044-6.616.709-.65.246-1.8-.51-2.08-5.226-1.931.543-10.6.995-13.957.477-3.536-1.23-7.316-4.75-7.712-1.478-.166-1.468 2.324 0 2.49z"})),components:i.h("svg",{width:"9",height:"43",viewBox:"0 0 9 43"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M8.154 18.516c.255-.523.152-1.204-.39-1.508-3.968-2.227-.622-8.267-.993-11.739C6.477 2.506 4.472-.154 1.544.007c-1.388.077-1.397 2.28 0 2.203 5.027-.276 2.328 7.582 2.172 10.188-.135 2.255.448 4.553 2.157 5.967-1.399 3.717-.594 7.596.095 11.463.678 3.816.914 9.154-3.107 11.147-1.254.622-.156 2.522 1.095 1.902 9.38-4.649.756-17.307 4.198-24.361"}))};t.default=function({hideButtonText:e,onHideClick:t,onSectionNavigatorClick:n}){return i.h(s.a,{class:"styleguideTutorial",onHideClick:t,hideButtonText:e,hideEmoji:!0},i.h("h1",null,"Welcome to the Styleguide 🍡"),i.h("p",{class:"description"},"Curate your styleguide by adding components, colors, text styles and spacing tokens. All the projects linked to this styleguide will inherit these resources automatically."),i.h("p",{class:"description"},"From the left panel:"),i.h("div",{class:"sections"},i.h("div",{class:"sectionItems"},a.sections.map((({value:e,name:t})=>i.h("div",{key:e,class:"sectionItem"},i.h(r.default,{type:e}),i.h("span",null,t))))),i.h("div",{class:"sectionItemDescriptions"},i.h("p",{class:"sectionItemDescription aboutDescription"},c.about,i.h("span",null,i.h("strong",{onClick:()=>n("about")},"Start by describing the styleguide")," to your team. View linked projects, integrations and more.")),i.h("p",{class:"sectionItemDescription colorsAndTextStylesDescription"},c.colorsAndTextStyles,i.h("span",null,i.h("strong",{onClick:()=>n("colors")},"Export colors and text styles")," from design tools ",l.isWindowsApp&&"using Zeplin’s desktop apps"," and access them here.")),i.h("p",{class:"sectionItemDescription spacingDescription"},c.spacing,i.h("span",null,i.h("strong",{onClick:()=>n("spacing")},"Set up your spacing tokens")," here to view them while inspecting designs.")),i.h("p",{class:"sectionItemDescription componentsDescription"},c.components,i.h("span",null,i.h("strong",{onClick:()=>n("components")},"Export components")," from design tools ",l.isWindowsApp&&"using Zeplin’s desktop apps"," and organize them here.")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2081);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(852),a=n(610),r=n(686),l=n(702),c=n.n(l),d=n(684),u=n.n(d),h=n(715),p=n.n(h),f=n(567),g=n.n(f),m=n(1137),b=n.n(m),S=n(2082),y=n(2085),v=n(2061),O=n(1619),C=n(2067),E=n(2093),T=n(2096),_=n(547),P=n(2101),I=n(929),j=n.n(I),D=n(731),k=n(688),R=n.n(k);n(2102);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),A(this,"state",{styleguideToShowColorEditHintBox:null}),A(this,"unsetStyleguideForColorEditHintBox",(()=>{this.setState({styleguideToShowColorEditHintBox:null})})),A(this,"goToTop",(()=>{if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0})),A(this,"goToStyleguideToEdit",(()=>{const{styleguideToShowColorEditHintBox:e}=this.state;R.a.history.push(Object(r.urlResolve)("styleguide-colors",{url:{bid:e}}))})),A(this,"handleNameChange",((e,t)=>{c.a.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})})),A(this,"handleDataChange",((e,t)=>{c.a.updateColor({cid:e,colorData:t,syncWithApi:!0})})),A(this,"handleDelete",(e=>{c.a.removeColor({cid:e,syncWithApi:!0})})),A(this,"handleAddSuggestedColor",(e=>{c.a.addColor({color:e,syncWithApi:!0})})),A(this,"handleAddAllColors",(()=>{const{suggestedColors:e}=this.state;c.a.addMultipleColors({colors:e,syncWithApi:!0})})),A(this,"handleHideSuggestedColors",(()=>{const{barrel:{id:e},suggestedColors:t}=this.state;p.a.hideSuggestedColors(e,t)})),A(this,"handleMoveColorsToClick",(e=>{e.stopPropagation();const{colorsData:[{colors:t}]}=this.state;p.a.openMoveResourcesPopup({resourceType:_.RESOURCE_TYPE.COLORS,resources:t,targetNode:this.nodeRefs.contextMenuButton})})),A(this,"handleDeleteAllMenuItemClick",(e=>{e.stopPropagation(),o.create({title:"Delete all colors?",message:"Deleted colors cannot be restored",done:{name:"DELETE",cb(){c.a.removeAllColors({syncWithApi:!0})}},cancel:{name:"KEEP"}})}))}static getStores(){return[g.a.BarrelStore,g.a.StyleguideStore,g.a.ProjectsDataStore,g.a.StyleguidesDataStore,g.a.VersionImportsStore,g.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=g.a.BarrelStore.getState();if(e)return{loading:!0};const n=u.a.getBarrel(),i=u.a.findUser(),{moveResourcesPopup:o,scrolledSection:s,highlightScrolledSection:r,highlightedColors:l,rightSidebarWidth:c}=g.a.StyleguideStore.getState(),{role:d}=i,{suggestedResourcesByBarrel:h}=g.a.VersionImportsStore.getState(),p=u.a.getStyleguidesData({barrelStore:g.a.BarrelStore,styleguidesDataStore:g.a.StyleguidesDataStore,projectsDataStore:g.a.ProjectsDataStore}),{colors:f=[]}=h[t]||{};let m=p.filter((({colors:{length:e}=[]})=>e)).map((({id:e,name:t,colors:n})=>({id:e,name:t,colors:n})));!m.some((e=>e.id===t))&&f.length&&(m=[{id:t,name:"Local Styleguide",colors:[]},...m]);const b=a.permissions.canManageColors(i);return{loading:!1,barrel:n,barrelUser:i,barrelId:t,userRole:d,moveResourcesPopup:o,scrolledSection:s,highlightScrolledSection:r,styleguidesData:p,colorsData:m,suggestedColors:f,highlightedColors:l,sidebarWidth:c,canManageColors:b}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}renderSuggestedColors(){const{suggestedColors:e}=this.state;return e.length?i.h(T.default,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelUser:o,moveResourcesPopup:a,canManageColors:l}=this.state,c=a&&a.resourceType===_.RESOURCE_TYPE.COLORS,d=e!==n.id?i.h("a",{href:Object(r.urlResolve)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:`Go to ${t}`,"data-link-type":"inApp","data-back":n.name},i.h(D.IconGoTo,null)):null,u=Object(P.default)(n,o),h=[u&&i.h(b.a.Item,{key:"Move colors to styleguide",onClick:this.handleMoveColorsToClick},"Move colors to styleguide…"),u&&l&&i.h(b.a.ItemDivider,{key:"warningDivider"}),l&&i.h(b.a.Item,{warning:!0,key:"Delete all colors",onClick:this.handleDeleteAllMenuItemClick},"Delete all colors")].filter(Boolean),p=e===n.id&&h.length>0?i.h(C.ContextMenuButton,{baseRef:Object(s.default)(this,"contextMenuButton"),keepActive:c,menuItems:h}):null;return d||p?i.h("div",null,p,d):null}renderColorPalettes(){const{barrelId:e,userRole:t,colorsData:n,styleguideToShowColorEditHintBox:o,scrolledSection:s,highlightScrolledSection:a,suggestedColors:r,highlightedColors:l,canManageColors:c}=this.state,{onLinkStyleguide:d}=this.props;return n&&n.length?n.map((({id:n,name:r,colors:d})=>{const u=n===e,h=o===n&&!u;return i.h(i.Fragment,{key:`fragmentColorPalette-${n}`},i.h(C.default,{key:`styleguideHeader-${n}`,scroll:s===n,highlight:s===n&&a,onScroll:p.a.sectionScrolled},r,this.renderStyleguideHeaderEnd({id:n,name:r})),h&&i.h(E.default,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:r,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),u&&this.renderSuggestedColors(),i.h(y.default,{key:`colorPalette-${n}`,colors:d,highlightedColors:l,userRole:t,readOnly:!c,onHover:p.a.unhighlightColor,onAttemptToChange:u?null:this.setStyleguideForColorEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete}))})):i.h(v.default,{type:v.default.TYPE.COLORS,before:!!r.length&&i.h("div",{class:"emptyStateSuggestedColors"},i.h(C.default,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:d})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(O.default,{minWidth:280,initialWidth:t,onClick:a.stopPropagation,onRelease:p.a.changeRightSidebarWidth},i.h(S.default,{type:"color",source:"Color",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent colorPaletteContent",ref:Object(s.default)(this,"colors")},this.renderColorPalettes()),this.renderSidebar())}}t.default=j()(w)},function(e,t,n){"use strict";n.r(t);var i=n(2083);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(684),r=n.n(a),l=n(567),c=n.n(l),d=n(1618),u=n(831),h=n(1993),p=n(686),f=n(583),g=n(598),m=n(2005);n(2084);function b(e,t,n){return e[`styleguide${Object(f.uppercaseFirst)(t)}s`](n).then((e=>m.CodeSnippet.fromUnknown(e,t))).catch((e=>{})).then((n=>{let i=[];return n&&(n.exportable=function(e,t){return e.hasMethod(`exportStyleguide${Object(f.uppercaseFirst)(t)}s`)||e.hasMethod(`export${Object(f.uppercaseFirst)(t)}s`)||e.hasMethod(`export${Object(f.uppercaseFirst)(t)}`)}(e,t),i=[n]),{[e.id]:{snippets:i,title:e.name}}}))}function S({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.h("div",{class:"emptyStyleguideCodePanel"},t?[i.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Manage and enable the ones that fit your workflow."),i.h(u.default,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.h("h2",{key:"emptyStyleguideHeader"},"No extensions ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Browse and pick the ones that fit your workflow."),i.h("a",{key:"emptyStyleguideButton",href:Object(p.getExtensionWebsiteUrl)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class y extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.h(h.default,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t})}}class v extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,styleguidesData:i,styleguides:o,type:s,source:a,extensions:r,onExportClick:l}=this.props,c=Object(g.transformBarrelToObject)(t,n,i,o),d=r.find((t=>t.id===e));d&&d[`exportStyleguide${Object(f.uppercaseFirst)(s)}s`](c).then((t=>l(s,a,t,e)))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,styleguidesData:o,styleguides:s}=this.props,a=Object(g.transformBarrelToObject)(n,i,o,s);Promise.all(e.map((e=>b(e,t,a)))).then((e=>{this.setState({codeSnippets:Object.assign({},...e)})}))}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some((e=>{const{snippets:i}=n[e],{snippets:o}=t.codeSnippets[e];return!(!o&&!i)&&(!o||!i||(i.length!==o.length||i.some(((e,t)=>o[t].language!==e.language||o[t].code!==e.code))))}))))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:o}=this.props,{codeSnippets:s}=this.state;if(!s)return;const a=e.map((e=>{const{snippets:t,title:o}=s[e.id];return t.length?i.h(y,{key:e.id,snippets:t,title:o,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null})).filter(Boolean);return e.length&&a.length?i.h("div",{class:"styleguideCodePanel"},a):i.h(S,{hasExtensions:t,organizationId:o,onManageExtensionsClick:n})}}class O extends i.Component{static calculateState(){const{loading:e,barrelType:t,organizationId:n}=c.a.BarrelStore.getState();if(e)return{loading:e};const i=r.a.getBarrel(),o=r.a.getStyleguidesData({barrelStore:c.a.BarrelStore,styleguidesDataStore:c.a.StyleguidesDataStore,projectsDataStore:c.a.ProjectsDataStore}),{styleguides:s}=c.a.StyleguidesDataStore.getState(),{loading:a,extensions:l,enabledExtensions:d}=c.a.ExtensionsStore.getState(),u=l.filter((e=>e.loaded&&d.includes(e.id)));return{loading:e,barrel:i,barrelType:t,styleguidesData:o,styleguides:s,loadingExtensions:a,hasExtensions:l.length>0,extensions:u,organizationId:n}}static getStores(){return[c.a.BarrelStore,c.a.ExtensionsStore,c.a.ProjectsDataStore,c.a.StyleguidesDataStore]}render(){const{type:e,source:t,title:n,onExportClick:o}=this.props,{loading:s,barrel:a,barrelType:r,styleguidesData:l,styleguides:c,loadingExtensions:u,hasExtensions:h,extensions:p,organizationId:f}=this.state;if(!s&&!u)return i.h(v,{type:e,source:t,title:n,barrel:a,styleguidesData:l,barrelType:r,styleguides:c,hasExtensions:h,extensions:p,organizationId:f,onExportClick:o,onManageExtensions:d.default.openSettings})}}t.default=s()(O)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2086);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(2087);n(2092);function s(e){const{colors:t,highlightedColors:n,readOnly:s,userRole:a,onHover:r,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.h("div",{class:"colorPalette"},t.map((e=>{const t=n[0]===e.id,h=t||n.includes(e.id);return i.h(o.default,{color:e,key:e.id,readOnly:s,userRole:a,scrollIntoView:t,highlight:h,onHover:r,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})})))}},function(e,t,n){"use strict";n.r(t);var i=n(2088);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(584),s=n.n(o),a=n(559),r=n(2089),l=n(1883),c=n.n(l),d=n(1188),u=n(731),h=n(1192),p=(n(2091),n(852)),f=n(724),g=n.n(f);function m(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function b(e){return/[A-Fa-f0-9]{6}/.test(e)}class S extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():a.create({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:o,b:a}=s.a.fromHex(`#${e}`);n(t,{r:i,g:o,b:a})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:o,onAttemptToChange:s}=this.props,a=e.name,l=e.hexBase(),f=Math.round(100*e.a),S=e.toRGBString(),y=e.toRGBAString(),v=g()("colorCell",{highlight:o});let O=i.h("div",{class:v,ref:Object(p.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"colorPreview",style:{backgroundColor:y}},!n&&i.h("button",{type:"button",onClick:this.handleDelete},i.h(u.IconDelete,null))),i.h("div",{class:"colorInformation"},i.h("div",{class:"colorNameContainer",title:a},i.h(c.a,{textInputProps:{class:"colorName",spellCheck:"false",prefix:"#",maxLength:100,withMirror:!0,readonly:n,blurOnEnter:!0},initialValue:a,onAttemptToChange:s,onBlur:this.handleNameChange})),i.h("div",{class:"colorValueContainer"},i.h(r.default,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:b,initialValue:l,disabled:n,blurOnEnter:!0,onAttemptToChange:s,onBlur:this.handleHexChange}),i.h(r.default,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:m,initialValue:f,disabled:n,blurOnEnter:!0,onAttemptToChange:s,onBlur:this.handleOpacityChange})),i.h("div",{class:"colorRGB"},S)));return n&&(O=i.h(d.default,{content:Object(h.default)(t,"edit colors")},O)),O}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(2090);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1527),s=n(852);class a extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:o,value:s}=this.state,a=e.target.value;if(o===s||!a||n&&!n(a))return this.setState({value:o,focusWithin:!1,selectionStart:null,selectionEnd:null}),void(o===s&&s!==a&&(this.nodeRefs.input.value=s));this.setState({value:a,oldValue:s,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==a&&i(a)}handleFocus(){this.setState((e=>({oldValue:e.value,focusWithin:!0})))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:o,selectionEnd:s}=e.target;const a=i;t&&(i=i.replace(t,""));const r=a.length-i.length;r>0&&(o-=r,s-=r),e.target.value=i,this.setState({selectionStart:o,selectionEnd:s,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.h(o.default,Object.assign({},t,{inputRef:Object(s.default)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2094);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o);n(2095);t.default=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:o,styleguideSectionToEdit:a}=e;return i.h(s.a,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:o,hideButtonText:"Got it!"},"Go to “",t,"” to edit ",a,", since it’s a linked styleguide.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2097);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(2098),r=n(584),l=n.n(r);n(2100);function c({name:e,color:t,onClick:n}){const o=e.substr(0,e.length/2).replace(/ /g," "),s=e.substr(e.length/2).replace(/ /g," ");return i.h("button",{title:e,class:"colorItem",onClick:n},i.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.h("span",{class:"name ellipsis"},o),i.h("span",{class:"name secondHalf"},s))}function d(e){const{onAddAll:t,onAdd:n,onHideClick:o,colors:s}=e,r=s.length>1;return i.h(a.default,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:r?"Add All Colors":"Add Color",hideButtonText:r?"Ignore these colors!":"Ignore the color!",emoji:"👩‍🎨",title:`Found ${r?s.length+" colors":"a color"} during the last export, want to add ${r?"them":"it"}?`,description:r?"Click to add them individually or select “Add All Colors”.":"Click the color below or select “Add Color” to add it."},i.h("div",{class:"colorsContainer"},s.map((e=>{const t=e.toHexString();return i.h(c,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})}))))}d.propTypes={colors:s.a.arrayOf(s.a.instanceOf(l.a)).isRequired,onHideClick:s.a.func.isRequired,onAdd:s.a.func.isRequired,onAddAll:s.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(983),r=n.n(a),l=n(831),c=n(724),d=n.n(c);n(2099);function u(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:o,actionButtonText:s,emoji:a,title:c,description:u,children:h,class:p}=e,f=d()("genericStyleguideHintBox",p);return i.h(r.a,{class:f,onHideClick:t,hideButtonText:o,hideEmoji:!0},i.h("div",{class:"hintBoxContainer"},i.h("span",{class:"emoji"},a),i.h("div",{class:"text"},i.h("h5",null,c),i.h("p",null,u)),n&&i.h(l.default,{class:"actionButton",onClick:n,primary:!0},s)),h)}u.propTypes={onHideClick:s.a.func.isRequired,hideButtonText:s.a.string.isRequired,onActionButtonClick:s.a.func,actionButtonText:s.a.string,emoji:s.a.string.isRequired,title:s.a.string.isRequired,description:s.a.string.isRequired},t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(610);function o(e,t){if(Object(i.isOrganizationProject)(e))return i.permissions.canMoveResources(t);const n=e.users.find((e=>"owner"===e.role));return"free"===n.user.paymentPlan?t.user._id===n.user._id:i.permissions.canMoveResources(t)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2104);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(852),a=n(610),r=n(686),l=n(2101),c=n(1462),d=n(702),u=n.n(d),h=n(684),p=n.n(h),f=n(715),g=n.n(f),m=n(567),b=n.n(m),S=n(1137),y=n.n(S),v=n(2061),O=n(1619),C=n(2067),E=n(2105),T=n(2082),_=n(2093),P=n(2110),I=n(547),j=n(929),D=n.n(j),k=n(731),R=n(688),A=n.n(R);n(2113);function w(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(...e){super(...e),N(this,"state",{styleguideToShowTextStyleEditHintBox:null}),N(this,"unsetStyleguideForTextStyleEditHintBox",(()=>{this.setState({styleguideToShowTextStyleEditHintBox:null})})),N(this,"goToStyleguideToEdit",(()=>{const{styleguideToShowTextStyleEditHintBox:e}=this.state;A.a.history.push(Object(r.urlResolve)("styleguide-textstyles",{url:{bid:e}}))})),N(this,"goToTop",(()=>{if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0})),N(this,"handleColorDelete",(e=>{u.a.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})})),N(this,"handleDelete",(e=>{u.a.removeTextStyle({tsid:e,syncWithApi:!0})})),N(this,"handleHideSuggestedTextStyles",(()=>{const{barrelId:e,suggestedTextStyles:t}=this.state;g.a.hideSuggestedTextStyles(e,t)})),N(this,"handleNameChange",((e,t)=>{const{textStylesData:[{textStyles:n}]}=this.state;if(n.some((e=>e.name===t)))return o.create({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();u.a.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})})),N(this,"handleAddTextStyle",(e=>{u.a.addTextStyle({textStyle:e,syncWithApi:!0})})),N(this,"handleAddAllTextStyles",(()=>{const{suggestedTextStyles:e}=this.state;u.a.addMultipleTextStyles({textStyles:e,syncWithApi:!0})})),N(this,"handleMoveTextStylesToClick",(e=>{e.stopPropagation();const{textStylesData:[{textStyles:t}]}=this.state;g.a.openMoveResourcesPopup({resourceType:I.RESOURCE_TYPE.TEXT_STYLES,resources:t,targetNode:this.nodeRefs.contextMenuButton})})),N(this,"handleDeleteAllMenuItemClick",(e=>{e.stopPropagation(),o.create({title:"Delete all text styles?",message:"Deleted text styles cannot be restored",done:{name:"DELETE",cb(){u.a.removeAllTextStyles({syncWithApi:!0})}},cancel:{name:"KEEP"}})}))}static getStores(){return[b.a.BarrelStore,b.a.StyleguideStore,b.a.ProjectsDataStore,b.a.StyleguidesDataStore,b.a.VersionImportsStore,b.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=b.a.BarrelStore.getState();if(e)return{loading:!0};const n=p.a.getBarrel(),i=p.a.findUser(),{rightSidebarWidth:o,highlightedTextStyles:s,scrolledSection:r,highlightScrolledSection:l,moveResourcesPopup:d}=b.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:u}=b.a.VersionImportsStore.getState(),{textStyles:h=[]}=u[t]||{},{role:f}=i,g=new c.default(n),m=p.a.getStyleguidesData({barrelStore:b.a.BarrelStore,styleguidesDataStore:b.a.StyleguidesDataStore,projectsDataStore:b.a.ProjectsDataStore});let S=m.filter((({textStyles:{length:e}=[]})=>e)).map((e=>{let{componentSections:t}=e;return w(e,["componentSections"])}));!S.some((e=>e.id===t))&&h.length&&(S=[{id:t,name:"Local Styleguide",textStyles:[],colors:[]},...S]);const y=a.permissions.canManageTextStyles(i);return{barrel:n,barrelId:t,barrelUser:i,userRole:f,sidebarWidth:o,highlightedTextStyles:s,scrolledSection:r,highlightScrolledSection:l,moveResourcesPopup:d,suggestedTextStyles:h,formatter:g,styleguidesData:m,textStylesData:S,canManageTextStyles:y}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}renderSuggestedTextStyles(){const{suggestedTextStyles:e,formatter:t}=this.state;return e.length?i.h(P.default,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelId:o,barrelUser:a,moveResourcesPopup:c,canManageTextStyles:d}=this.state,u=c&&c.resourceType===I.RESOURCE_TYPE.TEXT_STYLES,h=e!==o?i.h("a",{href:Object(r.urlResolve)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:`Go to ${t}`,"data-link-type":"inApp","data-back":n.name},i.h(k.IconGoTo,null)):null,p=Object(l.default)(n,a),f=[p&&i.h(y.a.Item,{key:"Move text styles to styleguide",onClick:this.handleMoveTextStylesToClick},"Move text styles to styleguide…"),p&&d&&i.h(y.a.ItemDivider,{key:"warningDivider"}),d&&i.h(y.a.Item,{warning:!0,key:"Delete all text styles",onClick:this.handleDeleteAllMenuItemClick},"Delete all text styles")].filter(Boolean),g=e===o&&f.length>0?i.h(C.ContextMenuButton,{baseRef:Object(s.default)(this,"contextMenuButton"),keepActive:u,menuItems:f}):null;return h||g?i.h("div",null,g,h):null}renderTextStyleCatalogs(){const{barrelId:e,userRole:t,styleguidesData:n,textStylesData:o,scrolledSection:s,highlightScrolledSection:a,highlightedTextStyles:r,suggestedTextStyles:l,formatter:c,styleguideToShowTextStyleEditHintBox:d,canManageTextStyles:u}=this.state,{onLinkStyleguide:h}=this.props;return o&&o.length?o.map((({id:o,name:l,type:h,densityScale:p,remPreferences:f,textStyles:m})=>{const b=o===e,S=d===o&&!b;return i.h(i.Fragment,{key:`textStyleCatalog-${o}`},i.h(C.default,{scroll:s===o,highlight:s===o&&a,onScroll:g.a.sectionScrolled},l,this.renderStyleguideHeaderEnd({id:o,name:l})),S&&i.h(_.default,{styleguideSectionToEdit:"text styles",styleguideName:l,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),b&&this.renderSuggestedTextStyles(),i.h(E.default,{platform:h,densityScale:p,remPreferences:f,textStyles:m,styleguidesData:n,highlightedTextStyles:r,userRole:t,readOnly:!u,formatter:c,onHover:g.a.unhighlightTextStyle,onAttemptToChange:!b&&this.setStyleguideForTextStyleEditHintBox.bind(this,o),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete}))})):i.h(v.default,{type:v.default.TYPE.TEXT_STYLES,before:!!l.length&&i.h("div",{class:"emptyStateSuggestedTextStyles"},i.h(C.default,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:h})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(O.default,{minWidth:280,initialWidth:t,onClick:a.stopPropagation,onRelease:g.a.changeRightSidebarWidth},i.h(T.default,{type:"textStyle",source:"Text style",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent textStyleCatalogContent",ref:Object(s.default)(this,"textStyles")},this.renderTextStyleCatalogs()),this.renderSidebar())}}t.default=D()(L)},function(e,t,n){"use strict";n.r(t);var i=n(2106);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(2107),s=n(1870);function a(e){const{platform:t,densityScale:n,remPreferences:a,formatter:r,textStyles:l,styleguidesData:c,highlightedTextStyles:d,readOnly:u,userRole:h,onHover:p,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b}=e;return i.h("div",{class:"textStyleCatalog"},l.map(((e,l)=>{const{id:S,color:y}=e,v=d[0]===S,O=v||d.includes(S),C=y&&Object(s.transformColor)(y,r,c);return i.h(o.default,{key:e.id,platform:t,densityScale:n,remPreferences:a,readOnly:u,userRole:h,formatter:r,textStyle:e,textStyleColor:C,tabIndex:l+1,scrollIntoView:v,highlight:O,onHover:p,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b})})))}},function(e,t,n){"use strict";n.r(t);var i=n(2108);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852),r=n(1192),l=n(559),c=n(731),d=n(831),u=n(1278),h=n(1188),p=n(1448),f=n(607);n(2109);class g extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:`${e}px`,fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():l.create({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():l.create({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{platform:e,densityScale:t,remPreferences:n,formatter:o,textStyle:s}=this.props,{content:a,fontSize:r}=Object(p.getMainInfo)(s),l="web"===e&&"enabled"===n.status&&n.useForFontSizes;return[i.h("span",{key:a,title:a,class:"ellipsis"},a),`, ${l?Object(f.toRemSize)(r/t,n.remRootFontSize):o.textLength(r)}`]}renderColor(){const{textStyleColor:e}=this.props;return e?i.h("div",{class:"colorContainer"},i.h("span",{class:"colorPreview",style:{backgroundColor:e.colorStyle}}),i.h("span",{class:"color ellipsis"},e.added?`#${e.name}`:e.colorString),i.h(d.default,{class:"deleteColor",onClick:this.handleColorDelete},i.h(c.IconDelete,null))):null}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:o,tabIndex:l,highlight:f,onAttemptToChange:g}=this.props;let m=i.h(u.default,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:g,value:o.name,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:l,ellipsized:!0});e&&(m=i.h(h.default,{content:Object(r.default)(t,"edit text styles")},m));const b=s()("textStyleRow",{readOnly:e,highlight:f});return i.h("div",{class:b,ref:Object(a.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"nameContainer"},m),i.h("div",{class:"info"},i.h("div",{class:"mainInfo"},i.h("div",{class:"style"},this.renderMainInfo()),this.renderColor()),i.h("div",{class:"extraInfo ellipsis"},Object(p.getExtraInfo)(n,o))),i.h(d.default,{class:"deleteTextStyle",onClick:this.handleDelete},i.h(c.IconDelete,null)))}}t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2111);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(2098),r=n(1448);n(2112);function l({name:e,info:t,subInfo:n,color:o,onClick:s}){return i.h("button",{class:"textStyleItem",onClick:s},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"infoContainer"},i.h("div",{class:"mainInfo"},i.h("div",{class:"info ellipsis"},t),o&&i.h("span",{class:"colorPreview",style:{backgroundColor:o}})),n&&i.h("div",{class:"subInfo ellipsis"},n)))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,textStyles:s,formatter:c}=e,d=s.length>1;return i.h(a.default,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"👩‍🏫",title:`Found ${d?s.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select “Add All Text Styles”.":"Click the text style below or select “Add Text Style” to add it."},i.h("div",{class:"textStylesContainer"},s.map((e=>{const t=e.name,{content:o,fontSize:s}=Object(r.getMainInfo)(e),a=[o,c.textLength(s)].join(", "),d=e.color&&e.color.toHexString(),u=Object(r.getExtraInfo)(c,e);return i.h(l,{key:e.id,id:t,name:t,info:a,subInfo:u,color:d,onClick:()=>n(e)})}))))}c.propTypes={textStyles:s.a.array.isRequired,onHideClick:s.a.func.isRequired,onAdd:s.a.func.isRequired,onAddAll:s.a.func},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2115);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(929),r=n.n(a),l=n(559),c=n(852),d=n(610),u=n(686),h=n(702),p=n.n(h),f=n(684),g=n.n(f),m=n(715),b=n.n(m),S=n(567),y=n.n(S),v=n(1039),O=n.n(v),C=n(2116),E=n(2117),T=n(1619),_=n(2118),P=n(2082),I=n(2067),j=n(2126),D=n(731);n(2138);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),A(this,"goToTop",(()=>{this.nodeRefs&&(this.nodeRefs.spacingSections.scrollTop=0)})),A(this,"handleCreateSection",(()=>{p.a.addSpacingSection({spacingSection:{name:"Layout",description:"Add your spacing documentation here, _using markdown_."},syncWithApi:!0})})),A(this,"handleUpdateSection",(e=>{p.a.updateSpacingSection(R(R({},e),{},{syncWithApi:!0})),e.updatedSpacingSection.hasOwnProperty("description")&&O.a.stopPromotingSpacingSectionDescriptionEditButton()})),A(this,"handleDeleteSection",(e=>{p.a.removeSpacingSection({ssid:e,syncWithApi:!0})})),A(this,"handleCreateToken",(e=>{const t=this.localStyleguideSpacingSections.find((({_id:t})=>t===e)),n=t.spacingTokens.find((({_id:e})=>e===t.baseTokenId)),i=this.localStyleguideSpacingTokens.map((({token:e})=>e)),o=R({_id:E.CANDIDATE_SPACING_TOKEN},Object(C.generateInitialPayloadForSpacingToken)(t.spacingTokens,i,n&&n.value));p.a.addSpacingToken({ssid:e,spacingToken:o})})),A(this,"handleUpdateToken",((e,t)=>{const{ssid:n,sptid:i,updatedSpacingToken:o}=e,{token:s,value:a}=o,{spacingSectionsData:r}=this.props,{barrel:c}=this.state,d=r.find((({id:e})=>e===c.id)).spacingSections.find((({_id:e})=>e===n)),u=this.localStyleguideSpacingTokens.some((e=>e.token===s&&e._id!==i)),h=d.spacingTokens.some((e=>e.value===a));let f=d.spacingTokens.find((({_id:e})=>e===i)),g=!0;if(f){if(""===s||""===a?g=!1:u?(g=!1,l.create({title:`${s} already exists`,message:"Please enter another name for the spacing token.",done:{name:"GOT IT"}})):h&&(g=!1,l.create({title:`${a}${t} already exists`,message:"Please enter another value for the spacing token.",done:{name:"GOT IT"}})),i===E.CANDIDATE_SPACING_TOKEN){this.handleDeleteToken({ssid:n,sptid:i});let e=f;return delete e._id,g&&(e=R(R({},e),{},{token:s})),void p.a.addSpacingToken({ssid:n,spacingToken:e,syncWithApi:!0})}g&&p.a.updateSpacingToken(R(R({},e),{},{syncWithApi:!0}))}})),A(this,"handleDeleteToken",(e=>{p.a.removeSpacingToken(R(R({},e),{},{syncWithApi:e.sptid!==E.CANDIDATE_SPACING_TOKEN}))})),A(this,"handleRemPreferencesUpdate",(e=>{p.a.updateRemPreferences(R(R({},e),{},{syncWithApi:!0}))}))}static calculateState(){const{loading:e}=y.a.BarrelStore.getState();if(e)return{loading:!0};const t=g.a.getBarrel(),n=g.a.findUser(),{scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:s,rightSidebarWidth:a}=y.a.StyleguideStore.getState(),{shouldPromoteSpacingSectionDescriptionEditButton:r}=y.a.UserStore.getState();return{loading:!1,barrel:t,barrelUser:n,scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:s,sidebarWidth:a,shouldPromoteSpacingSectionDescriptionEditButton:r}}static getStores(){return[y.a.BarrelStore,y.a.StyleguideStore,y.a.ProjectsDataStore,y.a.StyleguidesDataStore,y.a.UserStore]}get localStyleguideSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t}=this.state;return e.find((({id:e})=>e===t.id)).spacingSections}get localStyleguideSpacingTokens(){return this.localStyleguideSpacingSections.flatMap((e=>e.spacingTokens))}renderSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t,barrelUser:n,scrolledSection:o,highlightScrolledSection:s,highlightedSpacingTokens:a,shouldPromoteSpacingSectionDescriptionEditButton:r}=this.state;return e.map((({id:e,name:l,spacingSections:c,dimensionSuffix:d})=>{const h=e===t.id;return i.h(i.Fragment,{key:`spacingTokens-${e}`},i.h(I.default,{scroll:o===e,highlight:o===e&&s,onScroll:b.a.sectionScrolled},l,!h&&i.h("a",{href:Object(u.urlResolve)("styleguide-spacing",{url:{bid:e}}),class:"headerButton",title:`Go to ${l}`,"data-link-type":"inApp","data-back":t.name},i.h(D.IconGoTo,null))),c.map((e=>i.h(j.default,{key:`spacingSection-${e._id}`,section:e,highlightedSpacingTokens:a,barrelUser:n,shouldDisplayDeleteButton:c.length>1,shouldDisplayCreateButton:!c.some((e=>0===e.spacingTokens.length)),isLocalStyleguide:h,shouldPromoteDescriptionEditButton:r,dimensionSuffix:d,onSpacingTokenRowHover:b.a.unhighlightSpacingToken,onCreateSection:this.handleCreateSection,onUpdateSection:this.handleUpdateSection,onDeleteSection:this.handleDeleteSection,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))))}))}renderSidebar(){const{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onExportClick:n}=this.props,{barrel:{type:o},sidebarWidth:s}=this.state;return i.h(T.default,{class:"spacingsSidebar",minWidth:280,initialWidth:s,onClick:d.stopPropagation,onRelease:b.a.changeRightSidebarWidth},"web"===o&&i.h(_.default,{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onUpdate:this.handleRemPreferencesUpdate}),i.h(P.default,{type:"spacing",source:"Spacing",onExportClick:n}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent spacingsContent",ref:Object(c.default)(this,"spacingSections")},this.renderSpacingSections()),this.renderSidebar())}}w.propTypes={remPreferences:s.a.object.isRequired,parentStyleguideToInheritRemPreferences:s.a.object.isRequired,spacingSectionsData:s.a.array.isRequired,onExportClick:s.a.func.isRequired},t.default=r()(w,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"generateInitialPayloadForSpacingToken",(function(){return a}));const i=/\d+$/,o=/\w+$/,s={SHORT:["xxs","xs","s","m","l","xl","xxl"],LONG:["xxsmall","xsmall","small","medium","large","xlarge","xxlarge"]};function a(e,t,n){const a=e.length,r=e[a-1],l=n||4,c={token:"spacing-xxs",value:4,color:{r:153,g:102,b:204,a:.2}};if(a){const t=e[0].value?0:1;let n,i,o=0,s=0;for(let r=1;r<a;r++){let t=e[r].value-e[r-1].value;o!==r-1||n&&n!==t||(n=t,o++),r>=2&&t===e[r-2].value&&s++}i=1===a?r.value||4:o===a-1?n:s===a-2-t?e[a-2].value:l-r.value%l,c.value=r.value+i}if(t.length){const e=r?r.token:c.token,n=e.match(o);let a,l=!1;if(n){const i=e.slice(0,n.index),o=n[0];let r;if(s.SHORT.includes(o)?r="SHORT":s.LONG.includes(o)&&(r="LONG"),r){let e=s[r].indexOf(o);for(;!l&&e+1<s[r].length;)e++,a=`${i}${s[r][e]}`,l=!t.includes(a)}}if(!l){const n=e.match(i);let o,s;for(n?(o=e.slice(0,n.index),s=parseInt(n[0],10)):(o=e,s=1);!l;)s++,a=o.endsWith("-")?o:`${o}-`,a+=s,l=!t.includes(a)}c.token=a}return c}},function(e,t,n){"use strict";n.r(t),n.d(t,"CANDIDATE_SPACING_TOKEN",(function(){return i}));const i="CANDIDATE_SPACING_TOKEN"},function(e,t,n){"use strict";n.r(t);var i=n(2119);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(559),r=n(724),l=n.n(r),c=n(930),d=n(1993),u=n(849),h=n.n(u),p=n(983),f=n.n(p),g=n(2120);n(2125);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"handleEnableStatusChange",(()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=n||i;t({updatedRemPreferences:{status:o?"disabled":"enabled",useForFontSizes:!o,useForMeasurements:!o}})})),S(this,"handleUseForFontSizeChange",(()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!n;t({updatedRemPreferences:{status:o||i?"enabled":"disabled",useForFontSizes:o}})})),S(this,"handleUseForMeasurementsChange",(()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!i;t({updatedRemPreferences:{status:n||o?"enabled":"disabled",useForMeasurements:o}})})),S(this,"handleRootFontSizeChange",(e=>{const{remPreferences:t,onUpdate:n}=this.props,{status:i,remRootFontSize:o}=t;if(""!==e)if(0===e)a.create({title:"Invalid root font size",message:"Since rem is a relative unit, root font size should be greater than 0.",done:{name:"GOT IT"}});else if(e!==o){n({updatedRemPreferences:{status:i,remRootFontSize:e}})}})),S(this,"handleRevertClick",(()=>{const{parentStyleguideToInheritRemPreferences:e,onUpdate:t}=this.props;t({updatedRemPreferences:b(b({},e.remPreferences),{},{status:"linked"}),isRevert:!0})}))}render(){const{permissions:{canManageRemSettings:e}}=this.context,{remPreferences:t,parentStyleguideToInheritRemPreferences:n}=this.props,{remRootFontSize:o,useForFontSizes:s,useForMeasurements:a}=t,r=s||a,u=!e||!r,p=n&&Object(c.default)(n.remPreferences,t),m=l()("styleguideRemSettings codePanel",{enabled:r,permitted:e});return i.h("div",{class:m},i.h(d.Gutter,null),i.h("div",{class:"title"},i.h("h3",null,"rem")),i.h("label",{class:"label mainCheckboxLabel"},i.h(h.a,{class:l()({enabled:r}),checked:r,disabled:!e,onChange:this.handleEnableStatusChange}),i.h("span",{class:"checkboxText"},"Use “rem” unit")),i.h("label",{class:"label"},i.h(h.a,{class:l()({enabled:s}),checked:s,disabled:u,onChange:this.handleUseForFontSizeChange}),i.h("span",{class:"checkboxText"},"Use for font size")),i.h("label",{class:"label"},i.h(h.a,{class:l()({enabled:a}),checked:a,disabled:u,onChange:this.handleUseForMeasurementsChange}),i.h("span",{class:"checkboxText"},"Use for measurements")),i.h("label",{class:"label rootFontSizeLabel"},i.h("span",null,"Root font size:"),i.h(g.default,{value:o,onBlur:this.handleRootFontSizeChange,suffix:"px",isDisabled:u})),p&&e&&i.h("div",{class:"hintBoxContainer"},i.h(f.a,{actionContent:"Revert",onActionClick:this.handleRevertClick},`This styleguide has overridden the rem settings from the parent styleguide "${n.name}".`)))}}y.propTypes={remPreferences:s.a.object.isRequired,parentStyleguideToInheritRemPreferences:s.a.object,onUpdate:s.a.func.isRequired},t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(2121);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(2122);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=/^-?\d*[.]?\d*$/,c=/^0+/;class d extends i.Component{constructor(...e){super(...e),r(this,"normalizeValue",((e,t)=>{let n=e;return""!==n&&(n=l.test(e)?e.replace(c,""):t,(!n||n<0)&&(n=0)),n})),r(this,"handleKeyDown",((e,t)=>{if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();return(""===t?0:parseFloat(t))+1}if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const n=t-1;return n<0?0:n}return t})),r(this,"handleBlur",(e=>{const{onBlur:t}=this.props;t(""===e?e:parseFloat(e))}))}render(){const{value:e,placeholder:t,suffix:n,isDisabled:o}=this.props;return i.h(a.default,{value:e,suffix:n,placeholder:t,isDisabled:o,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,normalizeValue:this.normalizeValue})}}d.propTypes={value:s.a.number,onBlur:s.a.func.isRequired,placeholder:s.a.string,suffix:s.a.string,isDisabled:s.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(2123);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(852),r=n(959);n(2124);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{value:this.props.value,isFocused:!1}),l(this,"highlight",(()=>{Object(r.highlightInput)(this.nodeRefs.input)})),l(this,"setValueToStateFromProps",(()=>{this.setState({value:this.props.value})})),l(this,"handleKeyDown",(e=>{const{onKeyDown:t,onEscape:n}=this.props;if(e.keyCode===Zeplin.KEY_CODE.ESC){if(e.preventDefault(),n)return void n();this.setValueToStateFromProps(),e.target.blur()}else e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.preventDefault(),e.target.blur());t&&this.setState({value:t(e,this.state.value)})})),l(this,"handleBlur",(()=>{const{onBlur:e}=this.props;e(this.state.value),this.setState({isFocused:!1})})),l(this,"handleFocus",(()=>{this.setState({isFocused:!0})})),l(this,"handleInput",(e=>{const{normalizeValue:t}=this.props,{value:n}=this.state,{value:i}=e.target;this.setState({value:t?t(i,n):i})}))}componentDidUpdate(){const{value:e,isFocused:t}=this.state;t||e===this.props.value||this.setValueToStateFromProps()}render(){const{placeholder:e,suffix:t,isDisabled:n}=this.props,{value:o}=this.state;return i.h("label",{class:"styleguideFormInputContainer ellipsis"},i.h("div",{class:"styleguideFormInputContent"},i.h("span",{class:"mirror ellipsis"},o),i.h("input",{ref:Object(a.default)(this,"input"),class:"styleguideFormInput ellipsis",placeholder:e,type:"text",minlength:"1",maxlength:"100",value:o,disabled:n,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus})),t)}}c.propTypes={value:s.a.oneOfType([s.a.string,s.a.number]),onBlur:s.a.func.isRequired,onEscape:s.a.oneOfType([s.a.func,s.a.bool]),normalizeValue:s.a.func,onKeyDown:s.a.func,placeholder:s.a.string,suffix:s.a.string,isDisabled:s.a.bool},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2127);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(852),r=n(724),l=n.n(r),c=n(1278),d=n(1291),u=n(2128),h=n(831),p=n(1137),f=n.n(p),g=n(731);n(2137);class m extends i.Component{constructor(e){super(e),this.handleUpdateName=this.handleUpdateName.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleUpdateBaseToken=this.handleUpdateBaseToken.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleCreateToken=this.handleCreateToken.bind(this),this.handleUpdateToken=this.handleUpdateToken.bind(this),this.handleDeleteToken=this.handleDeleteToken.bind(this),this.handleContextMenuButtonClick=this.handleContextMenuButtonClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.state={isEditingDescription:!1,isContextMenuOpen:!1,shouldFocusOnTokenName:!1}}get isEditable(){const{isLocalStyleguide:e}=this.props,{permissions:{canManageSpacings:t}}=this.context;return e&&t}handleUpdateName({discard:e,value:t}){const{section:n,onUpdateSection:i}=this.props,{_id:o,name:s}=n;e||t===s||i({ssid:o,updatedSpacingSection:{name:t}})}handleEditDescription(){this.setState({isEditingDescription:!0})}handleUpdateDescription(e){const{section:t,onUpdateSection:n}=this.props,{_id:i,description:o}=t;this.setState({isEditingDescription:!1}),e!==o&&n({ssid:i,updatedSpacingSection:{description:e}})}handleCancelDescription(){this.setState({isEditingDescription:!1})}handleUpdateBaseToken(e){const{section:t,onUpdateSection:n}=this.props;n({ssid:t._id,updatedSpacingSection:{baseTokenId:e}})}handleDeleteSection(){const{onDeleteSection:e,section:t}=this.props;e(t._id)}handleCreateToken(){const{section:e,onCreateToken:t}=this.props;t(e._id)}handleUpdateToken(e,t,n=null){const{section:i,onUpdateToken:o}=this.props;o({ssid:i._id,sptid:e,updatedSpacingToken:t},n)}handleDeleteToken(e){const{section:{_id:t},onDeleteToken:n}=this.props;n({ssid:t,sptid:e})}handleContextMenuButtonClick(){this.setState({isContextMenuOpen:!0})}handleContextMenuClose(){this.setState({isContextMenuOpen:!1})}componentDidUpdate(e){const{shouldFocusOnTokenName:t}=this.state;this.props.section.spacingTokens.length>e.section.spacingTokens.length?this.setState({shouldFocusOnTokenName:this.isEditable}):t&&this.setState({shouldFocusOnTokenName:!1})}renderContextMenu(){const{contextMenuButtonContainer:e}=this.nodeRefs,{shouldDisplayDeleteButton:t,shouldDisplayCreateButton:n,onCreateSection:o}=this.props,s=e.getBoundingClientRect(),a=[];return n&&(a.push(i.h(f.a.Item,{key:"create",onClick:o},"Create new section")),t&&a.push(i.h(f.a.ItemDivider,{key:"warningDivider"}))),t&&a.push(i.h(f.a.Item,{key:"remove",onClick:this.handleDeleteSection,warning:!0},"Delete section")),i.h(f.a.withAutoPosition,{autoPosition:{limitingElement:".spacingsSidebar",menuContainer:e,clickOrigin:{x:s.right-s.width,y:s.top}},onClose:this.handleContextMenuClose},a)}render(){const{section:e,highlightedSpacingTokens:t,barrelUser:n,shouldDisplayDeleteButton:o,shouldDisplayCreateButton:s,isLocalStyleguide:r,shouldPromoteDescriptionEditButton:p,dimensionSuffix:f,onSpacingTokenRowHover:m}=this.props,{name:b,description:S,baseTokenId:y,spacingTokens:v}=e,{isEditingDescription:O,isContextMenuOpen:C,shouldFocusOnTokenName:E}=this.state,{barrelId:T}=this.context;return i.h("div",{class:"spacingSection"},i.h("div",{class:"nameContainer"},i.h(c.default,{value:b,required:!0,readOnly:!this.isEditable,onBlur:this.handleUpdateName}),this.isEditable&&(s||o)&&i.h("div",{ref:Object(a.default)(this,"contextMenuButtonContainer"),class:"contextMenuButtonContainer"},i.h(h.default,{class:l()("contextMenuButton",{active:C}),onClick:this.handleContextMenuButtonClick},i.h(g.IconMenu,null),C&&this.renderContextMenu()))),i.h(d.default,{value:S,placeholder:"No description yet",editing:O,readOnly:!this.isEditable,shouldPromoteEditButton:p,onEdit:this.handleEditDescription,onUpdate:this.handleUpdateDescription,onCancel:this.handleCancelDescription,barrelId:T}),i.h(u.default,{tokens:v,highlightedSpacingTokens:t,baseTokenId:y,dimensionSuffix:f,barrelUser:n,isLocalStyleguide:r,shouldFocusOnName:E,onSpacingTokenRowHover:m,onUpdateBaseToken:this.handleUpdateBaseToken,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))}}m.propTypes={section:s.a.object.isRequired,highlightedSpacingTokens:s.a.array.isRequired,barrelUser:s.a.object.isRequired,shouldDisplayDeleteButton:s.a.bool.isRequired,shouldDisplayCreateButton:s.a.bool.isRequired,isLocalStyleguide:s.a.bool.isRequired,shouldPromoteDescriptionEditButton:s.a.bool.isRequired,dimensionSuffix:s.a.string.isRequired,onSpacingTokenRowHover:s.a.func.isRequired,onCreateSection:s.a.func.isRequired,onUpdateSection:s.a.func.isRequired,onDeleteSection:s.a.func.isRequired,onCreateToken:s.a.func.isRequired,onUpdateToken:s.a.func.isRequired,onDeleteToken:s.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(2129);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(724),r=n.n(a),l=n(831),c=n(1188),d=n(2130),u=n(1192);n(2136);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=[{token:"spacing-xs",value:4},{token:"spacing-s",value:8},{token:"spacing-m",value:12}];class f extends i.Component{get isThereAnyToken(){const{tokens:e}=this.props;return Boolean(e&&e.length)}get tokensToRender(){return this.isThereAnyToken?this.props.tokens:p}get baseToken(){const{tokens:e,baseTokenId:t}=this.props;return t&&e.find((e=>e._id===t))||p[1]}get createTokenButtonText(){return this.isThereAnyToken?"+ Add token":"+ Add first token"}renderTokens(){const{highlightedSpacingTokens:e,dimensionSuffix:t,isLocalStyleguide:n,shouldFocusOnName:o,onSpacingTokenRowHover:s,onUpdateBaseToken:a,onUpdateToken:r,onDeleteToken:l}=this.props;return this.tokensToRender.map(((c,u)=>{const{_id:h,token:p,value:f}=c;return i.h(d.default,{key:`spacingTokenTableRow-${p}-${f}-${h}`,isEmpty:!this.isThereAnyToken,shouldHighlight:e.includes(h),shouldFocusOnName:o&&u===this.tokensToRender.length-1,tokenData:c,baseToken:this.baseToken,dimensionSuffix:t,isLocalStyleguide:n,onHover:s,onUpdateBaseToken:a,onUpdateToken:r,onDeleteToken:l})}))}renderCreateButton(){const{isLocalStyleguide:e,onCreateToken:t}=this.props,{permissions:{canManageSpacings:n}}=this.context,o={};return this.isThereAnyToken?o.ninja=!0:(o.primary=!0,o.disabled=!n),e?i.h(l.default,h({class:"createButton",onClick:t},o),this.createTokenButtonText):null}renderCreateButtonWithOrWithoutTooltip(){const{permissions:{canManageSpacings:e}}=this.context,{isLocalStyleguide:t}=this.props;if(e)return this.renderCreateButton();const{barrelUser:n}=this.props;return t&&!this.isThereAnyToken?i.h(c.default,{targetClass:"createButtonTooltip",content:Object(u.default)(n.role,"add spacing tokens")},this.renderCreateButton()):null}render(){return i.h("div",{class:r()("spacingTokenTable",{empty:!this.isThereAnyToken})},i.h("div",{class:"header"},i.h("div",{class:"headerCell"},"Token"),i.h("div",{class:"headerCell"},"Value"),i.h("div",{class:"headerCell"},"Ratio"),i.h("div",{class:"headerCell"},"Example")),this.renderTokens(),this.renderCreateButtonWithOrWithoutTooltip())}}f.propTypes={tokens:s.a.array.isRequired,highlightedSpacingTokens:s.a.array.isRequired,baseTokenId:s.a.string,dimensionSuffix:s.a.string.isRequired,barrelUser:s.a.object.isRequired,isLocalStyleguide:s.a.bool.isRequired,shouldFocusOnName:s.a.bool.isRequired,onSpacingTokenRowHover:s.a.func.isRequired,onUpdateBaseToken:s.a.func.isRequired,onCreateToken:s.a.func.isRequired,onUpdateToken:s.a.func.isRequired,onDeleteToken:s.a.func.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(852),r=n(607),l=n(584),c=n.n(l),d=n(724),u=n.n(d),h=n(2122),p=n(2120),f=n(2131),g=n(953),m=n.n(g),b=n(831),S=n(1137),y=n.n(S),v=n(731),O=n(2117);n(2135);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),C(this,"state",{isColorPickerPopoverOpen:!1,isContextMenuOpen:!1,colorPickerPopoverLeft:0}),C(this,"calculateRatio",(e=>Object(r.round)(e/this.props.baseToken.value,3))),C(this,"handleMouseEnter",(()=>{const{tokenData:{_id:e},shouldHighlight:t,onHover:n}=this.props;t&&n(e)})),C(this,"handleTokenNameInputBlur",(e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,token:o}=n;e===o&&i!==O.CANDIDATE_SPACING_TOKEN||t(i,{token:e})})),C(this,"handleTokenNameInputEscape",(()=>{const{onDeleteToken:e,tokenData:t}=this.props,{_id:n}=t;n===O.CANDIDATE_SPACING_TOKEN&&e(n)})),C(this,"handleTokenValueInputBlur",(e=>{const{onUpdateToken:t,tokenData:n,dimensionSuffix:i}=this.props,{_id:o,value:s}=n;e!==s&&t(o,{value:e},i)})),C(this,"handleTokenColorChange",(e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,color:o}=n;new c.a(o).equals(e)||t(i,{color:e})})),C(this,"handleColorPickerPopoverOpen",(()=>{const{exampleContainer:e}=this.nodeRefs,t=e.getBoundingClientRect();this.setState({isColorPickerPopoverOpen:!0,colorPickerPopoverLeft:-t.width/2})})),C(this,"handleColorPickerPopoverClose",(()=>{this.setState({isColorPickerPopoverOpen:!1})})),C(this,"handleContextMenuButtonClick",(()=>{this.setState({isContextMenuOpen:!0})})),C(this,"handleContextMenuClose",(()=>{this.setState({isContextMenuOpen:!1})})),C(this,"handleUpdateBaseToken",(()=>{const{tokenData:e,onUpdateBaseToken:t}=this.props;t(e._id)})),C(this,"handleDeleteToken",(()=>{const{onDeleteToken:e,tokenData:t}=this.props;e(t._id)}))}get isEditable(){const{isEmpty:e,isLocalStyleguide:t}=this.props,{permissions:{canManageSpacings:n}}=this.context;return t&&n&&!e}componentDidUpdate(){this.props.shouldFocusOnName&&this.nodeRefs.spacingTokenTableRowNameInput.highlight()}renderExampleWithOrWithoutPopover(){if(!this.isEditable)return this.renderExample();const{isColorPickerPopoverOpen:e,colorPickerPopoverLeft:t}=this.state;return i.h(m.a,{open:e,onOpen:this.handleColorPickerPopoverOpen,onClose:this.handleColorPickerPopoverClose,content:this.renderColorPickerPopoverContent(),contentClass:"spacingTokenTableRowColorPickerPopoverContent",left:t,centerY:!0,faceTop:!0,stickToEdge:!0},this.renderExample())}renderColorPickerPopoverContent(){const{tokenData:e}=this.props;return i.h(f.default,{selected:e.color,onChange:this.handleTokenColorChange})}renderExample(){const{tokenData:e}=this.props,{value:t,color:n}=e,o={width:`${t}px`,height:`${t}px`,backgroundColor:n&&new c.a(n).toRGBAString()};return i.h("div",{class:"exampleContainer",ref:Object(a.default)(this,"exampleContainer")},i.h("div",{class:"example",style:o},t>180&&i.h("a",{class:"oversizeExampleWarningText",target:"_blank",href:"https://zpl.io/notactualsize"},"*Not actual size")))}renderContextMenu(e){const{baseToken:t}=this.props,{contextMenuButton:n}=this.nodeRefs,o=n.getBoundingClientRect();return i.h(y.a.withAutoPosition,{autoPosition:{limitingElement:".spacingsSidebar",menuContainer:n,clickOrigin:{x:o.left+24,y:o.top-24}},onClose:this.handleContextMenuClose},e!==t._id&&[i.h(y.a.Item,{key:"chooseAsBaseToken",onClick:this.handleUpdateBaseToken},'Choose as "base"'),i.h(y.a.ItemDivider,{key:"warningDivider"})],i.h(y.a.Item,{key:"remove",onClick:this.handleDeleteToken,warning:!0},"Delete token"))}render(){const{isEmpty:e,shouldHighlight:t,tokenData:n,dimensionSuffix:o}=this.props,{isColorPickerPopoverOpen:s,isContextMenuOpen:r}=this.state,{_id:l,token:c,value:d}=n,f=this.calculateRatio(d),g=u()("spacingTokenTableRow",{empty:e,highlight:t,readOnly:!this.isEditable,colorPickerPopoverOpen:s,contextMenuOpen:r});return i.h("div",{class:g,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"cell inputCell"},i.h(h.default,{ref:Object(a.default)(this,"spacingTokenTableRowNameInput"),value:c,onBlur:this.handleTokenNameInputBlur,onEscape:l===O.CANDIDATE_SPACING_TOKEN&&this.handleTokenNameInputEscape,isDisabled:!this.isEditable})),i.h("div",{class:"cell inputCell"},i.h(p.default,{value:d,onBlur:this.handleTokenValueInputBlur,suffix:o,isDisabled:!this.isEditable})),i.h("div",{class:"cell ratioCell ellipsis"},f&&f!==1/0?f:"-"),i.h("div",{class:"cell exampleCell"},d?this.renderExampleWithOrWithoutPopover():"👻"),this.isEditable&&i.h(b.default,{baseRef:Object(a.default)(this,"contextMenuButton"),class:"contextMenuButton",onClick:this.handleContextMenuButtonClick},i.h(v.IconMenu,null),r&&this.renderContextMenu(l)))}}E.propTypes={isEmpty:s.a.bool.isRequired,shouldHighlight:s.a.bool.isRequired,shouldFocusOnName:s.a.bool.isRequired,isLocalStyleguide:s.a.bool.isRequired,tokenData:s.a.object.isRequired,baseToken:s.a.object.isRequired,dimensionSuffix:s.a.string.isRequired,onHover:s.a.func.isRequired,onUpdateBaseToken:s.a.func.isRequired,onUpdateToken:s.a.func.isRequired,onDeleteToken:s.a.func.isRequired},t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(2132);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(584),r=n.n(a),l=n(724),c=n.n(l),d=n(2133);n(2134);class u extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusedColorIndex:null}}handleKeyDown(e){const{onChange:t}=this.props,{focusedColorIndex:n}=this.state;let i=n||0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n>=6&&(i=n-6);break;case Zeplin.KEY_CODE.ArrowRight:e.preventDefault(),n%6<5&&n<d.colorOptions.length-1&&(i=n+1);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n<d.colorOptions.length-6&&(i=n+6);break;case Zeplin.KEY_CODE.ArrowLeft:e.preventDefault(),n%6>0&&(i=n-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),t(d.colorOptions[i])}this.setState({focusedColorIndex:i})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderColorCells(){const{selected:e,onChange:t}=this.props,{focusedColorIndex:n}=this.state;return d.colorOptions.map(((o,s)=>{const a=c()("colorPickerCell",{selected:new r.a(e).equals(o),focused:n===s}),l=new r.a(o).toRGBAString();return i.h("div",{key:l,class:a,style:{backgroundColor:l},onClick:()=>t(o)})}))}render(){return i.h("div",{class:"spacingTokenTableRowColorPicker"},i.h("p",{class:"description"},"Select a color to use while displaying the spacing tokens on the layer detail. Overlays will be transparent."),i.h("div",{class:"colorPickerContainer"},this.renderColorCells()))}}u.propTypes={selected:s.a.string,onChange:s.a.func.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t),n.d(t,"colorOptions",(function(){return i}));const i=[{r:255,g:128,b:128,a:.2},{r:255,g:179,b:102,a:.2},{r:230,g:230,b:46,a:.2},{r:149,g:230,b:69,a:.2},{r:102,g:204,b:102,a:.2},{r:36,g:179,b:107,a:.2},{r:71,g:179,b:179,a:.2},{r:82,g:143,b:204,a:.2},{r:89,g:89,b:179,a:.2},{r:153,g:102,b:204,a:.2},{r:204,g:143,b:204,a:.2},{r:255,g:179,b:217,a:.2}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2140);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(590),s=n.n(o),a=n(610),r=n(624),l=n(634),c=n(693),d=n(852),u=n(686),h=n(544),p=n(712),f=n(724),g=n.n(f),m=n(583),b=n(694),S=n(1462),y=n(1745),v=n(2101),O=n(819),C=n(547),E=n(715),T=n.n(E),_=n(697),P=n.n(_),I=n(702),j=n.n(I),D=n(1867),k=n.n(D),R=n(684),A=n.n(R),w=n(685),N=n.n(w),L=n(567),M=n.n(L),x=n(929),U=n.n(x),B=n(2141),V=n(2144),z=n(2180),F=n(2061),W=n(1549),H=n(2067),G=n(2093),$=n(731),q=n(688),Z=n.n(q);n(2200);function K(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J={project:O.project,styleguide:O.styleguide};function X(e,t){e.forEach((e=>{e.components.forEach((e=>{const n=Object(c.getTimeSlot)(new Date(e.latestVersion.created));n in t||(t[n]=[]),t[n].push(e)})),X(e.componentSections,t)}))}const Q=Object(l.createSortByDate)((({latestVersion:{created:e}})=>e));function ee(e){const t={};return X(e,t),Object.keys(t).map((e=>({_id:e,name:Object(m.uppercaseFirst)(e),components:t[e].sort(Q),componentSections:[]})))}function te(e,t){switch(t){case C.SortTypes.UPDATED:return ee(e);case C.SortTypes.NAME:return function(e){return[{_id:"sortedByName",name:"sortedByName",components:Object(a.collectComponents)(e).sort(l.sortBy.name),componentSections:[]}]}(e);case C.SortTypes.SECTIONS:default:return e}}class ne extends i.Component{constructor(...e){super(...e),Y(this,"state",{componentContextMenu:{},styleguideToShowComponentEditHintBox:null,isLayoutPaddingVisible:!1,isLayoutGapVisible:!1}),Y(this,"visibleComponents",new Set),Y(this,"openComponentContextMenu",((e,t,n)=>{const{canManageStyleguide:i,barrelId:o}=this.state;i&&(n.preventDefault(),o!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))})),Y(this,"closeComponentContextMenu",(()=>{this.setState({componentContextMenu:{}})})),Y(this,"setAndFocusToStyleguideForEditHintBox",(e=>{this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs[`styleguideHeader-${e}`];setTimeout((()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"})))})),Y(this,"unsetStyleguideForComponentEditHintBox",(()=>{this.setState({styleguideToShowComponentEditHintBox:null})})),Y(this,"deselectComponent",(()=>{const{selection:e}=this.state;e&&this.handleComponentSelect(null,null)})),Y(this,"goToTop",(()=>{if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0})),Y(this,"goToStyleguideToEdit",(()=>{const{styleguideToShowComponentEditHintBox:e}=this.state;Z.a.history.push(Object(u.urlResolve)("styleguide-components",{url:{bid:e}}))})),Y(this,"handleMoveSectionClick",(({section:e,targetNode:t})=>{T.a.openMoveResourcesPopup({resourceType:C.RESOURCE_TYPE.COMPONENTS,resources:[e],targetNode:t})})),Y(this,"handleComponentDrop",(({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:o,targetIdPath:s,targetIndex:a})=>{const{barrelId:l}=this.state,c=s[s.length-1],d=this.getComponentRef(c).getBoundingClientRect(),u=e.left>d.left+d.width/2;let h=a;if(n.slice(0,-1).join()===s.slice(0,-1).join()){if(i>a&&u?h=a+1:i<a&&!u&&(h=a-1),i===h)return}else u&&(h=a+1);if(t===o&&Object(r.arrayEqual)(n,s,((e,t)=>e===t))&&i===h)return;if(l!==t||l!==o)return void this.setAndFocusToStyleguideForEditHintBox(t);const p=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:s.slice(0,-1),sourceIndex:i,to:h}];j.a.updateComponentsOrder({components:p,syncWithApi:!0})})),Y(this,"handleSectionOrGroupDrop",(({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:n,sourceStyleguideId:i,targetStyleguideId:o,to:s})=>{const{barrelId:a}=this.state;if(a!==i||a!==o)return void this.setAndFocusToStyleguideForEditHintBox(i);const r={csid:t,sourceIndex:e,to:s};n&&(r.tcsid=n),j.a.updateComponentSectionsOrder({componentSections:[r],syncWithApi:!0})})),Y(this,"handleComponentToSectionOrGroupDrop",(({sourceIdPath:e,sourceIndex:t,targetIdPath:n,to:i,sourceStyleguideId:o,targetStyleguideId:s})=>{const{barrelId:a}=this.state;if(a!==o||a!==s)return void this.setAndFocusToStyleguideForEditHintBox(o);const r=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:n,sourceIndex:t,to:i}];j.a.updateComponentsOrder({components:r,syncWithApi:!0})})),Y(this,"handleComponentSelect",((e,t)=>{const{barrel:{id:n},selection:i}=this.state,o=e?t:null;if(!i&&!o||i&&o&&i._id===o._id)return;let s;T.a.changeSelection({selectionComponentId:e,selection:o}),e&&(s={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(u.urlResolve)(`${this.slugPrefix()}-components`,{url:{bid:n},query:s}))})),Y(this,"handleComponentsVisible",(e=>{const{barrel:t,barrelType:n,barrelUser:i,styleguidesData:o,organizationFrozen:a}=this.state;if("pawn"===i.role||a)return e.forEach((e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets})),void T.a.componentSeedsReady();T.a.componentSeedsReady(),Promise.all(e.filter((e=>!e.latestVersion.snapshot.layers)).map((async e=>{const i=await Object(O.fetchSnapshot)(e.latestVersion.fullSnapshotUrl);Object(y.preprocessLayers)(i.layers),e.latestVersion.snapshot=i;const a=e.idPath.slice(0,-1),{barrelId:r}=Object(p.findComponentById)(o,e._id),l=await J[r===t.id?n:s.a.STYLEGUIDE].getComponentVersionAssets(r,a,e._id,e.latestVersion._id);if(l&&l.url){const n=await Object(O.fetchAssets)(l.url);await Promise.all(n.map((n=>Object(y.addAssetStats)(t.id,e._id,i,n)))),k.a.setComponentAssets({coid:e._id,assets:n})}return i.assets.map((n=>Object(y.addAssetStats)(t.id,e._id,i,n)))}))).finally((e=>{T.a.componentSeedsReady()}))})),Y(this,"handleSort",(e=>{const{sortType:t}=this.state;t!==e&&T.a.changeSortType(e)})),Y(this,"handleExpandSectionOrGroup",(e=>{T.a.expandSections([e])})),Y(this,"handleCollapseSectionOrGroup",(e=>{T.a.collapseSections([e])})),Y(this,"handleExpandAllSections",(()=>{const e=P.a.getCollapsedSectionIds();e.length>0&&T.a.expandSections(e)})),Y(this,"handleKeyDown",(e=>{Object(h.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),T.a.collapseAllSections()):Object(h.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())})),Y(this,"observeComponent",(e=>{this.getIntersectionObserver().observe(e)})),Y(this,"unobserveComponent",(e=>{this.getIntersectionObserver().unobserve(e)})),Y(this,"getComponentRef",(e=>this.nodeRefs&&this.nodeRefs[`styleguideComponent-${e}`])),Y(this,"handleComponentRef",((e,t)=>{t&&Object(d.default)(this,`styleguideComponent-${e}`)(t)})),Y(this,"handleBaseRef",(e=>{Object(d.default)(this,"components")(e),this.props.baseRef(e)})),Y(this,"handleLayoutPaddingVisibilityChange",(e=>{this.setState({isLayoutPaddingVisible:e})})),Y(this,"handleLayoutGapVisibilityChange",(e=>{this.setState({isLayoutGapVisible:e})}))}static getStores(){return[M.a.BarrelStore,M.a.StyleguideStore,M.a.StyleguidesDataStore,M.a.ProjectsDataStore,M.a.UserStore,M.a.OrganizationStore]}static calculateState(){const e=M.a.BarrelStore.getState(),{loading:t}=e,n=K(e,["loading"]);if(t)return{loading:!0};const{barrelId:i,barrelType:o}=n,{moveResourcesPopup:s,scrolledSection:r,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:d,selection:u,sortType:h,filterValue:f,rightSidebarWidth:g,convertedAnySectionIntoVariant:m}=M.a.StyleguideStore.getState(),b=A.a.getBarrel(),y=A.a.findUser(),v=new S.default(b),O=A.a.getStyleguidesData({barrelStore:M.a.BarrelStore,styleguidesDataStore:M.a.StyleguidesDataStore,projectsDataStore:M.a.ProjectsDataStore}),{barrelId:C,component:E}=Object(p.findComponentById)(O,d)||{};let T=u;!T&&E&&(T=E);return{loading:!1,barrel:b,barrelId:i,barrelUser:y,barrelType:o,moveResourcesPopup:s,scrolledSection:r,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:d,sidebarWidth:g,sortType:h,filterValue:f,canManageStyleguide:a.permissions.canUpdateStyleguide(y),selection:T,selectionStyleguideId:C,selectionComponent:E,formatter:v,styleguidesData:O,convertedAnySectionIntoVariant:m,organizationFrozen:N.a.isOrganizationFrozen()}}get componentCount(){const{styleguidesData:e}=this.state;return e.reduce(((e,{componentSections:t})=>e+Object(a.collectComponents)(t).length),0)}get sectionCount(){const{styleguidesData:e}=this.state;return e.reduce(((e,{componentSections:t})=>e+t.length-1),0)}get variantSectionCount(){const{styleguidesData:e}=this.state;return e.reduce(((e,{componentSections:t})=>e+t.reduce(((e,{variant:t})=>e+(t?1:0)),0)),0)}processComponents(e){const{sortType:t,filterValue:n}=this.state;return n?function(e,t){const n=Object(a.collectComponents)(e),i=new WeakMap(n.map((e=>[e,Object(b.calculateMatchingScore)(t,e.name)]))),o=n.filter((e=>i.get(e)));return o.length?[{_id:"filtered",name:"filtered",components:o.sort(((e,t)=>i.get(t)-i.get(e)||l.sortBy.name(e,t))),componentSections:[]}]:[]}(e,n):te(e,t)}getIntersectionObserver(){return this.observer||(this.observer=new IntersectionObserver((e=>{const{styleguidesData:t}=this.state;e.forEach((e=>{const n=e.target.dataset.id,{component:i,ancestors:o}=Object(p.findComponentById)(t,n)||{};if(i)if(e.isIntersecting){let e=[i];if(i.variant){const t=o.find((e=>!!e.variant));e=Object(a.collectComponents)([t])}e.forEach((e=>{this.visibleComponents.add(e)}))}else this.visibleComponents.delete(i)})),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout((e=>{this.handleComponentsVisible([...this.visibleComponents])}),80)}),{root:this.nodeRefs.components,rootMargin:"0px 0px 500px 0px"})),this.observer}slugPrefix(){const{barrelType:e}=this.state;return e===s.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{selectionComponent:e}=this.state;e&&setTimeout((()=>{document.addEventListener("click",this.deselectComponent)}),4),document.addEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(){const{selectionComponent:e}=this.state;e?document.addEventListener("click",this.deselectComponent):document.removeEventListener("click",this.deselectComponent)}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent),document.removeEventListener("keydown",this.handleKeyDown,!0)}renderComponents(){const{barrel:e,barrelId:t,barrelUser:n,moveResourcesPopup:o,scrolledSection:s,collapsedSections:r,highlightScrolledSection:l,selection:c,selectionComponent:h,sortType:p,filterValue:f,styleguidesData:g,styleguideToShowComponentEditHintBox:m,componentContextMenu:b,isLayoutPaddingVisible:S,isLayoutGapVisible:y}=this.state,{hasDraggingElement:O,onLinkStyleguide:E}=this.props;if(!this.componentCount)return i.h(F.default,{type:F.default.TYPE.COMPONENTS,onButtonClick:E});const _=g.map((({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:Object(a.collectComponents)(i).length,componentSections:i}})),P=_.reduce(((e,{componentCount:t})=>e+t),0),I=p===C.SortTypes.UPDATED,j=p!==C.SortTypes.SECTIONS,D=p!==C.SortTypes.UPDATED||!!f,k=h&&h._id;return i.h("div",{class:"componentsDragDropItems"},i.h(B.default,{selectedSortType:p,filterValue:f,onSort:this.handleSort,onFilter:T.a.changeComponentFilterValue}),P?_.map((({id:a,name:h,componentCount:p,componentSections:g})=>{if(!p)return null;const C=a===t,E=C?null:i.h("a",{href:Object(u.urlResolve)("styleguide-components",{url:{bid:a}}),class:"headerButton",title:`Go to ${h}`,"data-link-type":"inApp","data-back":e.name},i.h($.IconGoTo,null));return[i.h(H.default,{ref:Object(d.default)(this,`styleguideHeader-${a}`),key:`styleguideHeader-${a}`,scroll:s===a,highlight:s===a&&l,onScroll:T.a.sectionScrolled},h,E),m===a&&!C&&i.h(G.default,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:h,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.h("div",{key:`components-${a}`,class:"componentSections"},g.map(((d,u)=>{const h=d.componentSections.length+d.components.length===0,p=o&&o.data&&o.data._id===d._id;return i.h(V.default,{key:d.key||d._id,styleguideId:a,index:u,data:d,hasDraggingElement:O,variantSectionCount:this.variantSectionCount,collapsedSections:r,collapsed:!h&&r[d._id],handleComponentRef:this.handleComponentRef,getComponentRef:this.getComponentRef,barrelThumbnail:e.thumbnail,scrolledSection:s,highlightScrolledSection:l,actionsDisabled:I,selectionComponentId:k,selection:c,visibleComponents:this.visibleComponents,defaultSection:!u&&D,readOnly:j,filterValue:f,isLayoutPaddingVisible:S,isLayoutGapVisible:y,onSelect:this.handleComponentSelect,componentContextMenu:b,optionsActive:p,showMoveSectionAction:a===t&&Object(v.default)(e,n),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionOrGroupDrop:this.handleSectionOrGroupDrop,onComponentToSectionOrGroupDrop:this.handleComponentToSectionOrGroupDrop,onOpenGoToStyleguideToEditHint:this.setAndFocusToStyleguideForEditHintBox,onExpandSectionOrGroup:this.handleExpandSectionOrGroup,onCollapseSectionOrGroup:this.handleCollapseSectionOrGroup})})))]})):i.h(W.default,{text:"No components with this name 🤷‍♀️"}))}renderSidebar(){const{loading:e}=this.state;if(e)return null;const{sidebarWidth:t,formatter:n,selectionStyleguideId:o,selectionComponent:s,selection:a,styleguidesData:r,convertedAnySectionIntoVariant:l}=this.state,{onExportClick:c}=this.props;return i.h(z.default,{componentCount:this.componentCount,sectionCount:this.sectionCount,variantSectionCount:this.variantSectionCount,convertedAnySectionIntoVariant:l,selectionStyleguideId:o,selectionComponent:s,selection:a,formatter:n,width:t,styleguidesData:r,onCloseClick:this.deselectComponent,onExportClick:c,onLayoutPaddingVisibilityChange:this.handleLayoutPaddingVisibilityChange,onLayoutGapVisibilityChange:this.handleLayoutGapVisibilityChange})}render(){const{loading:e,componentContextMenu:t}=this.state;if(e)return null;const n=g()("styleguideContainerContent","componentsContent",{componentContextMenuOpen:!!t.coid});return i.h(i.Fragment,null,i.h("div",{class:n,ref:this.handleBaseRef},this.renderComponents()),this.renderSidebar())}}t.default=U()(ne)},function(e,t,n){"use strict";n.r(t);var i=n(2142);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1141),s=n(888),a=n(547);n(2143);const r=[{label:"Sort by Sections",dropdownLabel:"Sections",value:a.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:a.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:a.SortTypes.NAME}];function l({onSort:e,selectedSortType:t}){return i.h(s.default,{class:"componentsSortDropdown",onChange:e,optionsClass:"componentsSortOptions"},r.map((({label:e,dropdownLabel:n,value:o,class:a})=>i.h(s.default.Item,{class:a,key:o,value:o,label:e,dropdownLabel:n,selected:o===t}))))}t.default=function({onFilter:e,onSort:t,selectedSortType:n,filterValue:s}){return i.h(o.default,{class:"componentsFilterSortView",onFilter:e,filterValue:s,searchPlaceholder:"Search for a component",searchPlaceholderWidth:160,leftContent:i.h(l,{onSort:t,selectedSortType:n})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2145);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1271),s=n(1274),a=n(2146),r=n(2148),l=n(2159),c=n(2173),d=n.n(c),u=n(1316),h=n(890),p=n(2176),f=n.n(p),g=n(1309),m=n(702),b=n.n(m),S=n(684),y=n.n(S),v=n(567),O=n.n(v),C=n(715),E=n.n(C),T=n(559),_=n(852),P=n(583),I=n(626),j=n(712),D=n(929),k=n.n(D);n(2179);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M="addProperty",x="removeVariants";class U extends i.Component{constructor(...e){super(...e),L(this,"state",{addingDescription:!1,loadingVariants:null,variantOptionsMenuOpen:!1,variantOnboardingDialogOpen:!1,variantFilter:{}}),L(this,"variantOptionsButtonRef",i.createRef()),L(this,"highlightDescription",(()=>{this.componentRefs.section.highlightDescription()})),L(this,"highlightName",(()=>{this.componentRefs.section.highlightName()})),L(this,"closeVariantOptions",(()=>{this.setState({variantOptionsMenuOpen:!1})})),L(this,"handleAddDescriptionClick",(()=>{this.setState({addingDescription:!0})})),L(this,"handleGroupNameChange",((e,t)=>{b.a.updateComponentSection({csids:e,componentSectionData:{name:t},isComponentGroup:!0,syncWithApi:!0})})),L(this,"handleNameBlur",(({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==I.TEMPORARY_COMPONENT_SECTION_ID?b.a.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())})),L(this,"handleDescriptionBlur",(({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||b.a.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})})),L(this,"handleCopyWebLink",(()=>{const{data:{_id:e}}=this.props;b.a.copyComponentSectionWebLink({seid:e}),mixpanel.master.track("Copied web link",{Target:"Component section"})})),L(this,"handleCopyAppURI",(()=>{const{data:{_id:e}}=this.props;b.a.copyComponentSectionAppURI({cseid:e}),mixpanel.master.track("Copied app URI",{Target:"Component section"})})),L(this,"handleCreateSection",((e,t)=>{const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};b.a.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})})),L(this,"handleCreateGroup",((e,t,n)=>{const i={index:n||0,name:"Untitled Group",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]},o=e.slice(0,1);b.a.addComponentSection({csids:o,componentSection:i,isCreateGroup:!0,syncWithApi:!0})})),L(this,"handleSetAsThumbnail",(e=>{b.a.updateThumbnail({thumbnail:e,syncWithApi:!0})})),L(this,"handleDeleteSection",(()=>{const{data:{_id:e},index:t}=this.props;b.a.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})})),L(this,"handleRenameComponent",((e,t)=>{const{_id:n,idPath:i}=t;b.a.updateComponent({csids:i.slice(0,i.length-1),coid:n,componentData:{name:e},syncWithApi:!0})})),L(this,"handleComponentContextMenu",((e,t)=>{const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)})),L(this,"handleMoveSectionClick",(e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})})),L(this,"handleVariantOptionsMenuClick",((e,t)=>{const{data:{_id:n}}=this.props;switch(t){case M:E.a.createComponentVariantProperty({csid:n,syncWithApi:!0});break;case x:T.create({message:"Unset as variant section?",done:{name:"CONVERT",cb:()=>{this.setState({loadingVariants:"toRegular"}),E.a.convertVariantSectionToSection({csid:n,syncWithApi:!0})}},cancel:!0})}})),L(this,"handleVariantsOnboardingDialogClose",(()=>{this.setState({variantOnboardingDialogOpen:!1}),E.a.hideComponentVariantsOnboardingDialog()})),L(this,"handleConvertSectionToVariantSection",(()=>{const{data:{_id:e}}=this.props;this.setState({loadingVariants:"toVariant"}),E.a.convertSectionToVariantSection({csid:e,syncWithApi:!0}),this.handleVariantsOnboardingDialogClose()})),L(this,"handleVariantOptionsButtonClick",(()=>{const{styleguideId:e,data:{variant:t},onOpenGoToStyleguideToEditHint:n}=this.props,{barrelId:i,componentVariantsOnboardingDialogSeen:o}=this.state;if(e===i)return t?void this.setState({variantOptionsMenuOpen:!0}):o?void this.handleConvertSectionToVariantSection():void this.setState({variantOnboardingDialogOpen:!0});n(e)})),L(this,"handleVariantOptionsPortalDidRender",(e=>{const t=this.variantOptionsButtonRef.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=12,o=t.bottom,s=t.right-n.width;let a,r;r=o<i?i:o+n.height+i>window.innerHeight?window.innerHeight-n.height-i:o,a=s+n.width+i>window.innerWidth?window.innerWidth-n.width-i:s,e.style.transform=`translate3d(${a}px, ${r}px, 0)`})),L(this,"handleVariantPropertValueClick",((e,t)=>{const{variantFilter:n}=this.state;if(n[e]!==t)this.setState({variantFilter:A(A({},n),{},{[e]:t})});else{const{[e]:t}=n,i=w(n,[e].map(N));this.setState({variantFilter:i})}})),L(this,"handleComponentGroupCopyWebLink",(e=>{const{barrelId:t,barrelType:n}=this.state;b.a.copyComponentSectionWebLink({bid:t,barrelType:n,seid:e})})),L(this,"handleComponentGroupCopyAppURI",(e=>{const{barrelId:t,barrelType:n}=this.state;b.a.copyComponentSectionAppURI({bid:t,barrelType:n,cseid:e})})),L(this,"handleOptionsMenuOpen",(()=>{const{data:{_id:e}}=this.props,{barrelId:t,barrelType:n}=this.state;b.a.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})})),L(this,"handleGroupOptionsMenuOpen",(e=>{const{barrelId:t,barrelType:n}=this.state;b.a.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})}))}static getStores(){return[O.a.BarrelStore,O.a.StyleguideStore,O.a.StyleguidesDataStore,O.a.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=O.a.BarrelStore.getState(),{componentVariantsOnboardingDialogSeen:i}=O.a.StyleguideStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:y.a.getStyleguidesData({barrelStore:O.a.BarrelStore,styleguidesDataStore:O.a.StyleguidesDataStore,projectsDataStore:O.a.ProjectsDataStore}),componentVariantsOnboardingDialogSeen:i}}handleDeleteComponent(e){const{_id:t,idPath:n}=e;b.a.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){const{hasDraggingElement:n}=e,{addingDescription:i}=t,{data:{variant:o},hasDraggingElement:s}=this.props,{loadingVariants:a,addingDescription:r,variantOptionsMenuOpen:l}=this.state;!i&&r&&this.highlightDescription(),a&&("toVariant"===a&&o||"toRegular"===a&&!o)&&this.setState({loadingVariants:null}),!n&&s&&l&&this.closeVariantOptions()}renderComponentGroups(){const{data:{componentSections:e,variant:t},styleguideId:n,selectionComponentId:o,selection:s,visibleComponents:r,filterValue:l,barrelThumbnail:c,scrolledSection:d,highlightScrolledSection:u,handleComponentRef:h,getComponentRef:p,collapsedSections:f,collapsed:g,onSelect:m,componentContextMenu:S,onComponentDidMount:y,onComponentDidUnmount:v,onCloseComponentContextMenu:O,onComponentDrop:C,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:I}=this.props,{styleguidesData:j,variantFilter:D}=this.state;return!g&&e&&e.length?i.h("div",{class:"componentGroups"},e.map(((e,g)=>i.h(a.default,{key:e.key||e._id,styleguideId:n,index:g,data:e,collapsed:!!e.components.length&&f[e._id],styleguidesData:j,sectionVariant:t,barrelThumbnail:c,onComponentDidMount:y,onComponentDidUnmount:v,visibleComponents:r,filterValue:l,variantFilter:D,selectionComponentId:o,selection:s,scroll:d===e._id,highlight:d===e._id&&u,handleComponentRef:h,getComponentRef:p,onNameChange:this.handleGroupNameChange,onSelect:m,onScroll:E.a.sectionScrolled,componentContextMenu:S,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDeleteComponent:this.handleDeleteComponent,onRenameComponent:this.handleRenameComponent,onDeleteGroup:b.a.mergeComponentSection,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:O,onComponentDrop:C,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onCopyWebLink:this.handleComponentGroupCopyWebLink,onCopyAppURI:this.handleComponentGroupCopyAppURI,onOptionsMenuOpen:this.handleGroupOptionsMenuOpen,onExpand:P,onCollapse:I})))):null}renderComponents(){const{data:{components:e,variant:t},styleguideId:n,selectionComponentId:o,selection:s,visibleComponents:a,filterValue:l,barrelThumbnail:c,defaultSection:d,handleComponentRef:u,getComponentRef:h,collapsed:p,isLayoutPaddingVisible:f,isLayoutGapVisible:g,onSelect:m,componentContextMenu:{coid:b,clickOrigin:S},onComponentDidMount:y,onComponentDidUnmount:v,onCloseComponentContextMenu:O,onComponentDrop:C}=this.props,{styleguidesData:E,variantFilter:T}=this.state;if(p||!e||!e.length)return null;const _=Boolean(Object.keys(T).length),P=e.filter((e=>{const{variant:t}=e;return!t||!_||Object.entries(T).every((([e,n])=>{const i=t.values.find((({propertyId:t})=>t===e));return i&&i.value===n}))}));if(_&&!P.length)return null;const I=Object(j.findOmittedVariantProperties)(e),D=P.map(((p,T)=>{const _=e[T-1],P=e[T+1];return i.h(r.default,{styleguideId:n,key:p._id,leftComponentId:_&&_._id,rightComponentId:P&&P._id,index:T,data:p,sectionVariant:t,omittedProperties:I,styleguidesData:E,barrelThumbnail:c,visible:a.has(p),filterValue:l,selection:s,containsSelection:s&&o===p._id,inDefaultSection:d,handleComponentRef:u,getComponentRef:h,onMount:y,onUnmount:v,onSelect:m,contextMenu:b===p._id?S:null,isLayoutPaddingVisible:f,isLayoutGapVisible:g,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDelete:this.handleDeleteComponent,onRename:this.handleRenameComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:O,onDrop:C})}));return i.h("div",{class:"components"},D)}renderContent(){return i.h("div",{class:"componentSectionContent"},this.renderVariantProperties(),this.renderComponents(),this.renderComponentGroups())}renderVariantOptionsButton(){const{permissions:{canManageStyleguide:e}}=this.context;if(!e)return null;const{data:{variant:t},variantSectionCount:n}=this.props,{loadingVariants:o,variantOptionsMenuOpen:s}=this.state;return i.h(i.Fragment,null,i.h(d.a,{baseRef:this.variantOptionsButtonRef,loadingVariants:o,variant:t,variantSectionCount:n,variantOptionsMenuOpen:s,onClick:this.handleVariantOptionsButtonClick}),s&&this.renderVariantOptionsMenu())}renderVariantProperties(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state;if(t)return i.h(l.default,{csid:e,variant:t,variantFilter:n,onValueClick:this.handleVariantPropertValueClick})}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,s=t?i.h(o.default.Item,{onClick:this.highlightDescription},"Edit description"):i.h(o.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(o.default,{onOpen:this.handleOptionsMenuOpen},!e&&[s,i.h(o.default.Item,{onClick:this.highlightName},"Rename section"),i.h(o.default.ItemDivider,null)],i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(o.default.ItemDivider,null),!e&&[n&&i.h(o.default.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide…"),i.h(o.default.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}renderVariantOptionsMenu(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state,o=this;function s(s){return t.properties.map((({_id:t,name:a,values:r})=>{const l=`${s}:${t}`,c="group"===s&&0===r.length;return i.h(u.default.Button,{key:l,name:l,disabled:c,onClick:function(){if("group"===s)E.a.createComponentSectionVariantGroups({csid:e,vpid:t});else if("remove"===s){const i=Object.fromEntries(Object.entries(n).filter((([e])=>e!==t)));o.setState({variantFilter:i}),T.create({message:`Remove “${a}” property?`,done:{name:"REMOVE",cb(){E.a.removeComponentVariantProperty({csid:e,vpid:t,syncWithApi:!0})}},cancel:!0})}o.closeVariantOptions()}},a)}))}return i.h(h.default,{didRender:this.handleVariantOptionsPortalDidRender},i.h(u.default,{class:"variantOptionsMenu",onChange:this.handleVariantOptionsMenuClick,onClose:this.closeVariantOptions},i.h(u.default.Button,{name:M},"Add property"),t.properties.length>0&&i.h(i.Fragment,null,i.h(u.default.Submenu,{name:"removeProperty",content:"Remove property"},s("remove")),i.h(u.default.Divider,null),i.h(u.default.Submenu,{name:"createGroup",content:"Create groups by property"},s("group"))),i.h(u.default.Divider,null),i.h(u.default.Button,{name:x,warning:!0},"Unset as variant section")))}render(){const{loading:e,addingDescription:t,variantOnboardingDialogOpen:n}=this.state;if(e)return null;const{data:{componentSections:o,components:a,name:r,description:l,_id:c},index:d,collapsed:u,styleguideId:h,defaultSection:p,readOnly:m,actionsDisabled:b,scrolledSection:S,highlightScrolledSection:y,optionsActive:v,onSectionOrGroupDrop:O,onComponentToSectionOrGroupDrop:C,onExpandSectionOrGroup:T,onCollapseSectionOrGroup:I}=this.props,j=o.reduce(((e,t)=>e+t.components.length),a.length),D=`${Object(P.pluralize)(j,"component")} collapsed`,k=this.renderContent(),R=this.renderOptionsMenu(),A=t?g.DEFAULT_DESCRIPTION:l,w=S===c,N=w&&y;return i.h(i.Fragment,null,i.h(s.DragDropComponentSection,{type:g.STYLEGUIDE_COMPONENT_SECTION,id:c,optionsButtonRef:Object(_.default)(this,"sectionOptionsButton"),index:d,styleguideId:h,componentRef:Object(_.default)(this,"section","componentRefs"),collapsed:u,empty:0===j,componentCount:j,componentGroupsCount:o.length,name:r,headerClass:"componentSectionHeader",description:A,countInfoText:D,optionsMenu:R,defaultSection:p,actionsDisabled:b,readOnly:m,topPadding:136,scroll:w,highlight:N,optionsActive:v,variantOptionsButton:this.renderVariantOptionsButton(),draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:E.a.sectionScrolled,onExpand:T,onCollapse:I,onSectionOrGroupDrop:O,onComponentToSectionOrGroupDrop:C},k),n&&i.h(f.a,{onSetAsVariantSection:this.handleConvertSectionToVariantSection,onClose:this.handleVariantsOnboardingDialogClose}))}}t.default=k()(U)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1157),s=n(852),a=n(2147);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="GroupHeader",d="StyleguideComponent",u=Object(o.DropTarget)({acceptsItemType:c,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(a.default);class h extends i.Component{constructor(...e){super(...e),l(this,"state",{targetPosition:"",groupHeaderHover:!1}),l(this,"calculateMoveIndex",((e,t,n)=>{const{index:i}=this.props,{targetPosition:o}=this.state,s="bottom"===o;if(t!==n)return s?i+1:i;let a=i;return e>i&&s?a=i+1:e<i&&!s&&(a=i-1),a})),l(this,"setTargetPosition",(e=>{const{targetPosition:t}=this.state,{base:n}=this.nodeRefs,i=function(e,t,n){const i=n?43:0,o=e.top+(e.height-i)/2;return t.top>=o}(n.getBoundingClientRect(),e,t)?"bottom":"top";t!==i&&this.setState({targetPosition:i})})),l(this,"unsetTargetPosition",(()=>{this.state.targetPosition&&this.setState({targetPosition:""})})),l(this,"dropGroupHeader",((e,t,n)=>{if(""===this.state.targetPosition)return;const{data:{idPath:i},styleguideId:o,onSectionOrGroupDrop:s}=this.props,a=t[0],r=i[0],l=this.calculateMoveIndex(e,a,r);o===n&&a===r&&e===l||s({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:i.slice(0,-1),sourceStyleguideId:n,targetStyleguideId:o,to:l})})),l(this,"dropComponent",((e,t,n)=>{const{data:{idPath:i,components:o},styleguideId:s,onComponentToSectionOrGroupDrop:a}=this.props;a({sourceIdPath:t,sourceIndex:e,targetIdPath:i,sourceStyleguideId:n,targetStyleguideId:s,to:o.length})})),l(this,"handleDragHover",((e,t)=>{t!==c?this.state.groupHeaderHover||this.setState({groupHeaderHover:!0}):this.setTargetPosition(e)})),l(this,"handleDragHoverOut",(e=>{e!==c?this.state.groupHeaderHover&&this.setState({groupHeaderHover:!1}):this.unsetTargetPosition()})),l(this,"handleDrop",(({sourceIndex:e,sourceIdPath:t,sourceStyleguideId:n},i)=>{i===c?this.dropGroupHeader(e,t,n):i===d&&this.dropComponent(e,t,n)}))}render(){const{groupHeaderHover:e,targetPosition:t}=this.state,{dragDisabled:n}=this.context;return i.h(u,r({},this.props,{baseRef:Object(s.default)(this,"base"),groupHeaderHover:e,targetPosition:t,draggable:!n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(712),r=n(852),l=n(2148),c=n(2157);n(2158);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{menuShown:!1}),d(this,"hideOptionsMenu",(()=>{this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))})),d(this,"handleBaseRef",(e=>{Object(r.default)(this,"base")(e),this.props.baseRef(e)})),d(this,"handleShowOptionsMenu",(e=>{e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))})),d(this,"handleCollapseOrExpand",(()=>{const{collapsed:e,data:{_id:t},onCollapse:n,onExpand:i}=this.props;e?i(t):n(t)})),d(this,"handleStartDrag",(()=>{const{data:{_id:e},collapsed:t,onCollapse:n}=this.props;t||n(e),this.setState({hidden:!0,menuShown:!1})})),d(this,"handleEndDrag",(()=>{this.setState({hidden:!1})})),d(this,"handleNameBlur",(({discard:e,value:t})=>{const{data:{idPath:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)})),d(this,"handleCreateGroup",((e,t)=>{const{index:n,onCreateGroup:i}=this.props;i(e,t,n+1)})),d(this,"handleDeleteGroup",(()=>{const{data:{idPath:e},index:t,onDeleteGroup:n}=this.props;n({csids:e,index:t,syncWithApi:!0})}))}highlight(){const{data:{_id:e},collapsed:t,scroll:n,highlight:i,onScroll:o,onExpand:s}=this.props;n&&(t&&s(e),this.nodeRefs.base.scrollIntoView()),i&&this.nodeRefs&&this.nodeRefs.header&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),n&&o&&o()}componentDidMount(){const{data:{newSection:e}}=this.props;e&&this.componentRefs.componentName.highlight(),this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(e,t){const{styleguidesData:n,styleguideId:o,visibleComponents:s,filterValue:a,barrelThumbnail:r,selectionComponentId:c,selection:d,sectionVariant:u,handleComponentRef:h,getComponentRef:p,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onCreateSection:b,onSetAsThumbnail:S,onDeleteComponent:y,onRenameComponent:v,onComponentDidMount:O,onComponentDidUnmount:C,onComponentContextMenu:E,onCloseComponentContextMenu:T,onComponentDrop:_}=this.props,P=e.map(((P,I)=>{const j=e[I-1],D=e[I+1];return i.h(l.default,{key:P._id,styleguideId:o,index:I,leftComponentId:j&&j._id,rightComponentId:D&&D._id,data:P,sectionVariant:u,omittedProperties:t,styleguidesData:n,barrelThumbnail:r,visible:s.has(P),filterValue:a,selection:d,containsSelection:d&&c===P._id,handleComponentRef:h,getComponentRef:p,onSelect:f,contextMenu:g===P._id?m:null,onMount:O,onUnmount:C,onCreateSection:b,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:S,onDelete:y,onRename:v,onContextMenu:E,onCloseContextMenu:T,onDrop:_})}));return i.h("div",{class:"components"},P)}render(){const{data:{name:e,components:t,idPath:n},index:o,collapsed:l,styleguideId:d,draggable:u,readOnly:h,actionsDisabled:p,targetPosition:f,groupHeaderHover:g,variantFilter:m,onHover:b,onHoverOut:S,onDrop:y,onCopyWebLink:v,onCopyAppURI:O,onOptionsMenuOpen:C}=this.props,{menuShown:E,hidden:T}=this.state,_=Boolean(Object.keys(m).length),P=t.filter((e=>{const{variant:t}=e;return!t||!_||Object.entries(m).every((([e,n])=>{const i=t.values.find((({propertyId:t})=>t===e));return i&&i.value===n}))})),I=P.length;if(_&&!I)return null;const j=Object(a.findOmittedVariantProperties)(t);return i.h("div",{ref:this.handleBaseRef,class:s()("componentGroup",f,{menuShown:E,hidden:T})},i.h(c.DragDropComponentGroupHeader,{baseRef:Object(r.default)(this,"header"),componentNameRef:Object(r.default)(this,"componentName","componentRefs"),index:o,idPath:n,styleguideId:d,name:e,draggable:u,readOnly:h,actionsDisabled:p,collapsed:l,hasDragHover:g,componentsCount:I,menuShown:E,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,onHover:b,onHoverOut:S,onDrop:y,onNameBlur:this.handleNameBlur,onCollapseOrExpand:this.handleCollapseOrExpand,onShowOptionsMenu:this.handleShowOptionsMenu,onDeleteGroup:this.handleDeleteGroup,onCopyWebLink:v,onCopyAppURI:O,onOptionsMenuOpen:C}),!l&&this.renderComponents(P,j))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(2149);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2150),s=n(1157),a=n(1787),r=n(610),l=n(582),c=n(724),d=n.n(c),u=n(852),h=n(1259);n(2156);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const f=Object(r.pipe)(Object(s.DragSource)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const o=t.width,s=t.height,r={};o<48||s<48?(r.width=o,r.height=s):r.paddingBottom=100*s/o+"%";const l=Math.max(96,12*Math.ceil(o/12)+48);return i.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.h(a.default,{class:d()("componentContent",e),snapshot:t,style:r},i.h(a.default.Image,null)),i.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:o}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:o}}}),Object(s.DropTarget)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(o.default);class g extends i.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}calculateCubukPosition(e,t){const{getComponentRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-24)));return{height:o,top:Math.max(0,Math.round((i-o)/2))}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(l.getImageProperties)(e).then((({lightness:e})=>{this.setState({lightness:e})})).catch((()=>{this.setState({lightness:"dark"})}))}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const o=this.calculateCubukPosition(t,i);this.setState(Object(r.getStateUpdateFunction)({moveCubukPosition:n?h.CUBUK_POSITION.RIGHT:h.CUBUK_POSITION.LEFT,moveCubukHeight:o.height,moveCubukTop:o.top}))}handleDragHoverOut(){this.setState(Object(r.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleBaseRef(e){const{data:{_id:t},handleComponentRef:n}=this.props;Object(u.default)(this,"base")(e),n(t,e)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:o}=this.state;return i.h(f,p({baseRef:this.handleBaseRef,dragBaseRef:Object(u.default)(this,"dragBase"),lightness:o,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(2151);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(724),s=n.n(o),a=n(852),r=n(610),l=n(1787),c=(n(2152),n(1137)),d=n.n(c),u=n(1027),h=n(712),p=n(1745),f=n(959),g=n(1256),m=n(1259),b=n(547),S=n(2153),y=n.n(S);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Component extends i.Component{constructor(e){super(e),v(this,"resetDistances",(()=>{null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})})),v(this,"openDeleteComponentDialog",(e=>{e.stopPropagation(),this.setState({deleteDialogVisible:!0})})),v(this,"openRenameComponentDialog",(e=>{e.stopPropagation(),this.setState({renameDialogVisible:!0})})),v(this,"closeDeleteComponentDialog",(()=>{this.setState({deleteDialogVisible:!1})})),v(this,"closeRenameComponentDialog",(()=>{this.setState({renameDialogVisible:!1})})),v(this,"handleImageError",(()=>{this.setState({imageRequested:!1})})),v(this,"handleBaseRef",(e=>{Object(a.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})),v(this,"handleComponentClick",(e=>{e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)})),v(this,"handleComponentContentClick",(e=>{e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)})),v(this,"handleComponentEnter",(()=>{const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})})),v(this,"handleComponentLeave",(()=>{this.resetDistances()})),v(this,"handleLayerEnter",(e=>{const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})})),v(this,"handleLayerLeave",(()=>{const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})})),v(this,"handleLayerSelect",((e,t)=>{const{selection:n,data:{_id:i,latestVersion:{snapshot:o}},onSelect:s}=this.props,{constraints:a,layout:r}=t;e.stopPropagation(),this.resetDistances(),mixpanel.master.track("Inspected layer",{Source:"Component","Has Constraints":Boolean(a),"Has Auto Layout":Boolean(r)});const l=this.nodeRefs.snapshotDetail.getBoundingClientRect();s(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:n,snapshotDetailRect:l}))})),v(this,"handleContextMenu",(e=>{const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)})),v(this,"handleCreateSection",(e=>{const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)})),v(this,"handleCreateGroup",(e=>{const{onCreateGroup:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)})),v(this,"handleSetAsThumbnail",(e=>{e.stopPropagation();const{data:{latestVersion:{snapshot:{url:t}}},onSetAsThumbnail:n}=this.props;n(t)})),v(this,"handleDelete",(()=>{const{data:e,onDelete:t}=this.props;t(e)})),v(this,"handleRename",(e=>{const{onRename:t,data:n}=this.props;t(e,n)})),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(p.getLayerClickHandler)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null,renameDialogVisible:!1,deleteDialogVisible:!1}}get isSetAsThumbnail(){const{barrelThumbnail:e,data:{latestVersion:{snapshot:{url:t}}}}=this.props;return e===t}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n}}=this.props;this.setState((t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id}))),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e}=this.props,{imageRequested:t}=this.state;e&&!t&&this.setState({imageRequested:!0}),this.scrollIntoView&&(this.scrollIntoView=!1,this.nodeRefs.base.scrollIntoView())}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:o,y:s,width:a,height:r}}}=this.props;return i.h(l.default.Rulers,{x:o,y:s,width:a,height:r})}renderDistances(){const{visible:e,isLayoutPaddingVisible:t,isLayoutGapVisible:n}=this.props,o=t||n,{imageRequested:s,distances:a}=this.state;return!o&&(e||s)&&a&&a.from&&a.to?i.h(l.default.Distances.BetweenLayers,{sourceRect:a.from,destRect:a.to}):null}renderComponentLayer(){const{styleguidesData:e,data:{name:t,latestVersion:{snapshot:n}},selection:o,containsSelection:s}=this.props;if(!s)return null;const{barrelId:a,barrelType:r}=this.context,c=Object(h.findComponentLayer)(o,e),d=c?{_id:c.component._id,name:c.component.name,rect:c.layer.absoluteRect}:null,{width:u,height:p}=n;return i.h(l.default.ComponentLayer,{barrelId:a,barrelType:r,containerName:t,componentLayer:d,containerWidth:u,containerHeight:p,onTagClick:this.resetDistances})}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:o,isLayoutPaddingVisible:s,isLayoutGapVisible:a}=this.props,{imageRequested:r,hoveredId:c}=this.state;return(n||r)&&e.length?i.h(l.default.Layers,{layers:e,selectedLayer:t,hoveredId:c,isLayoutPaddingVisible:s,isLayoutGapVisible:a,containsSelection:o,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:o?this.handleLayerEnter:null,onLayerLeave:o?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{styleguidesData:e,data:{latestVersion:{snapshot:t,snapshot:{width:n,height:o}}},visible:r,lightness:c}=this.props,[{type:d,remPreferences:u}]=e,h=e.flatMap((({spacingSections:e})=>e.flatMap((e=>e.spacingTokens)))),{imageRequested:p}=this.state,f=s()("componentContent",c),g={};return n<48||o<48?(g.width=n,g.height=o):g.paddingBottom=100*o/n+"%",i.h(l.default,{class:f,snapshot:t,platform:d,spacingTokens:h,remPreferences:u,style:g,baseRef:Object(a.default)(this,"snapshotDetail")},r||p?i.h(l.default.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e,variant:t},sectionVariant:n,omittedProperties:o,filterValue:s}=this.props,{sortType:a}=this.context;if(s){const t=Object(f.highlightMatchedParts)(e,s,{caseInsensitive:!0});return i.h("span",{class:"name ellipsis noSelect",dangerouslySetInnerHTML:{__html:t}})}if(!n||!t||a!==b.SortTypes.SECTIONS)return i.h("span",{class:"name ellipsis noSelect"},e);const r=t.values.map((({propertyId:e,value:t})=>`${e}:${t}`)).filter((e=>!o.includes(e)));if(!r.length)return i.h("span",{class:"name ellipsis noSelect"},e);const l=r.map((e=>{const[t,i]=e.split(":"),o=n.properties.find((({_id:e})=>e===t));if(o){const{name:e,values:t}=o;if(Object(h.isBooleanProperty)(t))return Object(h.isTruthyPropertyValue)(i)?e:null}return i})).filter(Boolean).join(", ");return i.h("span",{class:"name ellipsis noSelect"},l)}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t,inDefaultSection:n}=this.props,{permissions:{canManageStyleguide:o}}=this.context;if(!e)return;const s=[i.h(d.a.Item,{key:"renameComponent",onClick:this.openRenameComponentDialog},"Rename component"),i.h(d.a.ItemDivider,{key:"warningDivider"}),i.h(d.a.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),!n&&i.h(d.a.Item,{key:"createGroup",onClick:this.handleCreateGroup},"Create group from selection"),o&&!this.isSetAsThumbnail&&i.h(d.a.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnail},"Set as thumbnail"),i.h(d.a.ItemDivider,{key:"warningDivider"}),i.h(d.a.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")].filter(Boolean);return i.h(d.a.overlay,{class:"componentContextMenu",onMouseDown:r.stopPropagation,autoPosition:{clickOrigin:e},onClose:t},s)}renderDialogs(){const{deleteDialogVisible:e,renameDialogVisible:t}=this.state,{data:{name:n}}=this.props;return e?i.h(u.BasicOverlayDialog,{title:`Delete “${n}”?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1}):t?i.h(y.a,{onUpdate:this.handleRename,onClose:this.closeRenameComponentDialog,currentValue:n,positiveButtonText:"RENAME",title:"Enter the new component name:",infoText:"☝️ Renaming the component will unlink it from its instances that use this name.",placeholder:"Name"}):void 0}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:o,dragging:a,moveCubukPosition:r,moveCubukTop:l,moveCubukHeight:c,contextMenu:d}=this.props,u=n&&n._id,h=s()("component",{selected:e===u,contextMenuOpen:!!d,dragging:a}),p={width:(f=t,`${Math.max(96,12*Math.ceil(f/12)+48)}px`)};var f;const b=i.h(g.default,{top:l,height:c});return i.h("div",{class:"componentWrapper"},i.h("div",{class:"componentPaddingArea left"},r===m.CUBUK_POSITION.LEFT&&b),i.h("div",{class:h,style:p,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:o?this.handleComponentEnter:null,onMouseLeave:o?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.h("div",{class:"componentPaddingArea right"},r===m.CUBUK_POSITION.RIGHT&&b))}}t.default=Component},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2154);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1027)),a=i(n(847));n(2155);class r extends o.Component{constructor(e){super(e),this.handleUpdate=()=>{const{updateValue:e}=this.state,{onUpdate:t,onClose:n,positiveButtonDisabled:i}=this.props;(null!=i?i:""===e)||(t(e),n())},this.handleInputChange=e=>{this.setState({updateValue:e})},this.handleInputKeyPress=e=>{e.keyCode===Zeplin.KEY_CODE.ENTER&&this.handleUpdate()},this.state={updateValue:e.currentValue||""}}render(){const{placeholder:e,title:t,positiveButtonDisabled:n,positiveButtonText:i,infoText:r,onClose:l}=this.props,{updateValue:c}=this.state,d=null!=n?n:""===c;return o.h(s.default,{positiveButtonText:i,negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:this.handleUpdate,hideNegativeButton:!1,onClose:l,width:400},o.h("div",{className:"updateNameDialogBody"},o.h("h3",null,t),o.h(a.default,{label:e,autohighlight:!0,autofocus:!0,value:c,onInput:this.handleInputChange,onKeyPress:this.handleInputKeyPress,primary:!0}),r&&o.h("p",null,r)))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropComponentGroupHeader",(function(){return y}));var i=n(4),o=n(724),s=n.n(o),a=n(610),r=n(583),l=n(852),c=n(1278),d=n(1271),u=n(731),h=n(1157);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{hasHover:!1}),b(this,"handleBaseRef",(e=>{this.props.baseRef(e)})),b(this,"handleComponentNameRef",(e=>{Object(l.default)(this,"nameInput","componentRefs")(e),this.props.componentNameRef(e)})),b(this,"handleMouseEnter",(()=>{this.setState({hasHover:!0})})),b(this,"handleMouseLeave",(()=>{this.setState({hasHover:!1})})),b(this,"handleRenameGroupName",(()=>{this.componentRefs.nameInput.highlight()})),b(this,"handleCopyWebLink",(()=>{const{onCopyWebLink:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied web link",{Target:"Component group"})})),b(this,"handleCopyAppURI",(()=>{const{onCopyAppURI:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied app URI",{Target:"Component group"})})),b(this,"handleOptionsMenuOpen",(()=>{const{onOptionsMenuOpen:e,idPath:t}=this.props;e(t[t.length-1])}))}componentDidUpdate(e){if(!e.menuShown&&this.props.menuShown){const{contextMenu:e}=this.nodeRefs;!function(e){if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight;t.bottom+12>n?e.style.top=n-t.bottom-12+"px":t.top-52-12<0&&(e.style.top=64-t.top+"px")}(e)}}renderGroupInfo(){const{name:e,draggable:t,readOnly:n,actionsDisabled:o,collapsed:s,showMoveHandle:a,componentsCount:l,onNameBlur:d}=this.props,{hasHover:h}=this.state;return i.h("div",{class:"groupInfo"},t&&(h||a)&&i.h(u.IconSectionDrag,{class:"moveHandleIcon"}),i.h(c.default,{ref:this.handleComponentNameRef,value:e,required:!0,onBlur:d,readOnly:n||o}),s&&i.h("span",{class:"countInfo noSelect"},`${Object(r.pluralize)(l,"component")} collapsed`))}renderGroupActions(){const{componentsCount:e,actionsDisabled:t,onCollapseOrExpand:n,onShowOptionsMenu:o}=this.props;return i.h("div",{class:s()("groupActions",{disabled:t})},e>0&&i.h("button",{class:"collapseButton",onMouseDown:a.stopPropagation,onClick:n},i.h(u.IconCollapse,{color:"var(--gandalf)"})),i.h("button",{class:"groupOptionsButton",onMouseDown:a.stopPropagation,onClick:o},i.h(u.IconMenu,{color:"var(--gandalf)"})))}renderMenu(){const{onDeleteGroup:e}=this.props;return i.h("div",{class:"groupContextMenuContainer",ref:Object(l.default)(this,"contextMenu")},i.h(d.default,{onOpen:this.handleOptionsMenuOpen},i.h(d.default.Item,{onClick:this.handleRenameGroupName},"Rename group"),i.h(d.default.ItemDivider,null),i.h(d.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(d.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(d.default.ItemDivider,null),i.h(d.default.Item,{warning:!0,onClick:e},"Delete group")))}render(){const{menuShown:e,collapsed:t,hasDragHover:n,class:o,width:a}=this.props;return i.h("div",{ref:this.handleBaseRef,class:s()("componentGroupHeader",o,{collapsed:t,dragHover:n}),style:{width:a},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h("div",{class:"mainInfo"},this.renderGroupInfo(),this.renderGroupActions(),e&&this.renderMenu()))}}const y=Object(a.pipe)(Object(h.DragSource)({itemType:"GroupHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,o=m(e,["sourceRect","class"]);return i.h(S,g({},o,{width:t.width,class:"mirror noSelect",actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>f(f({},e),{},{collapsed:!0})}),Object(h.DropTarget)({acceptsItemType:"StyleguideComponent",onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)}))(S);t.default=S},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2160),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2161));n(2172),t.default=function({csid:e,variant:t,variantFilter:n,onValueClick:i}){const a=t.properties.map((({_id:t,name:a,values:r},l)=>o.h(s.default,{key:t,csid:e,id:t,name:a,index:l,values:r,variantFilter:n,onValueClick:i})));return o.h("div",{class:"componentVariantProperties"},a)}},function(e,t,n){"use strict";n.r(t);var i=n(2162),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(715)),r=n(610),l=n(583),c=n(547),d=n(1157),u=n(731),h=i(n(2163)),p="VariantProperty";const f=r.pipe(d.DragSource({itemType:p,allowX:!1,mirrorComponent:function({name:e,values:t,sourceRect:{width:n}}){const i=t.length?t.map((e=>o.h("div",{key:e,class:"variantPropertyValue ellipsis"},e))):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:"variantProperty mirror",style:{width:n}},o.h(u.IconSectionDrag,{class:"sectionDragIcon"}),o.h("span",{class:"variantPropertyName"},l.uppercaseFirst(e)),o.h("span",{class:"colon"},":"),i)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),d.DropTarget({acceptsItemType:p,onHover:({onHover:e},t)=>e(t),onHoverOut:({onHoverOut:e})=>e(),onDrop:({onDrop:e},t)=>e(t)}))(h.default);t.default=function(e){const t=s.useRef(),[n,i]=s.useState(!1),[r,l]=s.useState(null);return o.h(f,Object.assign({baseRef:t,dragging:n,movePosition:r,onStartDrag:function(){i(!0)},onEndDrag:function(){i(!1)},onHover:function({mirrorPosition:n,dragData:{csid:i}}){var o;const{csid:s}=e;if(s!==i)return void l(null);const a=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect();if(!a)return;const r=a.top+a.height/2;l(n.top>r?c.DragDropTargetPosition.BOTTOM:c.DragDropTargetPosition.TOP)},onHoverOut:function(){l(null)},onDrop:function({dragData:{id:t,index:n}}){const{csid:i,index:o}=e;let s=o;n>o&&r===c.DragDropTargetPosition.BOTTOM?s+=1:n<o&&r===c.DragDropTargetPosition.TOP&&(s-=1),n!==s&&a.default.updateComponentVariantPropertiesOrder({csid:i,properties:[{_id:t,to:s}],syncWithApi:!0})}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2164)),a=i(n(2167)),r=n(731),l=n(583),c=i(n(715)),d=n(624),u=i(n(724)),h=n(547);n(2171),t.default=function({baseRef:e,csid:t,id:n,name:i,values:p,variantFilter:f,onValueClick:g,dragging:m,movePosition:b},S){const{permissions:{canManageStyleguide:y}}=S;function v(e){g(n,e)}function O({source:e,target:i,direction:o}){const s=[...p];d.arrayRemove(s,(t=>t===e));const a=s.findIndex((e=>e===i));s.splice(o===h.DragDropTargetPosition.LEFT?a:a+1,0,e),c.default.updateComponentVariantPropertyValues({csid:t,vpid:n,values:s,syncWithApi:!0})}const C=p.length?p.map((e=>o.h(a.default,{key:e,value:e,vpid:n,selected:f[n]===e,onClick:v,onValueDrop:O}))):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:u.default("variantPropertyWrapper noSelect",b,{hidden:m}),ref:e},o.h("div",{class:"variantProperty"},y&&o.h(r.IconSectionDrag,{class:"sectionDragIcon"}),o.h(s.default,{class:"variantPropertyName",placeholder:"Property",maxLength:100,value:l.uppercaseFirst(i),autoFocus:n.startsWith("new"),onChange:function(e){n.startsWith("new")?""===e?c.default.removeComponentVariantProperty({csid:t,vpid:n}):c.default.addComponentVariantProperty({csid:t,componentVariantProperty:{_id:n,name:e},syncWithApi:!0}):i!==e&&c.default.updateComponentVariantPropertyName({csid:t,vpid:n,name:e,syncWithApi:!0})},disabled:!y}),o.h("span",{class:"colon"},":"),C))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2165);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=n(223),r=n(547),l=o(n(724));n(2166),t.default=function(e){var{class:t,placeholder:n,value:o,autoFocus:c=!1,disabled:d=!1,onChange:u}=e,h=i(e,["class","placeholder","value","autoFocus","disabled","onChange"]);const p=a.useRef(),f=a.useRef(),[g,m]=a.useState(o),[b,S]=a.useState(c);function y(){f.current.blur()}return a.useEffect((()=>{m(o)}),[o]),a.useEffect((()=>{c&&f.current.focus()}),[c]),a.useEffect((()=>{if(!p.current)return void(p.current=!0);if(b)return;const{type:e,value:t,valueAsNumber:n}=f.current,i=t.trim(),s="number"===e?n:i;""===g?(m(o),u(o)):(m(i),u(s))}),[b]),s.h("div",{class:l.default("expandableInputContainer",t,{disabled:d})},s.h("div",{class:"mirror"},g||n||" "),s.h("input",Object.assign({},h,{ref:f,placeholder:n,value:g,disabled:d,required:!0,spellcheck:!1,onFocus:function(){S(!0)},onInput:function(){const{type:e,value:t,min:n,max:i,validity:s}=f.current;let a;a=s.rangeUnderflow?n:s.rangeOverflow?i:s.badInput?o:s.valueMissing?"":"number"===e?String(parseInt(t,10)):t,m(a)},onKeyDown:function(e){switch(e.key){case r.Keyboard.Key.Enter:y();break;case r.Keyboard.Key.Escape:m(o),y()}},onBlur:function(){S(!1)}})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2168);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(610),r=n(547),l=n(1157),c=i(n(2169));n(2170);const d="VariantPropertyValue";const u=a.pipe(l.DragSource({itemType:d,mirrorComponent:function({value:e}){return o.h("div",{class:"variantPropertyValueMirror ellipsis"},e)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),l.DropTarget({acceptsItemType:d,onHover:({onHover:e},t)=>{e(t)},onHoverOut:({onHoverOut:e})=>{e()},onDrop:({onDrop:e},t)=>{e(t)}}))(c.default);t.default=function(e){const[t,n]=s.useState(null),[i,a]=s.useState(!1),l=s.useRef();return o.h(u,Object.assign({baseRef:l,movePosition:t,dragging:i,onStartDrag:function(){a(!0)},onEndDrag:function(){a(!1)},onHover:function({mirrorPosition:t,dragData:{vpid:i,value:o}}){var s;const{vpid:a,value:c}=e;if(a!==i||c===o)return void n(null);const d=null===(s=l.current)||void 0===s?void 0:s.getBoundingClientRect();if(!d)return;const u=d.left+d.width/2;n(t.left>u?r.DragDropTargetPosition.RIGHT:r.DragDropTargetPosition.LEFT)},onHoverOut:function(){n(null)},onDrop:function({dragData:{value:n}}){if(!t)return;const{onValueDrop:i,value:o}=e;i({source:n,target:o,direction:t})}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=n(547),r=i(n(1256));n(2170),t.default=function({baseRef:e,value:t,selected:n,onClick:i,movePosition:l,dragging:c}){const d=s.default("variantPropertyValue",{selected:n,dragging:c});return o.h("button",{ref:e,type:"button",title:t,class:d,onClick:function(){return i(t)}},o.h("div",{class:"ellipsis"},t),l&&o.h(r.default,{top:0,left:l===a.DragDropTargetPosition.LEFT?-7:"calc(100% + 5px)",height:"100%"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2174);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(731),a=i(n(724));n(2175);t.default=function({baseRef:e,loadingVariants:t,variant:n,variantSectionCount:i,variantOptionsMenuOpen:r,onClick:l}){const c=!t&&!n&&i<3,d=a.default("variantOptionsButton",{variantOptionsMenuOpen:r,labelDisplayed:c});let u;if(t)u=o.h(s.IconSpinner,null);else{let e="var(--cornflower-blue)";r?e="white":c||n||(e="var(--teflon)"),u=o.h(s.IconVariants,{color:e})}return o.h("button",{ref:e,type:"button",class:d,onClick:l},u,c&&o.h("span",null,"Set as variant section"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2177);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1027)),a=i(n(841)),r=n(959);function l(){r.openLink("https://blog.zeplin.io/introducing-component-variants-notifications-zapier-integration-74279790a730")}n(2178),t.default=function({onClose:e,onSetAsVariantSection:t}){return o.h(s.default,{class:"variantsOnboardingDialog",positiveButtonText:"SET AS VARIANT SECTION",negativeButtonText:"NOT NOW",fallbackButtonText:"LEARN MORE",hideNegativeButton:!1,onPositiveButtonClick:t,onFallbackButtonClick:l,onClose:e,width:720},o.h("div",{class:"variantsOnboardingDialogBody"},o.h("div",{class:"dialogHeader"},o.h(a.default,{asset:"img/variant-onboarding-dialog-title.png",alt:"Set as variant",title:"Set as variant"})),o.h("p",null,"Great to be more organized! 2 things to check before setting a section as a variant section:"),o.h("ul",null,o.h("li",null,o.h("strong",null,"1.")," Make sure this section ",o.h("strong",null,"only")," includes related components. e.g variations of buttons."),o.h("li",null,o.h("strong",null,"2.")," Zeplin uses ",o.h("code",null,"/")," to create different properties and values. Make sure that"," ",o.h("strong",null,"naming convention")," of the components aligns with this.")),o.h("div",{class:"imageWrapper"},o.h(a.default,{asset:"img/variant-onboarding-dialog-image.png"}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2181);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(610),a=n(852),r=n(961),l=n(959),c=n(702),d=n.n(c),u=n(1867),h=n.n(u),p=n(684),f=n.n(p),g=n(567),m=n.n(g),b=n(1104),S=n.n(b),y=n(715),v=n.n(y),O=n(2182),C=n(1868),E=n(1619),T=n(929),_=n.n(T);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),I(this,"handleAddColorClick",(e=>{d.a.addColor({color:e,syncWithApi:!0}),Object(r.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})})),I(this,"handleColorNameChange",((e,t)=>{d.a.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})})),I(this,"handleRemoveColorClick",(e=>{d.a.removeColor({cid:e,syncWithApi:!0})})),I(this,"handleAddTextStyleClick",(e=>{d.a.addTextStyle({textStyle:e,syncWithApi:!0}),Object(r.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})})),I(this,"handleTextStyleNameChange",(e=>{const{styleguidesData:[{textStyles:t}]}=this.props;if(t.some((e=>e.name===name)))return o.create({title:`${name} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.a.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})})),I(this,"handleCopy",(e=>{Object(l.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})})),I(this,"handleCopyCode",((e,t)=>{const{projectType:n}=this.context;d.a.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Component"})})),I(this,"handleRequestInvite",(()=>{const{organizationId:e}=this.context;S.a.requestInvite(e,this.nodeRefs.sidebar)})),I(this,"handleProcessFailedAssetContents",(e=>{const{selectionComponent:{_id:t,idPath:n,latestVersion:i}}=this.props,{barrelId:o,barrelType:s}=this.state;for(const a of e)h.a.processComponentVersionAssetContent({barrelType:s,bid:o,csids:n.slice(0,-1),coid:t,vid:i._id,vaid:a.assetId,vacid:a._id,ovacid:a.optimized._id})}))}static getStores(){return[m.a.BarrelStore,m.a.StyleguidesDataStore,m.a.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=m.a.BarrelStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:f.a.getStyleguidesData({barrelStore:m.a.BarrelStore,styleguidesDataStore:m.a.StyleguidesDataStore,projectsDataStore:m.a.ProjectsDataStore})}}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onProcessFailedAssetContents:this.handleProcessFailedAssetContents}}handleRemoveTextStyleClick(e){d.a.removeTextStyle({tsid:e,syncWithApi:!0})}renderComponentPanel(){const{componentCount:e,sectionCount:t,variantSectionCount:n,selectionStyleguideId:o,selectionComponent:s,selection:a,formatter:r,onCloseClick:l,convertedAnySectionIntoVariant:c,onLayoutPaddingVisibilityChange:d,onLayoutGapVisibilityChange:u}=this.props;return a?s._id===a._id?i.h(O.default,P({component:a,selectionStyleguideId:o,formatter:r},this.getHandlers(),{onCloseClick:l,onRequestInvite:this.handleRequestInvite})):i.h(C.default,P({componentId:s._id,layer:a,layerContainer:s,version:s.latestVersion,formatter:r},this.getHandlers(),{onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:l,onLayoutPaddingVisibilityChange:d,onLayoutGapVisibilityChange:u})):i.h(O.default.NoSelectionState,{componentCount:e,sectionCount:t,variantSectionCount:n,convertedAnySectionIntoVariant:c})}render(){const{width:e}=this.props,{loading:t}=this.state;return t?null:i.h(E.default,{baseRef:Object(a.default)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:s.stopPropagation,onRelease:v.a.changeRightSidebarWidth},this.renderComponentPanel())}}t.default=_()(j)},function(e,t,n){"use strict";n.r(t);var i=n(2183);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(584),s=n.n(o),a=n(590),r=n.n(a),l=n(610),c=n(686),d=n(712),u=n(852),h=n(1870),p=n(607),f=n(1617),g=n(548),m=n(2019),b=n(1650),S=n(1873),y=n(1879),v=n(2013),O=n(1922),C=n(1894),E=n(2184),T=n(1912),_=n(1919),P=n(2187),I=n(2193),j=n(2196),D=n.n(j),k=n(684),R=n.n(k),A=n(685),w=n.n(A),N=n(702),L=n.n(N),M=n(715),x=n.n(M),U=n(567),B=n.n(U),V=n(1618),z=n(929),F=n.n(z);n(2199);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=89;class G extends i.Component{constructor(...e){super(...e),W(this,"state",{hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null}),W(this,"handleComponentCodeResize",(e=>{requestAnimationFrame((()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})}))})),W(this,"handleComponentVariantPropertyValueChange",((e,t)=>{const{component:{idPath:n}}=this.props,[i]=n,o=n[n.length-1];x.a.updateComponentVariantPropertyValue({csid:i,vpid:e,coid:o,value:t,syncWithApi:!0})})),W(this,"handleDescriptionSubmit",(e=>{const{component:{idPath:t,description:n}}=this.props;if(e===n)return;const i=[...t],o=i.pop();L.a.updateComponent({csids:i,coid:o,componentData:{description:e},syncWithApi:!0})})),W(this,"handleAssetNameChange",((e,t)=>{const{component:{_id:n,latestVersion:{snapshot:i}}}=this.props;L.a.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Component detail"})})),W(this,"handleDownloadAssetClick",((e,t)=>{const{component:{name:n}}=this.props,{styleguideContainerRef:i}=this.context,{assets:o}=this.state;L.a.downloadAsset({containerName:n,assets:o,assetId:e,format:t,toastContainer:i(),source:"Component detail"})})),W(this,"handleGenerateSnippet",(e=>{this.setState({hasSnippet:e},(e=>{this.setCodePanelHeight()}))})),W(this,"handleWindowResize",Object(l.debounce)((()=>{this.state.hasSnippet&&this.setCodePanelHeight()}))),W(this,"handleCopyWebUrl",(e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Inspector"})})),W(this,"handleCopyAppUri",(e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:"Component",Source:"Inspector"})}))}static getStores(){return[B.a.BarrelStore,B.a.StyleguidesDataStore,B.a.ProjectsDataStore,B.a.AssetsStore,B.a.OrganizationStore]}static calculateState(e,t,n){const{component:{_id:i,name:o,sourceId:s,latestVersion:{snapshot:a,snapshot:{density:u,densityScale:h=Object(l.getDensityScale)(u)}}},selectionStyleguideId:p}=t,{userRole:f,permissions:{canManageScreens:m}}=n,{loading:b,barrelType:S,barrelId:y,assetDensityScalePrefs:v,assetExportTarget:O,assetNamingConvention:C,densityMismatchWarningHidden:E,noVectorAssetInfoHidden:T,showOptimizedSVG:_,showOptimizedPNG:P,showOptimizedJPG:I,connectedComponentsDevModeEnabled:j,connectedComponentsLocalWorkspace:D,connectedComponentsEditorInfo:k,connectedComponentsOnboardingDialogSeen:A,numberOfHighlightedConnectToCodeButtonViews:N}=B.a.BarrelStore.getState();if(b)return{loading:!0};const{type:L,densityScale:M,screens:x=[]}=R.a.getBarrel(),U=S===r.a.PROJECT?"pid":"stid",V=`${g.ZPL_PROTOCOL}//components?${U}=${y}&coid=${i}`,z=S===r.a.PROJECT?"project-styleguide-components":"styleguide-components",F=Object(c.urlResolve)(z,{url:{bid:y},query:{coid:i}}),W=!m||y!==p,H="pawn"===f,G=h!==M&&!E,$=Object(d.findUsedScreens)(x,o,s),q=R.a.getStyleguidesData({barrelStore:B.a.BarrelStore,styleguidesDataStore:B.a.StyleguidesDataStore,projectsDataStore:B.a.ProjectsDataStore}),{ancestors:Z}=Object(d.findComponentById)(q,i)||{};let K;Z&&(K=Z.find((e=>!!e.variant)));const Y=!A&&N<d.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT,{componentsAssets:J}=B.a.AssetsStore.getState(),X=J[i];return{loading:!1,platform:L,readOnly:W,userRestricted:H,assetDensityScalePrefs:v,assetExportTarget:O,assetNamingConvention:C,showDensityMismatchWarning:G,noVectorAssetInfoHidden:T,showOptimizedSVG:_,showOptimizedPNG:P,showOptimizedJPG:I,appUri:V,webUrl:F,usedScreens:$,connectedComponentsDevModeEnabled:j,connectedComponentsLocalWorkspace:D,connectedComponentsEditorInfo:k,styleguidesData:q,variantSection:K,shouldHighlightConnnectToCodeButton:Y,assets:X&&X.length?X:a.assets||[],bid:y,organizationFrozen:w.a.isOrganizationFrozen()}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+H>=i?this.setState({codeGap:0,codeHeight:H,codeMaxHeight:H,componentDetailHeight:i-H,componentDetailBottomPadding:36}):this.setState({codeGap:52,codeHeight:null,codeMaxHeight:i-n-36,componentDetailHeight:null,componentDetailBottomPadding:36})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{loading:e}=this.state;if(e)return null;const{component:t,formatter:n,onAddColorClick:o,onColorNameChange:a,onRemoveColorClick:r,onCopyCode:l,onCloseClick:c,onRequestInvite:g,onProcessFailedAssetContents:j}=this.props,{platform:D,readOnly:k,userRestricted:R,assetDensityScalePrefs:A,assetExportTarget:w,assetNamingConvention:N,showDensityMismatchWarning:M,noVectorAssetInfoHidden:x,showOptimizedSVG:U,showOptimizedPNG:B,showOptimizedJPG:z,appUri:F,webUrl:W,usedScreens:G,connectedComponentsDevModeEnabled:$,connectedComponentsLocalWorkspace:q,connectedComponentsEditorInfo:Z,codeGap:K,codeMaxHeight:Y,componentDetailHeight:J,componentDetailBottomPadding:X,codeHeight:Q,styleguidesData:ee,variantSection:te,shouldHighlightConnnectToCodeButton:ne,assets:ie,bid:oe,organizationFrozen:se}=this.state,{_id:ae,name:re,latestVersion:le,description:ce,variant:de}=t,{snapshot:{width:ue,height:he,backgroundColor:pe}}=le,[{densityScale:fe,remPreferences:ge}]=ee,{status:me,useForMeasurements:be,remRootFontSize:Se}=ge,ye="web"===D&&"enabled"===me&&be,ve=ye?Object(p.toRemSize)(ue/fe,Se):n.length(ue),Oe=ye?Object(p.toRemSize)(he/fe,Se):n.length(he),[Ce]=Object(h.transformAuthors)([le]),Ee=ie.find((e=>"snapshot"===e.layerId));let Te;Ee&&(Te=Object(h.transformAsset)(Ee,n,D));const _e=Object(d.findConnectedComponentByIdOrName)(ae,re,ee,$);return i.h("div",{class:"componentDetailWrapper",ref:Object(u.default)(this,"base")},i.h("div",{class:"componentDetailContentWrapper",style:{height:J,paddingBottom:X}},i.h("div",{class:"componentDetail",ref:Object(u.default)(this,"componentDetail")},i.h("div",{class:"withPadding"},i.h(_.default,{onCloseClick:c},re)),i.h("div",{class:"withPadding"},i.h(S.default,null,i.h(m.default,{key:Ce.username,id:Ce.id,avatar:Ce.avatar,username:Ce.username,versionCount:Ce.versions,authorCount:1,lastUpdated:Ce.lastUpdated})),te&&de&&i.h(P.default,{coid:ae,sectionVariant:te.variant,variant:de,onChange:this.handleComponentVariantPropertyValueChange}),i.h(S.default,{title:"Description",showSeparator:!0},i.h(b.default,{class:"descriptionInput",formatter:f.formatTextArea,value:ce,placeholder:k?"No description yet":"Got any notes?",color:"cornflowerBlue",readOnly:k,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024,barrelId:oe})),i.h(S.default,{title:"Share",showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(v.default,{webUrl:W,appUri:F,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri})))),i.h(O.default,{connectedComponentsDevModeEnabled:$,connectedComponentsLocalWorkspace:q,connectedComponentsEditorInfo:Z,shouldHighlightConnnectToCodeButton:ne,componentId:ae,componentName:re,connectedComponent:_e,showLayerComponent:!1,userRestricted:R,onRequestInvite:g}),!se&&Te&&i.h("div",{class:"withPadding"},i.h(C.default,{showSeparator:!h.transformAsset,asset:Te,projectType:D,showDensityMismatchWarning:M,noVectorAssetInfoHidden:x,assetDensityScalePrefs:A,namingConvention:N,showOptimizedSVG:U,showOptimizedPNG:B,showOptimizedJPG:z,assetExportTarget:w,onOpenExportTargetClick:L.a.openExportTarget,onChangeExportTargetClick:L.a.changeExportTarget,onDownloadClick:this.handleDownloadAssetClick,onNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:L.a.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:L.a.hideNoVectorAssetInfo,onAssetDensityOptionChange:L.a.changeAssetDensityScalePref,onNamingConventionChange:L.a.changeAssetNamingConvention,onShowOptimizedSVGChange:L.a.toggleSVGOptimization,onShowOptimizedPNGChange:L.a.togglePNGOptimization,onShowOptimizedJPGChange:L.a.toggleJPGOptimization,onProcessFailedAssetContents:j})),!Te&&i.h("div",{class:"withPadding"},i.h(S.default,{title:"Size",showSeparator:!!Te},i.h(T.default.Group,null,i.h(T.default,{name:"Width"},ve),i.h(T.default,{name:"Height"},Oe)))),pe&&i.h("div",{class:"withPadding"},i.h(S.default,{title:"Background color",showSeparator:!0},i.h(y.default,{color:Object(h.transformColor)(new s.a(pe),n,ee),onNameChange:a,onAddClick:o,onRemoveClick:r}))),!!G.length&&i.h("div",{class:"withPadding"},i.h(S.default,{title:"Used in",showSeparator:!0},i.h(I.default,{componentName:re,screens:G}))))),!se&&i.h(E.default,{component:t,version:le,variantSection:te,codeGap:K,height:Q,maxHeight:Y,minHeight:H,maxResizeHeight:window.innerHeight-60-146,minResizeHeight:H,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:l,onSettingsClick:V.default.openSettings}))}}G.NoSelectionState=D.a,t.default=F()(G,{withProps:!0,withContext:!0})},function(e,t,n){"use strict";n.r(t);var i=n(2185);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1988),s=n(2005);n(2186);class a extends i.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i,variantSection:o}=this.props;return e.component(t,i,n,o).then((e=>s.CodeSnippet.fromUnknown(e,"component")))}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:s,maxHeight:a,maxResizeHeight:r,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.h(o.ResizableExtensionCode,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:s,maxHeight:a,maxResizeHeight:r,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.h(o.default,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2188),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1873)),a=i(n(2189));n(2192),t.default=function({coid:e,sectionVariant:t,variant:n,onChange:i},r){const{permissions:{canManageStyleguide:l}}=r;return o.h(s.default,{class:"componentVariantProperties",title:"Properties",showSeparator:!0},t.properties.map((({_id:t,name:s,values:r})=>{const c=n.values.find((({propertyId:e})=>e===t));return o.h("div",{class:"componentVariantProperty",key:`${e}:${t}`},o.h("span",{class:"propertyName ellipsis",title:s},s,":"),o.h(a.default,{placeholder:"No value",value:null==c?void 0:c.value,maxLength:100,options:r,onChange:function(e){i(t,e)},disabled:!l}))})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2190);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=o(n(888)),r=o(n(724)),l=n(547);n(2191);class c extends s.Component{constructor(){super(...arguments),this.state={value:this.props.value,dropdownOpen:!1},this.inputRef=s.createRef(),this.handleBlur=e=>{const{value:t,onChange:n}=this.props,{type:i,value:o,valueAsNumber:s}=e.target,a=o.trim();if(t===a||t===s)return;const r="number"===i?s:a;""===o?this.setState({value:t}):(this.setState({value:a}),n(r))},this.handleKeyDown=e=>{switch(e.key){case l.Keyboard.Key.Enter:e.target.blur();break;case l.Keyboard.Key.Escape:this.setState({value:this.props.value},(()=>{e.target.blur()}))}},this.handleInput=e=>{const{value:t}=this.state,n=e.target,{type:i,value:o,min:s,max:a,validity:r}=n;let l;l=r.rangeUnderflow?s:r.rangeOverflow?a:r.badInput?t:r.valueMissing?"":"number"===i?String(parseInt(o,10)):o,this.setState({value:l})},this.handleChange=e=>{const{value:t,onChange:n}=this.props;t!==e&&(this.setState({value:e}),n(e))},this.handleDropdownVisibilityChange=e=>{this.setState({dropdownOpen:e})}}componentDidMount(){const{disabled:e,autoFocus:t}=this.props;!e&&t&&this.inputRef.current.focus()}componentDidUpdate(e,t){const{value:n,disabled:i,autoFocus:o}=this.props,{value:s}=this.state;(e.value!==n||s!==n&&s===t.value)&&this.setState({value:n}),e.disabled&&!i&&o&&this.inputRef.current.focus()}render(){const e=this.props,{class:t,placeholder:n,disabled:o,dropdownTop:l,options:c,onChange:d}=e,u=i(e,["class","placeholder","disabled","dropdownTop","options","onChange"]),{value:h,dropdownOpen:p}=this.state;return s.h("div",{class:r.default("inputWithDropdownContainer",t,{disabled:o,dropdownOpen:p})},s.h("div",{class:"inputContainer"},s.h("div",{class:"mirror"},h||n||" "),s.h("input",Object.assign({},u,{ref:this.inputRef,class:"inputWithDropdownInput",placeholder:n,value:h,disabled:o,required:!0,spellcheck:!1,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))),s.h(a.default,{top:l,showCheck:!1,showLabel:!1,disabled:o,class:"inputWithDropdownDropdown",optionsClass:"inputWithDropdownOptions",onChange:this.handleChange,onDropdownStateChange:this.handleDropdownVisibilityChange},c.map((e=>s.h(a.default.Item,{selected:e===h,label:e,value:e,key:e})))))}}t.default=c,c.defaultProps={type:"text",min:0,dropdownTop:0}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2194);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(686),s=n(582),a=n(584),r=n.n(a),l=n(852);n(2195);class c extends i.Component{componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:a,height:c,backgroundColor:d=r.a.NAMED_COLORS.white,componentName:u,visible:h}=this.props,{projectId:p}=this.context,{src:f,srcset:g}=Object(s.getResizedImageSources)(n,{width:132}),m=132*c/a,b=new r.a(d).toCSS(),S=Object(o.urlResolve)("project-screen",{url:{pid:p,sid:e}});return i.h("a",{ref:Object(l.default)(this,"base"),href:S,class:"usedInScreen","data-id":e,"data-link-type":"inApp","data-back":u},i.h("div",{class:"imageWrapper",style:{height:m,backgroundColor:b}},h&&i.h("img",{width:132,height:m,src:f,srcset:g,crossOrigin:"anonymous"}),i.h("div",{class:"imageFrame"})),i.h("div",{class:"screenName"},t))}}class d extends i.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver(((e,t)=>{e.forEach((e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)})),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame((()=>{this.setState({visibleScreens:this.visibleScreens})}))}))}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentName:t}=this.props,{visibleScreens:n}=this.state;return i.h("div",{class:"usedInScreens"},e.map((e=>{const{versions:[{snapshot:{url:o,width:s,height:a,backgroundColor:r}}]}=e;return i.h(c,{key:e._id,screenId:e._id,name:e.name,url:o,width:s,height:a,backgroundColor:r,componentName:t,visible:n.has(e._id),observer:this.observer})})))}}t.default=d},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2197);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(841)),a=n(583);n(2198);t.default=function(e){const{componentCount:t,sectionCount:n,variantSectionCount:i,convertedAnySectionIntoVariant:r}=e;if(!t)return null;function l(){return o.h(o.Fragment,null,o.h("h3",null,"Manage your component variants"),o.h("p",null,"Collect your components under variant sections for developers to access them during development."," ",o.h("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"Learn more"),"."),o.h(s.default,{asset:"img/manage-variants-onboarding-image.png",alt:"Set as variant section",title:"Set as variant section"}))}let c;return c=i>0&&r?o.h(o.Fragment,null,o.h("h3",null,"Updating properties and values"),o.h("p",null,"Select components to update their properties from the right panel."),o.h(s.default,{asset:"img/update-properties.png",alt:"Update properties",title:"Update properties"}),o.h("h3",null,"Grouping components by properties"),o.h("p",null,"After setting variant sections, you can create groups under sections ",o.h("strong",null,"by Properties")," from the variant menu."),o.h(s.default,{asset:"img/group-by-properties.png",alt:"Group by properties",title:"Group by properties"})):n<3?o.h(o.Fragment,null,o.h("h3",null,"Organize your components"),o.h("p",null,o.h("strong",null,"Right click")," to organize your components by creating sections or groups."),o.h(s.default,{asset:"img/organize-components-onboarding-image.png",alt:"Organize your components",title:"Organize your components"}),l()):l(),o.h("div",{class:"componentsSidebarNoSelectionState"},o.h("h2",null,a.pluralize(t,"Component")," ",o.h(s.default,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),c)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2202);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1137),s=n.n(o),a=n(1027),r=n(2203),l=n(731),c=n(852),d=n(686);n(2206);class u extends i.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{linkedStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.h(s.a.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.h(s.a.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{linkedStyleguide:{name:t="styleguide"}}=this.props;return i.h(a.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}renderWarning(){const{linkStatus:e}=this.props;if("active"===e)return null;const t="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",n="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.h(r.default,{articleURL:n},"This project can not access the linked styleguide since ",t)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{barrelName:t,linkedStyleguide:{_id:n,name:o="a styleguide"}}=this.props,s=Object(d.urlResolve)("styleguide",{url:{bid:n}});return i.h("div",{class:"infoContainer"},i.h("div",{title:o,class:"infoLabel noSelect ellipsis"},"Linked to ",i.h("a",{href:s,"data-link-type":"inApp","data-back":t},o)),e&&i.h("button",{type:"button",onClick:this.handleContextMenuClick,ref:Object(c.default)(this,"button")},i.h(l.IconSettings,null)))}render(){return i.h("div",{class:"linkedStyleguideInfo",ref:Object(c.default)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(2204);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(983),s=n.n(o);n(2205);t.default=function({articleURL:e,children:t}){return i.h(s.a,{class:"warningHintBox noSelect",type:"warning",emoji:"🚸"},i.h("p",null,t),i.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2208);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(1386)),r=i(n(831)),l=i(n(2209)),c=n(731);n(2212),t.default=function({barrelId:e,barrelName:t,barrelType:n,shouldPromote:i,shouldDisplayHintBox:d,shouldDisplayIncludeParentsOption:u,onStopPromoting:h}){const[p,f]=s.useState(!1);function g(){i&&h(),f(!0),mixpanel.master.track("Clicked export design tokens")}function m(){f(!1)}return o.h(o.Fragment,null,d?o.h(a.default,{class:"exportDesignTokensHintBox",hideButtonText:"Got it!",onHideClick:h},"Introducing Design Tokens: Extend your styleguide in Zeplin to the developer world.",o.h(r.default,{class:"exportDesignTokensHintBoxButton ellipsis",onClick:g,primary:!0},"Export Design Tokens")):o.h("div",{class:"exportDesignTokensButtonContainer noSelect"},o.h("span",{class:"exportDesignTokensButtonLabel"},"Export Design Tokens"),o.h(r.default,{class:"exportDesignTokensButton",onClick:g},o.h(c.IconToken,null))),p?o.h(l.default,{barrelId:e,barrelName:t,barrelType:n,shouldDisplayIncludeParentsOption:u,onClose:m}):null)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2210);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(4),c=n(223),d=r(n(1027)),u=r(n(849)),h=r(n(831)),p=r(n(1188)),f=r(n(1924)),g=r(n(724)),m=n(548),b=n(1294),S=n(731),y=n(959),v=s(n(561)),O=n(819);n(2211);const C={project:O.project,styleguide:O.styleguide};t.default=function({barrelId:e,barrelName:t,barrelType:n,shouldDisplayIncludeParentsOption:i,onClose:o}){const s=c.useRef(),[r,O]=c.useState(i),[E,T]=c.useState(!1),[_,P]=c.useState(!1),[I,j]=c.useState(null),D=`/v1/${n}s/${e}/design_tokens${r?"?include_linked_styleguides=true":""}`;return l.h(d.default,{baseRef:s,class:g.default("exportDesignTokensDialog",{tokensView:Boolean(I)}),width:720,onClose:o,negativeButtonText:"BACK",hideNegativeButton:!1,hideFooter:!I,onNegativeButtonClick:function(){j(null)}},l.h("div",{class:"exportDesignTokensDialogHeader"},l.h("h2",null,"Export Design Tokens")),l.h("div",{class:"exportDesignTokensDialogBody"},I?l.h(l.Fragment,null,l.h("p",{class:"exportDesignTokensDialogDescription"},"Check out the ",l.h("a",{target:"_blank",rel:"noopener",href:"https://zpl.io/api/design-tokens",onClick:function(){mixpanel.master.track("Clicked API documentation link")}},"documentation")," to learn more about fetching design tokens using the Zeplin API."),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",{class:"exportDesignTokensDialogCurlCommand"},"GET ",D),l.h(p.default,{content:"Copy as cURL command"},l.h(h.default,{class:"exportDesignTokensDialogCurlCommandButton",onClick:function(){y.copyContent({content:["curl --request GET \\",`    --url '${m.PUBLIC_API_URL}${D}' \\`,"    --header 'Accept: application/json' \\","    --header 'Authorization: Bearer {PERSONAL_ACCESS_TOKEN}'"].join("\n"),toastContainer:s.current}),mixpanel.master.track("Copied curl command",{"Include Linked Styleguides":r})}},l.h(S.IconCopy,null)))),l.h("div",{class:"exportDesignTokensDialogCodeContainer"},l.h(f.default,{lang:"json",content:JSON.stringify(I,null,2)}))):l.h(l.Fragment,null,l.h("p",{class:"exportDesignTokensDialogDescription"},"Design Tokens are JSON representations of colors, text styles and spacing tokens in your styleguide. Using these tokens, you can propagate changes in your design system to your development environment."),l.h("p",{class:g.default("exportDesignTokensDialogDescription",{noLinkedStyleguide:!i})},"You can export Design Tokens in two ways:"),i&&l.h("label",{class:"exportDesignTokensDialogCheckboxLabel"},l.h(u.default,{checked:r,onChange:function(){O(!r)}}),l.h("p",null,"Include linked styleguides")),l.h("div",{class:"exportDesignTokensDialogBodyOptionOne"},l.h("p",{class:"exportDesignTokensDialogBodyOptionOneText"},l.h("strong",null,"1.")," Fetch Design Tokens using the Zeplin API"),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",{class:"exportDesignTokensDialogCurlCommand"},"GET ",D),l.h(h.default,{class:"exportDesignTokensDialogFetchButton",disabled:E||_,primary:!0,onClick:function(){return a(this,void 0,void 0,(function*(){try{T(!0);const t=yield C[n].getDesignTokens(e,r);j(t),mixpanel.master.track("Fetched design tokens",{"Include Linked Styleguides":r})}catch(t){v.handleError(t)}finally{T(!1)}}))}},E?l.h(S.IconDotSpinner,{width:16,color:"#fff"}):"Fetch"))),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",null,l.h("strong",null,"2.")," Download Design Tokens as a .zip package"),l.h(h.default,{class:"exportDesignTokensDialogDownloadButton",disabled:_||E,primary:!0,onClick:function(){return a(this,void 0,void 0,(function*(){try{P(!0);const i=yield C[n].getDesignTokensFile(e,r);let o=i.name;if(!o){const e=new Date,n=`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`;o=`${t}_designTokens_${n}.zip`}b.triggerDownload({data:URL.createObjectURL(i.blob),name:o}),mixpanel.master.track("Downloaded design tokens",{"Include Linked Styleguides":r})}catch(i){v.handleError(i)}finally{P(!1)}}))}},_?l.h(S.IconDotSpinner,{width:16,color:"#fff"}):"Download")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2214);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(567),r=n.n(a),l=n(2215),c=n(1415),d=n(953),u=n.n(d),h=n(547),p=n(715),f=n.n(p),g=n(1027),m=n(702),b=n.n(m),S=n(684),y=n.n(S),v=n(685),O=n.n(v);const C={[h.RESOURCE_TYPE.TEXT_STYLES]:"Text Styles",[h.RESOURCE_TYPE.COLORS]:"Colors",[h.RESOURCE_TYPE.COMPONENTS]:"Components"};function E(e){return C[e]}const T=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});class _ extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[r.a.StyleguideStore,r.a.ProjectsDataStore,r.a.StyleguidesDataStore,r.a.BarrelStore,r.a.UserStore]}static calculateState(){const{moveResourcesPopup:e}=r.a.StyleguideStore.getState(),{organizationId:t,barrelType:n,movingResourcesToStyleguide:i}=r.a.BarrelStore.getState(),{userId:o}=r.a.UserStore.getState(),s=O.a.getOrganizationStyleguides(t),a=y.a.getBarrel(),l=function(e,t,n,i){if(!t||!i)return[];const o=t.users.find((e=>"owner"===e.role));return e.filter((e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===h.RESOURCE_TYPE.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){const t=e.users.find((e=>"owner"===e.role));return o&&t&&o.user._id===t.user._id}return!0}))}(s,a,t,e);return{moveResourcesPopup:e,movingResourcesToStyleguide:i,barrel:a,moveableStyleguides:l,organizationId:t,currentUserId:o,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return T.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return T.NONE;const o=e.type!==i.type;return n===h.RESOURCE_TYPE.COMPONENTS&&o?T.COMPONENT:T.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==T.BASIC_DIALOG&&f.a.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&f.a.closeMoveResourcesPopup()}handleStyleguideSelect(e){f.a.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,resources:t,targetStyleguide:n}}=this.state;b.a.moveResourcesRequest({resourceType:e,resources:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:o,barrel:s,moveResourcesPopup:a,barrelType:r}=this.state;if(!e.length){if("user"!==n)return i.h(c.NoStyleguideToMoveInOrganization,{oid:n});return o!==s.findOwner().user._id?i.h(c.NoStyleguideToMoveNonOwner,{resourceType:C[a.resourceType],barrelType:r,barrelOwnerName:s.username}):i.h(c.NoStyleguideToMove,{resourceType:C[a.resourceType]})}return i.h(c.default,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:o}=this.state,{targetNode:s,targetStyleguide:a}=e;let r;return r=this.getWarningDialogType()===T.COMPONENT?i.h(l.default,{loading:!!o,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:a.type}):this.renderSelectStyleguides(),i.h(u.a,{targetNode:s,content:r,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!e||!t)return null;const{resourceType:n,targetStyleguide:o}=t;return i.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===T.BASIC_DIALOG&&i.h(g.BasicOverlayDialog,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:f.a.deselectMoveResourcesTargetStyleguide,message:`Move ${E(n)} from "${e.name}" to "${o.name}"?`}))}}t.default=s()(_)},function(e,t,n){"use strict";n.r(t);var i=n(2216);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(831),s=n(731),a=n(590),r=n.n(a),l=n(610);n(2217);t.default=function(e){const{onMove:t,barrelType:n,currentType:a,targetType:c,loading:d}=e;return i.h("div",{class:"moveComponentWarning"},i.h("h4",null,"☝️✂️"),i.h("p",null,"Your current ",n===r.a.PROJECT&&"local ","styleguide’s type is ",i.h("strong",null,Object(l.getPlatformString)(a)),", some of the assets"," ",i.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(l.getPlatformString)(c)," type.",i.h("br",null),i.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.h(o.default,{onClick:!d&&t,primary:!0},d?i.h(s.IconSpinner,{class:"iconSpinner",color:"#fff"}):"Move Anyway"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2220);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1440),s=n(1260),a=n.n(s);n(2221);t.default=function(e){const{styleguide:t={},loading:n,loadingJoin:s,onJoin:r}=e,{_id:l,name:c,type:d,densityScale:u,users:h,colors:p,textStyles:f,componentSections:[{components:g}]=[{}]}=t;return i.h("div",{class:"styleguidePreviewPage"},n?i.h(o.StyleguidePreviewLoading,null):i.h(o.default,{showJoinButton:!0,headerSticky:!0,onJoin:function(){r({bid:l,mixpanelSource:"Preview",actionSource:a.a.PREVIEW_PAGE})},loadingJoin:s,name:c,type:d,densityScale:u,users:h,colors:p,textStyles:f,components:g}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2223);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(2224),r=n(684),l=n.n(r),c=n(1618),d=n(567),u=n.n(d),h=n(686),p=n(610);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"handleAddLocal",(async e=>{await e.load(),c.default.add({extension:e,local:!0})})),b(this,"handleEnable",(e=>{c.default.enable({eid:e})})),b(this,"handleDisable",(e=>{c.default.disable({eid:e})})),b(this,"handleRemove",((e,{local:t=!1}={})=>{c.default.remove({eid:e,local:t,syncWithApi:!0})}))}static calculateState(){const{extensionId:e,extensions:t,enabledExtensions:n}=u.a.ExtensionsStore.getState(),i=t.map((e=>({id:e.id,default:e.default,enabled:n.includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(h.getExtensionWebsiteUrl)({eid:e.id}),repository:e.repository,options:e.optionsSchema.map((t=>m(m({},t),{},{value:e.getOption(t.id)}))),local:e.local}))),{barrelId:o,barrelType:s,organizationId:a}=u.a.BarrelStore.getState(),r=l.a.findUser();return{barrelId:o,barrelType:s,organizationId:a,selectedExtensionId:e,canRemoveExtensions:p.permissions.canRemoveExtensions(r),extensions:i,visible:!0,onUpdateOption:c.default.updateOption}}static getStores(){return[u.a.BarrelStore,u.a.ExtensionsStore,u.a.UserStore]}render(){return i.h(a.default,f({},this.state,{onAddLocal:this.handleAddLocal,onEnable:this.handleEnable,onDisable:this.handleDisable,onRemove:this.handleRemove}))}}t.default=s()(S)},function(e,t,n){"use strict";n.r(t);var i=n(2225);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(4),o=n(1027),s=n(831),a=n(731),r=n(2226),l=n(2233),c=n(2236),d=n(2239),u=n(852),h=n(686),p=n(559),f=n(595),g=n(1618);n(2242);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(e){super(e),b(this,"handleAddLocal",(e=>{const{extensions:t,onAddLocal:n}=this.props;f.WebappExtension.createLocal(e).then((i=>{t.some((e=>e.id===i.id))?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())})).catch((()=>{this.setState({localExtension:null,localExtensionUrl:e})}))})),b(this,"handleUpdateOption",((e,t)=>{this.props.onUpdateOption(this.state.selectedExtensionId,e,t)})),b(this,"handleRemove",(()=>{const e=this.props.extensions.find((e=>e.id===this.state.selectedExtensionId));this.setState({selectedExtensionId:null});const{barrelType:t,onRemove:n}=this.props;if(e.local)return void n(e.id,{local:!0});const i=Object(h.getExtensionWebsiteUrl)({eid:e.id});p.create({title:`Remove “${e.name}” from ${t}?`,message:`Extension will be removed for all members of this ${t}. You can add it back from <a href="${i}" target="_blank">extension page</a>.`,done:{name:"REMOVE",cb(){n(e.id)}},cancel:{name:"KEEP"}},{contentType:"html"})})),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}close(){g.default.closeSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}showAddLocalExtensionPopup(){const e="http://127.0.0.1:7070";f.WebappExtension.createLocal(e).then((t=>{const n={localExtensionPopupVisible:!0};this.props.extensions.some((e=>e.id===t.id))||Object.assign(n,{localExtensionUrl:e,localExtension:t}),this.setState(n)})).catch((()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})}))}showSettings(e){this.setState({selectedExtensionId:e})}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleDocumentKeyDown(e){e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){if(e)return i.h(l.default,m({onChange:this.handleUpdateOption},e));const{extensions:t,onEnable:n,onDisable:o}=this.props;return t.length?i.h(r.default,{extensions:t,onEnable:n,onDisable:o,onSettingsClick:this.showSettings}):i.h(c.default,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,canRemoveExtensions:t,organizationId:n}=this.props,{localExtension:r,localExtensionUrl:l,localExtensionPopupVisible:c,selectedExtensionId:p,altPressed:f}=this.state,g=r&&e.some((e=>e.id===r.id)),m=e.find((e=>e.id===p));return i.h(o.default,{baseRef:Object(u.default)(this,"extensionDialog"),width:640,height:640,onClose:this.close,showBackdrop:!1,fallbackButtonText:m&&(m.local||t)&&"REMOVE",onFallbackButtonClick:this.handleRemove,hideNegativeButton:!0},i.h("div",{class:"extensionDialogHeader"},m&&i.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"extensionDialogBackLink"},i.h(a.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",null,"Extensions")),i.h("h2",null,m?m.name:"Extensions"),f||c?i.h(s.default,{class:"addLocalExtension",disabled:c,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.h("a",{href:Object(h.getExtensionWebsiteUrl)({organizationId:n}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.h("div",{class:"extensionDialogMain"},this.renderContent(m),c&&i.h(d.default,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:l,alreadyAdded:g,onAdd:this.handleAddLocal,onClose:this.hideLocalExtensionPopup,extension:r})))}}},function(e,t,n){"use strict";n.r(t);var i=n(2227);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2228),s=n(831),a=n(849),r=n.n(a),l=n(1924),c=n(731),d=n(724),u=n.n(d),h=n(582),p=n(686);n(2232);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return i.h("div",{class:"extensionPreview"},i.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.h("a",{href:Object(p.getExtensionWebsiteUrl)(),target:"_blank",rel:"noopener"},"Learn more…")),i.h("div",{class:"snippetExample"},i.h("div",{class:"sampleButtonWithArrow"},i.h("img",{src:Object(h.imageUrl)("img/icCurvedArrow.svg")}),i.h("div",{class:"sampleButton"},"Button")),i.h(l.default,{lang:"css",class:"sampleCode",content:".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}",style:{fontSize:"12px",lineHeight:"14px"}})))}class m extends i.Component{constructor(...e){super(...e),f(this,"handleEnabledChange",(e=>{(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)})),f(this,"handleSettingsClick",(()=>{this.props.onSettingsClick(this.props.id)}))}render(){const{name:e,author:t,repository:n,description:a,url:l,local:d,loaded:p,enabled:f}=this.props,g=[t.url,n];return i.h("div",{class:"extensionListItem"},d&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(h.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(h.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(h.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("label",null,i.h(r.a,{onChange:this.handleEnabledChange,checked:f}),i.h("div",{class:"extensionInfo"},i.h("div",null,i.h("span",{class:"name"},e),i.h("span",{class:"author"},t.displayName)),p?i.h("span",{class:"description"},a):i.h("span",{class:"error"},"Fetching extension failed"),i.h(o.default,{links:g}))),i.h("a",{class:u()("readmeLink",{invisible:d}),href:l,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null)),i.h(s.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,null)))}}t.default=function({extensions:e,onEnable:t,onDisable:n,onSettingsClick:o}){const s=e.map((e=>{const{id:s,name:a,description:r,author:l,url:c,repository:d,enabled:u,loaded:h,local:p}=e;return i.h(m,{onEnable:t,onDisable:n,onSettingsClick:o,key:s,id:s,name:a,description:r,author:l,url:c,repository:d,enabled:u,loaded:h,local:p})}));return i.h("div",{class:"barrelExtensions"},i.h(g,null),s)}},function(e,t,n){"use strict";n.r(t);var i=n(2229);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(2230);n(2231);function s({links:e}){const t=e.map(o.default).filter(Boolean).map((({text:e,url:t},n)=>[!!n&&" • ",i.h("a",{key:e,href:t,target:"_blank",rel:"noopener"},e)]));return i.h("span",{class:"extensionLinks"},t)}},function(e,t,n){"use strict";function i(e){try{const t=new URL(e);let n;switch(t.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":{const e=t.hostname.split(".");n=e[e.length-2];break}case"www.twitter.com":case"twitter.com":n=t.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:n=e.replace(/https?:\/\//,"")}return{url:e,text:n}}catch(t){return null}}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2234);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),o=n(2228),s=n(888),a=n(849),r=n.n(a),l=n(1527),c=n(731),d=n(582);n(2235);class u extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.h("div",{class:"option"},i.h("span",{class:"name"},t),i.h(s.default,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map(((e,n)=>i.h(s.default.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value})))}(e,n)))}}class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(r.a,{name:t,onChange:this.handleChange,checked:n}))}}class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(l.default,{onBlur:this.handleChange,value:t,placeholder:"Let’s find a placeholder"}))}}function f(e){const{author:t,repository:n,description:s,url:a,local:r,options:l,onChange:f}=e,g=l.map((e=>{let t;switch(e.type){case"picker":t=u;break;case"switch":t=h;break;case"text":t=p;break;default:return null}return i.h(t,Object.assign(e,{onChange:f}))})).filter(Boolean),m=[t.url,n];return i.h("div",{class:"extensionSettings"},i.h("div",{class:"extensionInfo"},i.h("div",null,r&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(d.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("div",{class:"author"},t.displayName),i.h("div",{class:"description"},s),i.h(o.default,{links:m})),!r&&i.h("a",{class:"readmeLink",href:a,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null))),g.length>0&&i.h("h3",null,"Settings"),g)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2237);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(841),s=n(686);n(2238);function a({organizationId:e}){return i.h("div",{class:"noExtensions"},i.h("h2",null,"No added extensions yet ",i.h(o.default,{asset:"img/emjAlembic.png"})),i.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.h("br",null),i.h("br",null),"Pick the ones that fit your workflow."),i.h("a",{href:Object(s.getExtensionWebsiteUrl)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2240);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(831),s=n(1527),a=n(610),r=n(724),l=n.n(r),c=n(852),d=n(959);n(2241);class u extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:o}=this.nodeRefs;i||(n&&!e||t?Object(d.highlightInput)(o):o.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(d.wiggle)(e),Object(d.highlightInput)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t=`http://${t}`),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:o,invalidUrl:s}=this.state,a=n&&!e,r=o&&!s,c=a||t||s;let d;return s?d="Enter a valid URL.":t?d=`“${e.name}” is already added.`:e?d=`Found “${e.name}”.`:a&&(d="No extension found."),i.h("p",{class:l()("info",{warning:c,invisible:r})},d)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:r}=this.props,{urlChanged:l,invalidUrl:d}=this.state,u=d||!l&&(n&&!e||t);return i.h("div",{ref:Object(c.default)(this,"base"),class:"localExtensionPopup",onClick:a.stopPropagation},i.h("div",null,i.h("p",null,"Enter extension URL:"),i.h(s.default,{inputRef:Object(c.default)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.h("div",{class:"footer"},i.h(o.default,{class:"cancel",onClick:r},"CANCEL"),i.h(o.default,{class:"done",onClick:this.handleAddClick,disabled:u},"ADD")))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2244);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(567)),a=i(n(684)),r=i(n(691)),l=i(n(710)),c=i(n(929)),d=i(n(2245));class u extends o.Component{constructor(){super(...arguments),this.handleTagOperation=(e,t)=>{const{screenIds:n}=this.state;l.default.updateTags({updates:n.map((n=>({_id:n,operation:t,tags:[e]}))),isScreen:!0,syncWithApi:!0})},this.handleAdd=e=>{this.handleTagOperation(e,"add")},this.handleRemove=e=>{this.handleTagOperation(e,"remove")},this.handleDocumentClick=e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&l.default.closeTagManager()},this.handleKeyDown=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&l.default.closeTagManager()}}static getStores(){return[s.default.BarrelStore,s.default.ScreenStore,s.default.ProjectsDataStore]}static calculateState(){const{tagManagerScreenIds:e}=s.default.ScreenStore.getState();if(0===e.length)return{};const t=a.default.getBarrel(),n=r.default.getScreens({sids:e,pid:null==t?void 0:t.id}),i=new Set;return n.forEach((({tags:e})=>{e.forEach((e=>i.add(e)))})),{screenIds:e,tags:[...i],barrelTags:t.tags}}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenIds:e,tags:t,barrelTags:n}=this.state;return 0===e.length?null:o.h(d.default,{tags:t,barrelTags:n,onAdd:this.handleAdd,onRemove:this.handleRemove,onClose:l.default.closeTagManager})}}t.default=c.default(u)},function(e,t,n){"use strict";n.r(t);var i=n(2246);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),a=n(610),r=n(852),l=n(2247);n(2256);class c extends i.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleAdd=this.handleAdd.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleAdd(e){const{onAdd:t}=this.props;this.setState({filter:""}),t(e)}componentDidMount(){this.nodeRefs.input.focus()}render(){const{tags:e,barrelTags:t,onRemove:n,onClose:o}=this.props,{filter:s}=this.state,c=s.trim(),d=t.filter((t=>!e.includes(t))).reduce(((e,t)=>(t.toLowerCase().includes(s.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===c&&(e.shouldCreateNewTag=!1),e)),{shouldCreateNewTag:!0,suggestionList:[]});return d.shouldCreateNewTag&&c&&!e.includes(c)&&d.suggestionList.push({name:c,isNew:!0}),i.h("div",{class:"tagManagerOverlay",onClick:o},i.h("div",{class:"tagManagerPopup",onClick:a.stopPropagation},i.h("input",{ref:Object(r.default)(this,"input"),value:s,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange}),i.h(l.default,{tagList:e,suggestionList:d.suggestionList,onAddTag:this.handleAdd,onRemoveTag:n}),i.h("div",{class:"tagManagerCommands"},i.h("button",{class:"tagManagerDoneButton",onClick:o},"DONE"))))}}c.propTypes={tags:s.a.arrayOf(s.a.string).isRequired,barrelTags:s.a.arrayOf(s.a.string).isRequired,onAdd:s.a.func.isRequired,onRemove:s.a.func.isRequired,onClose:s.a.func.isRequired},c.defaultProps={tags:[],barrelTags:[]},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(2248);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2249),s=n(2252),a=n(582),r=n(624),l=n(852),c=n(959);n(2255);class d extends i.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(r.arrayEqual)(e.suggestionList,this.props.suggestionList,((e,t)=>e.name===t.name&&e.isNew===t.isNew))||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.scrollIfNecessary)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.h("div",{class:"screenTags"},e.map((e=>i.h(s.default,{key:e,tag:e,onRemove:t}))))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:s}=this.state;return i.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map(((e,t)=>{let a;return s===t&&(a=Object(l.default)(this,"selectedSuggestion")),i.h(o.default,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:s===t,isNew:e.isNew,ref:a,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})})))}renderProjectWithNoTags(){return i.h("div",{class:"tagList"},i.h("div",{class:"noTagsOrSuggestions"},i.h("img",{class:"noTagsTagIcon",src:Object(a.imageUrl)("img/icTag.svg")}),i.h("p",null,"No tag defined yet."),i.h("div",{class:"textAndIcon"},i.h("p",null,"Go ahead, add your first tag!"),i.h("img",{src:Object(a.imageUrl)("img/icDart.png"),srcset:Object(a.srcset)(Object(a.imageUrl)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(2250);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(831),a=n(724),r=n.n(a),l=n(582);n(2251);class c extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.h(s.default,{class:r()("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.h("div",{class:"createNewTag"},i.h("img",{src:Object(l.imageUrl)("img/icCreateNewTag.svg")}),i.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.h("span",{class:"suggestionText ellipsis"},t))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2253);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582),s=n(831);n(2254);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.h("div",{class:"manageTagsTag noSelect"},i.h("span",{class:"tagButtonText ellipsis"},e),i.h(s.default,{onClick:this.handleClick,class:"removeTagButton"},i.h("img",{src:Object(o.imageUrl)("img/icGuidelineRemove.svg")})))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2258);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),l=a(n(929)),c=a(n(567)),d=a(n(1645)),u=a(n(2259)),h=s(n(656));class p extends r.Component{static calculateState(){const{open:e,inid:t,channelName:n,eventGroupsByInid:i,loading:o}=c.default.SlackPreferencesStore.getState(),{barrelType:s}=c.default.BarrelStore.getState(),a=i[t],r=h.eventGroupsByBarrelType[s];return{open:e,channelName:n,preferenceGroups:Object.entries(r).map((([e,t])=>{var n;return{title:t.name,description:t.info,loading:o.includes(e),checked:(null===(n=null==a?void 0:a[e])||void 0===n?void 0:n.length)===t.events.length,eventGroup:e}}))}}static getStores(){return[c.default.SlackPreferencesStore,c.default.BarrelStore]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&r.h(u.default,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:d.default.updateEventGroup,onClose:d.default.close})}}t.default=l.default(p)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2260);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(2261)),r=i(n(1027));n(2264),t.default=function({channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:i}){const l=s.useRef();return s.useEffect((()=>{l.current.scrollTop=1,l.current.scrollTop=0})),o.h(r.default,{width:400,onClose:i,showBackdrop:!1,hideNegativeButton:!0},o.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",o.h("span",{title:e},e)),o.h("div",{ref:l,class:"slackPreferenceGroupsContainer"},t.map((({title:e,description:t,loading:i,checked:s,eventGroup:r})=>o.h(a.default,{key:r,title:e,description:t,loading:i,checked:s,onChange:n,eventGroup:r})))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2262);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=i(n(849));n(2263),t.default=function({title:e,description:t,loading:n,checked:i,onChange:r,eventGroup:l}){return o.h("label",{className:s.default("slackPreferenceGroup",{loading:n})},o.h("div",{className:"slackPreferenceGroupInfo"},o.h("div",{className:"slackPreferenceGroupName",title:e},e),o.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),o.h(a.default,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:i,onChange:function(e){r(l,e.target.checked)}}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2267);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1123)),a=i(n(567)),r=i(n(929)),l=i(n(2268)),c=i(n(2271)),d=i(n(2311)),u=i(n(2331)),h=i(n(2349)),p=i(n(570)),f=i(n(707)),g=i(n(2350)),m=i(n(2356)),b=i(n(2359)),S=i(n(590)),y=i(n(711)),v=i(n(685)),O=i(n(1391)),C=i(n(2362)),E=i(n(684)),T=i(n(702)),_=i(n(1260)),P=n(692),I=n(547),j=i(n(710)),D=i(n(724)),k=n(634),R=n(607),A=i(n(1619)),w=n(586),N=i(n(2363)),L=i(n(1039));n(2364);class M extends o.Component{constructor(){super(...arguments),this.toggleMuteStatus=(e,t,n)=>{if(t===S.default.PROJECT){(e?L.default.unmuteProjectNotifications:L.default.muteProjectNotifications)({pid:n,syncWithApi:!0})}else{(e?L.default.unmuteStyleguideNotifications:L.default.muteStyleguideNotifications)({stid:n,syncWithApi:!0})}},this.setAllAsRead=()=>{const{activities:e}=this.state,t=e.filter((e=>!f.default.isActivityRead(e)));s.default.markAllAsRead(t)},this.toggleReadStatus=(e,t)=>{const n=e.events.filter((e=>t.includes(e._id))),i=f.default.areEventsRead(n);s.default.setEventReadStatus(e,n.map((({_id:e})=>e)),!i)},this.toggleDotStatus=()=>{const{selectedEvents:[{project:e,screen:t}],selectedDot:n}=this.state,{_id:i,status:o}=n,{_id:s}=e,{_id:a}=t,r=o===y.default.OPEN?y.default.RESOLVED:y.default.OPEN;j.default.updateDotStatus({pid:s,sid:a,did:i,status:r,syncWithApi:!0,source:"Notification"})},this.addDotComment=e=>{const t=e.trim();if(!t)return;const{selectedEvents:[{project:n,screen:i}],selectedDot:o}=this.state,{_id:s}=o,{_id:a}=n,{_id:r}=i;j.default.createComment({pid:a,sid:r,did:s,note:t,syncWithApi:!0,source:"Notification"})},this.trackActivitiesNavigation=()=>{f.default.trackEventWithFilterDetails("Navigated to notification destination")},this.setContentWidth=()=>{this.state.ready&&this.setState({contentWidth:window.innerWidth-this.state.sidebarWidth})},this.handleSidebarResize=e=>{this.setState({contentWidth:window.innerWidth-e})},this.handleMembersOpen=()=>{const{allBarrelsSelected:e}=this.state;if(e){const{selectedOrganizationId:e}=a.default.ActivitiesViewStore.getState();h.default.requestRelatedUsers(e)}},this.handleSectionsOpen=()=>{var e;const{projectId:t}=this.state;(null===(e=E.default.getProject({pid:t}))||void 0===e?void 0:e.sections)||O.default.requestProject(t)},this.handleJoinStyleguide=()=>{const{styleguideId:e}=this.state;T.default.join({barrelType:S.default.STYLEGUIDE,bid:e,actionSource:_.default.ACTIVITIES})}}static calculateState(){var e,t,n,i,o,s,r,l,c,d,u,h,g;const{notifications:m,loading:b}=a.default.NotificationsStore.getState(),{loadingOrganization:y,loadingBarrels:O,focusedBarrels:T}=a.default.OrganizationStore.getState(),{loading:_,selectedId:j,selectedEventIds:D,dotsLoaded:R,category:A,barrelSelection:N,projectsWithUpdatesOnly:L,sectionId:M,noteStatusFilter:x,color:U,memberId:B,selectedOrganizationId:V,sidebarWidth:z,listScrollData:F,autoSelect:W}=a.default.ActivitiesViewStore.getState(),H=v.default.getOrganization(V),G=!(0!==(null==H?void 0:H.sections.length));if(_||y||O||b||G||!V)return{ready:!1};const $=a.default.UserStore.getState().userId,q=m.filter((({actionName:e})=>f.default.isTypeValid(e))),Z=(v.default.getOrganizationProjects(V)||[]).filter((e=>e.users.some((({user:e})=>e._id===$)))),{dotStatesToLoad:K,dotStatesReady:Y}=f.default.getDotStatesRequirement(q,Z);if(K||!Y)return{ready:!1,dotStatesToLoad:K};const J="all"===N.type,X=N.type===S.default.PROJECT?N.id:void 0,Q=X?E.default.getProject({pid:X}):void 0;let ee,te,ne=!1;if(J){const n=v.default.getOrganizationProfile(V);if("user"===V||n.restricted){const{acquaintancesLoading:e,acquaintancesError:t}=a.default.UserStore.getState();ne=e,te=null==t?void 0:t.message,ee=C.default.getUserAndAcquaintances()}else ne=!!H.membersLoading,te=null===(e=H.membersError)||void 0===e?void 0:e.message,ee=null===(t=H.members)||void 0===t?void 0:t.map((({user:e})=>e))}else Q&&(ee=Q.users.map((({user:e})=>e)));ee=null!==(n=null==ee?void 0:ee.filter((({username:e})=>e)))&&void 0!==n?n:[];const{error:ie,loadingProject:oe}=a.default.ProjectsDataStore.getState(),se=null!==(o=null===(i=null==Q?void 0:Q.sections)||void 0===i?void 0:i.slice(1))&&void 0!==o?o:[],ae=!se.length&&oe,re=(null===(s=null==Q?void 0:Q.sections)||void 0===s?void 0:s.length)||null==ie?void 0:ie.message,le=N.type===S.default.PROJECT?N.isPinned:void 0,ce=N.type===S.default.STYLEGUIDE?N.id:void 0;let de=f.default.updatedDotStates(q);if(de=de.filter((e=>f.default.isInCategory(e,A))),x&&(de=de.map((e=>f.default.filterEventsByNoteStatus(e,x))).filter(w.exists)),U&&(de=de.map((e=>f.default.filterEventsByDotColor(e,U))).filter(w.exists)),B&&(de=de.map((e=>f.default.filterEventsByUser(e,B))).filter(w.exists)),M){const e=null===(r=se.find((({_id:e})=>e===M)))||void 0===r?void 0:r.screens;de=de.filter((({events:[{screen:t}]})=>t&&(null==e?void 0:e.includes(t._id))))}const ue=new Set,he={},pe=new Set;for(const a of q.filter((e=>!f.default.isActivityRead(e))))f.default.getRelatedProjects(a).forEach((e=>{var t;ue.add(e),f.default.hasMention(a)&&(he[e]=(null!==(t=he[e])&&void 0!==t?t:0)+1)})),f.default.getRelatedStyleguides(a).forEach((e=>pe.add(e)));const fe=a.default.UserStore.getState().notificationSettings,{mutedProjects:ge,mutedStyleguides:me}=fe,be=!!X&&ge.includes(X),Se=Z.map((e=>{var t;return Object.assign(Object.assign({},e),{muted:ge.includes(e.id),hasUpdate:ue.has(e.id),mentionCount:null!==(t=he[e.id])&&void 0!==t?t:0})})).filter((({_id:e,hasUpdate:t,status:n})=>(!L||t)&&"archived"!==n||e===X));let ye;if(H){const[e,...t]=H.sections;e.name="Individual Projects",ye=[...t,e]}else Se.sort(k.sortBy.name).sort(((e,t)=>Number(t.hasUpdate)-Number(e.hasUpdate))),ye=[{_id:"personalProjectDefaultSection",name:"Personal Projects",projects:Se.map((e=>e._id))}];const ve=P.filterSortProjectSections({sections:ye,projects:Se,projectsLookup:Se.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t._id]:t})),{}),sortType:I.SortTypes.SECTIONS,shouldPutResultsToDefaultSection:!H}),Oe=null===(l=T[V])||void 0===l?void 0:l.map((e=>e.barrelId)),Ce=(v.default.getOrganizationStyleguides(V)||[]).map((e=>Object.assign(Object.assign({},e),{muted:me.includes(e.id),hasUpdate:pe.has(e.id)}))),Ee=Ce.filter((e=>e.users.some((({user:e})=>e._id===$)))),Te=Ee.filter((({_id:e,status:t})=>"archived"!==t||e===ce)),_e=Te.reduce(((e,t)=>new Set([...e,...t.ancestors,t.id])),new Set);const Pe=Ce.filter((({_id:e})=>_e.has(e)));J?de=de.map((e=>f.default.filterEventsByMutedStatus(e,V,Z.map((({_id:e})=>e)),Ee.map((({_id:e})=>e)),fe))).filter(w.exists):X?de=de.map((e=>f.default.filterEventsByProject(e,X))).filter(w.exists):ce&&(de=de.map((e=>f.default.filterEventsByStyleguide(e,ce))).filter(w.exists));const Ie=de.find((({_id:e})=>e===j)),je=null!==(c=null==Ie?void 0:Ie.events.filter((({_id:e})=>D.includes(e))))&&void 0!==c?c:[],De=je.length?je[0]:void 0,ke=!!Ie&&f.default.getCategory(Ie)===p.default.Note,Re=ke?Z.find((({id:e})=>e===De.project._id)):void 0,Ae=null===(d=null==Re?void 0:Re.screens)||void 0===d?void 0:d.find((({_id:e})=>e===De.screen._id)),we=null===(h=null===(u=null==Ae?void 0:Ae.versions)||void 0===u?void 0:u[0])||void 0===h?void 0:h.snapshot,Ne=null===(g=null==Ae?void 0:Ae.dots)||void 0===g?void 0:g.find((({_id:e})=>{var t;return e===(null===(t=De.dot)||void 0===t?void 0:t._id)}));return{ready:!0,userId:$,activities:de,selectedOrganizationId:V,selectedItem:Ie,selectedEvents:je,selectedDot:Ne,selectedDotSnapshot:we,dotError:ke&&(R&&!Ne||!we&&!oe),category:A,allBarrelsSelected:J,mutedProjectSelected:be,projectId:X,isSelectedProjectPinned:le,styleguideId:ce,projectsWithUpdatesOnly:L,styleguides:Pe,workspaceSections:ve,pinnedProjectIds:Oe,noteStatusFilter:x,color:U,usersLoading:ne,usersError:te,users:ee,projectMemberId:B,loadingScreenSections:ae,screenSectionsError:re,screenSections:se,screenSectionId:M,selectedBarrelType:N.type,sidebarWidth:z,listScrollData:F,autoSelect:W}}static getStores(){return[a.default.NotificationsStore,a.default.ActivitiesViewStore,a.default.DotStatesStore,a.default.OrganizationStore,a.default.ProjectsDataStore,a.default.StyleguidesDataStore,a.default.UserStore,a.default.BarrelStore]}componentDidMount(){s.default.updateNotificationLastReadTime(),window.addEventListener("resize",this.setContentWidth)}componentDidUpdate(e,t){t.ready||t.dotStatesToLoad||this.state.ready||!this.state.dotStatesToLoad||N.default.requestDotStates(this.state.dotStatesToLoad),!t.ready&&this.state.ready&&this.setContentWidth()}componentWillUnmount(){s.default.updateNotificationLastReadTime(),window.removeEventListener("resize",this.setContentWidth)}render(){var e;if(!this.state.ready)return o.h(m.default,null);const{activities:t,userId:n,selectedOrganizationId:i,selectedItem:s,selectedEvents:a,selectedDot:r,selectedDotSnapshot:f,dotError:S,category:y,allBarrelsSelected:v,mutedProjectSelected:O,projectId:C,isSelectedProjectPinned:E,styleguideId:T,projectsWithUpdatesOnly:_,styleguides:P,workspaceSections:I,pinnedProjectIds:j,noteStatusFilter:k,color:w,usersLoading:N,usersError:L,users:M,projectMemberId:x,loadingScreenSections:U,screenSectionsError:B,screenSections:V,screenSectionId:z,selectedBarrelType:F,sidebarWidth:W,listScrollData:H,autoSelect:G}=this.state,$=y===p.default.Note,q=t.length>0;let Z=!1;if(T){const e=P.find((e=>e.id===T));(null==e?void 0:e.users.find((e=>e.user._id===n)))||(Z=!0)}const K=!q||Z,Y=null!==(e=this.state.contentWidth)&&void 0!==e?e:window.innerWidth-W,J=R.clamp(Y,940,1148),X=J-108,Q=Math.round(.38461538461538464*X),ee=X-Q,te=Math.max(0,(Y-J)/2),ne=!!H,ie=ne?{height:"0px",overflow:"hidden"}:void 0;return o.h(o.Fragment,null,ne&&o.h(m.default,null),o.h("div",{class:"activitiesContainer",style:ie},o.h(A.default,{class:"activitiesSidebar",initialWidth:W,minWidth:260,collapsible:!1,onResize:this.handleSidebarResize,onRelease:h.default.setSidebarWidth,resizingSide:"right"},o.h(l.default,{category:y,onSelect:h.default.selectCategory}),o.h("div",{class:"activitiesSidebarSeparator"}),o.h(g.default,{allSelected:v,projectId:C,isSelectedProjectPinned:E,styleguideId:T,projectsWithUpdatesOnly:_,sections:I,pinnedProjectIds:j,styleguides:P,selectedOrganizationId:i,selectAll:h.default.selectAllBarrels,selectBarrel:h.default.selectBarrel,onProjectsWithUpdatesOnlyChange:h.default.setProjectsWithUpdatesOnly,onToggleMuteStatusClick:this.toggleMuteStatus})),o.h("div",{class:"activitiesContent",style:{paddingLeft:te,paddingRight:te}},Y&&$&&!T&&o.h(c.default,{loadingMembers:N,membersError:L,members:M,showSectionFilter:!v,loadingSections:U,sectionsError:B,sections:V,selectedNoteStatus:k,selectedColor:w,selectedMemberId:x,selectedSectionId:z,onNoteStatusFilterChange:h.default.selectNoteStatusFilter,onColorChange:h.default.selectColor,requestMembers:this.handleMembersOpen,onMemberFilterChange:h.default.selectMember,requestSections:this.handleSectionsOpen,onSectionFilterChange:h.default.selectSection}),Y&&K&&o.h(b.default,{barrelType:F,category:y,notInvitedToStyleguide:Z,onJoinStyleguide:this.handleJoinStyleguide}),Y&&q&&!K&&o.h("div",{class:D.default("activityListAndDetails",{noteCategorySelected:$})},o.h(d.default,{width:Q,scrollData:H,activities:t,selectedItemId:null==s?void 0:s._id,selectedEventIds:a.map((({_id:e})=>e)),onSetAllAsReadClick:this.setAllAsRead,onSelect:h.default.select,onSaveScrollData:h.default.saveListScrollData,autoSelect:G,onToggleReadStatusClick:this.toggleReadStatus,allSelected:v,mutedProjectSelected:O}),s&&o.h(u.default,{width:ee,activity:s,events:a,dot:r,dotSnapshot:f,dotError:S,onActivitiesNavigationClick:this.trackActivitiesNavigation,onToggleReadStatusClick:this.toggleReadStatus,onToggleDotStatusClick:this.toggleDotStatus,onAddDotCommentClick:this.addDotComment})))))}}t.default=r.default(M)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2269);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(570)),a=i(n(724)),r=n(731);n(2270);const l={[s.default.All]:{description:"All",Icon:r.IconComponent,customIconClass:"activityCategoryAllIcon",customWidth:16,customHeight:16},[s.default.Note]:{description:"Notes",Icon:r.IconReadme},[s.default.Screen]:{description:"Screens",Icon:r.IconCopy},[s.default.Styleguide]:{description:"Styleguide",Icon:r.IconLayerStyle,customIconClass:"activityCategoryStyleguideIcon",customHeight:26},[s.default.Other]:{description:"Others",Icon:r.IconMenu}},c=Object.keys(s.default);t.default=function({category:e,onSelect:t}){const n=Object.fromEntries(c.map((e=>[e,()=>t(e)])));return o.h("div",{class:"activityCategories"},c.map((function(t){const i=t===e,{description:s,Icon:r,customIconClass:c,customWidth:d,customHeight:u}=l[t];return o.h("div",{key:t,class:a.default("activityCategory",{selected:i}),onClick:n[t]},o.h(r,{width:null!=d?d:24,height:null!=u?u:24,color:i?"#fff":"var(--gandalf)",class:a.default("activityCategoryIcon",c)}),s)})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2272);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2273)),a=i(n(2294)),r=i(n(2304)),l=i(n(2307)),c=i(n(1850)),d=n(631),u=n(586);function h(e){var t,n;return null!==(n=null!==(t=null==e?void 0:e.fullName)&&void 0!==t?t:null==e?void 0:e.username)&&void 0!==n?n:null==e?void 0:e.email}n(2310),t.default=function({loadingMembers:e,membersError:t,members:n,showSectionFilter:i,loadingSections:p,sectionsError:f,sections:g,selectedColor:m,selectedNoteStatus:b,selectedMemberId:S,selectedSectionId:y,onNoteStatusFilterChange:v,onColorChange:O,onMemberFilterChange:C,onSectionFilterChange:E,requestMembers:T,requestSections:_}){const P=new Map;P.set("section",g.map((({_id:e,name:t})=>({id:e,name:t})))),P.set("member",n.map((e=>({id:e._id,name:h(e)})))),P.set("color",d.colorNames.map((e=>({id:e,name:e})))),P.set("type",u.entriesOf(c.default).map((([e,t])=>({id:e,name:t}))));const I=n.find((({_id:e})=>e===S)),j=g.find((({_id:e})=>e===y));return o.h("div",{class:"activitiesNoteFilterView"},o.h(a.default,{elementMap:P,width:322,loadingSections:p,loadingMembers:e,members:n,membersError:t,sectionsError:f,selectedColor:m,selectedType:b?c.default[b]:void 0,selectedMember:h(I),selectedSection:null==j?void 0:j.name,requestMembers:T,requestSections:_,onColorChange:O,onMemberFilterChange:C,onSectionFilterChange:E,onNoteStatusFilterTypeChange:v,sectionDataEnabled:i}),o.h(r.default,{dropdownTop:42,dropdownLeft:-6,selectedColor:m,selectedNoteStatus:b,onNoteStatusFilterChange:v,onColorChange:O}),o.h(s.default,{dropdownTop:42,dropdownLeft:-93,loading:e,error:t,members:n,selectedMemberId:S,requestMembers:T,onFilterChange:C}),i&&o.h(l.default,{dropdownTop:42,dropdownLeft:-203,loading:p,error:f,sections:g,requestSections:_,selectedSectionId:y,onFilterChange:E}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2274);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2275)),a=i(n(2278)),r=i(n(888)),l=i(n(935)),c=i(n(724)),d=n(959),u=n(694);n(2293);function h({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(r.default.Item,{selected:!e},o.h("div",{class:"membersDropdownItem"},o.h("div",{class:"allMembersAvatar"},"👨‍👩‍👧‍👧"),o.h("span",null,t.length>1?"All members":"History members"))),o.h(s.default,null)),t.map((t=>{const{_id:n,fullName:i,username:s}=t,{src:a,srcset:c}=d.getUserAvatar(t,{size:24}),u=i||s,h=e===n;return o.h(r.default.Item,{key:n,value:n,selected:h},o.h("div",{class:"membersDropdownItem"},o.h(l.default,{class:"memberRowAvatar",src:a,srcset:c,size:24}),o.h("span",null,u)))})))}t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedMemberId:s,members:r,requestMembers:l,onFilterChange:d}){return o.h(a.default,{dropdownProps:{class:"membersDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Members",showSelectedAsLabel:!1,onChange:d,labelClass:c.default({membersDropdownModifiedLabel:!!s}),optionsClass:"membersDropdownOptions"},filterInputProps:{placeholder:"Search for a member",placeholderWidth:140,class:"membersFilterInput"},itemTypeName:"member",loading:n,error:i,items:r,selectedId:s,requestItems:l,matchItem:u.matchUserWithFilterValue,renderItems:h})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2276);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2277),t.default=function(){return i.h("div",{class:"dropdownItemSeparator"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2279);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(2280)),r=i(n(2283)),l=i(n(888)),c=i(n(1143)),d=i(n(2286)),u=i(n(2289));n(2292),t.default=function({dropdownProps:e,filterInputProps:t,itemTypeName:n,emptyText:i,loading:h,error:p,items:f,selectedId:g,requestItems:m,renderItems:b,matchItem:S}){const[y,v]=s.useState(""),O=f.filter((e=>S(e,y)));return o.h(l.default,Object.assign({onDropdownStateChange:function(e){e?null==m||m():v("")}},e),h?o.h(u.default,null):p?o.h(d.default,{type:n,message:p,onRetryClick:m}):o.h(o.Fragment,null,f.length>1&&o.h("div",{class:"filterInputWrapper"},o.h(c.default,Object.assign({value:y,onFilter:v},t))),0===f.length&&i&&o.h(a.default,{emptyText:i}),f.length?O.length?b({items:O,selectedId:g,filterValue:y}):o.h(r.default,{type:n}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2281);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2282),t.default=function({emptyText:e}){return i.h("div",{class:"dropdownWithFilterItemsEmpty"},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2284);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2285),t.default=function({type:e="item"}){return i.h("div",{class:"filterSearchEmptyView"},"No ",e," with this name 🤷‍♀️")}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2287);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(831));n(2288),t.default=function({type:e="item",message:t,onRetryClick:n}){return o.h("div",{class:"dropdownWithFilterItemsError"},o.h("span",{class:"title"},"Fetching ",e,"s failed"),o.h("span",{class:"message"},t),o.h(s.default,{secondary:!0,onClick:function(e){e.stopPropagation(),n()}},"Retry"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2290);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(731);n(2291),t.default=function(){return i.h("div",{class:"dropdownWithFilterItemsLoading"},i.h(o.IconDotSpinner,{width:24}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2295);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724)),r=i(n(2296)),l=i(n(2300)),c=i(n(1241)),d=n(215),u=n(221),h=i(n(2289)),p=i(n(2299)),f=i(n(890));function g(e,t){return t.toLowerCase().includes(e.toLowerCase())}n(2303);const m=[{type:"container",children:[{text:""}]}];t.default=function({elementMap:e,width:t,loadingSections:n,loadingMembers:i,members:b,sectionDataEnabled:S,membersError:y,sectionsError:v,selectedColor:O,selectedType:C,selectedMember:E,selectedSection:T,requestMembers:_,requestSections:P,onColorChange:I,onMemberFilterChange:j,onSectionFilterChange:D,onNoteStatusFilterTypeChange:k}){const[R,A]=s.useState(""),[w,N]=s.useState(!1),[L,M]=s.useState(m),x=s.useRef(),U=s.useRef(),B=s.useMemo((()=>function(e){const{isVoid:t,isInline:n}=e;return e.isVoid=e=>"queryElement"===e.type||t(e),e.isInline=e=>"queryElement"===e.type||n(e),e}(u.withReact(d.createEditor()))),[]),V=s.useRef(!1),z=s.useRef(!1);function F(){const e=te();return e?e.text:""}function W(e){var t;return null===(t=null==e?void 0:e.split(":")[1])||void 0===t?void 0:t.trim()}function H(e){e.preventDefault()}function G(e){switch(e){case p.default.COLOR:return!!O;case p.default.TYPE:return!!C;case p.default.MEMBER:return!!E;case p.default.SECTION:return!!T;default:return!1}}function $(e,t){switch(e){case p.default.COLOR:I(t);break;case p.default.TYPE:k(t);break;case p.default.MEMBER:j(t);break;case p.default.SECTION:D(t)}}function q(e,t,n){return e.filter((e=>g(t,e.name))).map((({id:e,name:t})=>({key:n,value:e,label:t})))}function Z(e){const[t,n]=J(e);$(t,n)}function K(e,t){const n=ee(),i=B.children[0].children;if(t){const o=[{type:"queryElement",label:e,value:t,children:[{text:""}]}];if(i.some((t=>t.label===e))){const n=i.findIndex((({label:t})=>t===e));-1!==n&&(d.Transforms.setNodes(B,{label:e,value:t},{at:[0,n]}),setTimeout((()=>{d.Transforms.select(B,[0,n+1])})))}else if(-1!==n){void 0!==i[n].text&&(d.Transforms.deselect(B),d.Transforms.delete(B,{at:[0,n]}),d.Transforms.insertNodes(B,o,{at:[0,n]}),setTimeout((()=>{d.Transforms.select(B,[0,n+2])})))}else{const e=B.children[0].children.length;d.Transforms.insertNodes(B,o,{at:[0,e-1]})}}else{const t=i.findIndex((({label:t})=>t===e));-1!==t&&(d.Transforms.deselect(B),d.Transforms.delete(B,{at:[0,t]}),setTimeout((()=>{d.Transforms.select(B,[0,t-1])})))}}function Y(e){const[t]=J(e),n=te(),i=ee();n&&void 0!==n.text&&(d.Transforms.insertText(B,`${t}: `,{at:[0,i]}),setTimeout((()=>{d.Transforms.select(B,[0,i]),d.Transforms.collapse(B,{edge:"end"})})))}function J(e){const t=e.split(/(color:|type:|member:|section:)/);return t.shift(),[t[0].slice(0,-1),t[1]]}function X(e,t){return o.h("div",{class:a.default("hint",{selected:t})},e.hint.key,": ",o.h("span",{class:"description"},e.hint.label))}function Q(e){const t=e||"You can quickly filter notifications by typing:";var n;const i=(n=S,[{key:p.default.TYPE,value:"type:",label:"open / mentioned / resolved"},{key:p.default.COLOR,value:"color:",label:"note dot colors"},{key:p.default.MEMBER,value:"member:",label:"username or full name"},...n?[{key:p.default.SECTION,value:"section:",label:"section name on project dashboard"}]:[]]).filter((({key:e})=>!G(e)));return 0===i.length?e?o.h("div",{class:"smartFilterHint"},o.h("div",{class:"hintMessage"},t)):void 0:o.h("div",{class:"smartFilterHint"},o.h("div",{class:"hintMessage"},t),o.h("div",{onMouseDown:w?H:void 0},o.h(c.default,{class:"smartFilterOptions hints",onSelect:Y},i.map((e=>o.h(c.default.ListItem,{key:e.key,class:"selectableListItem",value:`${e.value}${e.label}`,item:{hint:e},renderItem:X}))))))}function ee(){var e,t;return null!==(t=null===(e=B.selection)||void 0===e?void 0:e.anchor.path[1])&&void 0!==t?t:-1}function te(){const e=ee();if(-1!==e){return B.children[0].children[e]}return null}return s.useEffect((()=>{F()&&(b.length||V.current||(V.current=!0,_()),S&&!z.current&&(z.current=!0,P()))}),[L,w]),s.useEffect((()=>{K(p.default.COLOR,O)}),[O]),s.useEffect((()=>{K(p.default.TYPE,C)}),[C]),s.useEffect((()=>{K(p.default.MEMBER,E)}),[E]),s.useEffect((()=>{K(p.default.SECTION,T)}),[T]),o.h("div",{class:"activitiesSmartFilter",style:{width:t},ref:x},o.h(r.default,{onFocus:function(){N(!0)},onBlur:function(){N(!1)},focused:w,editor:B,value:L,onQueryBlockRemove:function(e){u.ReactEditor.focus(B),$(e)},onChange:function(e){const t=te();if(t&&u.ReactEditor.isFocused(B)&&N("queryElement"!==t.type),e!==L){M(e);const t=F();A(t)}}}),w&&o.h(f.default,{didRender:function(){const e=x.current.getBoundingClientRect(),t=e.bottom+14,n=e.left-6;U.current&&(U.current.style.maxHeight=window.innerHeight-t-12+"px",U.current.style.overflowY="auto",U.current.style.transform=`translate3d(${n}px, ${t}px, 0)`)}},o.h("div",{class:"smartFilterPopover zplMenu",ref:U},function(){if(((i||0===b.length)&&!y||S&&n&&!v)&&R)return o.h("div",{class:"smartFilterLoading"},o.h(h.default,null));const t=function(t){if(!t)return[];const n=function(e){var t;return null===(t=null==e?void 0:e.split(":")[0])||void 0===t?void 0:t.trim()}(t),i=W(t),o=":"===t.slice(-1);if(i||o){if(G(n))return[];const t=e.get(n);return t?q(t,i,n):[]}return Array.from(e.keys()).reduce(((t,i)=>{if(G(i))return t;const o=e.get(i);if(!o)return t;if(g(n,i))return t.concat(o.map((({id:e,name:t})=>({key:i,value:e,label:t}))));const s=q(o,n,i);return t.concat(s)}),[])}(R);if(t.length){let e=W(R);return e=e?R.split(":")[1].trim():R.trim(),o.h(l.default,{queryValue:e,onMouseDown:w?H:void 0,onOptionSelect:Z,options:t})}return d.Node.string(L[0])?o.h("div",{onMouseDown:w?H:void 0},Q("No results. You can try typing keywords related to the categories below.")):o.h("div",{onMouseDown:w?H:void 0},Q())}())))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=i(n(2297)),r=i(n(2298));t.default=function({focused:e,editor:t,value:n,onFocus:i,onBlur:l,onChange:c,onQueryBlockRemove:d}){return o.h("div",{class:s.default("activitiesSmartFilterInput",{focusWithin:e})},o.h(a.default,{class:"sortIcon"}),o.h(r.default,{editor:t,value:n,onFocus:i,onBlur:l,onChange:c,onQueryBlockRemove:d}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.h("path",{fill:e,d:"M10.667 12c.736 0 1.333.597 1.333 1.333 0 .737-.597 1.334-1.333 1.334H5.333C4.597 14.667 4 14.07 4 13.333 4 12.597 4.597 12 5.333 12h5.334zM12 6.667c.736 0 1.333.597 1.333 1.333S12.736 9.333 12 9.333H4c-.736 0-1.333-.597-1.333-1.333S3.264 6.667 4 6.667h8zm2.667-5.334c.736 0 1.333.597 1.333 1.334C16 3.403 15.403 4 14.667 4H1.333C.597 4 0 3.403 0 2.667c0-.737.597-1.334 1.333-1.334h13.334z",transform:"translate(-82 -471) translate(64 459) translate(6 6) translate(12 6)"})))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getColorLabel=void 0;const o=n(4),s=n(222),a=n(215),r=n(221),l=i(n(724)),c=i(n(1180)),d=i(n(813)),u=n(583),h=i(n(2299)),p=i(n(1771)),f={karl:"Karl",clooney:"Clooney",yellow:"Yellow",orange:"Orange",peach:"Peach",green:"Green",turquoise:"Turquoise",cornflowerBlue:"Cornflower blue",deepPurple:"Purple"};function g(e){const t=f[e]||e.replace(/([A-Z]+)/g,"$1").replace(/([A-Z][a-z])/g," $1");return u.uppercaseFirst(t)}function m({attributes:e,children:t}){return o.h("div",Object.assign({class:"leaf"},e),t)}function b(e){const{attributes:t,children:n,element:i}=e;switch(i.type){case"queryElement":return o.h(S,Object.assign({},e),n);default:return o.h("div",Object.assign({class:"container"},t),n)}}function S({attributes:e,children:t,element:n,onQueryBlockRemove:i}){const s=n.label,a=n.value,u=s===h.default.COLOR,p=r.useSelected(),f=r.useFocused();return o.h("div",Object.assign({class:l.default("queryBlock",{selected:f&&p})},e),o.h("div",{class:"queryLabel",contentEditable:!1},o.h("div",{class:"queryDisplayLabel"},u&&o.h(o.Fragment,null,o.h(c.default,{class:"colorDot",key:`${a}-colorDot`,color:a}),g(a)),!u&&o.h(o.Fragment,null,o.h("span",{class:"key"},s,":"),a))),o.h("button",{class:"removeButton",onClick:function(e){return e.stopPropagation(),i(s)}},o.h(d.default,{class:"removeIcon",width:6,color:"var(--clooney)"})),t)}t.getColorLabel=g;const y=s.memo((function({editor:e,value:t,onFocus:n,onBlur:i,onChange:l,onQueryBlockRemove:c}){const d=s.useCallback((e=>o.h(m,Object.assign({},e))),[]),[u,h]=s.useState(!1);function f(){var t,n;return null!==(n=null===(t=e.selection)||void 0===t?void 0:t.anchor.path[1])&&void 0!==n?n:-1}function g(){const t=f();if(-1!==t){return e.children[0].children[t]}return null}if(e.selection){const t=f();if(-1!==t){const n=g(),i=null==n?void 0:n.text;void 0!==i&&1===i.length&&(r.ReactEditor.deselect(e),a.Transforms.select(e,[0,t]),a.Transforms.collapse(e,{edge:"end"}))}}return o.h(r.Slate,{editor:e,value:t,onChange:l},o.h(p.default,{renderElement:function(e){return o.h(b,Object.assign({onQueryBlockRemove:c},e))},renderLeaf:d,placeholder:u?"":o.h("span",{class:"placeholder"},"all notes; all colors; all members; all sections"),onFocus:n,onBlur:i,onKeyDown:function(t){if(t.keyCode===Zeplin.KEY_CODE.ENTER)t.preventDefault();else if(t.keyCode===Zeplin.KEY_CODE.BACKSPACE){const n=e.children[0].children,i=f(),o=g(),s=n[i-1];"queryElement"===(null==o?void 0:o.type)?(t.preventDefault(),c(o.label)):s&&"queryElement"===s.type&&""===(null==o?void 0:o.text)&&(t.preventDefault(),c(s.label))}},setComposing:h}))}),((e,t)=>e.value===t.value));t.default=y},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLOR="color",e.TYPE="type",e.MEMBER="member",e.SECTION="section"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2301);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=n(2298),r=i(n(1241)),l=i(n(1180)),c=i(n(2299));n(2302);class d extends o.Component{constructor(){super(...arguments),this.getHighlightedLabel=e=>{const{queryValue:t}=this.props;return e.replace(new RegExp(t.toLowerCase(),"gi"),(e=>`<strong style="color:var(--teflon);">${e}</strong>`))},this.renderOptionItem=(e,t)=>o.h("div",{class:s.default("listItem",{selected:t})},o.h("span",{class:"key"},`${e.option.key}:`),e.option.key===c.default.COLOR?o.h("div",{class:"value"},o.h("div",{class:"color"},o.h(l.default,{class:"noteStatusDropdownColorDot",key:`${e.option.value}-colorDot`,color:e.option.label}),o.h("span",{class:"colorLabel",dangerouslySetInnerHTML:{__html:this.getHighlightedLabel(a.getColorLabel(e.option.label))}}))):o.h("span",{class:"value",dangerouslySetInnerHTML:{__html:this.getHighlightedLabel(e.option.label)}}))}render(){const{onMouseDown:e,onOptionSelect:t,options:n}=this.props;return o.h("div",{onMouseDown:e},o.h(r.default,{class:"smartFilterOptions",onSelect:t},n.map((e=>o.h(r.default.ListItem,{key:e.value,class:"selectableListItem",value:`${e.key}:${e.value}`,item:{option:e},renderItem:this.renderOptionItem})))))}}t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2305);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2275)),a=i(n(888)),r=i(n(1180)),l=i(n(1850)),c=i(n(724)),d=n(631),u=n(586);n(2306),t.default=function({dropdownTop:e,dropdownLeft:t,selectedNoteStatus:n,selectedColor:i,onNoteStatusFilterChange:h,onColorChange:p}){function f(e,t){p(i===t?void 0:t)}return o.h(a.default,{class:"noteStatusDropdown",top:e,left:t,onChange:h,defaultLabel:"Types",showSelectedAsLabel:!1,labelClass:c.default({noteStatusDropdownModifiedLabel:!!n||!!i}),optionsClass:"noteStatusDropdownOptions"},o.h(a.default.Item,{selected:!n},"All Notes"),o.h(s.default,null),u.entriesOf(l.default).map((([e,t])=>o.h(a.default.Item,{key:e,value:e,selected:n===e},t))),o.h(s.default,null),o.h("div",{class:"noteStatusDropdownColorDots"},d.colorNames.map((e=>o.h(r.default,{class:"noteStatusDropdownColorDot",key:`${e}-colorDot`,color:e,selected:e===i,onClick:f})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2308);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2275)),a=i(n(2278)),r=i(n(888)),l=i(n(724));function c({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(r.default.Item,{selected:!e},"All sections"),o.h(s.default,null)),t.map((({_id:t,name:n})=>o.h(r.default.Item,{key:t,value:t,selected:e===t},o.h("span",null,n)))))}function d(e,t){return e.name.toLowerCase().includes(t.toLocaleLowerCase())}n(2309),t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedSectionId:s,sections:r,requestSections:u,onFilterChange:h}){return o.h(a.default,{dropdownProps:{class:"sectionsDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Sections",showSelectedAsLabel:!1,onChange:h,labelClass:l.default({sectionsDropdownModifiedLabel:!!s}),optionsClass:"sectionsDropdownOptions"},filterInputProps:{placeholder:"Search for a section",placeholderWidth:134,class:"sectionsFilterInput"},itemTypeName:"section",emptyText:"No section in this project yet 🤷‍♀️",loading:n,error:i,items:r,selectedId:s,requestItems:u,matchItem:d,renderItems:c})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2312);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=n(223),r=n(1149),l=o(n(831)),c=o(n(2313)),d=n(583),u=o(n(2325)),h=o(n(724)),p=n(586),f=o(n(707));n(2330);var g;!function(e){e.NEXT="next",e.PREVIOUS="previous"}(g||(g={}));const m={[g.NEXT]:1,[g.PREVIOUS]:-1};function b(e){return p.exists(e)&&-1!==e?e:0}t.default=function({width:e,scrollData:t,activities:n,selectedItemId:o,selectedEventIds:p,onSetAllAsReadClick:S,onSelect:y,onSaveScrollData:v,onToggleReadStatusClick:O,allSelected:C,mutedProjectSelected:E,autoSelect:T}){const _=a.useRef(),[P,I]=a.useState(20),[j,D]=a.useState(null),[k,R]=a.useState(!1),A=a.useMemo((()=>n.map((e=>{const t=c.default(e,{onClick:N,onToggleReadStatusClick:O,selectedActivitiyId:o,selectedEventIds:p,noFilterApplied:C}),{eventIds:n}=t;return{activity:e,eventIds:n,props:i(t,["eventIds"])}}))),[n]),w=o?A.slice(0,P):[];function N(e,t){var n;o&&(null===(n=null==_?void 0:_.current)||void 0===n||n.focus()),y(e,t)}function L(e){const t=w.findIndex((({activity:{_id:e}})=>e===o)),{activity:n,props:{subItemsProps:i}}=w[t],s=null==i?void 0:i.findIndex((({eventIds:e})=>p.every((t=>e.includes(t)))&&e.length===p.length)),{activity:a,props:r}=w[t+m[e]]||{},{subItemsProps:l}=r||{},{eventIds:c}=w[t+m[e]]||{};i&&i.length>1?i[s+m[e]]?y(n,i[s+m[e]].eventIds):a&&(c&&c.length>1?y(a,e!==g.NEXT&&l?c[c.length-1]:c[0]):y(a,a.events.map((({_id:e})=>e)))):a&&(!c||c.length<=1)?y(a,a.events.map((({_id:e})=>e))):a&&c&&c.length>1&&y(a,l?e===g.NEXT?c[0]:c[c.length-1]:a.events.map((({_id:e})=>e)))}function M(){R(!0)}function x(){R(!1)}function U(e){let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:L(g.NEXT);break;case Zeplin.KEY_CODE.ArrowUp:L(g.PREVIOUS);break;default:t=!1}t&&e.preventDefault()}a.useLayoutEffect((()=>{if(!o&&A.length){I(20),_.current.scrollTop=0;const e=b(E?A.findIndex((({activity:e})=>!f.default.isActivityRead(e))):0);0!==e&&D(e);const{props:{subItemsProps:t,onClick:n}}=A[e];let i=null;t&&(i=b(E?t.findIndex((({unread:e})=>e)):0)),null!==i?t[i].onClick():n()}}),[o]),a.useEffect((()=>{var e;if(o&&P<n.length)I(P+20);else if(t){const{firstActivityId:n,offsetFromFirstActivity:i}=t,o=null!==(e=V(n))&&void 0!==e?e:0;_.current.scrollTop=i+o,v(void 0)}if(j&&j<P){const{activity:{_id:e}}=A[j];_.current.scrollTop=V(e)-2,D(null)}}),[o,P,n.length,j]),a.useEffect((()=>(k?document.addEventListener("keydown",U,!0):document.removeEventListener("keydown",U,!0),()=>{document.removeEventListener("keydown",U,!0)})),[k,o,JSON.stringify(p)]),a.useEffect((()=>{var e,t;T?null===(e=null==_?void 0:_.current)||void 0===e||e.blur():o&&(null===(t=null==_?void 0:_.current)||void 0===t||t.focus())}),[T,o,JSON.stringify(p)]),a.useEffect((()=>{T?x():M()}),[T]);let B=0;for(const i of A)i.props.subItemsProps?B+=i.props.subItemsProps.filter((({unread:e})=>e)).length:f.default.isActivityRead(i.activity)||B++;function V(e){const t=n.findIndex((({_id:t})=>t===e));if(t<0)return null;const i=B?t+1:t,{children:o}=_.current;return o[i].offsetTop-o[0].offsetTop}return r.useWillUnmountEffect((()=>{const{scrollTop:e}=_.current;if(e){const t=A[0].activity._id,n=e-V(t);v({offsetFromFirstActivity:n,firstActivityId:t})}})),s.h("div",{ref:_,class:h.default("activityList",{noUpdate:0===B}),tabIndex:0,onFocus:M,onBlur:x,style:{width:e+60}},B>0&&s.h("div",{class:"updateBar",style:{width:e}},s.h("span",{class:"emoji"},"🐝"),s.h("span",{class:"infoText ellipsis"},"You got ",d.pluralize(B,"new update"),"."),s.h(l.default,{class:"markAsReadButton",ninja:!0,onClick:S},"Mark as read")),w.map((({activity:t,props:n})=>{var i;return s.h(u.default,Object.assign({key:t._id,width:e,autoSelect:T,subItemSelected:null===(i=n.subItemsProps)||void 0===i?void 0:i.some((({selected:e})=>e))},n))})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2314)),a=i(n(2318)),r=n(610),l=i(n(590)),c=n(2321),d=i(n(708)),u=n(583),h=n(631),p=i(n(1180)),f=i(n(841)),g=i(n(2322)),m=i(n(707));t.default=function(e,t){var n,i,b,S,y,v;const{events:O,actionName:C,updated:E}=e,[T]=O,{selectedActivitiyId:_,selectedEventIds:P,onClick:I,onToggleReadStatusClick:j,noFilterApplied:D}=t;let k,R,A,w,N,L,M=()=>W([T._id]);const x=O.length>1,U=T.project?l.default.PROJECT:l.default.STYLEGUIDE,B=null!==(n=T.project)&&void 0!==n?n:T.styleguide,V=[d.default.UpdateOrganizationMemberRole,d.default.InviteMember];if(B&&!V.includes(C)){const e=r.getPlatformString(B.type);A={barrelName:B.name,platform:e}}let z=[];for(const{source:o}of O)(null==o?void 0:o._id)&&z.every((({_id:e})=>e!==(null==o?void 0:o._id)))&&z.push(o);function F(){return o.h(g.default,{users:z})}function W(t){I(e,t)}function H(e){return t=>{null==t||t.stopPropagation(),W(e)}}function G(t){return()=>j(e,t)}function $({getSubItemContent:e,getSingleItemContent:t}){return x?{subItemsProps:O.map((t=>function({markedAsRead:e,_id:t},n){return{eventIds:[t],unread:!e,selected:t===P[0],onClick:H([t]),onToggleReadStatusClick:G([t]),children:n}}(t,e(t))))}:{content:null==t?void 0:t()}}function q(e,t){var n,i,s;const a=null===(n=T.variantGroup)||void 0===n?void 0:n.name,r=null===(s=null===(i=T.variantGroup)||void 0===i?void 0:i.screens[0])||void 0===s?void 0:s.variantName;k=a&&r?o.h(o.Fragment,null,F()," ",e," ",Q(r)," variant of ",Q(a)):o.h(o.Fragment,null,F()," ",e," ",Q(t))}function Z(e,t,n){x?k=o.h(o.Fragment,null,F()," ",e," ",O.length," ",t,"s"):q(`${e} ${t}`,n)}function K(e,t,n){Z(e,t,n(T)),Y(n)}function Y(e){({subItemsProps:w}=$({getSubItemContent:t=>o.h("span",{class:"activitySubItemContent"},e(t))}))}function J(e){k=o.h(o.Fragment,null,F()," ",e,o.h("div",{class:"noteInfo"},o.h(p.default,{class:"noteColor",color:h.getColorName(T.dot.color)}),Q(`Note ${T.dot.name}`)),Q(` - ${T.screen.name}`))}function X(e){x?k=o.h(o.Fragment,null,F()," ",e," ",O.length," notes on screen ",Q(T.screen.name)):J(e)}function Q(e){return o.h("span",{class:"bold"},e)}switch(C){case d.default.AddProjectExtension:case d.default.AddStyleguideExtension:K("added","extension",(({extension:e})=>e.name));break;case d.default.ActivateProject:case d.default.ActivateStyleguide:q(`activated ${U}`,T[U].name);break;case d.default.ArchiveProject:case d.default.ArchiveStyleguide:q(`archived ${U}`,T[U].name);break;case d.default.AuthProjectSlack:case d.default.AuthStyleguideSlack:q(`connected ${T[U].name} to Slack channel`,e.content);break;case d.default.CreateProjectComponent:case d.default.CreateStyleguideComponent:K("added","component",(({component:e})=>e.name));break;case d.default.CreateProjectComponentVersion:case d.default.CreateStyleguideComponentVersion:K("updated","component",(({component:e})=>e.name));break;case d.default.CreateProjectColor:case d.default.CreateStyleguideColor:Z("added","color",`#${T.color.name}`);break;case d.default.CreateDot:{X("added");const e=e=>{const{name:t,color:n,note:i}=Object.assign({},e.dot);return o.h(s.default,{color:n,title:`Note ${t}`,description:i,pid:B._id})},t=()=>o.h(s.default,{description:T.dot.note,pid:B._id});({subItemsProps:w,content:R}=$({getSubItemContent:e,getSingleItemContent:t}));break}case d.default.CreateDotMention:J("mentioned you on"),R=o.h(s.default,{description:T.dot.note,pid:B._id});break;case d.default.CreateDotCommentMention:J("mentioned you on"),R=o.h(s.default,{description:T.comment.note,pid:B._id});break;case d.default.CreateDotComment:{const e=O.map((({_id:e})=>e));N=()=>W(e),z.length>1?J("had a conversation on"):x?J(`added ${O.length} replies to`):(J("replied to"),R=o.h(s.default,{description:T.comment.note,pid:B._id}));break}case d.default.CreateScreen:K("added","screen",(({screen:e})=>e.name));break;case d.default.CreateScreenVersion:{const e=new Set(O.map((({screen:e})=>e._id)));k=x?o.h(o.Fragment,null,F()," added versions to ",u.pluralize(e.size,"screen",{one:"a"})):o.h(o.Fragment,null,F()," added a version to screen ",Q(T.screen.name)),Y((({screen:e})=>e.name));break}case d.default.CreateProjectTextStyle:case d.default.CreateStyleguideTextStyle:Z("added","text style",T.textStyle.name);break;case d.default.DeleteProjectColor:case d.default.DeleteStyleguideColor:Z("removed","color",`#${T.color.name}`);break;case d.default.DeleteProjectComponent:case d.default.DeleteStyleguideComponent:K("removed","component",(({component:e})=>e.name));break;case d.default.DeleteScreen:K("removed","screen",(({screen:e})=>e.name));break;case d.default.DeleteProject:case d.default.DeleteStyleguide:q(`deleted ${U}`,T[U].name);break;case d.default.DeleteProjectTextStyle:case d.default.DeleteStyleguideTextStyle:Z("removed","text style",T.textStyle.name);break;case d.default.RemoveExtensionFromProject:case d.default.RemoveExtensionFromStyleguide:Z("removed","extension",T.extension.name);break;case d.default.ResolveDot:{X("resolved");const e=e=>{const{name:t,color:n}=Object.assign({},e.dot);return o.h(s.default,{color:n,title:`Note ${t}`})};({subItemsProps:w}=$({getSubItemContent:e}));break}case d.default.UpdateOrganizationMemberRole:{const e=O[O.length-1],{name:t,icon:n}=c.roleMap[e.user.role];z=[e.source],q(o.h(o.Fragment,null,"assigned you as ",t," ",o.h(f.default,{class:"roleIcon",asset:n})," on organization"),T.organization.name);break}case d.default.UpdateProjectColor:case d.default.UpdateStyleguideColor:Z("updated","color",`#${T.color.name}`);break;case d.default.UpdateProjectUserRole:case d.default.UpdateStyleguideUserRole:K("assigned you as an admin on",U,(({[U]:e})=>e.name));break;case d.default.UpdateProjectTextStyle:case d.default.UpdateStyleguideTextStyle:Z("updated","text style",T.textStyle.name);break;case d.default.UserJoined:case d.default.ProjectUserJoined:case d.default.StyleguideUserJoined:z=[T.member],q(`joined ${U}`,T[U].name);break;case d.default.RemoveUserFromProject:case d.default.RemoveUserFromStyleguide:q(`removed you from ${U}`,T[U].name);break;case d.default.InviteMember:q("invited you to organization",T.organization.name);break;case d.default.InviteProjectUser:case d.default.InviteStyleguideUser:K("invited you to",U,(({[U]:e})=>e.name));break;case d.default.TransferProjectOwnership:case d.default.TransferStyleguideOwnership:k=x?o.h(o.Fragment,null,F()," transfered ",O.length," ownerships to you"):o.h(o.Fragment,null,F()," transfered ownership of ",U," ",Q(T[U].name)," to you"),Y((({[U]:e})=>e.name));break;case d.default.CreateProjectSpacingToken:case d.default.CreateStyleguideSpacingToken:Z("added","spacing token",T.spacingToken.token);break;case d.default.UpdateProjectSpacingToken:case d.default.UpdateStyleguideSpacingToken:Z("updated","spacing token",T.spacingToken.token);break;case d.default.DeleteProjectSpacingToken:case d.default.DeleteStyleguideSpacingToken:Z("removed","spacing token",T.spacingToken.token);break;case d.default.AttachProjectToJiraIssue:case d.default.AttachSectionToJiraIssue:case d.default.AttachScreenToJiraIssue:case d.default.RemoveProjectJiraIssueAttachment:case d.default.RemoveSectionJiraIssueAttachment:case d.default.RemoveScreenJiraIssueAttachment:{const e=[d.default.AttachProjectToJiraIssue,d.default.AttachSectionToJiraIssue,d.default.AttachScreenToJiraIssue];let t;L=[],t=e.includes(C)?{name:"attached",preposition:"to"}:{name:"removed",preposition:"from"};const n=new Map;if(O.forEach((e=>{const{jiraAttachment:t,_id:i,markedAsRead:o}=e;n.get(t.itemName)||n.set(t.itemName,[]);const s=n.get(t.itemName);s.push({eventId:i,markedAsRead:o,text:t.issueKey,link:`${t.deploymentUrl}/browse/${t.issueKey}`}),n.set(t.itemName,s)})),n.size>1){w=[];let e=0;n.forEach((t=>{e+=t.length})),M=()=>W(n.values().next().value.map((({eventId:e})=>e))),n.forEach(((e,n)=>{const i=e.every((({markedAsRead:e})=>e)),s=e.map((({eventId:e})=>e)),r=s.length===P.length&&P.every((e=>s.includes(e)));L.push(s),w.push({eventIds:s,unread:!i,selected:r,onClick:H(s),onToggleReadStatusClick:G(s),children:o.h(a.default,{item:n,actionText:`is ${t.name} ${t.preposition}`,jiraIssues:e})})})),k=o.h(o.Fragment,null,F()," ",t.name," ",n.size," ",T.jiraAttachment.type,"s with ",e," Jira issues.")}else{const e=n.get(T.jiraAttachment.itemName),s=e.map((({eventId:e})=>e));L.push(s);const a=null!==(S=null===(b=null===(i=T.variantGroup)||void 0===i?void 0:i.screens[0])||void 0===b?void 0:b.variantName)&&void 0!==S?S:T.jiraAttachment.itemName,r=null===(y=T.variantGroup)||void 0===y?void 0:y.name;k=o.h("div",{class:"jiraIssueTitle"},F()," ",t.name," Jira Issue ",e.map((({link:e,text:t},n)=>o.h(o.Fragment,null,n>0&&o.h("span",null,", "),o.h("a",{href:e,class:"jiraIssueLink",target:"_blank",rel:"noopener"},t))))," ",t.preposition," ",Q(a),r&&o.h(o.Fragment,null," variant of ",Q(r)))}break}default:throw new Error("Unknown activity type")}return{eventIds:L||(null===(v=e.events)||void 0===v?void 0:v.map((({_id:e})=>[e]))),unread:!m.default.isActivityRead(e),title:k,content:R,updated:E,onClick:N||function(){I(e,e.events.map((({_id:e})=>e)))},onAutoSubItemSelect:w&&M,onToggleReadStatusClick:G(e.events.map((({_id:e})=>e))),users:z,barrelInfo:A,subItemsProps:w,withBarrelInfo:D,selected:_===e._id&&!w}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2315);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1180)),a=n(631),r=i(n(1213)),l=n(1215),c=n(586),d=n(2316);n(2317);const u=[l.CustomRules.SPOTIFY,l.CustomRules.YOUTUBE,l.MarkdownRules.IMAGE,l.MarkdownRules.CHECKBOX,l.MarkdownRules.TABLE,l.MarkdownRules.HEADING];t.default=function({color:e,title:t,description:n,pid:i}){const l=d.startsWithBlockMarkdown(n)?":\n":": ",h=[d.boldenMarkdown(t),n].filter(c.exists).join(l);return o.h("div",{class:"activityItemInfo"},e&&o.h(s.default,{color:a.getColorName(e)}),h&&o.h("span",{class:"activityItemInfoText ellipsis"},o.h(r.default,{barrelId:i,disabledFeatures:u},h)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boldenMarkdown=t.startsWithBlockMarkdown=void 0;const[i]=["**","__"],o=[">","```"];t.startsWithBlockMarkdown=function(e){return o.some((t=>null==e?void 0:e.startsWith(t)))},t.boldenMarkdown=function(e){return function(e){return null!=e&&!!e.length}(e)?`${i}${e}${i}`:e}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2319);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2320),t.default=function({item:e,actionText:t,jiraIssues:n}){return i.h("div",{class:"activityJiraIntegrationInfo"},i.h("span",{class:"bold"},e),i.h("span",{class:"action"},t),n.map((({text:e,link:t},n)=>i.h(i.Fragment,null,n>0&&i.h("span",null,", "),i.h("a",{href:t,class:"jiraIssueLink",target:"_blank",rel:"noopener"},e)))))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roleMap=void 0,t.roleMap={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Developer",icon:"img/icKnight.png"},pawn:{name:"Reviewer",icon:"img/icPawn.png"}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2323);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1209)),a=n(553),r=n(624);n(2324);function l({user:e}){return o.h(s.default,{class:"activityUsernamesUserProfileCardPopoverContainer",member:{user:e}},a.getUserDisplayName(e))}t.default=function({users:e}){const t=e.length,n=t>4,i=n?3:4,s=e.slice(0,i);let c;if(n){const t=e.slice(i),n=`${t.length} members`,s=t.map(a.getUserDisplayName).join("\n");c=o.h("span",{title:s},n)}else if(t>1){const e=s.pop();c=o.h(l,{key:e._id,user:e})}return o.h("span",null,r.joinDOMElements(s.map((e=>o.h(l,{key:e._id,user:e}))),", "),c&&o.h(o.Fragment,null," and ",c))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2326);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724)),r=i(n(1207)),l=n(959),c=i(n(2327)),d=i(n(1137));n(2329),t.default=function({width:e,unread:t,title:n,content:i,barrelInfo:u,users:h,subItemsProps:p,updated:f,onClick:g,onAutoSubItemSelect:m,onToggleReadStatusClick:b,selected:S,withBarrelInfo:y,subItemSelected:v,autoSelect:O}){const C=a.default("activityItem",{selected:S,selectable:!p}),E=s.useRef(),[T,_]=s.useState(null),{barrelName:P,platform:I}=Object.assign({},u);function j(){var e;(null===(e=null==E?void 0:E.current)||void 0===e?void 0:e.parentElement)&&!l.isElementVisible(E.current,E.current.parentElement)&&E.current.clientHeight<=E.current.parentElement.clientHeight&&l.scrollIfNecessary(E.current,{offset:4})}function D(){_(null)}s.useEffect((()=>{S&&!O&&j()}),[S,O]),s.useEffect((()=>{v&&j()}),[v]);const k=!!E.current&&!!E.current.parentElement&&E.current.clientHeight>E.current.parentElement.clientHeight;return o.h("button",{class:C,style:{width:e},ref:E,onClick:function(){p&&m?m():g()},onContextMenu:function(e){e.preventDefault(),_({x:e.clientX,y:e.clientY})}},t&&!p&&o.h("div",{class:"unreadActivityIndicator"}),o.h("div",{class:"activityItemTitle"},n),!!i&&o.h("div",{class:"activityContent"},i),o.h("div",{class:"activityItemFooter"},o.h(r.default,{currentMemberRole:"user",members:null==h?void 0:h.map((e=>({user:e}))),memberLimit:4,class:"activityMembers",remainingMembersClass:"activityRemainingMembers",avatarSize:24,stacked:!0,showCardOnHover:!0}),y&&u&&o.h("div",{class:"activityBarrelInfo ellipsis"},o.h("div",{class:"barrelName ellipsis",title:P},P),o.h("span",{class:"dotSeparator"}),o.h("div",{class:"platform"},I)),o.h("zpl-time-ago",{key:"time",format:"micro",class:"date",datetime:f})),p&&o.h("div",{class:"activitySubItems"},p.map((({eventIds:e,unread:t,selected:n,onClick:i,onToggleReadStatusClick:s,children:a})=>{var r;return o.h(c.default,{key:e[0],unread:t,selected:n,onClick:i,onToggleReadStatusClick:s,listContainer:null===(r=null==E?void 0:E.current)||void 0===r?void 0:r.parentElement,parentItemOverflow:k},a)}))),function(){if(E.current&&T)return o.h(d.default.overlay,{onClose:D,autoPosition:{menuContainer:E.current,clickOrigin:T}},o.h(d.default.Item,{onClick:b},"Mark as "+(t?"read":"unread")))}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(724)),r=i(n(1137)),l=n(959);n(2328),t.default=function({children:e,selected:t,onClick:n,onToggleReadStatusClick:i,unread:c,nonSelectable:d,parentItemOverflow:u,listContainer:h}){const p=s.useRef(),[f,g]=s.useState(null);function m(){g(null)}return s.useEffect((()=>{var e;t&&u&&!l.isElementVisible(p.current,h)&&(null===(e=null==p?void 0:p.current)||void 0===e||e.scrollIntoView())}),[t]),o.h("button",{ref:p,class:a.default("activitySubItem",{selected:t,nonSelectable:d}),onClick:n,onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),g({x:e.clientX,y:e.clientY})}},o.h(o.Fragment,null,c&&o.h("div",{class:"unreadActivityIndicator"}),e,function(){if(p.current&&f)return o.h(r.default.overlay,{onClose:m,autoPosition:{menuContainer:p.current,clickOrigin:f}},o.h(r.default.Item,{onClick:i},c?"Mark as read":"Mark as unread"))}()))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2332);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=i(n(711)),r=i(n(707)),l=i(n(570)),c=n(731),d=i(n(2333)),u=i(n(2335)),h=i(n(2338)),p=i(n(2339)),f=i(n(2342)),g=i(n(961));n(2348);t.default=function({width:e,activity:t,events:n,dot:i,dotSnapshot:m,dotError:b,onToggleReadStatusClick:S,onToggleDotStatusClick:y,onAddDotCommentClick:v,onActivitiesNavigationClick:O}){const C=.5*e,E=s.useRef(),T=h.default.getDetails(t,n[0]),_=r.default.getCategory(t),P=_===l.default.Note?m:null==T?void 0:T.snapshot,I=(null==T?void 0:T.title)&&(_!==l.default.Note||!b),j=r.default.areEventsRead(n);function D(){const{status:e}=i;g.default({text:e===a.default.RESOLVED?"Note reopened":"Note resolved",container:E.current,source:"dotStatus"}),y()}function k(){g.default({text:j?"Marked as unread":"Marked as read",container:E.current,source:"readStatus"}),S(t,n.map((({_id:e})=>e)))}return o.h("div",{ref:E,class:"activityDetailsContainer",style:{width:e+12}},o.h("div",{class:"activityDetails",style:{width:e+36}},function(){if(!(null==T?void 0:T.title))return null;const{title:e,typeName:t,link:n}=T;return o.h("div",{class:"activityHeader"},o.h("span",{class:"title ellipsis"},e),o.h("a",{class:"link",onClick:O,"data-back":"Notifications","data-link-type":"inApp",href:n},"Go to ",t,o.h(c.IconSlimArrowRight,{class:"arrow"})))}(),I?o.h(p.default,{width:e,height:C,snapshot:P,category:_,dot:i}):null,(null==T?void 0:T.title)&&_!==l.default.Screen&&!b?null:o.h(u.default,{width:e,height:C,activity:t,markedAsRead:j,details:T,category:_,onToggleReadStatusClick:k}),_===l.default.Note&&i?o.h(f.default,{activity:t,event:n[0],markedAsRead:j,dot:i,onToggleDotStatusClick:D,onToggleReadStatusClick:k,onAddCommentClick:v}):null,_===l.default.Styleguide&&I?o.h(d.default,{class:"toggleReadStatusButtonForComponents",markedAsRead:j,onClick:k}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2334);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724));t.default=function({class:e,markedAsRead:t,onClick:n}){return o.h("button",{type:"button",class:s.default("button","primary",e),onClick:n},t?"Mark as Unread":"Mark as Read")}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2336);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(570)),a=i(n(724)),r=i(n(2333));n(2337),t.default=function({width:e,height:t,activity:n,markedAsRead:i,details:l,category:c,onToggleReadStatusClick:d}){let u,h,p,f,g,m={width:e,height:t};if(c===s.default.Screen&&l){const{content:e}=n;u="commitInfo",h=!e,p="Commit message",g=e||"No commit message",m={}}else c===s.default.Note?(u="otherActivityInfo",h=!1,p="Note not available anymore",g="It was probably deleted, please contact the author."):(u="otherActivityInfo",h=!1,p="No preview",f=null==l?void 0:l.link,g=(null==l?void 0:l.typeName)?`Head to the styleguide to view the new ${l.typeName}${n.events.length>1?"s":""}.`:"This notification does not have a preview.");return o.h("div",{class:a.default("activityDetailsInfo",u),style:m},o.h("span",{class:"title"},p),o.h("span",{class:a.default("description",{grayedOut:h})},g),o.h("div",{class:"buttons"},f&&o.h("a",{class:"button secondary inlineLink","data-back":"Notifications","data-link-type":"inApp",href:f},"Go to Styleguide"),o.h(r.default,{markedAsRead:i,onClick:d})))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(686);function o({project:e,styleguide:t},n,o,s){const a=e?n:o,{_id:r}=null!=e?e:t;return{typeName:s,link:i.urlResolve(a,{url:{bid:r}})}}function s(e,t){var n,o;const{project:s,screen:a,dot:r,comment:l}=e,{_id:c}=s,{_id:d,name:u}=a,h=t?null==r?void 0:r._id:void 0,p=(null==t?void 0:t.showComment)?null==l?void 0:l._id:void 0;return{title:u,typeName:"screen",link:i.urlResolve("project-screen",{url:{pid:c,sid:d},query:{did:h,cmid:p}}),snapshot:null===(o=null===(n=e.screen)||void 0===n?void 0:n.latestVersion)||void 0===o?void 0:o.snapshotFragment}}t.default={getDetails:function(e,t){switch(e.actionName){case"CreateProjectComponent":case"CreateStyleguideComponent":case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const{project:e,styleguide:n}=t,o=e?"project-styleguide-components":"styleguide-components",{_id:s}=null!=e?e:n,{_id:a,name:r,latestVersion:l}=t.component;return{title:r,typeName:"component",link:i.urlResolve(o,{url:{bid:s},query:{coid:a}}),snapshot:null==l?void 0:l.snapshotFragment}}case"CreateProjectColor":case"CreateStyleguideColor":case"UpdateProjectColor":case"UpdateStyleguideColor":return o(t,"project-styleguide-colors","styleguide-colors","color");case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":return o(t,"project-styleguide-textstyles","styleguide-textstyles","text style");case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":return o(t,"project-styleguide-spacing","styleguide-spacing","spacing token");case"CreateDot":case"ResolveDot":case"CreateDot-Mention":return s(t,{showComment:!1});case"CreateDotComment-Mention":case"CreateDotComment":return s(t,{showComment:!0});case"CreateScreen":case"CreateScreenVersion":return s(t);default:return}}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2340);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(570)),a=n(1183),r=i(n(724)),l=i(n(1787)),c=i(n(711));n(2341);const d=638,u=318;t.default=function({width:e,height:t,snapshot:n,category:i,dot:h}){const p=i!==s.default.Note&&!n,{url:f,width:g,height:m}=Object.assign({},n),b=(e-2)/d,S={};if(n&&i===s.default.Note&&h){let e=g,t=m;(e>d||t>u)&&(e*=.8,t*=.8);const n=319-Math.round(h.x*e),i=159-Math.round(h.y*t);S.left=Math.round(n*b),S.top=Math.round(i*b),S.width=Math.round(e*b),S.height=Math.round(t*b)}else if(n&&i===s.default.Styleguide)S.maxHeight=Math.min(m,Math.round(218*b)),S.maxWidth=Math.min(g,Math.round(508*b));else if(n&&i===s.default.Screen){m*(Math.min(g,508)/g)>268*b&&(S.top=Math.round(50*b)),S.maxWidth=Math.min(g,Math.round(508*b))}const y=!function(e){return 0===Object.keys(e).length}(S);return o.h("div",{class:r.default("activityPreview",{noPreview:p}),style:{width:e,height:t}},n&&y&&o.h(l.default.Image,{key:f,class:"image",url:f,style:S}),p&&o.h("span",{class:"noPreviewLabel"},"No preview"),h&&n&&y&&o.h("div",{class:r.default("staticDot",{resolved:h.status===c.default.RESOLVED}),style:{backgroundColor:new a.Color(h.color).toCSS()}},h.name))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2343);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(1149),r=i(n(711)),l=i(n(1766)),c=i(n(2333)),d=i(n(708)),u=i(n(2344));n(2347);t.default=function({activity:e,event:t,markedAsRead:n,dot:i,onToggleDotStatusClick:h,onToggleReadStatusClick:p,onAddCommentClick:f}){var g;const[m,b]=s.useState(!1),[S,y]=s.useState([]),[v,O]=s.useState(!1),C=s.useRef(),E=s.useRef(),T=s.useRef(),_=a.usePrevious([...i.comments]);function P(){if(E.current){const e=E.current,t=C.current,n=t.parentElement;let i=0;const o=n.offsetHeight-t.offsetTop;Array.from(t.children).forEach((t=>{t!==e&&(i+=t.scrollHeight)}));const s=i+87,a=i+e.scrollHeight;b(s<o&&a>o)}}s.useEffect((()=>{var e;_&&i.comments.length-_.length==1&&_.every(((e,t)=>e===i.comments[t]))&&(y([]),null===(e=E.current)||void 0===e||e.children[i.comments.length-1].scrollIntoView())}),[i.comments.length]),a.useResize(null===(g=T.current)||void 0===g?void 0:g.base,P),a.useWindowEventListener("resize",P),s.useEffect(P),s.useEffect((()=>{switch(e.actionName){case d.default.CreateDotComment:y(e.events.map((({comment:e})=>e._id)));break;case d.default.CreateDotCommentMention:case d.default.CreateDotMention:case d.default.CreateDot:y([t.comment._id]);break;default:y([])}O(!0)}),[t]),s.useEffect((()=>{var e;if(v){const t=i.comments.findIndex((({_id:e})=>S.includes(e))),n=-1!==t?t:0;null===(e=E.current)||void 0===e||e.children[n].scrollIntoView(),O(!1)}}),[v]);const{_id:I,comments:j,status:D}=i,k=D===r.default.OPEN;s.useEffect((()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.cancelEdit()}),[I,D]);const R=m?{flex:"1 1 87px","border-bottom":"1px solid var(--karl)"}:{};function A(e){y(S.filter((t=>t!==e)))}return o.h("div",{ref:C,class:"noteDetails"},o.h("div",{ref:E,class:"comments",style:R},j.map((e=>o.h(u.default,{key:e._id,pid:t.project._id,comment:e,highlighted:S.includes(e._id),onHover:A})))),k&&o.h(l.default,{ref:T,containerClass:"newCommentContainer",class:"newComment",placeholder:"Reply",maxLength:1024,color:"cornflowerBlue",readOnly:!k,onSubmit:f,resetOnSubmit:!0,markdownEditor:!0,barrelId:t.project._id}),o.h("div",{class:"buttons"},o.h("button",{type:"button",class:"button secondary resolve",onClick:h},k?"Resolve":"Reopen"),o.h(c.default,{markedAsRead:n,onClick:p})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2345);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(724)),a=n(959),r=i(n(935)),l=i(n(1213)),c=i(n(1209)),d=n(1215),u=n(553);n(2346);const h=[d.CustomRules.SPOTIFY,d.CustomRules.YOUTUBE,d.MarkdownRules.CHECKBOX,d.MarkdownRules.TABLE,d.MarkdownRules.HEADING];t.default=function({comment:{_id:e,author:t,created:n,note:i},pid:d,highlighted:p,onHover:f}){const g=t||{username:"Anonymous",fullName:"Anonymous"};return o.h("div",{key:e,class:s.default("comment",{highlighted:p}),onMouseEnter:function(){f(e)}},o.h("div",{class:"commentHeader"},o.h(c.default,{member:{user:g}},o.h(r.default,{class:"memberRowAvatar",src:a.getUserAvatar(g).src,size:24})),o.h("span",{class:"authorName ellipsis"},u.getUserDisplayName(g)),o.h("zpl-time-ago",{format:"micro",class:"date",datetime:n})),o.h(l.default,{barrelId:d,disabledFeatures:h},i))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(569)),s=i(n(567)),a=i(n(590)),r={select(e,t){const{selectedId:n,selectedEventIds:i}=s.default.ActivitiesViewStore.getState(),a=!n,r=n===e._id&&i.every((e=>t.includes(e)))&&t.length===i.length;s.default.dispatcher.dispatch({type:o.default.Select,activity:e,eventIds:t,options:{reselect:r,autoSelect:a}})},setDotsLoaded(e){s.default.dispatcher.dispatch({type:o.default.SetDotsLoaded,activity:e})},selectCategory(e){s.default.ActivitiesViewStore.getState().category!==e&&s.default.dispatcher.dispatch({type:o.default.SelectCategory,category:e})},selectAllBarrels(){"all"!==s.default.ActivitiesViewStore.getState().barrelSelection.type&&s.default.dispatcher.dispatch({type:o.default.SelectAllBarrels})},selectBarrel(e,t,n){const{barrelSelection:i}=s.default.ActivitiesViewStore.getState();(i.type!==t||i.id!==e||i.type!==a.default.STYLEGUIDE&&i.isPinned!==n)&&s.default.dispatcher.dispatch({type:o.default.SelectBarrel,id:e,isPinned:n,barrelType:t})},setProjectsWithUpdatesOnly(e){s.default.dispatcher.dispatch({type:o.default.SetProjectsWithUpdatesOnly,projectsWithUpdatesOnly:e})},load(e){s.default.dispatcher.dispatch({type:o.default.Load,data:e})},selectNoteStatusFilter(e){s.default.ActivitiesViewStore.getState().noteStatusFilter!==e&&s.default.dispatcher.dispatch({type:o.default.SelectNoteStatusFilter,noteStatusFilter:e})},selectColor(e){s.default.ActivitiesViewStore.getState().color!==e&&s.default.dispatcher.dispatch({type:o.default.SelectColor,color:e})},selectMember(e){s.default.ActivitiesViewStore.getState().memberId!==e&&s.default.dispatcher.dispatch({type:o.default.SelectMember,memberId:e})},selectSection(e){s.default.ActivitiesViewStore.getState().sectionId!==e&&s.default.dispatcher.dispatch({type:o.default.SelectSection,sectionId:e})},requestRelatedUsers(e){s.default.dispatcher.dispatch({type:o.default.RequestRelatedUsers,oid:e})},setSidebarWidth(e){s.default.dispatcher.dispatch({type:o.default.SetSidebarWidth,sidebarWidth:e})},saveListScrollData(e){e&&"activities"===s.default.AppStore.getState().page||s.default.dispatcher.dispatch({type:o.default.SaveListScrollData,listScrollData:e})}};t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2351);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(590)),a=i(n(724)),r=i(n(849)),l=i(n(1419)),c=i(n(2352));function d(e,t,n){return o.h(c.default,{name:t.name,bid:t.id,barrelType:e,type:t.type,muted:t.muted,hasUpdate:t.hasUpdate,mentionCount:e===s.default.PROJECT?t.mentionCount:0,onToggleMuteStatusClick:n})}function u(e,t){return e.projects.map((e=>({id:e._id,title:e.name,nodePadding:-24,children:[],content:d(s.default.PROJECT,e,t)})))}function h(e){return e.replace("pinned-","")}function p(e,t){return!!t&&h(t)===h(e)}n(2355),t.default=function({allSelected:e,projectsWithUpdatesOnly:t,sections:n,styleguides:i,selectAll:f,selectBarrel:g,onProjectsWithUpdatesOnlyChange:m,projectId:b,isSelectedProjectPinned:S,styleguideId:y,pinnedProjectIds:v,selectedOrganizationId:O,onToggleMuteStatusClick:C}){function E(e){g(e,s.default.STYLEGUIDE)}function T(e){e.match(/pinned-/g)?g(h(e),s.default.PROJECT,!0):g(e,s.default.PROJECT)}return o.h("div",{class:"activityBarrels"},o.h("span",{class:a.default("allBarrelsItem",{selected:e}),title:"All Projects and Styleguides",onClick:f},"All Projects and Styleguides"),function(){let t;e||(t=S?`pinned-${b}`:b);const i=function(e,t,n,i){const a={id:"pinnedProjects",class:"projectSection",title:"Pinned Projects",children:[],nonSelectable:!0,expandOnClick:!0,content:o.h(c.default,{name:"Pinned Projects"})},r="user"===n?"Projects":"Joined Projects",l={id:"joinedProjects",class:"joinedProjects",title:r,nonSelectable:!0,expandOnClick:!0,content:o.h(c.default,{name:r,root:!0}),children:"user"===n?u(e[0],i):e.map((e=>({id:e._id,class:"projectSection",title:e.name,nonSelectable:!0,expandOnClick:!0,content:o.h(c.default,{name:e.name}),children:u(e,i)}))).filter((e=>e.children.length>0))};if(null==e||e.forEach((e=>{var n;null===(n=null==e?void 0:e.projects)||void 0===n||n.forEach((e=>{if(null==t?void 0:t.includes(e._id)){const t={id:`pinned-${e._id}`,nodePadding:-24,title:e.name,children:[],content:d(s.default.PROJECT,e,i)};a.children.push(t)}}))})),a.children.length>0&&(l.children=[a,...l.children]),0!==l.children.length)return l}(n,v,O,C);return i&&o.h(l.default,{class:"projectsTree",nodeClass:"barrelTreeNode",nodePadding:-12,tree:[i],selectedNodeId:t,compareIdsForHighlight:p,onNodeSelect:T,allowScrollOnMount:!1})}(),o.h("label",{class:"showProjectsWithUpdatesOnly"},o.h(r.default,{checked:t,onChange:function(e){m(e.target.checked)}}),o.h("span",{class:"label ellipsis",title:"Only show Projects with updates"},"Only show Projects with updates")),function(){const e=function(e,t,n){if(0===e.length)return;const i={},a="user"===t?"Styleguides":"Joined Styleguides";return i.root={id:"joinedStyleguides",class:"joinedStyleguides",title:a,children:[],nonSelectable:!0,content:o.h(c.default,{name:a,root:!0})},e.forEach((e=>{const t={id:e.id,title:e.name,children:[],content:d(s.default.STYLEGUIDE,e,n)};i[t.id]=t})),e.forEach((e=>{var t;if(e.parent&&i[e.parent]){const n=i[e.id],o=i[e.parent];null===(t=null==o?void 0:o.children)||void 0===t||t.push(n)}else i.root.children.push(i[e.id])})),i.root}(i,O,C);return e&&o.h(l.default,{class:"styleguidesTree",nodeClass:"barrelTreeNode",nodePadding:-12,tree:[e],selectedNodeId:y,onNodeSelect:E,allowScrollOnMount:!1})}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2353);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(223),a=n(547),r=i(n(590)),l=i(n(724)),c=i(n(831)),d=i(n(1137)),u=n(731);n(2354),t.default=function({name:e,barrelType:t,bid:n,type:i,muted:h,hasUpdate:p,mentionCount:f,root:g,onToggleMuteStatusClick:m}){const b=s.useRef(),[S,y]=s.useState(!1),[v,O]=s.useState(!1);function C(e){t&&(e.preventDefault(),e.stopPropagation(),y(!0))}function E(){y(!1),O(!1)}function T(){m(h,t,n)}const _=v||S,P=l.default("nodeItem",{muted:h,hasUpdate:p,root:g,active:_});return o.h("div",{ref:b,class:P,onMouseEnter:function(){O(!0)},onMouseLeave:function(){O(!1)},onContextMenu:C},o.h("div",{class:"activityNodeName"},h&&o.h(u.IconMuted,{class:"muteIcon",color:"var(--clooney)",width:15,height:18}),o.h("span",{class:"name ellipsis"},e),i&&o.h("span",{class:"separatorAndType"},", ",o.h("span",{class:"type"},a.PlatformString[i])),!!f&&o.h("span",{class:"mentionCount",title:`${f} unread mentions`},f),t&&_&&o.h(c.default,{class:"activityBarrelOptionsButton",onClick:C},o.h(u.IconMenu,null),S&&o.h(d.default,{class:"activityBarrelOptionsContextMenu",onClose:E},o.h(d.default.Item,{onClick:T},`${h?"Unmute":"Mute"} ${t===r.default.PROJECT?"Project":"Styleguide"}`)))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2357);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2358);t.default=function(){const e=(window.innerHeight||0)-52-36,t=Math.ceil(Math.max(0,e)/112),n=new Array(t);return n.fill(i.h("div",{class:"dummyItem"}),0),i.h("div",{class:"activitiesLoadingPage"},i.h("div",{class:"leftPanel"}),i.h("div",{class:"middlePanel"},n),i.h("div",{class:"rightPanel"},i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2360);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(570)),a=i(n(590)),r=i(n(831));n(2361),t.default=function(e){const{emoji:t,info:n}=function({barrelType:e,category:t,notInvitedToStyleguide:n,onJoinStyleguide:i}){const l=t===s.default.All,c=l?"":" under ",d=l?"":o.h("span",{class:"category"},t,"s"),u=o.h("div",{class:"warning"},"There are no notifications",c,d,".");return e===a.default.STYLEGUIDE&&n?{emoji:"🚪",info:o.h("div",{class:"warning"},"Looks like you are not a member of this styleguide yet—you'll start receiving notifications when you join.",o.h(r.default,{class:"joinStyleguide",ninja:!0,onClick:i},"Join now."))}:{emoji:"🌬",info:u}}(e);return o.h("div",{class:"activitiesWarning"},o.h("span",{class:"emoji"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));t.default={getUserAndAcquaintances:function(){const{acquaintances:e,userId:t,email:n,username:i,fullName:s,avatar:a,emotar:r}=o.default.UserStore.getState();return t&&e?[{_id:t,email:n,username:i,fullName:s,avatar:a,emotar:r},...e]:[]}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(675)),s=i(n(567)),a={requestDotStates(e){s.default.dispatcher.dispatch({type:o.default.RequestDotStates,parameters:e})},addDotStates(e,t){s.default.dispatcher.dispatch({type:o.default.AddDotStates,parameters:e,response:t})},dotStatesError(e){s.default.dispatcher.dispatch({type:o.default.DotStatesError,parameters:e})}};t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2366);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(929),s=n.n(o),a=n(2367),r=n(567),l=n.n(r),c=n(590),d=n.n(c),u=n(1100),h=n(547);class p extends i.Component{static calculateState(){const{overridingCategory:e}=l.a.SupportButtonStore.getState(),{barrelId:t,barrelType:n,selectedView:i}=l.a.BarrelStore.getState(),{selectedOrganizationId:o,selectedTab:s}=l.a.SpaceStore.getState();if(e)return{category:e};if(!t)return{category:"projects"===s&&"user"!==o?u.default.ORGANIZATION_PROJECTS:s};let a;if(n===d.a.STYLEGUIDE)a=u.default.STYLEGUIDE;else switch(i){case h.ProjectViewTypes.DASHBOARD:a=u.default.PROJECT_DASHBOARD;break;case h.ProjectViewTypes.STYLEGUIDE:a=u.default.PROJECT_STYLEGUIDE;break;case h.ProjectViewTypes.SCREEN:a=u.default.PROJECT_SCREEN;break;default:a=u.default.DEFAULT}return{category:a}}static getStores(){return[l.a.SupportButtonStore,l.a.SpaceStore,l.a.BarrelStore]}render(){const{category:e}=this.state;return i.h(a.default,{category:e})}}t.default=s()(p,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(2368);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(968),s=n(724),a=n.n(s),r=n(582),l=n(1100);n(2369);const c={[l.default.DEFAULT]:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/en/articles/244698-downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/en/articles/367379-exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/en/articles/1067453-exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"}],[l.default.PRICING]:[{text:"Pricing & Plans",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"},{text:"Creating an account",url:"https://support.zeplin.io/en/articles/1067135-creating-an-account"},{text:"Collaborating with your team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Choosing a subscription plan",url:"https://support.zeplin.io/en/articles/1166181-choosing-a-subscription-plan"}],[l.default.PROJECTS]:[{text:"Adding a user to a project",url:"https://support.zeplin.io/en/articles/1988444-adding-a-user-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/en/collections/48616-profile"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"}],[l.default.PROJECT_DASHBOARD]:[{text:"Adding a project to Slack",url:"https://support.zeplin.io/en/articles/246424-adding-a-project-to-slack"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Downloading screens as images",url:"https://support.zeplin.io/en/articles/774216-downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/en/articles/1396666-organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"}],[l.default.PROJECT_STYLEGUIDE]:[{text:"Organizing styleguide colors",url:"https://support.zeplin.io/en/articles/1444421-organizing-styleguide-colors"},{text:"Organizing styleguide text styles",url:"https://support.zeplin.io/en/articles/1504520-organizing-styleguide-text-styles"},{text:"Exporting colors from Sketch",url:"https://support.zeplin.io/en/articles/1444521-exporting-colors-from-sketch"},{text:"Exporting text styles from Sketch",url:"https://support.zeplin.io/en/articles/367382-exporting-text-styles-from-sketch"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[l.default.PROJECT_SCREEN]:[{text:"Updating a screen",url:"https://support.zeplin.io/en/articles/1090335-updating-a-screen"},{text:"Exporting assets",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/en/articles/1437093-comparing-app-website-with-designs-using-pop-out"},{text:"Changing units",url:"https://support.zeplin.io/en/articles/377715-changing-units"}],[l.default.STYLEGUIDES]:[{text:"Creating a styleguide",url:"https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"},{text:"Choosing a styleguide type",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[l.default.STYLEGUIDE]:[{text:"Learning styleguide types",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Adding a user to a styleguide",url:"https://support.zeplin.io/en/articles/3074305-adding-a-user-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[l.default.ORGANIZATION_DASHBOARD]:[{text:"Assigning roles to workspace members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Managing access level of workspace members",url:"https://support.zeplin.io/en/articles/4629006-managing-access-level-of-organization-members"},{text:"Grouping workspace members by tags",url:"https://support.zeplin.io/en/articles/419850-grouping-organization-members-by-tags"},{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Transfer workspace ownership",url:"https://support.zeplin.io/en/articles/1374947-transferring-an-organization"}],[l.default.ORGANIZATION_PROJECTS]:[{text:"Transferring personal projects to workspace",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Assigning roles to workspace members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/en/articles/867652-archiving-a-project"}],[l.default.ORGANIZATION_PROFILE]:[{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/en/articles/481582-updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/en/articles/479220-sending-invoices"}],[l.default.PROFILE]:[{text:"Setting your profile picture",url:"https://support.zeplin.io/en/articles/246033-setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/en/articles/980050-transferring-a-subscription"}]};class d extends o.default{constructor(){var e,t,n;super(),n=()=>{mixpanel.master.track("Life saver popover",{"Clicked On":"All articles"})},(t="handleSupportLinkClick")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){mixpanel.master.track("Life saver popover",{"Clicked On":"Intercom"}),Intercom("showMessages")}handleLinkClick(e){mixpanel.master.track("Life saver popover",{"Clicked On":e.target.closest("a").href})}buttonClickHandler(e){e.stopPropagation(),this.setState((e=>({popupOpen:!e.popupOpen})))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){Intercom("onShow",(()=>{this.setState({intercomOpen:!0})})),Intercom("onHide",(()=>{this.setState({intercomOpen:!1})})),Intercom("onUnreadCountChange",(e=>{this.setState({unreadCount:e})}))}componentDidUpdate(){this.state.popupOpen?(document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler)):(document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler))}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{category:e}=this.props,t=c[e].map((e=>i.h("li",{key:e.url},i.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.h("span",null,e.text)))));return i.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.h("h3",null,"Handy articles:"),i.h("ul",null,t),i.h("hr",null),i.h("a",{href:"https://support.zeplin.io",onClick:this.handleSupportLinkClick,target:"_blank"},"Got another question? ☝️"),i.h("hr",null),i.h("button",{type:"button",onClick:this.showMessages},i.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=a()("supportButton",{popupOpen:e,intercomOpen:t});return i.h("div",{class:n,onClick:this.buttonClickHandler},i.h("img",{src:r.imageUrl("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}d.defaultProps={category:l.default.DEFAULT},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2371);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(4),o=n(546),s=n(223),a=n(841),r=n(831),l=n(959),c=n(548),d=n(544),u=n(724),h=n.n(u);n(2372);const p="fallback",f="initial",g="downloading",m="ready";function b(){const[e,t]=Object(s.useState)(0);Object(s.useEffect)((()=>{const n=setInterval((()=>{t((e+1)%3)}),1e3);return()=>clearInterval(n)}));const n=`${".".repeat(e+1)}`;return i.h(r.default,{class:"downloadingUpdates",primary:!0,disabled:!0},"Downloading",n)}function S(){const[e,t]=Object(s.useState)(function(){const e=Object(d.getAppVersion)();return!("unknown"!==e&&!e.startsWith("0")&&!e.startsWith("1"))}()?p:f);function n(){Object(l.openLink)("https://zpl.io/download-windows-64")}function u(){t(g),location.assign(`${c.ZPL_PROTOCOL}//update`)}function S(){t(m)}function y(){o.default.ipcRenderer.send("restart-app")}return Object(s.useEffect)((()=>(o.default.ipcRenderer.on("app-update-downloaded",S),()=>o.default.ipcRenderer.removeAllListeners("app-update-downloaded")))),i.h("main",{class:h()("windowsAppForceUpdateNotifier",e)},e===m?i.h(a.default,{asset:"/img/imgUpdatedApp.png"}):i.h(a.default,{asset:"/img/imgUpdateApp.png"}),e===m?i.h("h1",null,"Update complete"):e===p?i.h("h1",null,"Download the new Windows app"):i.h("h1",null,"Unbox the new Windows app"),e===m?i.h("p",null,"Congratulations—you can now take advantage of the new, faster Windows app."):e===p?i.h("p",null,"We've built a better and faster Windows app, please download to continue."):i.h("p",null,"We've built a better and faster Windows app, please install the update to continue."),function(){switch(e){case f:return i.h(r.default,{primary:!0,onClick:u},"Install update");case g:return i.h(b,null);case m:return i.h(r.default,{primary:!0,onClick:y},"Relaunch app");default:return i.h(r.default,{primary:!0,onClick:n},"Download new Windows app")}}(),i.h("p",null,"Ping us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io")," if you have any questions."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2374);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(2375);t.default=function({onLogin:e,onLogout:t,frequency:n}){return i.h("div",{class:"loginRequiredDialogContainer"},i.h("div",{class:"loginRequiredDialog"},i.h("span",null,"🗝"),i.h("h2",null,document.hasFocus()?"Please login again.":"Welcome back, please login again."),i.h("p",null,"Your organization requires you to login again ",i.h("strong",null,"every ",n),"."),i.h("div",{class:"buttonsContainer"},i.h("button",{onClick:t,class:"logout"},"LOG OUT"),i.h("button",{onClick:e,class:"login"},"LOGIN WITH SSO"))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackVisitiedAppEvent=t.setMixpanelGroupProperties=void 0;const o=i(n(684)),s=i(n(685)),a=i(n(567)),r=i(n(590)),l=n(544),c=n(545),d=n(547),u=n(686);function h(){const{selectedOrganizationId:e}=a.default.SpaceStore.getState(),t=Zeplin.user&&Zeplin.user._id,n=t&&s.default.getOrganizationMember(e,t),i={};return e&&"user"!==e&&(i.workspace_id=e),n&&(i["User Role"]=n.role),i}function p(){mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("project_id"),mixpanel.master.unregister("styleguide_id"),mixpanel.master.unregister("User Role")}t.setMixpanelGroupProperties=function(){p(),a.default.SpaceStore.addListener((()=>{mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("User Role"),mixpanel.master.register(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},h()))})),a.default.BarrelStore.addListener((()=>{p(),mixpanel.master.register(Object.assign(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},h()),function(){const{organizationId:e,barrelType:t,barrelId:n}=a.default.BarrelStore.getState(),i={};if(t&&n){const s=o.default.findUser();t===r.default.PROJECT?i.project_id=n:i.styleguide_id=n,e&&"user"!==e&&(i.workspace_id=e),s&&(i["User Role"]=s.role)}return i}()))}))},t.trackVisitiedAppEvent=function(e){const t=u.getAppRouteFromPathname(e);if(!t)return;let n;switch(t){case d.AppRoutes.Workspace:n="Workspace";break;case d.AppRoutes.Project:n="Project";break;case d.AppRoutes.Styleguide:n="Styleguide";break;case d.AppRoutes.ProjectStyleguide:n="Project styleguide";break;case d.AppRoutes.Screen:n="Screen";break;case d.AppRoutes.ScreenVersion:n="Screen version";break;case d.AppRoutes.Notifications:n="Notifications"}n&&mixpanel.master.track("Visited app",{Location:n})}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerProjectRouteHandlers",(function(){return je}));var i=n(1490),o=n(559),s=n(610),a=n(713),r=n(561),l=n(545),c=n(630),d=n.n(c),u=n(590),h=n.n(u),p=n(551),f=n(688),g=n.n(f),m=n(1296),b=n(1618),S=n(1104),y=n.n(S),v=n(685),O=n.n(v),C=n(710),E=n.n(C),T=n(567),_=n.n(T),P=n(691),I=n.n(P),j=n(918),D=n.n(j),k=n(702),R=n.n(k),A=n(684),w=n.n(A),N=n(715),L=n.n(N),M=n(1645),x=n.n(M),U=n(2379),B=n.n(U),V=n(1829),z=n.n(V),F=n(2380),W=n.n(F),H=n(677),G=n.n(H),$=n(1219),q=n.n($),Z=n(1862),K=n.n(Z),Y=n(2381),J=n(819),X=n(583),Q=n(712),ee=n(1295),te=n(961),ne=n(686),ie=n(1423),oe=n(547),se=n(718),ae=n(2382),re=n(1103);function le(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=document.getElementById("androidResFolderReminderDialog");function pe(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;R.a.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}function fe(e,t){if(!e.length)return Promise.resolve({});const n=e.map((e=>{return n=e,i=t,O.a.getOrganizationProfile(n)||J.getOrganizationMemberProfile(n,i);var n,i}));return Promise.all(n).then((t=>Object.fromEntries(Object(ie.default)(e,t)))).catch(r.handleError)}function ge(e,t){if(!t)return Promise.resolve([]);const{status:n,styleguide:i}=t;return"active"!==n?Promise.resolve([]):Promise.all([i._id,...i.ancestors].map((t=>function(e,{projectId:t}){const n=w.a.getBarrel({bid:e});return n&&n.complete?n:J.getStyleguide(e,{projectId:t})}(t,{projectId:e}))))}function me(e,{projectId:t}){const n=w.a.getBarrel({bid:e});return n&&n.connectedComponents?{connectedComponents:n.connectedComponents}:J.getStyleguideConnectedComponents(e,{projectId:t})}function be(e,{projectId:t}){const n=w.a.getBarrel({bid:e});return n&&n.localConnectedComponents?{localConnectedComponents:n.localConnectedComponents}:J.getStyleguideLocalConnectedComponents(e,{projectId:t})}function Se(e,t,{local:n=!1}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const s=n?be:me;return Promise.all([o._id,...o.ancestors].map((t=>s(t,{projectId:e}))))}function ye(e,t){const n=function(e){const t=w.a.getBarrel({bid:e});return t&&t.connectedComponents?{connectedComponents:t.connectedComponents}:J.getProjectConnectedComponents(e)}(e),i=Se(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?J.getProjectLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?Se(e,t,{local:!0}):Promise.resolve([])]}function ve(e){return e.map((e=>de(de({},e),{},{complete:!1})))}function Oe(e){let t=null,n=[],i=[];return e.did?(1===e.did.length?(t=e.did[0],e.cmid&&(i=e.cmid)):e.did.length>1&&(n=e.did),{dotId:t,highlightedDots:n,highlightedComments:i}):{}}async function Ce(e,t,n,o){const{pid:s}=e;let a;if(t.complete)a=t;else{const e=await J.getProjectComponentSections(s);a=de(de({},t),e)}const[r,{connectedComponents:c},u,{localConnectedComponents:f},g]=await Promise.all([ge(s,t.styleguideLink),...ye(s,t.styleguideLink)]),S=new d.a(de(de({},a),{},{connectedComponents:c,localConnectedComponents:f,complete:!0})),{userId:v}=_.a.UserStore.getState(),{role:C}=S.findUser(v);!function(e,t,n){if(document.body.dataset.projectType=e.type,t){const e=t._id;"frozen"===t.status?i.showOrganizationFrozenBanner({oid:e,currentRole:n,isTeamPlan:Object(re.hasTeamPlan)(t.paymentPlan)}):"past_due"===t.subscriptionStatus?i.showFailedPaymentBanner({oid:e,currentRole:n}):"will_cancel_at_period_end"===t.subscriptionStatus?i.showCancelledSubscriptionBannerIfNecessary({oid:e,currentRole:n,subscriptionCancelAt:t.subscriptionCancelAt}):i.hideSubscriptionStatusBanners()}else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:n,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus?i.showCancelledSubscriptionBannerIfNecessary({currentRole:n,subscriptionCancelAt:t.user.subscriptionCancelAt}):i.hideSubscriptionStatusBanners()}e.integration.slacks.length>0&&W.a.requestEmojis(e.id)}(S,n,C),u.forEach(((e,t)=>{r[t].connectedComponents=e.connectedComponents})),g.forEach(((e,t)=>{r[t].localConnectedComponents=e.localConnectedComponents}));const E=n?n._id:"user",T=fe(o.map((e=>e._id)),v),P=(I=E,O.a.getOrganizationProjects(I)||J.getProjects("user"===I?null:I).then(ve));var I;const j=function(e){return O.a.getOrganizationStyleguides(e)||J.getStyleguides("user"===e?null:e).then(ve)}(E);r.forEach((e=>{Object(ae.subscribeToStyleguideChannel)(e._id),e.partial=!e.users.some((({user:e})=>e._id===v))}));const[D,{noVectorAssetInfoHidden:k,densityMismatchWarningHidden:A,sourceFileInfoHidden:w,componentVariantsOnboardingDialogSeen:N,componentVariantsOnboardingHintboxSeen:L,componentVariantViewSeen:M,numberOfLayerComponentViews:U,connectedComponentsOnboardingDialogSeen:V,numberOfHighlightedConnectToCodeButtonViews:z,flowLinkInfoDismissed:F,versionsTutorialSeen:H,screenVariantsOnboardingSeen:G},$,q,Z]=await Promise.all([p.barrelPrefs.getAll(S.id),p.userPrefs.getAll(),T,P,j]),{assetDensityScalePrefs:K,assetNamingConvention:Y,collapsedSections:X,dashboardSidebarWidth:Q,extensions:te,fixedThumbnailSize:ne,lastNoteColorUsed:ie,layoutGridEnabled:oe,noteVisibility:se,noteStatusFilter:le,noteColorFilter:ce,noResourceInfoDismissed:ue,screenSidebarWidth:he,showOptimizedSVG:me,showOptimizedPNG:be,showOptimizedJPG:Se,slackReconnectionAuntieSeen:Ce,styleguideLeftSidebarWidth:Ee,styleguideRightSidebarWidth:Te,versionsSidebarWidth:Pe,zoomLevel:Ie,connectedComponentsLocalWorkspace:je}=D,De={};for(const i of S.screens)D[i._id]&&(De[i._id]=D[i._id].versionsLastSeen);return R.a.load({barrel:{barrelType:"project",barrelId:s,organizationId:E,assetDensityScalePrefs:Object(ee.initAssetDensityScalePrefsIfNecessary)(S.type,K),assetNamingConvention:"android"===S.type?"snakeCase":Y,showOptimizedSVG:me,showOptimizedPNG:be,showOptimizedJPG:Se,noResourceInfoDismissed:ue,noVectorAssetInfoHidden:k,densityMismatchWarningHidden:A,sourceFileInfoHidden:w,flowLinkInfoDismissed:F,showSlackReconnectionAuntie:!Ce,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:je,screenVersionsLastSeen:De,connectedComponentsOnboardingDialogSeen:V,numberOfHighlightedConnectToCodeButtonViews:z},styleguide:{selectedStyleguideSection:"colors",collapsedSections:X,leftSidebarWidth:Ee,rightSidebarWidth:Te,componentVariantsOnboardingDialogSeen:N},dashboard:{collapsedSections:X,fixedThumbnailSize:ne,sidebarWidth:Q,screenVariantsOnboardingSeen:G},screen:{layoutGridEnabled:oe,zoomLevel:Ie,notesVisible:se,screenSidebarWidth:he,showVersionsTutorial:!H,versionsSidebarWidth:Pe,componentVariantsOnboardingHintboxSeen:L,componentVariantViewSeen:M,numberOfLayerComponentViews:U},dots:de(de({},Oe(e)),{},{statusFilter:le,colorFilter:ce,lastNoteColorUsed:ie}),data:{project:S,organization:n,organizations:o,organizationProfiles:$,organizationProjects:q,organizationStyleguides:Z,linkedStyleguides:r}}),requestIdleCallback((async()=>{if(!n||n.members)return;const e=$[E].restricted?{_id:E,members:[]}:await function(e){const t=O.a.getOrganization(e);return t&&t.members?t:J.getOrganizationMembers(e)}(E);y.a.getOrganizationMembersSuccess(e)})),requestIdleCallback((async()=>{if(!n||n.sections)return;const e=await J.getOrganizationSections(E);y.a.getOrganizationSectionsSuccess(e,E)})),b.default.init({enabledExtensions:te}),x.a.init(),B.a.getTeamsIntegration(h.a.PROJECT,s),l.isWindowsApp&&(R.a.getConnectedComponentsEditorInfo(),m.queryAssetDownloadTarget(S.id,S.type,pe)),_e(S),S}async function Ee(e,{reload:t=!1}={}){const{pid:n}=e;try{const t=function(){const{organizations:e}=_.a.OrganizationStore.getState();return e.length?Promise.resolve(e):J.getOrganizations()}(),i=await function(e){const t=w.a.getBarrel({bid:e});return t&&t.complete?Promise.resolve(t):J.getProject(e)}(n),o=function(e){if(!s.isOrganizationProject(e))return Promise.resolve(null);const t=w.a.findBarrelOrganizationId(e._id);let n=O.a.getOrganization(t);return n||(n=Object(Y.fetchEmbeddedData)("organization")),n?Promise.resolve(n):J.getProjectOrganization(e._id).catch((()=>null))}(i),[a,r]=await Promise.all([o,t]),{barrelId:l}=_.a.BarrelStore.getState();return l&&l!==n&&Object(ae.unsubscribeFromProjectChannel)(n),i.partial?function(e,t,n,i){const o=new d.a(de(de({},t),{},{complete:!1})),s=n?n._id:"user";return R.a.load({barrel:{barrelType:"project",barrelId:o.id,organizationId:s},data:{project:o,organization:n,organizations:i}}),_e(o),o}(0,i,a,r):Ce(e,i,a,r)}catch(i){if(t)throw i;!function(e){r.handleError(e,{clientErrorHandler(){o.create({title:e.title,message:e.message}),w.a.navigateToWorkspace()}})}(i)}}function Te(...e){const{body:{integration:t}}=e[e.length-1],n=w.a.getBarrel(),i=t.slacks.filter((e=>!n.integration.slacks.find((t=>t._id===e._id))));i.length&&(i.forEach((e=>{R.a.addIntegration({intype:"slacks",integration:e})})),function(){const e=_.a.BarrelStore.findUser();s.permissions.canUpdateProject(e)&&x.a.init()}())}function _e(e){const t=Object(ae.subscribeToProjectChannel)(e._id),n=w.a.findBarrelOrganizationId(e._id);n&&"user"!==n&&Object(ae.subscribeToOrganizationChannel)(n),t.bind("UpdateUserSubscription",(({params:{uid:t},body:{plan:n,subscriptionStatus:o}})=>{const s=e.findUser(t);if(!s)return;const a=s.user.paymentPlan;s.user.paymentPlan=n;const r=s.user.subscriptionStatus;if(s.user.subscriptionStatus=o,"owner"===s.role){"will_cancel_at_period_end"===r&&(i.hideCancelledSubscriptionBanner(),s.user.subscriptionCancelAt=null);const{config:{plans:t}}=_.a.AppStore.getState(),{versionLimit:o}=t.find((e=>e.id===a)),{versionLimit:l}=t.find((e=>e.id===n)),c=I.a.getScreen();if(o>l){if(e.screens.forEach((e=>{e.allowedVersionCount=l,e.versions.length>l&&(e.versions.length=l)})),c){I.a.getVersion()||(E.a.setVersionId(c.versions[0]._id),Object(te.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"}))}}else o<l&&(e.screens.forEach((e=>{e.allowedVersionCount=l,e.totalVersionCount&&e.totalVersionCount>o&&delete e.totalVersionCount})),c&&(!c.totalVersionCount||c.totalVersionCount>o)&&E.a.getVersions())}})),t.bind("CancelUserSubscription",(({params:{uid:e},body:{plan:t,subscriptionStatus:n,subscriptionCancelAt:o}})=>{const s=w.a.findUser();s&&(R.a.updateUserData({uid:e,userData:{paymentPlan:t,subscriptionStatus:n,subscriptionCancelAt:o}}),"owner"===s.role&&"will_cancel_at_period_end"===n&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:s.role,subscriptionCancelAt:o}))})),t.bind("AuthProjectSlack",Te),t.bind("TransferProjectOwnership",(({params:{pid:e,oid:t="user"},body:{users:n}})=>{n.forEach((({user:{_id:t},role:n})=>{R.a.updateUserRole({bid:e,uid:t,role:n})})),R.a.setOrganizationId({oid:t})})),t.bind("RequestPaymentFail",(e=>{const t=w.a.findUser(),n={currentRole:t.role};Object.assign(n,e.params),e.params.oid||"owner"===t.role||(n.ownerEmail=e.body.email),i.showFailedPaymentBanner(n)}))}function Pe(e,t){const{pid:n}=e;if(!n||!s.validateId(n,"project"))return o.create({title:"Invalid project link",message:"There might be a typo, please try again."}),w.a.navigateToWorkspace(),Promise.reject();const i=w.a.getBarrel();return i&&i.id===n&&!i.partial&&i.complete?Promise.resolve(i):(R.a.reset(),Ee(e,t))}function Ie(e){const{query:{coid:[t]=[]},ev:n}=e;if(!n.target.closest(".dotPopup"))return!1;const i=w.a.getStyleguidesData({barrelStore:_.a.BarrelStore,styleguidesDataStore:_.a.StyleguidesDataStore}),{component:o={}}=Object(Q.findComponentById)(i,t)||{};return!!o.variant&&(z.a.open(t,K.a.NOTE),!0)}function je(){_.a.dispatcher.register((e=>{switch(e.type){case G.a.AddEmojis:!function(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,(e=>{const t=Object(a.escapeHTML)(e.innerText.trim()),{barrelId:n}=_.a.BarrelStore.getState(),i=q.a.formatEmojiString(t,n);e.outerHTML=i}))}()}}))}o.polyfill.registerDialog(he),g.a.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,(function(e){Object(se.sendGAPageView)({title:"Screen - Zeplin"});const{match:[t,n,i],query:a,query:{did:[r]=[],cmid:l=[]},reload:c}=e,d=Object.assign({pid:t,sid:n,vid:i},a);return D.a.setPage("barrel"),Pe(d,{reload:c}).then((e=>{if(!e||e.partial)return;const{screenId:a,versionId:c}=_.a.ScreenStore.getState(),{dotId:d}=_.a.DotsStore.getState();s.validateId(n,"screen")?a&&a===n?a&&a===n&&(c!==i&&E.a.setVersionId(i),r&&d!==r&&E.a.selectDot({dotId:r,commentId:l})):E.a.openScreen(n,i,r,l):(o.create({title:"Invalid screen link",message:"There might be a typo, please try again."}),R.a.goToDashboard()),r&&history.replaceState(null,null,Object(ne.urlResolve)("project-screen",{url:{pid:t,sid:n,vid:i}}))}))})),g.a.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,(function(e){Object(se.sendGAPageView)({title:"Color Palette - Styleguide - Zeplin"});const{match:[t],query:n,query:{cid:i=[],seid:[o]=[]}={},reload:s}=e,a=Object.assign({pid:t},n);return D.a.setPage("barrel"),Pe(a,{reload:s}).then((e=>{e&&!e.partial&&(R.a.changeSelectedView(oe.ProjectViewTypes.STYLEGUIDE),L.a.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:o}),L.a.highlightColors(i))}))})),g.a.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,(function(e){Object(se.sendGAPageView)({title:"Text Style Catalog - Styleguide - Zeplin"});const{match:[t],query:n,query:{tsid:i=[],seid:[o]=[]}={},reload:s}=e,a=Object.assign({pid:t},n);return D.a.setPage("barrel"),Pe(a,{reload:s}).then((e=>{e&&!e.partial&&(R.a.changeSelectedView(oe.ProjectViewTypes.STYLEGUIDE),L.a.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:o}),L.a.highlightTextStyles(i))}))})),g.a.route(/\/project\/([\da-f]{24})\/styleguide\/spacing/i,(function(e){Object(se.sendGAPageView)({title:"Spacing and Layout - Styleguide - Zeplin"});const{match:[t],query:n,query:{sptid:i=[],seid:[o]=[]}={},reload:s}=e,a=Object.assign({pid:t},n);return D.a.setPage("barrel"),Pe(a,{reload:s}).then((e=>{e&&!e.partial&&(R.a.changeSelectedView(oe.ProjectViewTypes.STYLEGUIDE),L.a.changeSelectedNavigatorId({selectedStyleguideSection:"spacing",selectedNavigatorId:o}),L.a.highlightSpacingTokens(i))}))})),g.a.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,(function(e){Object(se.sendGAPageView)({title:"Components - Styleguide - Zeplin"});const{match:[t],query:n,query:{coid:[i]=[],cseid:[o]=[],seid:[s]=[o]}={},reload:a}=e,r=Object.assign({pid:t},n);return D.a.setPage("barrel"),Pe(r,{reload:a}).then((e=>{if(!e||e.partial)return;R.a.changeSelectedView(oe.ProjectViewTypes.STYLEGUIDE);const t=w.a.getStyleguidesData({barrelStore:_.a.BarrelStore,styleguidesDataStore:_.a.StyleguidesDataStore}),{component:n}=i&&Object(Q.findComponentById)(t,i)||{},{collapsedSections:o}=_.a.StyleguideStore.getState(),a=function({styleguidesData:e,selectedNavigatorId:t,collapsedSections:n}){if(!t)return n;const i=n,o=Object(Q.getComponentSectionById)(e,t);if(o){const{idPath:e}=o;e.forEach((e=>{i[e]=!1}))}return i}({styleguidesData:t,selectedNavigatorId:s,collapsedSections:o});n&&n.idPath.slice(0,-1).forEach((e=>{a[e]=!1})),L.a.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:s}),L.a.changeSelection({selectionComponentId:i,selection:n,collapsedSections:a,updateCollapsedSections:s||n})}))})),g.a.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?$/i,(function(e){const{match:[t,n=oe.ProjectViewTypes.DASHBOARD],query:i,reload:o}=e;Object(se.sendGAPageView)({title:`${Object(X.uppercaseFirst)(n)} - Zeplin`});const s=Object.assign({pid:t,subpage:n},i);return D.a.setPage("barrel"),async function(e,t){const n=await Pe(e,t);if(!n||n.partial)return;const{subpage:i}=e,o=le(e,["subpage"]),s=["sid","seid","eid"],a=["cid","tsid"],r=Object.keys(o);let l;if(r.some((e=>s.includes(e)))||i===oe.ProjectViewTypes.DASHBOARD?l=oe.ProjectViewTypes.DASHBOARD:r.some((e=>a.includes(e)||i===oe.ProjectViewTypes.STYLEGUIDE))&&(l=oe.ProjectViewTypes.STYLEGUIDE),!l)return;let c={};if("sid"in o){const e=n.sections.filter((e=>"default"!==e.name&&e.screens.some((e=>o.sid.includes(e))))).map((e=>e._id));c={sids:o.sid,sectionsToExpand:e}}else"seid"in o?c={seid:o.seid[0],sectionsToExpand:[o.seid[0]]}:"eid"in o&&b.default.load({bid:n.id,eid:o.eid[0],uid:_.a.UserStore.getState().userId});i===oe.ProjectViewTypes.DASHBOARD&&(c=de(de({},c),{},{tags:o.tag,jiraIssues:o.ja,untagged:o.untagged&&"true"===o.untagged[0],filterValue:o.q&&o.q[0]||""})),R.a.changeSelectedView(l,c)}(s,{reload:o})})),g.a.addPrevention(/\/project\/([\da-f]{24})\/styleguide\/components/i,Ie),g.a.addPrevention(/\/(styleguide)\/([\da-f]{24})\/components/i,Ie)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(666)),s=i(n(567)),a={getTeamsIntegration(e,t){s.default.dispatcher.dispatch({type:o.default.GET_TEAMS_INTEGRATION,barrelType:e,barrelId:t})},setTeamsIntegration(e){s.default.dispatcher.dispatch({type:o.default.SET_TEAMS_INTEGRATION,channels:e})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(677)),s=i(n(567)),a={requestEmojis(e){s.default.dispatcher.dispatch({type:o.default.RequestEmojis,pid:e})},addEmojis(e,t){s.default.dispatcher.dispatch({type:o.default.AddEmojis,pid:e,response:t})},emojisError(e){s.default.dispatcher.dispatch({type:o.default.EmojisError,pid:e})}};t.default=a},function(e,t,n){"use strict";function i(e,{remove:t=!0}={}){if("apiData"in Zeplin&&e in Zeplin.apiData){const n=Zeplin.apiData[e];return t&&delete Zeplin.apiData[e],n}}n.r(t),n.d(t,"fetchEmbeddedData",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToOrganizationChannel",(function(){return l})),n.d(t,"unsubscribeFromOrganizationChannel",(function(){return c})),n.d(t,"subscribeToStyleguideChannel",(function(){return d})),n.d(t,"unsubscribeFromStyleguideChannel",(function(){return u})),n.d(t,"subscribeToProjectChannel",(function(){return h})),n.d(t,"unsubscribeFromProjectChannel",(function(){return p})),n.d(t,"subscribeToBarrelChannel",(function(){return f})),n.d(t,"unsubscribeFromBarrelChannel",(function(){return g}));var i=n(2383),o=n(590),s=n.n(o),a=n(548);function r(e,t){if(!e||!t)return;const n=e+t;return i.default.channel(n)||i.default.subscribe(n)}function l(e){return r(a.ORGANIZATION_CHANNEL_PREFIX,e)}function c(e){i.default.unsubscribe(a.ORGANIZATION_CHANNEL_PREFIX+e)}function d(e){return r(a.STYLEGUIDE_CHANNEL_PREFIX,e)}function u(e){i.default.unsubscribe(a.STYLEGUIDE_CHANNEL_PREFIX+e)}function h(e){return r(a.PROJECT_CHANNEL_PREFIX,e)}function p(e){i.default.unsubscribe(a.PROJECT_CHANNEL_PREFIX+e)}function f(e,t){e===s.a.PROJECT?h(t):d(t)}function g(e,t){e===s.a.PROJECT?p(t):u(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"userChannel",(function(){return f}));var i=n(27),o=n.n(i),s=n(28),a=n.n(s),r=n(2384),l=n(549),c=n(564),d=n(548);let u;function h(){u||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(u=setTimeout((()=>{c.show({contentType:"html",group:"socket",content:'Real-time updates are disabled due to a connectivity issue. <a href="https://support.zeplin.io/en/articles/377685-fixing-connectivity-issues" target="_blank">Learn more.</a>',closeCallback(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})}),3e4))}const p=l.default.get("userToken");let f,g;if(p){const e={cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:d.FLAG_NEW_PUSHER_AUTH?d.PUSHER_URL_V2:d.PUSHER_URL,auth:{headers:{"Zeplin-Token":p}}};d.FLAG_NEW_PUSHER_AUTH&&Object.assign(e,{authorizer:r.default,authDelay:2e3}),g=new o.a(d.PUSHER_ACCESS_KEY,e),g.connection.bind("failed",h),g.connection.bind("unavailable",h),g.connection.bind("connected",(()=>{Zeplin.headers.set("Zeplin-Socket-Id",g.connection.socket_id),clearTimeout(u),c.closeBanner("socket")}));const{sub:t}=a()(p);f=g.subscribe(`${d.USER_CHANNEL_PREFIX}${t}`)}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(27),o=n.n(i),s=n(2385),a=n.n(s);function r(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function l(e,t,n,i,s){var a=o.a.Runtime.createXHR();for(var r in a.open("POST",i,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)a.setRequestHeader(r,n.headers[r]);a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e,t=!1;try{e=JSON.parse(a.responseText),t=!0}catch(n){s(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}t&&s(!1,e)}else s(!0,a.status)},a.send(function(e,t,n){var i=0,o="&socket_id="+encodeURIComponent(t);for(var s in e)o+="&channel_name["+i+"]="+encodeURIComponent(s),i++;for(var a in n.params)o+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n.params[a]);return o}(e,t,n))}var c=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};c.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},c.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},c.prototype.executeRequests=function(){var e=this.requests;this.requests={},a()(e).forEach((e=>{l(e,this.options.socketId,this.authOptions,this.options.authEndpoint,(function(t,n){r(e,t?function(e){e(!0,n)}:function(e,t){n[t]?n[t].status&&200!==n[t].status?e(!0,n[t].status):e(null,n[t].data):e(!0,404)})}))}))};var d={};t.default=function(e,t){return{authorize:function(n,i){var o=t.authEndpoint,s=n+":"+o,a=d[s];a||(a=d[s]=new c({socketId:n,authEndpoint:o,authDelay:t.authDelay,authOptions:t.auth})),a.add(e.name,i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){const{batches:t}=Object.keys(e).reduce(((t,n)=>200===t.lastBatchKeysLength?(t.batches.push({[n]:e[n]}),t.lastBatchKeysLength=1,t):(t.lastBatchKeysLength++,t.batches[t.batches.length-1][n]=e[n],t)),{lastBatchKeysLength:0,batches:[{}]});return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"goToLastOrganizationWorkspace",(function(){return V})),n.d(t,"registerWorkspaceRouteHandlers",(function(){return z}));n(558),n(1040);var i=n(819),o=n(561),s=n(551),a=n(688),r=n.n(a),l=n(567),c=n.n(l),d=n(571),u=n.n(d),h=n(709),p=n.n(h),f=n(620),g=n.n(f),m=n(1104),b=n.n(m),S=n(617),y=n.n(S),v=n(685),O=n.n(v),C=(n(2387),n(2388)),E=n(718),T=n(686),_=n(559),P=n(2382),I=n(918),j=n.n(I),D=n(547),k=n(1490);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){const n=O.a.getOrganization(e);if(n&&n.members)return{};const{restricted:o}=t;return o?Promise.resolve({_id:e,members:[]}):i.getOrganizationMembers(e)}function L(e){const{focusedBarrels:t}=c.a.OrganizationStore.getState();return t&&t[e]?t[e]:i.getOrganizationMemberFocusedBarrels(e,Zeplin.user._id)}function M(e,t){const n=[Object(C.getOrganization)(e),Object(C.getOrganizationSections)(e),L(e),N(e,t),s.organizationPrefs.get(e,"dialogDismissStates"),Object(C.getProjects)(e),Object(C.getStyleguides)(e)];return Promise.all(n).then((([t,n,i,o,s,a,r])=>({oid:e,organization:A(A(A({},t),o),{},{sections:n}),focusedBarrels:i,dialogDismissParams:s,projects:a,styleguides:r})))}const x={onChangeSelectedOrganization({oid:e}){const{selectedTab:t}=c.a.SpaceStore.getState(),n="user"===e?t:`workspace-${t}`,i=Object(T.urlResolve)(n,{url:{oid:e}});setTimeout((()=>{r.a.history.push(i)}),4),s.userPrefs.set("lastOrganization",e),Object(E.sendGAPageView)({title:"Space - Zeplin"})},onChangeTab({tab:e}){const{selectedOrganizationId:t}=c.a.SpaceStore.getState(),n="user"===t?e:`workspace-${e}`,i=Object(T.urlResolve)(n,{url:{oid:t}});setTimeout((()=>{r.a.history.push(i)}),4),mixpanel.master.track(`Opened ${t?"organization":"all"} ${e}`),Object(E.sendGAPageView)({title:"Space - Zeplin"})},onChangeFilterValue({filterValue:e}){const{selectedOrganizationId:t,selectedTab:n}=c.a.SpaceStore.getState(),i=new URLSearchParams(location.search);e?i.set("q",e):i.delete("q");const o=Object.fromEntries(i),s="user"===t?n:`workspace-${n}`;let a;a="user"===t?{query:o}:{url:{oid:t},query:o},setTimeout((()=>{history.replaceState(a,"Zeplin - Workspace",Object(T.urlResolve)(s,a))}),4)},onChangeProjectSelectedSortType({oid:e,sortType:t}){"user"===e?s.userPrefs.set("projectSortType",t):s.organizationPrefs.set(e,"projectSortType",t)},onSetStyleguidesTabVisited(){s.userPrefs.set("styleguidesTabVisited",!0)},onToggleSectionState({oid:e,oseids:t},{shouldCollapse:n}){s.organizationPrefs.get(e,"collapsedSections").then((i=>{t.forEach((e=>{i[e]=n})),s.organizationPrefs.set(e,"collapsedSections",i)}))},onTrackBarrelClick({oid:e,isFromPinArea:t}){e&&"user"!==e&&mixpanel.master.track("Navigated to project",{Source:t?"Pinned":void 0})},onPostponeOfferReminder({nextDate:e}){s.userPrefs.set("offerReminderNextDate",e)}},U={onGetOrganizations({organizations:e}){e&&e.forEach((e=>{Object(P.subscribeToOrganizationChannel)(e._id)}))},onAddOrganization({organization:e}){Object(P.subscribeToOrganizationChannel)(e._id),i.getOrganizationMemberProfile(e._id,Zeplin.user._id).then((t=>{b.a.addOrganizationProfile(t,e._id)})).catch(o.handleError)},resetSortTypeAndFilters(e){if(!e.syncWithApi)return;new URLSearchParams(location.search).get("q")&&x.onChangeFilterValue({filterValue:""}),s.organizationPrefs.get(e.oid,"projectSortType").then((t=>{t!==D.SortTypes.SECTIONS&&s.organizationPrefs.set(e.oid,"projectSortType",D.SortTypes.SECTIONS)}))}};const B=/^(?:\/workspace\/([\da-f]{24}))?\/(projects|styleguides)?$/i;async function V(){const e=new URL(location.href);if(B.test(e.pathname)){const[,t="user",n=D.WorkspaceTabs.PROJECTS]=e.pathname.match(B),i=await s.userPrefs.get("lastOrganization");if(i&&"user"!==i&&"user"===t){const t=Object.fromEntries(e.searchParams),o=Object(T.urlResolve)(`workspace-${n}`,{url:{oid:i},query:t});history.replaceState(null,null,o)}}}function z(){c.a.dispatcher.register((e=>{switch(e.type){case g.a.CHANGE_SELECTED_TAB:x.onChangeTab(e);break;case g.a.CHANGE_FILTER_VALUE:x.onChangeFilterValue(e);break;case g.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:x.onChangeProjectSelectedSortType(e);break;case g.a.CHANGE_SELECTED_ORGANIZATION:x.onChangeSelectedOrganization(e);break;case g.a.SET_STYLEGUIDES_TAB_VISITED:x.onSetStyleguidesTabVisited();break;case g.a.TRACK_BARREL_CLICK:x.onTrackBarrelClick(e);break;case g.a.EXPAND_SECTIONS:x.onToggleSectionState(e,{shouldCollapse:!1});break;case g.a.COLLAPSE_SECTIONS:x.onToggleSectionState(e,{shouldCollapse:!0});break;case g.a.POSTPONE_OFFER_REMINDER:x.onPostponeOfferReminder(e)}})),c.a.dispatcher.register((e=>{switch(e.type){case u.a.LOAD_WORKSPACE_DATA:U.onGetOrganizations(e);break;case y.a.ADD_ORGANIZATION:U.onAddOrganization(e);break;case y.a.ADD_PROJECT_SECTION:case y.a.UPDATE_PROJECT_ORDER:U.resetSortTypeAndFilters(e)}}))}r.a.route(B,(async function(e){Object(E.sendGAPageView)({title:"Space - Zeplin"}),Object(k.hideSubscriptionStatusBanners)();const{match:[t="user",n=D.WorkspaceTabs.PROJECTS],query:{q:[a=""]=[],pid:l=[],stid:d=[],oseid:[u]=[],seid:[h]=[u],newProject:f,newStyleguide:g}}=e,m=[...l,...d],{styleguidesTabVisited:b,pinnedBarrelOnce:S,offerReminderNextDate:y}=await s.userPrefs.getAll(),v="user"===t?await s.userPrefs.get("projectSortType"):await s.organizationPrefs.get(t,"projectSortType"),O="user"===t?{}:await s.organizationPrefs.get(t,"collapsedSections");let P;O[h]&&(O[h]=!1,s.organizationPrefs.set(t,"collapsedSections",O)),n===D.WorkspaceTabs.PROJECTS&&f?P=D.DialogTypes.CREATE_PROJECT:n===D.WorkspaceTabs.STYLEGUIDES&&g&&(P=D.DialogTypes.CREATE_STYLEGUIDE),p.a.updatePageState({selectedOrganizationId:t,selectedTab:n,filterValue:a,selectedWorkflowStatusFilter:"All",highlightedBarrels:m,scrollToHighlightedBarrel:!!m.length,highlightedSection:h,collapsedSections:O,selectedProjectSortType:h?D.SortTypes.SECTIONS:v,styleguidesTabVisited:b,pinnedBarrelOnce:S,visibleDialogType:P,offerReminderNextDate:y}),j.a.setPage("workspace");const I=await Object(C.getOrganizations)(),R=await async function(e,t){const{organizationProfiles:n}=c.a.OrganizationStore.getState();if(e.every((({_id:e})=>n[e])))return n;const s=e.map((({_id:e})=>n[e]||i.getOrganizationMemberProfile(e,t)));try{return(await Promise.all(s)).reduce(((t,n,i)=>(t[e[i]._id]=n,t)),{})}catch(a){o.handleError(a)}}(I,Zeplin.user._id),w=await function(e,t,n,i){return e.find((e=>e._id===n))||"user"===n?("user"===n?C.fetchPersonalWorkspaceData:M)(n,t[n]).catch((e=>{o.handleError(e,{dialogCallback(){r.a.history.replace(Object(T.urlResolve)(i))}})})):(_.create({title:"You’re not invited to this workspace",message:"Please contact workspace admins."}),p.a.changeSelectedOrganization("user"),null)}(I,R,t,n);w&&j.a.loadWorkspaceData(A({organizations:I,organizationProfiles:R},w))}))},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=s(n(819)),c=s(n(561)),d=s(n(1604)),u=s(n(559)),h=r(n(546)),p=r(n(590)),f=n(2382),g=r(n(1391)),m=r(n(618)),b=r(n(567)),S=r(n(1482)),y=r(n(619)),v=r(n(702)),O=r(n(709)),C=r(n(571)),E=n(547),T=n(545),_=n(610),P=n(634),I=n(686),j=r(n(688)),D=n(1040),k=T.supports.webviews;const R={project:{create:l.createProject,get:l.getProject,inviteUser:l.inviteProjectUser,transferOwnership:l.transferProjectOwnership},styleguide:{create:l.createStyleguide,get:l.getStyleguide,inviteUser:l.inviteStyleguideUser,transferOwnership:l.transferStyleguideOwnership}},A={project:{transferOwnership:g.default.transferOwnership},styleguide:{transferOwnership:S.default.transferOwnership}},w=e=>{const t=`${e}s`;return{onGetBarrels(n){const i=n[t];i&&(i.forEach((({_id:t})=>f.subscribeToBarrelChannel(e,t))),k&&i.length&&function(e,t){h.default.ipcRenderer.sendToHost(`preload-${e}`,I.urlResolve(e,{url:{bid:t.slice().sort(P.sortBy.updated)[0]._id}}))}(e,i))},onCreateBarrel(t){const{oid:n,oseid:i,platform:o}=t;R[e].create(t).then((({_id:t})=>(mixpanel.master.track(`Created ${e}`,{Type:_.getPlatformString(o),[`${e}_id`]:t}),R[e].get(t).then((o=>{O.default.hideLoading(),O.default.closeDialog(),v.default.add({barrel:o,oid:n,oseid:i,barrelType:e}),j.default.history.push(I.urlResolve(e,{url:{bid:t}}))}))))).catch((t=>{O.default.hideLoading(),O.default.closeDialog(),c.handleError(t,{clientErrorHandler:{402:()=>O.default.openDialog(E.DialogTypes.UPGRADE_PLAN,{barrelType:e}),default:c.handleError}})}))},onInviteUser({container:t,bid:n,users:i,oid:o}){d.show({popupContainer:t,bid:n,bt:e,members:i,oid:o,onInvite(t){v.default.addMembers({bid:n,barrelType:e,members:t})}})},onTransferOwnership({bid:t,fromUserId:n,targetId:i,toOrganization:o,oid:s,canChangePlanAtTarget:a}){R[e].transferOwnership(t,i,o).then((()=>{A[e].transferOwnership({bid:t,fromUserId:n,targetId:i,toOrganization:o,oid:s})})).catch((t=>{c.handleError(t,{clientErrorHandler:{402(){a?D.showPlanChooserOverlay({source:`Workspace, Reached ${e} limit`,oid:!!o&&i,upgradeTrigger:e===p.default.PROJECT?E.PlanUpgradeTrigger.PROJECT_LIMIT:E.PlanUpgradeTrigger.STYLEGUIDE_LIMIT}):o?u.create({title:"Transferring ownership failed",message:`Your workspace reached the ${e} limit. Contact the workspace Admins to upgrade your plan.`,done:{name:"OK"}}):c.handleError(t)},default:c.handleError}})}))}}},N={onParentSelect({stid:e,parent:t,oldParent:n}){l.updateStyleguideParent(e,t).then((()=>{mixpanel.master.track((n?"Changed":"Added")+" styleguide parent")})).catch((t=>{n?S.default.selectParent({stid:e,parent:n}):S.default.removeParent({stid:e}),c.handleError(t)}))},onParentRemove({stid:e,oldParent:t}){l.removeStyleguideParent(e).then((()=>{mixpanel.master.track("Removed styleguide parent")})).catch((n=>{S.default.selectParent({stid:e,parent:t}),c.handleError(n)}))}};function L(e){const{type:t,pid:n,stid:i,syncWithApi:o}=e,s=a(e,["type","pid","stid","syncWithApi"]);return Object.assign({bid:null!=n?n:i},s)}t.default=function(){b.default.dispatcher.register((e=>{const t=w(p.default.PROJECT);switch(e.type){case m.default.INVITE_USER:t.onInviteUser(L(e));break;case m.default.GET_PROJECTS_SUCCESS:case C.default.LOAD_WORKSPACE_DATA:t.onGetBarrels(L(e))}if(e.syncWithApi)switch(e.type){case m.default.CREATE_PROJECT:t.onCreateBarrel(L(e));break;case m.default.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(L(e))}})),b.default.dispatcher.register((e=>{const t=w(p.default.STYLEGUIDE);switch(e.type){case y.default.INVITE_USER:t.onInviteUser(L(e));break;case y.default.GET_STYLEGUIDES_SUCCESS:case C.default.LOAD_WORKSPACE_DATA:t.onGetBarrels(L(e))}if(e.syncWithApi)switch(e.type){case y.default.CREATE_STYLEGUIDE:t.onCreateBarrel(L(e));break;case y.default.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(L(e));break;case y.default.SELECT_PARENT:N.onParentSelect(e);break;case y.default.REMOVE_PARENT:N.onParentRemove(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPersonalWorkspaceData=t.getOrganizationSections=t.getStyleguides=t.getProjects=t.getFocusedBarrels=t.getOrganization=t.getOrganizations=void 0,n(2387);const l=s(n(819)),c=r(n(685)),d=r(n(567));function u(e){return e.map((e=>Object.assign(Object.assign({},e),{complete:!1})))}function h(e){const t=c.default.getOrganizationProjects(e);return t?Promise.resolve(t):l.getProjects("user"===e?null:e).then(u)}function p(e){const t=c.default.getOrganizationStyleguides(e);return t?Promise.resolve(t):l.getStyleguides("user"===e?null:e).then(u)}t.getOrganizations=function(){const{organizations:e}=d.default.OrganizationStore.getState();return e.length?Promise.resolve(e):l.getOrganizations()},t.getOrganization=function(e){const t=c.default.getOrganization(e);return t&&t.complete?Promise.resolve(t):l.getOrganization(e).then((e=>Object.assign(Object.assign({},e),{complete:!0})))},t.getFocusedBarrels=function(e,t){const{focusedBarrels:n}=d.default.OrganizationStore.getState();return n&&n[e]?Promise.resolve(n[e]):l.getOrganizationMemberFocusedBarrels(e,t)},t.getProjects=h,t.getStyleguides=p,t.getOrganizationSections=function(e){const t=c.default.getOrganization(e);return t&&t.complete&&t.sections?Promise.resolve(t.sections):l.getOrganizationSections(e)},t.fetchPersonalWorkspaceData=function(){return a(this,void 0,void 0,(function*(){return{oid:"user",organization:null,focusedBarrels:null,dialogDismissParams:null,projects:yield h("user"),styleguides:yield p("user")}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2390)),s=i(n(2396)),a=i(n(2400)),r=i(n(2387)),l=i(n(2405)),c=i(n(2409)),d=i(n(2410)),u=i(n(2412)),h=i(n(2417)),p=i(n(2421)),f=i(n(2424)),g=i(n(2428)),m=i(n(2432)),b=i(n(2433)),S=i(n(2435)),y=i(n(2436)),v=i(n(2442)),O=i(n(2443)),C=i(n(2446)),E=i(n(2452)),T=i(n(2455)),_=i(n(2457)),P=i(n(2461)),I=i(n(2465)),j=i(n(2467));t.default=function(){o.default(),s.default(),a.default(),r.default(),l.default(),c.default(),d.default(),u.default(),h.default(),p.default(),f.default(),g.default(),m.default(),b.default(),S.default(),y.default(),v.default(),O.default(),C.default(),E.default(),T.default(),_.default(),P.default(),I.default(),j.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2391)),s=i(n(2394)),a=i(n(2395));t.default=function(){o.default(),s.default(),a.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(n(569)),c=r(n(707)),d=r(n(570)),u=s(n(819)),h=r(n(710)),p=r(n(691)),f=r(n(2349)),g=r(n(685)),m=r(n(567)),b=r(n(1391)),S=r(n(684)),y=r(n(2380)),v=n(2392),O=n(2393),C=n(624),E={selected({activity:e,options:{reselect:t}}){var n;return a(this,void 0,void 0,(function*(){if(t||c.default.getCategory(e)!==d.default.Note)return;const i=e.events[0].project._id,{projectsEmojis:o,loadingProjectIds:s,errorProjectIds:a}=m.default.EmojisStore.getState();if(o[i]||C.union(s,a).includes(i)||setTimeout((()=>y.default.requestEmojis(i))),!(null===(n=S.default.getProject({pid:i}))||void 0===n?void 0:n.complete)){setTimeout(b.default.getProjectRequest);try{const[e,t]=yield Promise.all([u.getProject(i),u.getProjectComponentSections(i)]),n=Object.assign(Object.assign({},e),t);b.default.getProjectSuccess({project:n})}catch(g){return void b.default.getProjectFailed(g)}}const r=e.events[0].screen._id,l=p.default.getScreen({pid:i,sid:r});(null==l?void 0:l.dots)?setTimeout((()=>f.default.setDotsLoaded(e))):u.getDots(i,r).then((({dots:e=[]})=>{h.default.setDots({pid:i,sid:r,dots:e})})).finally((()=>f.default.setDotsLoaded(e)))}))},requestRelatedUsers({oid:e}){"user"===e||g.default.getOrganizationProfile(e).restricted?m.default.UserStore.getState().acquaintances||setTimeout(O.fetchAcquaintances):g.default.getOrganizationMembers(e)||setTimeout((()=>v.fetchOrganizationMembers(e)))}};t.default=function(){m.default.dispatcher.register((e=>{switch(e.type){case l.default.Select:E.selected(e);break;case l.default.RequestRelatedUsers:E.requestRelatedUsers(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrganizationMembers=void 0;const r=s(n(819)),l=a(n(1104));t.fetchOrganizationMembers=function(e){return l.default.organizationMembersRequested(e),r.getOrganizationMembers(e).then(l.default.getOrganizationMembersSuccess).catch((t=>l.default.getOrganizationMembersFailed(e,t)))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAcquaintances=void 0;const r=s(n(819)),l=a(n(1039));t.fetchAcquaintances=function(){return l.default.acquaintancesRequested(),r.getUserAcquaintances().then((({acquaintances:e})=>l.default.setAcquaintances(e))).catch(l.default.getAcquaintancesFailed)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(569)),a=n(686),r=i(n(688)),l=i(n(590)),c=i(n(570)),d=i(n(707)),u={selected({activity:e,options:{reselect:t,autoSelect:n}}){n||t||u.trackItemClick(e)},updateUrl(){const{selectedOrganizationId:e,category:t,barrelSelection:n,projectsWithUpdatesOnly:i,noteStatusFilter:s,color:d,memberId:u,sectionId:h}=o.default.ActivitiesViewStore.getState(),p="user"!==e?e:null,f=p?"workspace-activities":"activities",g=t!==c.default.All?t:null,m=n.type===l.default.PROJECT?n.id:null,b=n.type===l.default.STYLEGUIDE?n.id:null,S=i?"true":"false";r.default.history.replace(a.urlResolve(f,{url:{oid:p},query:{category:g,pid:m,stid:b,updatedOnly:S,status:s,color:d,member:u,section:h}}))},trackItemClick(e){d.default.trackEventWithFilterDetails("Clicked notification",{Mention:d.default.hasMention(e),Source:"Notifications page"})},trackFilteredNotificationsChange(){d.default.trackEventWithFilterDetails("Filtered notifications")}};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case s.default.Select:u.selected(e);break;case s.default.SelectColor:case s.default.SelectNoteStatusFilter:case s.default.SelectMember:case s.default.SelectSection:u.trackFilteredNotificationsChange(),u.updateUrl();break;case s.default.SelectAllBarrels:case s.default.SelectBarrel:case s.default.SetProjectsWithUpdatesOnly:case s.default.SelectCategory:case s.default.Load:u.updateUrl()}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(569)),s=n(551),a=i(n(567)),r={setSidebarWidth({sidebarWidth:e}){s.userPrefs.set("activitiesSidebarWidth",e)},setProjectsWithUpdatesOnly({projectsWithUpdatesOnly:e}){s.userPrefs.set("activitiesShowProjectsWithUpdatesOnly",e)}};t.default=function(){a.default.dispatcher.register((e=>{switch(e.type){case o.default.SetSidebarWidth:r.setSidebarWidth(e);break;case o.default.SetProjectsWithUpdatesOnly:r.setProjectsWithUpdatesOnly(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2397),o=n(2399);function s(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(567),o=n.n(i),s=n(578),a=n(2398),r=n(581),l=n(819),c=n(561),d=n(686),u=n(634),h=n(821),p=n.n(h);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={handleFetchConnectedAppsData(){Promise.all([Object(l.getAuthorizedApplications)(),...r.OFFICIAL_APPS.map((({_id:e})=>Object(l.getAppStatus)(e)))]).then((([e,...t])=>{const n=e.slice().sort(u.sortBy.authorized);a.default.getConnectedAppsDataSuccess({authorizedApplications:n,officialApps:r.OFFICIAL_APPS.reduce(((e,n,i)=>g(g({},e),{},{[n._id]:g(g({},n),{},{token:null,status:t[i]?r.appStatus.CONNECTED:r.appStatus.UNCONNECTED})})),{})})})).catch((e=>{if(e.status===p.a.STATUS.PRECONDITION_FAILED)return a.default.getConnectedAppsDataSuccess({authorizedApplications:[],zeplinCLIConnected:!1,zemConnected:!1});c.handleError(e)}))},handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){const{_id:n}=e;(r.OFFICIAL_APPS.some((e=>e._id===n))?l.revokeAppToken:l.revokeAuthorizedApplication)(n).then((()=>{a.default.revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t})})).catch((e=>{a.default.revokeAuthorizedApplicationFailure(),c.handleError(e)}))},handleFetchDeveloperData(){Promise.all([Object(l.getOwnedApplications)(),Object(l.getPersonalAccessTokens)()]).then((([e,t])=>{const n=e.slice().sort(u.sortBy.updated),i=t.slice().sort(u.sortBy.created);a.default.getDeveloperDataSuccess({ownedApplications:n,personalAccessTokens:i})})).catch((e=>{if(e.status===p.a.STATUS.PRECONDITION_FAILED)return a.default.getDeveloperDataSuccess({ownedApplications:[],personalAccessTokens:[]});c.handleError(e)}))},handleFetchApplication({appId:e}){const{fetchedApplicationIds:t,ownedApplications:n}=o.a.AppsStore.getState(),i=n.find((t=>t._id===e));if(t.includes(e))return setTimeout((()=>{a.default.getApplicationSuccess(i)}));Object(l.getOwnedApplication)(e).then(a.default.getApplicationSuccess).catch(c.handleError)},handleCreateApplication({application:e}){Object(l.createApplication)(e).then(a.default.createApplicationSuccess).catch((e=>{a.default.createApplicationFailure(),c.handleError(e)}))},handleUpdateApplication({appId:e,application:t}){Object(l.updateApplication)(e,t).then((()=>a.default.updateApplicationSuccess({appId:e,application:t}))).catch((e=>{a.default.updateApplicationFailure(),c.handleError(e)}))},handleDeleteApplication({application:e,toastContainer:t}){Object(l.deleteApplication)(e._id).then((()=>a.default.deleteApplicationSuccess({application:e,toastContainer:t}))).catch((e=>{a.default.deleteApplicationFailure(),c.handleError(e)}))},handleCreatePersonalAccessToken({name:e,hasAdminAccess:t}){Object(l.createPersonalAccessToken)({name:e,hasAdminAccess:t}).then(a.default.createPersonalAccessTokenSuccess).catch((e=>{a.default.createPersonalAccessTokenFailure(),c.handleError(e)}))},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(l.deletePersonalAccessToken)(e._id).then((()=>{a.default.deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t})})).catch((e=>{a.default.deletePersonalAccessTokenFailure(),c.handleError(e)}))},handleRenamePersonalAccessToken({tokenId:e,name:t,oldName:n}){Object(l.renamePersonalAccessToken)(e,t).catch((t=>{a.default.renamePersonalAccessToken({tokenId:e,name:n}),c.handleError(t)}))},handleConnectOfficialApp({appId:e}){const t={client_id:e,response_type:"token",redirect_uri:Object(d.urlResolve)("profile-connected-apps"),scope:"read write delete"},n=`/oauth/authorize?${Object(d.joinUrlParams)(t)}`,i=`/oauthRedirectUrl?authUrl=${encodeURIComponent(n)}`;fetch(i).then((e=>e.text())).then((t=>{const n=new URL(t).searchParams.get("access_token");n&&a.default.connectOfficialAppSuccess({appId:e,token:n})})).catch((t=>{a.default.connectOfficialAppFailure({appId:e}),c.handleError(t)}))}};function S(){o.a.dispatcher.register((e=>{switch(e.type){case s.default.GET_CONNECTED_APPS_DATA_REQUEST:b.handleFetchConnectedAppsData(e);break;case s.default.GET_DEVELOPER_DATA_REQUEST:b.handleFetchDeveloperData(e);break;case s.default.GET_APPLICATION_REQUEST:b.handleFetchApplication(e);break;case s.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleCreatePersonalAccessToken(e);break;case s.default.CREATE_APPLICATION_REQUEST:b.handleCreateApplication(e);break;case s.default.UPDATE_APPLICATION_REQUEST:b.handleUpdateApplication(e);break;case s.default.DELETE_APPLICATION_REQUEST:b.handleDeleteApplication(e);break;case s.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleDeletePersonalAccessToken(e);break;case s.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:b.handleRevokeAuthorizedApplication(e);break;case s.default.RENAME_PERSONAL_ACCESS_TOKEN:b.handleRenamePersonalAccessToken(e);break;case s.default.CONNECT_OFFICIAL_APP_REQUEST:b.handleConnectOfficialApp(e)}}))}},function(e,t,n){"use strict";n.r(t);var i=n(567),o=n.n(i),s=n(578);const a={getConnectedAppsData(){o.a.dispatcher.dispatch({type:s.default.GET_CONNECTED_APPS_DATA_REQUEST})},getConnectedAppsDataSuccess({authorizedApplications:e,officialApps:t}){o.a.dispatcher.dispatch({type:s.default.GET_CONNECTED_APPS_DATA_SUCCESS,authorizedApplications:e,officialApps:t})},getDeveloperData(){o.a.dispatcher.dispatch({type:s.default.GET_DEVELOPER_DATA_REQUEST})},getDeveloperDataSuccess({ownedApplications:e,personalAccessTokens:t}){o.a.dispatcher.dispatch({type:s.default.GET_DEVELOPER_DATA_SUCCESS,ownedApplications:e,personalAccessTokens:t})},getApplication(e){o.a.dispatcher.dispatch({type:s.default.GET_APPLICATION_REQUEST,appId:e})},getApplicationSuccess(e){o.a.dispatcher.dispatch({type:s.default.GET_APPLICATION_SUCCESS,application:e})},revokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE})},deletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:s.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE})},createPersonalAccessToken({name:e,hasAdminAccess:t}){o.a.dispatcher.dispatch({type:s.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST,name:e,hasAdminAccess:t})},createPersonalAccessTokenSuccess(e){o.a.dispatcher.dispatch({type:s.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e})},createPersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:s.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE})},createApplication(e){o.a.dispatcher.dispatch({type:s.default.CREATE_APPLICATION_REQUEST,application:e})},createApplicationSuccess(e){o.a.dispatcher.dispatch({type:s.default.CREATE_APPLICATION_SUCCESS,application:e})},createApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.CREATE_APPLICATION_FAILURE})},updateApplication({appId:e,application:t}){o.a.dispatcher.dispatch({type:s.default.UPDATE_APPLICATION_REQUEST,appId:e,application:t})},updateApplicationSuccess({appId:e,application:t}){o.a.dispatcher.dispatch({type:s.default.UPDATE_APPLICATION_SUCCESS,appId:e,application:t})},updateApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.UPDATE_APPLICATION_FAILURE})},deleteApplication({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_APPLICATION_REQUEST,application:e,toastContainer:t})},deleteApplicationSuccess({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_APPLICATION_SUCCESS,application:e,toastContainer:t})},deleteApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.DELETE_APPLICATION_FAILURE})},renamePersonalAccessToken({tokenId:e,name:t,oldName:n}){o.a.dispatcher.dispatch({type:s.default.RENAME_PERSONAL_ACCESS_TOKEN,tokenId:e,name:t,oldName:n})},connectOfficialApp({appId:e}){o.a.dispatcher.dispatch({type:s.default.CONNECT_OFFICIAL_APP_REQUEST,appId:e})},connectOfficialAppSuccess({appId:e,token:t}){o.a.dispatcher.dispatch({type:s.default.CONNECT_OFFICIAL_APP_SUCCESS,appId:e,token:t})},connectOfficialAppFailure({appId:e}){o.a.dispatcher.dispatch({type:s.default.CONNECT_OFFICIAL_APP_FAILURE,appId:e})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(567),o=n.n(i),s=n(578),a=n(961);const r={handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){Object(a.default)({text:`App “${e.name}” revoked`,container:t,source:"connectedAppsTab"}),mixpanel.master.track("Revoked access to Zeplin app",{"App ID":e._id})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(a.default)({text:`Token “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted personal access token")},handleDeleteApplication({application:e,toastContainer:t}){Object(a.default)({text:`App “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted Zeplin app")},handleCreateApplication(){mixpanel.master.track("Created Zeplin app")},handleCreatePersonalAccessToken(){mixpanel.master.track("Created personal access token")}};function l(){o.a.dispatcher.register((e=>{switch(e.type){case s.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:r.handleRevokeAuthorizedApplication(e);break;case s.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:r.handleDeletePersonalAccessToken(e);break;case s.default.CREATE_APPLICATION_SUCCESS:r.handleCreateApplication(e);break;case s.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:r.handleCreatePersonalAccessToken(e);break;case s.default.DELETE_APPLICATION_SUCCESS:r.handleDeleteApplication(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2401)),s=i(n(2402)),a=i(n(2403)),r=i(n(2404));t.default=function(){o.default(),r.default(),a.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(567)),l=a(n(575)),c=a(n(702)),d=a(n(709)),u=a(n(715)),h=a(n(1260)),p=a(n(684)),f=n(610),g=n(626),m=a(n(590)),b=n(547),S=n(561),y=a(n(562)),v=a(n(563)),O=n(819),C=s(n(559)),E={project:O.project,styleguide:O.styleguide},T={[b.RESOURCE_TYPE.COLORS]:"updateColorsStyleguide",[b.RESOURCE_TYPE.TEXT_STYLES]:"updateTextStylesStyleguide",[b.RESOURCE_TYPE.COMPONENTS]:"updateComponentSectionsStyleguide"},_={[b.RESOURCE_TYPE.COLORS]:"Moved colors to styleguide",[b.RESOURCE_TYPE.TEXT_STYLES]:"Moved text styles to styleguide",[b.RESOURCE_TYPE.COMPONENTS]:"Moved components to styleguide"},P={handleActivate({bid:e,barrelType:t}){E[t].activate(e).catch((t=>{S.handleError(t),c.default.archive({bid:e})}))},handleArchive({bid:e,barrelType:t}){E[t].archive(e).catch((n=>{S.handleError(n),c.default.activate({bid:e,barrelType:t})}))},handleRemove({bid:e,oid:t,oseid:n,barrelType:i,oldBarrel:o}){E[i].delete(e).catch((e=>{S.handleError(e),c.default.add({barrel:o,oid:t,oseid:n,barrelType:i})}))},handleCopy({bid:e,oid:t,barrelName:n,barrelType:i,options:o}){const s={withUsers:o.users};i===m.default.PROJECT&&(s.withDots=o.notes,s.withVersions=o.versions),E[i].copy(e,s).then((({async:e,barrel:o,order:{sectionId:s,index:a}={}})=>{e?d.default.openDialog(b.DialogTypes.ASYNC_COPY_BARREL,{barrelName:n}):c.default.add({barrel:o,barrelType:i,oid:t,oseid:s,index:a,addedWithCopy:!0})})).catch((e=>{d.default.closeDialog(),S.handleError(e)}))},handleUpdateName({bid:e,barrelType:t,name:n,oldName:i}){E[t].updateName(e,n).catch((n=>{S.handleError(n),c.default.updateName({bid:e,barrelType:t,name:i})}))},handleUpdateDescription({bid:e,barrelType:t,description:n,oldDescription:i}){E[t].updateDescription(e,n).catch((n=>{S.handleError(n),c.default.updateDescription({bid:e,barrelType:t,description:i})}))},handleUpdateDensityScale({bid:e,barrelType:t,densityScale:n,oldDensityScale:i}){E[t].updateDensityScale(e,n).catch((n=>{S.handleError(n),c.default.updateDensityScale({bid:e,barrelType:t,densityScale:i})}))},handleUpdateThumbnail({bid:e,barrelType:t,thumbnail:n,oldThumbnail:i}){E[t].updateThumbnail(e,n).catch((n=>{S.handleError(n),c.default.updateThumbnail({bid:e,barrelType:t,thumbnail:i})}))},handleRemoveIntegration({bid:e,barrelType:t,intype:n,inid:i,removedIntegration:o}){E[t].deleteIntegration(e,n,i).catch((i=>{S.handleError(i),c.default.addIntegration({bid:e,barrelType:t,intype:n,integration:o})}))},handleToggleScene({bid:e,barrelType:t,accessibility:n,oldAccessibility:i}){E[t].updateAccessibility(e,n).catch((t=>{S.handleError(t),c.default.toggleScene({bid:e,accessibility:i})}))},handleAddMembers(){},handleJoin({bid:e,barrelType:t,actionSource:n}){E[t].inviteUser(e).then((i=>{n===h.default.CONTEXT_MENU||n===h.default.ACTIVITIES?c.default.addMembers({bid:e,barrelType:t,members:[i]}):n===h.default.PREVIEW_DIALOG||n===h.default.SPACE_CARD?p.default.navigateToBarrel(t,e):n===h.default.PREVIEW_PAGE&&p.default.reloadCurrentPage()})).catch((e=>{S.handleError(e)})).finally((()=>{c.default.stopLoadingJoin()}))},handleUpdateUserRole({bid:e,barrelType:t,uid:n,role:i,oldRole:o}){E[t].updateUserRole(e,n,i).catch((t=>{S.handleError(t),c.default.updateUserRole({bid:e,uid:n,role:o})}))},handleTransferOwnership({bid:e,barrelType:t,uid:n}){E[t].transferOwnership(e,n).then((()=>{c.default.ownershipTransferred({bid:e,barrelType:t,uid:n})})).catch(S.handleError)},handleRemoveMember({oid:e,bid:t,barrelType:n,mid:i,shouldRemoveBarrel:o,removedBarrel:s,removedMember:a}){E[n].removeUser(t,i).catch((i=>{S.handleError(i),o?c.default.add({oid:e,barrelType:n,barrel:s}):c.default.addMembers({bid:t,barrelType:n,members:[a]})}))},handleAddColor({bid:e,barrelType:t,color:n}){const i=n._id,o=Object.assign({},n);delete o._id,delete o.id,E[t].createColor(e,o).then((({_id:t})=>{const n=Object.assign(Object.assign({},o),{_id:t});c.default.updateColor({bid:e,cid:i,colorData:n})})).catch((t=>{S.handleError(t),c.default.removeColor({bid:e,cid:i})}))},handleAddMultipleColors({bid:e,barrelType:t,colors:n}){const i=[],o=n.map((n=>{const o=Object.assign({},n);return delete o._id,delete o.id,i.push(o),E[t].createColor(e,o)})).map((e=>e.catch((e=>e))));Promise.all(o).then((t=>{t.forEach(((t,o)=>{const s=i[o],a=n[o]._id;if(t instanceof y.default||t instanceof v.default)return S.handleError(t),void c.default.removeColor({bid:e,cid:a});const{_id:r}=t,l=Object.assign(Object.assign({},s),{_id:r});c.default.updateColor({bid:e,cid:a,colorData:l})}))}))},handleUpdateColor({bid:e,barrelType:t,cid:n,colorData:i,oldColorData:o}){E[t].updateColor(e,n,i).catch((t=>{S.handleError(t),c.default.updateColor({bid:e,cid:n,colorData:o})}))},handleRemoveColor({bid:e,barrelType:t,cid:n,removedColor:i}){var o;(null===(o=null==i?void 0:i.id)||void 0===o?void 0:o.startsWith("newColor"))||E[t].deleteColor(e,n).catch((t=>{S.handleError(t),c.default.addColor({bid:e,color:i})}))},handleRemoveAllColors({bid:e,barrelType:t,colorsToRemove:n}){const i=n.map((({id:e})=>e));E[t].deleteAllColors(e,{colors:i}).catch((t=>{S.handleError(t),c.default.addMultipleColors({bid:e,colors:n})}))},handleMigrateColors({bid:e,barrelType:t,colorsToUpdate:n,oldDataOfColorsToUpdate:i,colorsToAdd:o}){Object.keys(n).forEach((o=>{const s=n[o];this.handleUpdateColor({bid:e,barrelType:t,cid:o,colorData:{sourceId:s.sourceId,name:s.name,r:s.r,g:s.g,b:s.b,a:s.a},oldColorData:i[o]})})),this.handleAddMultipleColors({bid:e,barrelType:t,colors:o})},handleAddTextStyle({bid:e,barrelType:t,textStyle:n}){const i=n._id,o=Object.assign({},n);delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,E[t].createTextStyle(e,o).then((({_id:t})=>{const n=Object.assign(Object.assign({},o),{_id:t});c.default.updateTextStyle({bid:e,tsid:i,textStyleData:n})})).catch((t=>{S.handleError(t),c.default.removeTextStyle({bid:e,tsid:i})}))},handleAddMultipleTextStyles({bid:e,barrelType:t,textStyles:n}){const i=[],o=n.map((n=>{const o=Object.assign({},n);return delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,i.push(o),E[t].createTextStyle(e,o)})).map((e=>e.catch((e=>e))));Promise.all(o).then((t=>{t.forEach(((t,o)=>{const s=i[o],a=n[o]._id;if(t instanceof y.default||t instanceof v.default)return S.handleError(t),void c.default.removeTextStyle({bid:e,tsid:a});const{_id:r}=t,l=Object.assign(Object.assign({},s),{_id:r});c.default.updateTextStyle({bid:e,tsid:a,textStyleData:l})}))}))},handleUpdateTextStyle({bid:e,barrelType:t,tsid:n,textStyleData:i,oldTextStyleData:o}){E[t].updateTextStyle(e,n,i).catch((t=>{S.handleError(t),c.default.updateTextStyle({bid:e,tsid:n,textStyleData:o})}))},handleRemoveTextStyle({bid:e,barrelType:t,tsid:n,removedTextStyle:i}){var o;(null===(o=null==i?void 0:i.id)||void 0===o?void 0:o.startsWith("newTextStyle"))||E[t].deleteTextStyle(e,n).catch((t=>{S.handleError(t),c.default.addTextStyle({bid:e,textStyle:i})}))},handleRemoveAllTextStyles({bid:e,barrelType:t,textStylesToRemove:n}){const i=n.map((({id:e})=>e));E[t].deleteAllTextStyles(e,{textStyles:i}).catch((t=>{S.handleError(t),c.default.addMultipleTextStyles({bid:e,textStyles:n})}))},handleAddSpacingSection({bid:e,barrelType:t,spacingSection:n}){const i=n._id,o=Object.assign({},n);delete o._id,E[t].createSpacingSection(e,o).then((({_id:t})=>{c.default.updateSpacingSection({bid:e,ssid:i,updatedSpacingSection:Object.assign(Object.assign({},o),{_id:t})})})).catch((t=>{S.handleError(t),c.default.removeSpacingSection({bid:e,ssid:i})}))},handleUpdateSpacingSection({bid:e,barrelType:t,ssid:n,updatedSpacingSection:i,oldSpacingSection:o}){E[t].updateSpacingSection(e,n,i).catch((t=>{S.handleError(t),c.default.updateSpacingSection({bid:e,ssid:n,updatedSpacingSection:o})}))},handleRemoveSpacingSection({bid:e,barrelType:t,ssid:n,removedSpacingSection:i}){E[t].deleteSpacingSection(e,n).catch((t=>{S.handleError(t),c.default.addSpacingSection({bid:e,spacingSection:i})}))},handleAddSpacingToken({bid:e,barrelType:t,ssid:n,spacingToken:i}){const o=i._id,s=Object.assign({},i);delete s._id,E[t].createSpacingToken(e,n,s).then((({_id:t})=>{c.default.updateSpacingToken({bid:e,ssid:n,sptid:o,updatedSpacingToken:Object.assign(Object.assign({},s),{_id:t})})})).catch((t=>{S.handleError(t),c.default.removeSpacingToken({bid:e,ssid:n,sptid:o})}))},handleUpdateSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,updatedSpacingToken:o,oldSpacingToken:s}){E[t].updateSpacingToken(e,n,i,o).catch((t=>{S.handleError(t),c.default.updateSpacingToken({bid:e,ssid:n,sptid:i,updatedSpacingToken:s})}))},handleRemoveSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,isBaseToken:o,removedSpacingToken:s}){E[t].deleteSpacingToken(e,n,i).catch((t=>{S.handleError(t),c.default.addSpacingToken({bid:e,ssid:n,isBaseToken:o,spacingToken:s})}))},handleUpdateRemPreferences({bid:e,barrelType:t,updatedRemPreferences:n,oldRemPreferences:i}){E[t].updateRemPreferences(e,n).catch((t=>{S.handleError(t),c.default.updateRemPreferences({bid:e,updatedRemPreferences:i})}))},handleUpdateComponent({bid:e,barrelType:t,csids:n,coid:i,componentData:o,oldComponentData:s}){E[t].updateComponent(e,n,i,o).catch((t=>{S.handleError(t),c.default.updateComponent({bid:e,csids:n,coid:i,componentData:s})}))},handleRemoveComponent({bid:e,barrelType:t,csids:n,coid:i,oldComponent:o}){E[t].deleteComponent(e,n,i).then((({variantSection:n})=>{if(n){const{_id:i,variant:o}=n;u.default.setComponentVariantData({bid:e,barrelType:t,csid:i,sectionVariant:o})}})).catch((t=>{S.handleError(t),c.default.addComponent({bid:e,csids:n,component:o})}))},handleUpdateComponentSection({bid:e,barrelType:t,csids:n,componentSectionData:i,oldComponentSectionData:o}){E[t].updateComponentSection(e,n,i).catch((t=>{S.handleError(t),c.default.updateComponentSection({bid:e,csids:n,componentSectionData:o})}))},handleMergeComponentSection({bid:e,barrelType:t,csids:n,tcsids:i,flatten:o,oldComponentSection:s}){E[t].mergeComponentSection(e,n,i,o).catch((t=>{S.handleError(t),o||s.componentSections.forEach((t=>{c.default.removeComponentSection({bid:e,csids:t.idPath})}));(o?f.collectComponents([s]):s.components).forEach((t=>{c.default.removeComponent({bid:e,csids:i,coid:t._id})})),c.default.addComponentSection({bid:e,csids:n,componentSection:s})}))},handleMoveResourcesRequest({bid:e,barrelType:t,densityScale:n,resourceType:i,resources:o,targetStyleguideId:s}){let a=Promise.resolve();i===b.RESOURCE_TYPE.COMPONENTS&&n&&(a=E[m.default.STYLEGUIDE].updateDensityScale(s,n));const r=T[i],l=o.map((e=>e._id));a.then((()=>E[t][r](e,s,l))).then((()=>{mixpanel.master.track(_[i]),c.default.moveResourcesSuccess({resourceType:i,resources:o,bid:e,barrelType:t,targetStyleguideId:s})})).catch((e=>{S.handleError(e),c.default.moveResourcesFail()}))},updateComponentsOrder({bid:e,barrelType:t,components:n}){const i={components:n.map((e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to})))};E[t].updateComponentsOrder(e,i).then((({variantSections:n})=>{null==n||n.forEach((n=>{const{_id:i,name:o,variant:s,components:a}=n;u.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:s,components:a})}))})).catch((t=>{const i="Reordering components failed";S.handleError(t,{fallbackHandler:()=>{C.create({title:i})},serverErrorHandler:()=>{C.create({title:i,message:t.message})}});const o=n.map((e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex})));c.default.updateComponentsOrder({bid:e,components:o})}))},addComponentSection({bid:e,barrelType:t,csids:n,componentSection:i}){const o={index:i.index,name:i.name,components:i.components.map((e=>({coid:e.coid,csid:e.csid.join("/")})))};E[t].addComponentSection(e,n,o).then((({_id:i,variantSections:o})=>{c.default.updateComponentSection({bid:e,csids:n.concat(g.TEMPORARY_COMPONENT_SECTION_ID),componentSectionData:{_id:i,csids:n.concat(i),newSection:!1}}),o&&o.forEach((n=>{const{_id:i,name:o,variant:s,components:a}=n;u.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:s,components:a})}))})).catch((t=>{S.handleError(t);const o=i.components.map((e=>({coid:e.coid,csid:n.concat(g.TEMPORARY_COMPONENT_SECTION_ID),tcsid:e.csid,to:e.index})));c.default.updateComponentsOrder({bid:e,components:o}),c.default.removeComponentSection({bid:e,csids:n.concat(g.TEMPORARY_COMPONENT_SECTION_ID)})}))},handleUpdateComponentSectionsOrder({bid:e,barrelType:t,componentSections:n}){const i={componentSections:n.map((e=>{const t={csid:e.csid.join("/"),to:e.to};return e.tcsid&&(t.tcsid=e.tcsid.join("/")),t}))};E[t].updateComponentSectionsOrder(e,i).then((({variantSections:n})=>{n&&n.forEach((n=>{const{_id:i,name:o,variant:s,components:a}=n;u.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:s,components:a})}))})).catch((t=>{S.handleError(t);const i=n.map((e=>({csid:e.csid,to:e.sourceIndex})));c.default.updateComponentSectionsOrder({bid:e,componentSections:i})}))},handleUpdateWorkflowStatus({barrelType:e,bid:t,workflowStatus:{_id:n},oldWorkflowStatusData:i}){E[e].updateWorkflowStatus([t],n).catch((e=>{S.handleError(e),c.default.updateWorkflowStatus({bid:t,workflowStatus:i})}))},handleUpdateWorkflowStatuses({statusUpdatedBarrels:e,workflowStatus:{_id:t}}){e.forEach((({barrelType:e,bid:n,oldWorkflowStatusData:i})=>{E[e].updateWorkflowStatus([n],t).catch((e=>{S.handleError(e),c.default.updateWorkflowStatus({bid:n,workflowStatus:i})}))}))},handleDeleteWorkflowStatus({barrelType:e,bid:t,oldWorkflowStatusData:n}){E[e].deleteWorkflowStatus([t]).catch((e=>{S.handleError(e),c.default.updateWorkflowStatus({bid:t,workflowStatus:n})}))},handleDeleteWorkflowStatuses({statusDeletedBarrels:e}){e.forEach((({barrelType:e,bid:t,oldWorkflowStatusData:n})=>{E[e].deleteWorkflowStatus([t]).catch((e=>{S.handleError(e),c.default.updateWorkflowStatus({bid:t,workflowStatus:n})}))}))}};t.default=function(){r.default.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case l.default.ACTIVATE:P.handleActivate(e);break;case l.default.ARCHIVE:P.handleArchive(e);break;case l.default.REMOVE:P.handleRemove(e);break;case l.default.COPY:P.handleCopy(e);break;case l.default.UPDATE_NAME:P.handleUpdateName(e);break;case l.default.UPDATE_DESCRIPTION:P.handleUpdateDescription(e);break;case l.default.UPDATE_DENSITY_SCALE:P.handleUpdateDensityScale(e);break;case l.default.UPDATE_THUMBNAIL:P.handleUpdateThumbnail(e);break;case l.default.REMOVE_INTEGRATION:P.handleRemoveIntegration(e);break;case l.default.TOGGLE_SCENE:P.handleToggleScene(e);break;case l.default.ADD_MEMBERS:P.handleAddMembers();break;case l.default.UPDATE_USER_ROLE:P.handleUpdateUserRole(e);break;case l.default.TRANSFER_OWNERSHIP:P.handleTransferOwnership(e);break;case l.default.REMOVE_MEMBER:P.handleRemoveMember(e);break;case l.default.ADD_COLOR:P.handleAddColor(e);break;case l.default.ADD_MULTIPLE_COLORS:P.handleAddMultipleColors(e);break;case l.default.UPDATE_COLOR:P.handleUpdateColor(e);break;case l.default.REMOVE_COLOR:P.handleRemoveColor(e);break;case l.default.REMOVE_ALL_COLORS:P.handleRemoveAllColors(e);break;case l.default.MIGRATE_COLORS:P.handleMigrateColors(e);break;case l.default.ADD_TEXT_STYLE:P.handleAddTextStyle(e);break;case l.default.ADD_MULTIPLE_TEXT_STYLES:P.handleAddMultipleTextStyles(e);break;case l.default.UPDATE_TEXT_STYLE:P.handleUpdateTextStyle(e);break;case l.default.REMOVE_TEXT_STYLE:P.handleRemoveTextStyle(e);break;case l.default.REMOVE_ALL_TEXT_STYLES:P.handleRemoveAllTextStyles(e);break;case l.default.ADD_SPACING_SECTION:P.handleAddSpacingSection(e);break;case l.default.UPDATE_SPACING_SECTION:P.handleUpdateSpacingSection(e);break;case l.default.REMOVE_SPACING_SECTION:P.handleRemoveSpacingSection(e);break;case l.default.ADD_SPACING_TOKEN:P.handleAddSpacingToken(e);break;case l.default.UPDATE_SPACING_TOKEN:P.handleUpdateSpacingToken(e);break;case l.default.REMOVE_SPACING_TOKEN:P.handleRemoveSpacingToken(e);break;case l.default.UPDATE_REM_PREFERENCES:P.handleUpdateRemPreferences(e);break;case l.default.UPDATE_COMPONENT_SECTION:P.handleUpdateComponentSection(e);break;case l.default.MERGE_COMPONENT_SECTION:P.handleMergeComponentSection(e);break;case l.default.UPDATE_COMPONENT:P.handleUpdateComponent(e);break;case l.default.REMOVE_COMPONENT:P.handleRemoveComponent(e);break;case l.default.JOIN:P.handleJoin(e);break;case l.default.MOVE_RESOURCES_REQUEST:P.handleMoveResourcesRequest(e);break;case l.default.UPDATE_COMPONENTS_ORDER:P.updateComponentsOrder(e);break;case l.default.ADD_COMPONENT_SECTION:P.addComponentSection(e);break;case l.default.UPDATE_COMPONENT_SECTIONS_ORDER:P.handleUpdateComponentSectionsOrder(e);break;case l.default.UPDATE_WORKFLOW_STATUS:P.handleUpdateWorkflowStatus(e);break;case l.default.UPDATE_WORKFLOW_STATUSES:P.handleUpdateWorkflowStatuses(e);break;case l.default.DELETE_WORKFLOW_STATUS:P.handleDeleteWorkflowStatus(e);break;case l.default.DELETE_WORKFLOW_STATUSES:P.handleDeleteWorkflowStatuses(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(n(575)),c=r(n(702)),d=r(n(567)),u=r(n(546)),h=s(n(559)),p=n(545),f=n(548),g=n(583),m=n(687),b=n(959),S=r(n(590)),y=n(819),v=n(561);function O(e){const t=`${e}-workspace-path`;u.default.ipcRenderer.removeAllListeners(t),u.default.ipcRenderer.once(t,((e,t)=>{c.default.setConnectedComponentsWorkspacePath(t)}))}const C={addToSlackNewFlow({bid:e,barrelType:t}){const n=g.getRandomString(),i=m.urlResolve("redeemSlackCode",{query:t===S.default.PROJECT?{pid:e}:{stid:e}}),o={scope:f.SLACK_SCOPE,client_id:f.SLACK_CLIENT_ID,redirect_uri:i,state:n},s=new URL(f.SLACK_AUTH_URL);s.search=new URLSearchParams(o),u.default.ipcRenderer.once("redeem-slack-code",((o,s,r)=>a(this,void 0,void 0,(function*(){if(n===r)try{c.default.authenticateSlackIntegration(e);const n=yield t===S.default.PROJECT?y.authProjectSlack(e,s,i):y.authStyleguideSlack(e,s,i);yield y.checkResponseError(n);const{integration:o}=yield n.json(),[a]=o.slacks;if(!a)return void c.default.authenticatingSlackIntegrationFailed(e);const{events:r}=yield t===S.default.PROJECT?y.getProjectIntegrationEvents(e,a._id):y.getStyleguideIntegrationEvents(e,a._id);c.default.authenticatedSlackIntegration({bid:e,barrelType:t,integration:a,events:r})}catch(o){c.default.authenticatingSlackIntegrationFailed(e),v.handleError(o)}else h.create({title:"Could not connect project to Slack",message:"State mismatch, please try again later or let us know: support@zeplin.io"})})))),b.openLink(s.toString())},addToSlack({bid:e,barrelType:t,name:n}){u.default.ipcRenderer.send("add-to-slack",{id:e,barrelType:t,name:n})},getConnectedComponentsEditorInfo({bid:e}){!function(){const e="editor-info";u.default.ipcRenderer.removeAllListeners(e),u.default.ipcRenderer.once(e,((e,t)=>{c.default.setConnectedComponentsEditorInfo(t)}))}(),u.default.ipcRenderer.send("query-editor-info",{bid:e})},setConnectedComponentsEditorPreference({extension:e,editor:t}){u.default.ipcRenderer.send("set-default-editor",{extension:e,editor:t})},selectConnectedComponentsWorkspaceFolder({bid:e}){O(e),u.default.ipcRenderer.send("select-connected-components-workspace-folder",{bid:e})},openComponentFileInEditor({bid:e,filePath:t,editor:n}){O(e),u.default.ipcRenderer.send("open-file-in-editor",{bid:e,filePath:t,editor:n})}};t.default=function(){p.isWindowsApp&&d.default.dispatcher.register((e=>{switch(e.type){case l.default.ADD_TO_SLACK:p.supports.newSlackIntegrationFlow?C.addToSlackNewFlow(e):C.addToSlack(e);break;case l.default.GET_CONNECTED_COMPONENTS_EDITOR_INFO:C.getConnectedComponentsEditorInfo(e);break;case l.default.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:C.setConnectedComponentsEditorPreference(e);break;case l.default.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:C.selectConnectedComponentsWorkspaceFolder(e);break;case l.default.OPEN_COMPONENT_FILE_IN_EDITOR:C.openComponentFileInEditor(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(575)),l=a(n(702)),c=a(n(684)),d=a(n(567)),u=n(610),h=n(686),p=n(583),f=n(1294),g=n(959),m=n(2382),b=s(n(559)),S=s(n(1296)),y=a(n(590)),v=n(545),O=a(n(584)),C=a(n(688)),E=n(548),T=n(819),_=n(1220),P=n(553);function I(e){return e?P.getUserDisplayName(e.user):""}const j={handleGoToDashboard({bid:e,tagFilter:t}){const n=h.getTagQueryParams(t),i=h.urlResolve("project-dashboard",{url:{pid:e},query:n});C.default.history.push(i)},handleGoToStyleguide({bid:e}){const t=h.urlResolve("project-styleguide",{url:{bid:e}});C.default.history.push(t)},handleAdd({barrel:e,barrelType:t}){m.subscribeToBarrelChannel(t,e._id)},handleArchive({barrelType:e,bid:t,currentBid:n,affectedIds:i,name:o,uid:s,currentUserId:a,user:r,syncWithApi:l}){if(l&&mixpanel.master.track(`Archived ${e}`,{[`${e}_id`]:t}),n&&i.includes(n)){if(!l&&s!==a){const e=I(r),t=r?`${e} archived “${o}”.`:`“${o}” is archived.`,n="You won’t be able to access its resources from now on."+(r?`\nIf you think this is a mistake, please contact ${e}.`:"");b.create({title:t,message:n})}c.default.navigateToWorkspace()}},handleRemove({bid:e,currentBid:t,barrelType:n,oldBarrel:i,uid:o,currentUserId:s,user:a,syncWithApi:r}){if(m.unsubscribeFromBarrelChannel(n,e),r&&mixpanel.master.track(`Deleted ${n}`,{[`${n}_id`]:e}),e===t){if(!r&&o!==s){const e=I(a),{name:t}=i,n=a?`${e} deleted “${t}”.`:`“${t}” is deleted.`,o="You won’t be able to access its resources from now on."+(a?`\nIf you think this is a mistake, please contact ${e}.`:"");b.create({title:n,message:o})}c.default.navigateToWorkspace()}},handleRemoveMember({bid:e,uid:t,barrelType:n,currentBid:i,currentUserId:o,removingUser:s,shouldRemoveBarrel:a,removedBarrel:r,syncWithApi:l}){if(a){if(m.unsubscribeFromBarrelChannel(n,e),!l&&t!==o&&e===i){const e=I(s),{name:t}=r,n=s?`${e} removed you from “${t}”.`:`You’re removed from “${t}”.`,i="You won’t be able to access its resources from now on."+(s?`\nIf you think this is a mistake, please contact ${e}.`:"");b.create({title:n,message:i})}e===i&&c.default.navigateToWorkspace()}},handleDownloadAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,platform:a,containerName:r,assets:l,assetId:c,format:d,toastContainer:h,source:p}){f.downloadAsset({barrelId:e,platform:a,containerName:r,assets:l,assetId:c,format:d,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,toastContainer:h}),T.createIntercomUserTag(u.getDeveloperString(a));const g="all"!==c&&(l.find((e=>e._id===c))||{}).autoExported;mixpanel.master.track("Downloaded asset",{Format:d,Source:p,"Is Auto Exported":g})},handleDownloadMultipleAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,platform:a,containerName:r,assets:l,assetList:c,toastContainer:d,source:h}){f.downloadMultipleAsset({barrelId:e,platform:a,containerName:r,assets:l,assetList:c,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,toastContainer:d}),T.createIntercomUserTag(u.getDeveloperString(a));const p=c.some((({assetId:e})=>(l.find((t=>t._id===e))||{}).autoExported));mixpanel.master.track("Downloaded asset",{Source:h,Count:c.length,"Has Auto Exported":p})},handleExportCode({barrelName:e,platform:t,resourceType:n,source:i,exportObjects:o,extensionId:s}){f.exportCode({resourceType:n,barrelName:e,exportObjects:o});const{extensions:a}=d.default.ExtensionsStore.getState(),r=a.find((({_id:e})=>e===s));T.createIntercomUserTag(u.getDeveloperString(t)),mixpanel.master.track("Downloaded code snippet",{Source:i,"Extension ID":r._id,"Extension Name":r.name})},handleCopyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:o}){g.copyContent({content:e,toastContainer:t});const{extensions:s}=d.default.ExtensionsStore.getState(),a=s.find((({_id:e})=>e===i));mixpanel.master.track("Copied code snippet",{Source:o,"Extension ID":a._id,"Extension Name":a.name}),T.createIntercomUserTag(u.getDeveloperString(n))},handleOpenExportTarget(){S.openExportTarget()},handleChangeExportTarget(){S.changeExportTarget()},handleCopyComponentSectionWebLink({bid:e,barrelType:t,seid:n}){const i=t===y.default.PROJECT?"project-styleguide-components":"styleguide-components",o=document.querySelector(`.${t}`),s=h.urlResolve(i,{url:{bid:e},query:{seid:n}});g.copyContent({content:_.getShortlink(s),toastContainer:o})},handleCopyComponentSectionAppURI({bid:e,barrelType:t,cseid:n}){const i=t===y.default.PROJECT?"pid":"stid",o=document.querySelector(`.${t}`),s=`${E.ZPL_PROTOCOL}//components?${i}=${e}&cseid=${n}`;g.copyContent({content:s,toastContainer:o})},fetchComponentSectionShortLink({bid:e,barrelType:t,seid:n}){const i=t===y.default.PROJECT?"project-styleguide-components":"styleguide-components",o=h.urlResolve(i,{url:{bid:e},query:{seid:n}});_.fetchShortlink(o)},addToSlack({bid:e,barrelType:t}){if(v.isWindowsApp)return;const n=p.getRandomString();localStorage.setItem("slackState",n);const i=t===y.default.PROJECT?{pid:e}:{stid:e},o={scope:E.SLACK_SCOPE,client_id:E.SLACK_CLIENT_ID,redirect_uri:h.urlResolve("huggingSlack",{query:i}),state:n},s=new URL(E.SLACK_AUTH_URL);s.search=new URLSearchParams(o),g.openLink(s.toString(),{inNewTab:!1})},trackEnableLocalConfiguration(){mixpanel.master.track("Enabled local configuration for connected components")},fetchLocalConnectedComponents({bid:e,barrelType:t,styleguideLink:n,ancestors:i}){if(t===y.default.PROJECT){if(T.getProjectLocalConnectedComponents(e).then((t=>{l.default.setLocalConnectedComponents(Object.assign({bid:e},t))})),!n)return;const{status:t,styleguide:i}=n;if("active"!==t)return;const o=[i._id,...i.ancestors];return void Promise.all(o.map((e=>T.getStyleguideLocalConnectedComponents(e)))).then((e=>{e.forEach(((e,t)=>{l.default.setLocalConnectedComponents(Object.assign({bid:o[t]},e))}))}))}const o=[e,...i];Promise.all(o.map((e=>T.getStyleguideLocalConnectedComponents(e)))).then((e=>{e.forEach(((e,t)=>{l.default.setLocalConnectedComponents(Object.assign({bid:o[t]},e))}))}))},handleAddSpacingSection(){mixpanel.master.track("Created spacing section")},handleUpdateSpacingSection({updatedSpacingSection:e}){e.name&&mixpanel.master.track("Changed spacing section name",{Name:e.name}),Object.prototype.hasOwnProperty.call(e,"description")&&mixpanel.master.track("Changed spacing section description")},handleAddSpacingToken(){mixpanel.master.track("Created spacing token")},handleUpdateSpacingToken({isBaseToken:e,updatedSpacingToken:t}){const{token:n,value:i,color:o}=t;e&&mixpanel.master.track("Changed base token"),n&&mixpanel.master.track("Changed spacing token name"),Object.prototype.hasOwnProperty.call(t,"value")&&mixpanel.master.track("Changed spacing token value",{Value:i}),o&&mixpanel.master.track("Changed spacing token color",{Color:new O.default(o).toHexString()})},handleUpdateRemPreferences({updatedRemPreferences:e,isRevert:t}){const{status:n,useForFontSizes:i,useForMeasurements:o,remRootFontSize:s}=e,a={};t&&mixpanel.master.track("Reverted rem settings"),n&&(a["Is Enabled"]="enabled"===n),Object.prototype.hasOwnProperty.call(e,"useForFontSizes")&&(a["Use for Font Size"]=i),Object.prototype.hasOwnProperty.call(e,"useForMeasurements")&&(a["Use for Measurements"]=o),s&&(a["Root Font Size"]=s),mixpanel.master.track("Changed rem settings",a)},handleUpdateWorkflowStatus({bid:e,workflowStatus:t}){mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),project_id:e})},handleUpdateWorkflowStatuses({workflowStatus:e,statusUpdatedBarrels:t}){t.forEach((({bid:n})=>{mixpanel.master.track("Set project status",{Name:e.name,Color:e.color.toHexString(),"Project Count":t.length,project_id:n})}))},handleDeleteWorkflowStatus({bid:e}){mixpanel.master.track("Remove project status",{project_id:e})},handleDeleteWorkflowStatuses({statusDeletedBarrels:e}){e.forEach((({bid:t})=>{mixpanel.master.track("Remove project status",{"Project Count":e.length,project_id:t})}))},handleUpdateDescription({barrelType:e}){mixpanel.master.track("Changed description",{Target:p.uppercaseFirst(e)})},handleUpdateComponent({componentData:{description:e}}){e&&mixpanel.master.track("Changed description",{Target:"Component"})},handleActivate({barrelType:e,bid:t}){mixpanel.master.track(`Activated ${e}`,{[`${e}_id`]:t})},handleChangeAssetName({source:e}){mixpanel.master.track("Changed asset name",{Source:e})},handleAddColor(){mixpanel.master.track("Created color")},handleAddComponentSection({isCreateGroup:e}){e?mixpanel.master.track("Created component group"):mixpanel.master.track("Created component section")},handleAddTextStyle(){mixpanel.master.track("Created text style")},handleRemoveColor(){mixpanel.master.track("Deleted color")},handleMergeComponentSection(){mixpanel.master.track("Deleted component section")},handleRemoveSpacingSection(){mixpanel.master.track("Deleted spacing section")},handleRemoveSpacingToken(){mixpanel.master.track("Deleted spacing token")},handleRemoveTextStyle(){mixpanel.master.track("Deleted text style")},handleToggleSVGOptimization({showOptimizedSVG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized SVGs")},handleTogglePNGOptimization({showOptimizedPNG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized PNGs")},handleToggleJPGOptimization({showOptimizedJPG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized JPGs")},handleJoin({barrelType:e,mixpanelSource:t}){mixpanel.master.track(`Joined ${e}`,{Source:t})},handleUpdateComponentsOrder(){mixpanel.master.track("Reordered component")},handleUpdateComponentSection({componentSectionData:{name:e,description:t},isComponentGroup:n}){e&&(n?mixpanel.master.track("Renamed component group"):mixpanel.master.track("Renamed component section")),t&&mixpanel.master.track("Changed description",{Target:"Component section"})},handleChangeAssetNamingConvention({assetNamingConvention:e}){mixpanel.master.track("Selected asset naming convention",{Convention:e})},handleToggleScene({accessibility:e}){e?mixpanel.master.track("Shared project"):mixpanel.master.track("Unshared project")}};t.default=function(){d.default.dispatcher.register((e=>{switch(e.type){case r.default.GO_TO_DASHBOARD:j.handleGoToDashboard(e);break;case r.default.GO_TO_STYLEGUIDE:j.handleGoToStyleguide(e);break;case r.default.ADD:j.handleAdd(e);break;case r.default.ARCHIVE:j.handleArchive(e);break;case r.default.REMOVE:j.handleRemove(e);break;case r.default.REMOVE_MEMBER:j.handleRemoveMember(e);break;case r.default.DOWNLOAD_ASSET:j.handleDownloadAsset(e);break;case r.default.DOWNLOAD_MULTIPLE_ASSET:j.handleDownloadMultipleAsset(e);break;case r.default.EXPORT_CODE:j.handleExportCode(e);break;case r.default.COPY_CODE:j.handleCopyCode(e);break;case r.default.OPEN_EXPORT_TARGET:j.handleOpenExportTarget();break;case r.default.CHANGE_EXPORT_TARGET:j.handleChangeExportTarget();break;case r.default.COPY_COMPONENT_SECTION_WEB_LINK:j.handleCopyComponentSectionWebLink(e);break;case r.default.COPY_COMPONENT_SECTION_APP_URI:j.handleCopyComponentSectionAppURI(e);break;case r.default.FETCH_COMPONENT_SECTION_SHORT_LINK:j.fetchComponentSectionShortLink(e);break;case r.default.ADD_TO_SLACK:j.addToSlack(e);break;case r.default.ENABLE_DEV_MODE:j.trackEnableLocalConfiguration();break;case r.default.RELOAD_LOCAL_CONNECTED_COMPONENTS:j.fetchLocalConnectedComponents(e);break;case r.default.ADD_SPACING_SECTION:e.syncWithApi&&j.handleAddSpacingSection();break;case r.default.UPDATE_SPACING_SECTION:e.syncWithApi&&j.handleUpdateSpacingSection(e);break;case r.default.ADD_SPACING_TOKEN:e.syncWithApi&&j.handleAddSpacingToken();break;case r.default.UPDATE_SPACING_TOKEN:e.syncWithApi&&j.handleUpdateSpacingToken(e);break;case r.default.UPDATE_REM_PREFERENCES:e.syncWithApi&&j.handleUpdateRemPreferences(e);break;case r.default.UPDATE_WORKFLOW_STATUS:e.syncWithApi&&j.handleUpdateWorkflowStatus(e);break;case r.default.UPDATE_WORKFLOW_STATUSES:e.syncWithApi&&j.handleUpdateWorkflowStatuses(e);break;case r.default.DELETE_WORKFLOW_STATUS:e.syncWithApi&&j.handleDeleteWorkflowStatus(e);break;case r.default.DELETE_WORKFLOW_STATUSES:e.syncWithApi&&j.handleDeleteWorkflowStatuses(e);break;case r.default.UPDATE_DESCRIPTION:e.syncWithApi&&j.handleUpdateDescription(e);break;case r.default.UPDATE_COMPONENT:e.syncWithApi&&j.handleUpdateComponent(e);break;case r.default.ACTIVATE:e.syncWithApi&&j.handleActivate(e);break;case r.default.CHANGE_ASSET_NAME:j.handleChangeAssetName(e);break;case r.default.ADD_COLOR:e.syncWithApi&&j.handleAddColor();break;case r.default.ADD_COMPONENT_SECTION:e.syncWithApi&&j.handleAddComponentSection(e);break;case r.default.ADD_TEXT_STYLE:e.syncWithApi&&j.handleAddTextStyle();break;case r.default.REMOVE_COLOR:e.syncWithApi&&j.handleRemoveColor();break;case r.default.MERGE_COMPONENT_SECTION:e.syncWithApi&&j.handleMergeComponentSection();break;case r.default.REMOVE_SPACING_SECTION:e.syncWithApi&&j.handleRemoveSpacingSection();break;case r.default.REMOVE_SPACING_TOKEN:e.syncWithApi&&j.handleRemoveSpacingToken();break;case r.default.REMOVE_TEXT_STYLE:e.syncWithApi&&j.handleRemoveTextStyle();break;case r.default.TOGGLE_SVG_OPTIMIZATION:j.handleToggleSVGOptimization(e);break;case r.default.TOGGLE_PNG_OPTIMIZATION:j.handleTogglePNGOptimization(e);break;case r.default.TOGGLE_JPG_OPTIMIZATION:j.handleToggleJPGOptimization(e);break;case r.default.JOIN:j.handleJoin(e);break;case r.default.UPDATE_COMPONENTS_ORDER:e.syncWithApi&&j.handleUpdateComponentsOrder();break;case r.default.UPDATE_COMPONENT_SECTION:e.syncWithApi&&j.handleUpdateComponentSection(e);break;case r.default.CHANGE_ASSET_NAMING_CONVENTION:j.handleChangeAssetNamingConvention(e);break;case r.default.TOGGLE_SCENE:e.syncWithApi&&j.handleToggleScene(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(575)),a=n(551),r={changeAssetName({bid:e,containerId:t,snapshot:n,assetId:i,name:o}){const s=n.assets.find((e=>e._id===i));return s?(s.localName=o,a.barrelPrefs.get(e,t,"assetNames").then(((n={})=>(null===o?delete n[i]:n[i]=o,a.barrelPrefs.set(e,t,"assetNames",n))))):Promise.resolve()},setAssetDensityScalePrefs:({bid:e,format:t,assetDensityScalePrefsOfFormat:n})=>a.barrelPrefs.get(e,"assetDensityScalePrefs").then((i=>a.barrelPrefs.set(e,"assetDensityScalePrefs",Object.assign(Object.assign({},i),{[t]:n})))),changeAssetNamingConvention:({bid:e,assetNamingConvention:t})=>a.barrelPrefs.set(e,"assetNamingConvention",t),toggleSVGOptimization:({bid:e,showOptimizedSVG:t})=>a.barrelPrefs.set(e,"showOptimizedSVG",t),togglePNGOptimization:({bid:e,showOptimizedPNG:t})=>a.barrelPrefs.set(e,"showOptimizedPNG",t),toggleJPGOptimization:({bid:e,showOptimizedJPG:t})=>a.barrelPrefs.set(e,"showOptimizedJPG",t),dismissNoResourceInfo:({bid:e})=>a.barrelPrefs.set(e,"noResourceInfoDismissed",!0),markSlackReconnectionAuntieAsSeen:({bid:e})=>a.barrelPrefs.set(e,"slackReconnectionAuntieSeen",!0),hideNoVectorAssetInfo:()=>a.userPrefs.set("noVectorAssetInfoHidden",!0),hideDensityMismatchWarning:()=>a.userPrefs.set("densityMismatchWarningHidden",!0),hideSourceFileInfo:()=>a.userPrefs.set("sourceFileInfoHidden",!0),dismissFlowLinkInfo:()=>a.userPrefs.set("flowLinkInfoDismissed",!0),enableDevMove:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","true"),disableDevMode:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","false"),setConnectedComponentsLocalWorkspace:({bid:e,workspace:t})=>a.barrelPrefs.set(e,"connectedComponentsLocalWorkspace",t),highlightedConnectToCodeButtonViewed:()=>a.userPrefs.get("numberOfHighlightedConnectToCodeButtonViews").then((e=>{a.userPrefs.set("numberOfHighlightedConnectToCodeButtonViews",e+1)})),markConnectedComponentsOnboardingDialogAsSeen:()=>a.userPrefs.set("connectedComponentsOnboardingDialogSeen",!0)};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case s.default.CHANGE_ASSET_NAME:r.changeAssetName(e);break;case s.default.CHANGE_ASSET_DENSITY_SCALE_PREF:r.setAssetDensityScalePrefs(e);break;case s.default.CHANGE_ASSET_NAMING_CONVENTION:r.changeAssetNamingConvention(e);break;case s.default.TOGGLE_SVG_OPTIMIZATION:r.toggleSVGOptimization(e);break;case s.default.TOGGLE_PNG_OPTIMIZATION:r.togglePNGOptimization(e);break;case s.default.TOGGLE_JPG_OPTIMIZATION:r.toggleJPGOptimization(e);break;case s.default.DISMISS_NO_RESOURCE_INFO:r.dismissNoResourceInfo(e);break;case s.default.HIDE_SLACK_RECONNECTION_AUNTIE:r.markSlackReconnectionAuntieAsSeen(e);break;case s.default.HIDE_NO_VECTOR_ASSET_INFO:r.hideNoVectorAssetInfo();break;case s.default.HIDE_DENSITY_MISMATCH_WARNING:r.hideDensityMismatchWarning();break;case s.default.HIDE_SOURCE_FILE_INFO:r.hideSourceFileInfo();break;case s.default.DISMISS_FLOW_LINK_INFO:r.dismissFlowLinkInfo();break;case s.default.ENABLE_DEV_MODE:r.enableDevMove();break;case s.default.DISABLE_DEV_MODE:r.disableDevMode();break;case s.default.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:r.setConnectedComponentsLocalWorkspace(e);break;case s.default.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:r.highlightedConnectToCodeButtonViewed();break;case s.default.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:r.markConnectedComponentsOnboardingDialogAsSeen()}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2406)),s=i(n(2407)),a=i(n(2408));t.default=function(){s.default(),a.default(),o.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(592)),l=a(n(716)),c=a(n(567)),d=a(n(710)),u=s(n(819)),h=n(561),p=a(n(1423)),f={handleCreateSection({pid:e,section:t,index:n}){const{_id:i,name:o,screens:s}=t;u.createSection(e,{name:o,screens:s,index:n}).then((t=>{l.default.updateSection({pid:e,seid:i,sectionData:t})})).catch((t=>{h.handleError(t),l.default.removeSection({pid:e,seid:i})}))},handleConvertTagToSection({pid:e,section:t,index:n,defaultSectionId:i,oldDefaultSectionScreens:o}){const{_id:s,name:a,screens:r}=t;u.createSection(e,{name:a,screens:r,index:n}).then((t=>{l.default.updateSection({pid:e,seid:s,sectionData:t,highlight:!0}),d.default.removeTag({pid:e,tag:a,syncWithApi:!0})})).catch((t=>{h.handleError(t),l.default.updateSection({pid:e,seid:i,sectionData:{screens:o}})}))},handleRenameSection({pid:e,seid:t,name:n,oldName:i,onError:o}){u.updateSection(e,t,{name:n}).catch((n=>{l.default.renameSection({pid:e,seid:t,name:i}),h.handleError(n,{dialogCallback:o})}))},handleUpdateSectionDescription({pid:e,seid:t,description:n,oldDescription:i,onError:o}){u.updateSection(e,t,{description:n}).catch((n=>{l.default.updateSectionDescription({pid:e,seid:t,description:i}),h.handleError(n,{dialogCallback:o})}))},handleUpdateSectionOrder({pid:e,seid:t,index:n,oldIndex:i}){const o=[{_id:t,to:n}];u.updateSectionOrder(e,o).catch((n=>{h.handleError(n),l.default.updateSectionOrder({pid:e,seid:t,index:i})}))},handleRemoveSection({pid:e,seid:t,index:n,removedSection:i}){t.startsWith("newSectionFrom")||u.deleteSection(e,t).catch((t=>{h.handleError(t),l.default.addSection({pid:e,section:i,index:n})}))},handleUpdateScreenOrderV2({pid:e,items:t,targetIndex:n,targetSectionId:i,oldIndices:o}){u.updateSectionScreensV2({pid:e,seid:i,index:n,items:t}).catch((n=>{h.handleError(n);for(const[i,{sourceSectionId:s,sourceIndex:a}]of p.default(t,o))l.default.updateScreenOrderV2({pid:e,items:[i],targetSectionId:s,targetIndex:a})}))},handleCreateVariantGroup({pid:e,vgid:t,screens:n}){const i=n.map((({id:e})=>e));u.createVariantGroup(e,i).then((n=>{l.default.updateVariantGroup({pid:e,vgid:t,variantGroupData:n})})).catch((n=>{h.handleError(n),l.default.deleteVariantGroup({pid:e,vgid:t})}))},handleDeleteVariantGroup({pid:e,vgid:t,syncWithApi:n}){u.deleteVariantGroup(e,t).then((()=>{l.default.deleteVariantGroup({pid:e,vgid:t,syncWithApi:n})})).catch(h.handleError)},handleDetachVariantGroup({pid:e,vgid:t,oldVariantGroup:n}){u.detachVariantGroup(e,t).catch((e=>{h.handleError(e);const{_id:t,name:i,screens:o}=n;l.default.createVariantGroup({vgid:t,variantGroupName:i,screens:o})}))},handleAddScreensToVariantGroup({pid:e,vgid:t,screens:n,oldVariantGroup:i}){const o=n.map((({id:e})=>e));u.addScreensToVariantGroup(e,t,o).then((n=>{l.default.updateVariantGroup({pid:e,vgid:t,variantGroupData:n})})).catch((n=>{h.handleError(n),l.default.updateVariantGroup({pid:e,vgid:t,variantGroupData:i})}))},handleRenameScreenVariantGroup({pid:e,vgid:t,name:n,oldName:i}){u.updateVariantGroupName(e,t,n).catch((n=>{h.handleError(n),l.default.renameVariantGroup({pid:e,vgid:t,name:i})}))}};t.default=function(){c.default.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case r.default.CREATE_SECTION:f.handleCreateSection(e);break;case r.default.CONVERT_TAG_TO_SECTION:f.handleConvertTagToSection(e);break;case r.default.RENAME_SECTION:f.handleRenameSection(e);break;case r.default.UPDATE_SECTION_DESCRIPTION:f.handleUpdateSectionDescription(e);break;case r.default.UPDATE_SECTION_ORDER:f.handleUpdateSectionOrder(e);break;case r.default.REMOVE_SECTION:f.handleRemoveSection(e);break;case r.default.UPDATE_SCREEN_ORDER_V2:f.handleUpdateScreenOrderV2(e);break;case r.default.CREATE_VARIANT_GROUP:f.handleCreateVariantGroup(e);break;case r.default.ADD_SCREENS_TO_VARIANT_GROUP:f.handleAddScreensToVariantGroup(e);break;case r.default.RENAME_VARIANT_GROUP:f.handleRenameScreenVariantGroup(e);break;case r.default.DELETE_VARIANT_GROUP_REQUEST:f.handleDeleteVariantGroup(e);break;case r.default.DETACH_VARIANT_GROUP:f.handleDetachVariantGroup(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(592)),a=n(686),r=n(1294),l=n(547),c={changeURL({tagFilter:e}){const{barrelId:t,selectedView:n}=o.default.BarrelStore.getState();if(n!==l.ProjectViewTypes.DASHBOARD)return;const{tags:i,untagged:s}=e,r=s?{untagged:"true"}:{tag:i};history.replaceState({},"",a.urlResolve("project-dashboard",{url:{pid:t},query:r}))},downloadScreens({screens:e,fileName:t}){r.downloadScreens(e,t)},createSection(){mixpanel.master.track("Created screen section")},convertTagToSection(){mixpanel.master.track("Converted tag to section")},removeSection(){mixpanel.master.track("Deleted screen section")},updateScreenOrder(){mixpanel.master.track("Reordered screen")},renameSection(){mixpanel.master.track("Renamed screen section")},changeSortType({sortType:e}){mixpanel.master.track("Sorted screens",{Type:e})},createVariantGroup(){mixpanel.master.track("Created screen variants",{Type:"Create"})},addToVariantGroup(){mixpanel.master.track("Created screen variants",{Type:"Add to"})},hideScreenVariantsOnboarding(){mixpanel.master.track("Dismissed screen variants prompt")}};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case s.default.CHANGE_TAG_FILTER:c.changeURL(e);break;case s.default.DOWNLOAD_SCREENS:c.downloadScreens(e);break;case s.default.CREATE_SECTION:c.createSection();break;case s.default.CONVERT_TAG_TO_SECTION:c.convertTagToSection();break;case s.default.REMOVE_SECTION:e.syncWithApi&&c.removeSection();break;case s.default.UPDATE_SCREEN_ORDER:e.syncWithApi&&c.updateScreenOrder();break;case s.default.RENAME_SECTION:c.renameSection();break;case s.default.CHANGE_SORT_TYPE:c.changeSortType(e);break;case s.default.CREATE_VARIANT_GROUP:c.createVariantGroup();break;case s.default.ADD_SCREENS_TO_VARIANT_GROUP:c.addToVariantGroup();break;case s.default.HIDE_SCREEN_VARIANTS_ONBOARDING:c.hideScreenVariantsOnboarding()}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(551),s=i(n(575)),a=i(n(592)),r=i(n(567)),l={saveFixedThumbnailSize(){const{barrelId:e}=r.default.BarrelStore.getState(),{fixedThumbnailSize:t}=r.default.DashboardStore.getState();o.barrelPrefs.set(e,"fixedThumbnailSize",t)},saveSidebarWidth({sidebarWidth:e}){const{barrelId:t}=r.default.BarrelStore.getState();o.barrelPrefs.set(t,"dashboardSidebarWidth",e)},toggleSectionState(e,{shouldCollapse:t}){if(!e)return;const{barrelId:n}=r.default.BarrelStore.getState();o.barrelPrefs.get(n,"collapsedSections").then((i=>{e.forEach((e=>{i[e]=t})),o.barrelPrefs.set(n,"collapsedSections",i)}))},hideScreenVariantsOnboarding:()=>o.userPrefs.set("screenVariantsOnboardingSeen",!0)};t.default=function(){r.default.dispatcher.register((e=>{switch(e.type){case a.default.TOGGLE_FIXED_THUMBNAIL_SIZE:l.saveFixedThumbnailSize();break;case a.default.CHANGE_SIDEBAR_WIDTH:l.saveSidebarWidth(e);break;case a.default.EXPAND_SECTIONS:l.toggleSectionState(e.seids,{shouldCollapse:!1});break;case a.default.COLLAPSE_SECTIONS:l.toggleSectionState(e.seids,{shouldCollapse:!0});break;case a.default.HIDE_SCREEN_VARIANTS_ONBOARDING:l.hideScreenVariantsOnboarding();break;case s.default.CHANGE_SELECTED_VIEW:l.toggleSectionState(e.viewUpdate.sectionsToExpand,{shouldCollapse:!1})}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(675)),l=s(n(819)),c=a(n(567)),d=a(n(2363)),u={requestDotStates({parameters:e}){l.getDotStates(e).then((t=>d.default.addDotStates(e,t))).catch((()=>d.default.dotStatesError(e)))}};t.default=function(){c.default.dispatcher.register((e=>{switch(e.type){case r.default.RequestDotStates:u.requestDotStates(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2411));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(677)),l=s(n(819)),c=a(n(567)),d=a(n(2380)),u=a(n(575)),h={requestEmojis({pid:e}){l.getProjectSlackIntegrationEmojis(e).then((t=>d.default.addEmojis(e,t))).catch((()=>d.default.emojisError(e)))},handleRemoveIntegration({bid:e,isLastSlackIntegration:t}){t||h.requestEmojis({pid:e})}};t.default=function(){c.default.dispatcher.register((e=>{switch(e.type){case r.default.RequestEmojis:h.requestEmojis(e);break;case u.default.REMOVE_INTEGRATION:h.handleRemoveIntegration(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2413),o=n(2414),s=n(2415),a=n(2416);function r(){Object(i.default)(),Object(o.default)(),Object(s.default)(),Object(a.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(594),o=n(1618),s=n(567),a=n.n(s),r=n(561),l=n(819);const c={project:l.project,styleguide:l.styleguide},d={async handleRemove({bid:e,barrelType:t,eid:n,removedExtension:i,local:s}){if(!s)try{await c[t].removeExtension(e,n),mixpanel.master.track("Removed extension",{"Extension ID":n,"Extension Name":i.name})}catch(a){Object(r.handleError)(a),o.default.add({bid:e,extension:i})}}};function u(){a.a.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case i.default.REMOVE:d.handleRemove(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(594),o=n(1618),s=n(567),a=n.n(s),r=n(595),l=n(561),c=n(819);const d={project:c.project,styleguide:c.styleguide},u={async handleInit({bid:e,barrelType:t,enabledExtensions:n}){try{const i=await d[t].getExtensions(e),s=await Promise.all(i.map((n=>new r.WebappExtension(n).load(e,t))));let a=n;null===a&&(a=i.filter((e=>e.default)).map((e=>e._id))||[]),o.default.loadExtensions({bid:e,extensions:s,enabledExtensions:a})}catch(i){Object(l.handleError)(i)}},async handleLoad({bid:e,barrelType:t,uid:n,eid:i}){try{const s=await d[t].addExtension(e,i),a=new r.WebappExtension(s);await a.load(e,t),o.default.add({bid:e,uid:n,extension:a})}catch(s){Object(l.handleError)(s),o.default.remove({bid:e,eid:i})}}};function h(){a.a.dispatcher.register((e=>{switch(e.type){case i.default.INIT:u.handleInit(e);break;case i.default.LOAD:u.handleLoad(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(594),o=n(567),s=n.n(o);const a={handleRemove({removedExtension:e}){e.terminate()},handleAdd({local:e}){e&&mixpanel.master.track("Added local extension")}};function r(){s.a.dispatcher.register((e=>{switch(e.type){case i.default.REMOVE:a.handleRemove(e);break;case i.default.ADD:a.handleAdd(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(594),o=n(567),s=n.n(o),a=n(551);const r={async handleEnable({bid:e,eid:t}){const n=await a.barrelPrefs.get(e,"extensions")||[];a.barrelPrefs.set(e,"extensions",n.concat(t))},async handleDisable({bid:e,eid:t}){const n=(await a.barrelPrefs.get(e,"extensions")||[]).filter((e=>e!==t));return a.barrelPrefs.set(e,"extensions",n)},handleLoadExtensions({bid:e,enabledExtensions:t}){a.barrelPrefs.set(e,"extensions",t)}};function l(){s.a.dispatcher.register((e=>{switch(e.type){case i.default.ADD:case i.default.ENABLE:r.handleEnable(e);break;case i.default.DISABLE:case i.default.REMOVE:r.handleDisable(e);break;case i.default.LOAD_EXTENSIONS:r.handleLoadExtensions(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2418),o=n(2419),s=n(2420);function a(){Object(i.default)(),Object(o.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var i=n(614),o=n(1514),s=n(684),a=n.n(s),r=n(567),l=n.n(r),c=n(559),d=n(686),u=n(1040),h=n(561),p=n(819);function f(e,t,n){Object(h.handleError)(e,{clientErrorHandler:{402(){c.create({title:`Can’t move ${t} to “${n}”`,message:e.message})},default:h.handleError}})}function g(e,t,n){Object(h.handleError)(e,{clientErrorHandler:{402(){c.create({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:()=>Object(u.showPlanChooserOverlay)({source:t,oid:n})}})},default:h.handleError}})}function m({tpid:e,sourceDensityScale:t,targetDensityScale:n}){return n?Promise.resolve():p.updateProjectDensityScale(e,t)}function b(e,t){const n=[],i=function(e){return Object.fromEntries(e.flatMap((({_id:e,screens:t})=>t.map((({id:t})=>[t,e])))))}(t);for(const o of e){const e=i[o];n.some((({_id:t})=>t===e))||(e?n.push({_id:e,type:"variantGroup"}):n.push({_id:o,type:"screen"}))}return n}function S(e){const{barrelId:t,resource:n,target:i,densityScale:o,platform:s}=e;switch(i.type){case"create":!async function({barrelId:e,oid:t,platform:n,densityScale:i,section:o}){const{_id:s,name:r,screens:l}=o;let c,u;try{({_id:c,densityScale:u}=await p.createProject({oid:t,platform:n,densityScale:i,name:r}))}catch(S){return void g(S,"Move section to a new project, Reached project limit",t)}const{variantGroups:h}=a.a.getBarrel({bid:e});try{await m({tpid:c,sourceDensityScale:i,targetDensityScale:u});const t=b(l,h);await p.moveScreen(e,c,t),await p.deleteSection(e,s),window.location.assign(Object(d.urlResolve)("project",{url:{bid:c}}))}catch(S){f(S,"section","a new project")}}({barrelId:t,oid:i.oid,platform:s,densityScale:o,section:n});break;case"project":!async function({barrelId:e,target:t,densityScale:n,section:i}){const{variantGroups:o}=a.a.getBarrel({bid:e}),s=t.pid,r=n,l=t.densityScale;try{await m({tpid:s,sourceDensityScale:r,targetDensityScale:l});const{_id:t}=await p.createSection(s,i),n=b(i.screens,o);await p.moveScreen(e,s,n),await p.updateSectionScreensV2({pid:s,seid:t,index:0,items:n}),await p.deleteSection(e,i._id);const a=Object(d.urlResolve)("project",{url:{bid:s},query:{seid:t}});window.location.assign(a)}catch(c){f(c,"section",t.name)}}({barrelId:t,target:i,densityScale:o,section:n})}}const y={move(e){const{resourceType:t}=e;switch(t){case"screen":case"variantGroup":!async function(e){const{barrelId:t,resource:n,resourceType:i,target:s,target:{type:a,oid:r},densityScale:l,platform:c}=e;let u,h;const b="create"===a?"a new project":`"${s.name}"`;switch(a){case"create":try{({_id:u,densityScale:h}=await p.createProject({oid:r,platform:c,densityScale:l}))}catch(S){return g(S,"Move screen to a new project, Reached project limit",r),void o.default.close()}break;case"project":({pid:u,densityScale:h}=s)}try{await m({tpid:u,sourceDensityScale:l,targetDensityScale:h});const e={_id:n._id,type:i};await p.moveScreen(t,u,[e]);const o="screen"===i?n._id:n.screens[0].id;window.location.assign(Object(d.urlResolve)("project",{url:{bid:u},query:{sid:o}}))}catch(S){f(S,"screen",b)}}(e);break;case"section":S(e)}}};function v(){l.a.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case i.default.MOVE:y.move(e)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(614),o=n(567),s=n.n(o),a=n(685),r=n.n(a),l=n(561),c=n(819),d=n(1391),u=n.n(d);const h={getProjects(e){r.a.getOrganizationProjects(e)||c.getProjects("user"===e?null:e).then((t=>{u.a.getProjectsSuccess({projects:t,oid:e})})).catch(l.handleError)},getOrganizationsProjects(){const{organizationId:e}=s.a.BarrelStore.getState(),{organizations:t}=s.a.OrganizationStore.getState();t.length&&t.filter((({_id:t})=>t!==e)).forEach((({_id:e})=>this.getProjects(e)))}};function p(){s.a.dispatcher.register((e=>{switch(e.type){case i.default.OPEN:h.getOrganizationsProjects()}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(614),o=n(567),s=n.n(o);const a={move({resourceType:e}){"screen"===e?mixpanel.master.track("Moved screens to project"):"section"===e&&mixpanel.master.track("Moved section to project")}};function r(){s.a.dispatcher.register((e=>{switch(e.type){case i.default.MOVE:e.syncWithApi&&a.move(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2422)),s=i(n(2423));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1123)),s=i(n(572)),a=i(n(569)),r=n(819),l=i(n(567)),c=i(n(707)),d={onMarkAllAsRead({notifications:e}){const t=e.flatMap((({events:e})=>e)).map((({_id:e})=>e));r.updateNotificationEventsReadStatus(t,!0).catch((()=>o.default.restoreReadStatus(e)))},onSetEventReadStatus(e,t,n){const i=e._id,s=e.events.filter((({_id:e})=>t.includes(e))),a=c.default.areEventsRead(s);r.updateNotificationEventsReadStatus(t,n).catch((()=>o.default.setEventReadStatusOffline(i,t,a)))},onSelect({activity:e,eventIds:t,options:{autoSelect:n}}){if(n)return;const i=e.events.filter((({_id:e})=>t.includes(e)));c.default.areEventsRead(i)||this.onSetEventReadStatus(e,t,!0)}};t.default=function(){l.default.dispatcher.register((e=>{switch(e.type){case s.default.MarkAllAsRead:d.onMarkAllAsRead(e);break;case s.default.SetEventReadStatus:d.onSetEventReadStatus(e.notification,e.eventIds,e.markedAsRead);break;case a.default.Select:d.onSelect(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(572)),s=i(n(707)),a=i(n(567)),r={onMarkAllAsRead(){s.default.trackEventWithFilterDetails("Marked all notifications as read")},onSetEventReadStatus({markedAsRead:e}){e||s.default.trackEventWithFilterDetails("Marked notification as unread")}};t.default=function(){a.default.dispatcher.register((e=>{switch(e.type){case o.default.MarkAllAsRead:r.onMarkAllAsRead();break;case o.default.SetEventReadStatus:r.onSetEventReadStatus(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2425)),s=i(n(2426)),a=i(n(2427));t.default=function(){o.default(),s.default(),a.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(819)),l=s(n(561)),c=a(n(961)),d=a(n(1104)),u=a(n(617)),h=a(n(567)),p=a(n(1391)),f=a(n(1482)),g=n(626);let m=!1;function b(e){return e.map((e=>Object.assign(Object.assign({},e),{complete:!1})))}const S={getBarrels({oid:e}){Promise.all([r.getProjects(e),r.getStyleguides(e)]).then((([t,n])=>{p.default.getProjectsSuccess({oid:e,projects:b(t)}),f.default.getStyleguidesSuccess({oid:e,styleguides:b(n)})})).catch(l.handleError)},requestInvitation({id:e,container:t}){m?c.default({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):r.requestOrganizationInvitation(e).then((()=>{m=!0,c.default({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"})})).catch(l.handleError)},addBarrelToFocus({oid:e,mid:t,bid:n,barrelType:i,poppedBarrel:o,syncWithApi:s}){s&&r.addBarrelToOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:i}).then((()=>{d.default.addBarrelToFocusSuccess()})).catch((e=>{d.default.removeBarrelFromFocus({mid:t,bid:n,poppedBarrel:o}),l.handleError(e)}))},removeBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:i,syncWithApi:o}){o&&r.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:i}).then((()=>{d.default.unpinBarrelFromFocusSuccess({bid:n})})).catch((e=>{d.default.addBarrelToFocus({bid:n,barrelType:i}),l.handleError(e)}))},unpinBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:i,syncWithApi:o}){o&&r.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:i}).then((()=>{d.default.unpinBarrelFromFocusSuccess({bid:n})})).catch((t=>{d.default.repinBarrelToFocus({oid:e,bid:n}),l.handleError(t)}))},addOrganizationWorkflowStatus({oid:e,workflowStatusData:{_id:t,name:n,color:i},syncWithApi:o}){o&&r.addOrganizationWorkflowStatus(e,{name:n,color:i}).then((({_id:e})=>{d.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:e,name:n,color:i}})})).catch((e=>{d.default.deleteOrganizationWorkflowStatus({workflowStatusId:t}),l.handleError(e)}))},updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n,oldWorkflowStatusData:i,syncWithApi:o=!0}){o&&r.updateOrganizationWorkflowStatus(e,t,n).catch((e=>{d.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:t,name:i.name,color:i.color}}),l.handleError(e)}))},deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t,oldWorkflowStatusData:n,syncWithApi:i}){i&&r.deleteOrganizationWorkflowStatus(e,t).catch((e=>{d.default.addOrganizationWorkflowStatus({workflowStatusData:n}),l.handleError(e)}))},addProjectSection({oid:e,index:t,sectionData:{name:n,description:i,projects:o},oldIndices:s=[],syncWithApi:a}){a&&r.createOrganizationSection({oid:e,index:t,name:n,description:i,projects:o}).then((({_id:t})=>{d.default.updateProjectSection({oid:e,oseid:g.TEMPORARY_PROJECT_SECTION_ID,sectionData:{_id:t,newSection:!1}})})).catch((t=>{l.handleError(t),s.forEach((({pid:t,oseid:n,index:i})=>{d.default.updateProjectOrder({oid:e,oseid:n,index:i,projects:[t],shouldCalculateActualIndex:!0})})),d.default.removeProjectSection({oid:e,oseid:g.TEMPORARY_PROJECT_SECTION_ID})}))},removeProjectSection({oid:e,oseid:t,oldSectionIndex:n,oldSectionData:i,syncWithApi:o}){o&&r.deleteOrganizationSection(e,t).catch((t=>{l.handleError(t),d.default.addProjectSection({oid:e,index:n,sectionData:i,shouldCalculateActualIndex:!0})}))},updateProjectSection({oid:e,oseid:t,sectionData:n,oldSectionData:i,syncWithApi:o}){o&&r.updateOrganizationSection(Object.assign({oid:e,oseid:t},n)).catch((n=>{d.default.updateProjectSection({oid:e,oseid:t,sectionData:i}),l.handleError(n)}))},handleUpdateProjectSectionOrder({oid:e,oseid:t,index:n,oldSectionIndex:i,syncWithApi:o}){o&&r.updateOrganizationSectionsOrder(e,n,[t]).catch((n=>{l.handleError(n),d.default.updateProjectSectionOrder({oid:e,oseid:t,index:i,shouldCalculateActualIndex:!0})}))},handleUpdateProjectOrder({oid:e,oseid:t,index:n,projects:i,oldIndices:o=[],syncWithApi:s}){s&&r.updateOrganizationSectionProjects(e,t,n,i).catch((t=>{l.handleError(t),o.forEach((({pid:t,oseid:n,index:i})=>{d.default.updateProjectOrder({oid:e,projects:[t],oseid:n,index:i,shouldCalculateActualIndex:!0})}))}))},addSectionLink({oid:e,oseid:t,linkData:{_id:n,title:i,url:o},syncWithApi:s}){s&&r.createOrganizationSectionLink(e,t,i,o).then((({_id:s})=>{d.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{_id:s,title:i,url:o}})})).catch((i=>{l.handleError(i),d.default.removeSectionLink({oid:e,oseid:t,oselid:n})}))},updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{title:i,url:o},oldLink:s,syncWithApi:a}){a&&r.updateOrganizationSectionLink({oid:e,oseid:t,oselid:n,title:i,url:o}).catch((i=>{l.handleError(i),d.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:s})}))},removeSectionLink({oid:e,oseid:t,oselid:n,oldLink:i,syncWithApi:o}){o&&r.deleteOrganizationSectionLink(e,t,n).catch((n=>{l.handleError(n),d.default.addSectionLink({oid:e,oseid:t,linkData:i})}))},updateOrganizationSubscription({oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:o,onSuccess:s,syncWithApi:a}){if(!a)return;(i?r.createOrganizationSubscription:r.updateOrganizationSubscription)(e,{plan:t}).then((()=>{c.default({text:"Plan Updated",source:"planChooserDialog",container:o}),s(e,t)})).catch((t=>{l.handleError(t),d.default.updateOrganizationSubscription({oid:e,plan:n})}))}};t.default=function(){h.default.dispatcher.register((e=>{switch(e.type){case u.default.GET_BARRELS:S.getBarrels(e);break;case u.default.REQUEST_INVITE:S.requestInvitation(e);break;case u.default.ADD_BARREL_TO_FOCUS:S.addBarrelToFocus(e);break;case u.default.REMOVE_BARREL_FROM_FOCUS:S.removeBarrelFromFocus(e);break;case u.default.UNPIN_BARREL_FROM_FOCUS:S.unpinBarrelFromFocus(e);break;case u.default.ADD_ORGANIZATION_WORKFLOW_STATUS:S.addOrganizationWorkflowStatus(e);break;case u.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:S.updateOrganizationWorkflowStatus(e);break;case u.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:S.deleteOrganizationWorkflowStatus(e);break;case u.default.UPDATE_PROJECT_SECTION_ORDER:S.handleUpdateProjectSectionOrder(e);break;case u.default.UPDATE_PROJECT_ORDER:S.handleUpdateProjectOrder(e);break;case u.default.ADD_PROJECT_SECTION:S.addProjectSection(e);break;case u.default.REMOVE_PROJECT_SECTION:S.removeProjectSection(e);break;case u.default.UPDATE_PROJECT_SECTION:S.updateProjectSection(e);break;case u.default.ADD_SECTION_LINK:S.addSectionLink(e);break;case u.default.UPDATE_SECTION_LINK:S.updateSectionLink(e);break;case u.default.REMOVE_SECTION_LINK:S.removeSectionLink(e);break;case u.default.UPDATE_ORGANIZATION_SUBSCRIPTION:S.updateOrganizationSubscription(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(617)),s=i(n(567)),a={addBarrelToFocusSuccess(){mixpanel.master.track("Pinned project")},unpinBarrelFromFocusSuccess(){mixpanel.master.track("Unpinned project")},onHitPinLimit({focusCountLimit:e,pinnedAnyway:t}){mixpanel.master.track("Hit pin limit",{"Pin Limit":e,"Pinned Anyway":t})},onAddOrganizationWorkflowStatus({workflowStatusData:e}){mixpanel.master.track("Created status",{Name:e.name,Color:e.color.toHexString()})},onUpdateOrganizationWorkflowStatus({workflowStatusData:e,oldWorkflowStatusData:t}){Object.prototype.hasOwnProperty.call(e,"name")?mixpanel.master.track("Changed status name",{Name:e.name,Color:t.color.toHexString(),"From Name":t.name}):Object.prototype.hasOwnProperty.call(e,"color")&&mixpanel.master.track("Changed status color",{Name:t.name,Color:e.color.toHexString(),"From Color":t.color.toHexString()})},onDeleteOrganizationWorkflowStatus({oldWorkflowStatusData:e}){mixpanel.master.track("Removed status",{Name:e.name,Color:e.color.toHexString()})},onAddProjectSection({sectionData:{projects:e}}){mixpanel.master.track("Created project section",{"Is Empty":0===e.length,"Project Count":e.length})},onRemoveProjectSection(){mixpanel.master.track("Disbanded project section")},onAddSectionLink(){mixpanel.master.track("Added link to project section")},onRemoveSectionLink(){mixpanel.master.track("Removed link from project section")},onUpdateProjectOrder({isDefaultSection:e,projects:t}){mixpanel.master.track(e?"Removed project from section":"Moved project to section",{"Project Count":t.length})},onUpdateProjectSection({sectionData:{name:e,description:t}}){e&&mixpanel.master.track("Renamed project section"),t&&mixpanel.master.track("Changed description",{Target:"Project section"})},onUpdateSectionLink(){mixpanel.master.track("Updated project section link")}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case o.default.ADD_BARREL_TO_FOCUS_SUCCESS:a.addBarrelToFocusSuccess();break;case o.default.UNPIN_BARREL_FROM_FOCUS_SUCCESS:a.unpinBarrelFromFocusSuccess();break;case o.default.HIT_PIN_LIMIT:a.onHitPinLimit(e);break;case o.default.ADD_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onAddOrganizationWorkflowStatus(e);break;case o.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onUpdateOrganizationWorkflowStatus(e);break;case o.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onDeleteOrganizationWorkflowStatus(e);break;case o.default.ADD_PROJECT_SECTION:e.syncWithApi&&a.onAddProjectSection(e);break;case o.default.REMOVE_PROJECT_SECTION:e.syncWithApi&&a.onRemoveProjectSection();break;case o.default.ADD_SECTION_LINK:e.syncWithApi&&a.onAddSectionLink();break;case o.default.REMOVE_SECTION_LINK:e.syncWithApi&&a.onRemoveSectionLink();break;case o.default.UPDATE_PROJECT_ORDER:e.syncWithApi&&a.onUpdateProjectOrder(e);break;case o.default.UPDATE_PROJECT_SECTION:e.syncWithApi&&a.onUpdateProjectSection(e);break;case o.default.UPDATE_SECTION_LINK:e.syncWithApi&&a.onUpdateSectionLink()}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(617)),s=i(n(567)),a=n(551),r={addBarrelToFocusSuccess(){a.userPrefs.set("pinnedBarrelOnce",!0)},updateDialogDismissStates({oid:e,dialogDismissParams:t}){if(t)for(const[n,i]of Object.entries(t))a.organizationPrefs.set(e,"dialogDismissStates",n,i)}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case o.default.ADD_BARREL_TO_FOCUS_SUCCESS:r.addBarrelToFocusSuccess();break;case o.default.ADD_PROJECT_SECTION:case o.default.UPDATE_PROJECT_ORDER:case o.default.UPDATE_PROJECT_SECTION_ORDER:r.updateDialogDismissStates(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2429)),s=i(n(2431));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(567)),l=a(n(2430)),c=a(n(628)),d=n(819),u=s(n(561)),h={handleUpdateSeats({oid:e,body:t}){d.updateOrganizationSeats(e,t).then(l.default.updateSeatsSuccess).catch((e=>{l.default.updateSeatsFailure(),u.handleError(e)}))},handleCancelScheduledSeatsUpdate({oid:e,cancelledScheduledSeatsUpdate:t}){d.cancelOrganizationScheduledSeatsUpdate(e).then(l.default.cancelScheduledSeatsUpdateSuccess).catch((e=>{l.default.cancelScheduledSeatsUpdateFailure(t),u.handleError(e)}))}};t.default=function(){r.default.dispatcher.register((e=>{switch(e.type){case c.default.UPDATE_SEATS_REQUEST:h.handleUpdateSeats(e);break;case c.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:h.handleCancelScheduledSeatsUpdate(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(628)),s=i(n(567)),a={reset(){s.default.dispatcher.dispatch({type:o.default.RESET})},updateSeats(e,t){s.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_REQUEST,oid:e,body:t})},updateSeatsSuccess(e){s.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_SUCCESS,reservedSeatCount:e})},updateSeatsFailure(){s.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_FAILURE})},getScheduledSeatsUpdate(e){s.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e})},getScheduledSeatsUpdateSuccess(e){s.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS,scheduledSeatsUpdate:e})},cancelScheduledSeatsUpdate(e){const{scheduledSeatsUpdate:t}=s.default.OrganizationBillingStore.getState();s.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e,cancelledScheduledSeatsUpdate:t})},cancelScheduledSeatsUpdateSuccess(){s.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS})},cancelScheduledSeatsUpdateFailure(e){s.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE,cancelledScheduledSeatsUpdate:e})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(2430)),a=i(n(628)),r=n(819),l={handleGetScheduledSeatsUpdate({oid:e}){r.getOrganizationScheduledSeatsUpdate(e).then(s.default.getScheduledSeatsUpdateSuccess)}};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case a.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST:l.handleGetScheduledSeatsUpdate(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(589)),l=a(n(2058)),c=a(n(567)),d=n(819),u=s(n(561)),h={onProjectLink({project:e,styleguide:t,syncWithApi:n}){if(e.partial)return;const i=e._id;(n?d.updateProjectStyleguideLink(i,t._id):Promise.resolve()).then((e=>{n&&mixpanel.master.track("Linked project to styleguide");const{styleguides:o}=c.default.StyleguidesDataStore.getState(),s=[...t.ancestors,t._id].filter((e=>!(o[e]&&o[e].complete)));return Promise.all(s.map((e=>d.getStyleguide(e,{projectId:i}))))})).then((n=>{l.default.linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n})})).catch((e=>{l.default.unlinkProjectFromStyleguide({pid:i,styleguide:t}),u.handleError(e)}))},onProjectUnlink({pid:e,styleguide:t}){d.removeProjectStyleguideLink(e).catch((n=>{const{projects:{[e]:i}}=c.default.ProjectsDataStore.getState();l.default.linkProjectToStyleguide({project:i,styleguide:t}),u.handleError(n)}))}};t.default=function(){c.default.dispatcher.register((e=>{switch(e.type){case r.default.UNLINK_PROJECT:e.syncWithApi&&h.onProjectUnlink(e);break;case r.default.LINK_PROJECT_REQUEST:h.onProjectLink(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(618)),s=i(n(567)),a=n(2434),r={requestProject({pid:e}){setTimeout((()=>a.fetchProject(e)))}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case o.default.REQUEST_PROJECT:r.requestProject(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchProject=void 0;const r=a(n(1391)),l=s(n(819));t.fetchProject=function(e){return r.default.getProjectRequest(),l.getProject(e).then((e=>r.default.getProjectSuccess({project:e}))).catch(r.default.getProjectFailed)}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(918)),a=n(551),r=n(545),l=o(n(567)),c={updatePrefs(){a.userPrefs.set("recentlyLoadedBarrels",l.default.RecentlyLoadedBarrelsStore.getState())}};t.default=function(){return i(this,void 0,void 0,(function*(){if(!r.isWindowsApp)return;const{projects:e,styleguides:t}=yield a.userPrefs.get("recentlyLoadedBarrels");s.default.initRecentlyLoadedBarrels({projects:e,styleguides:t}),l.default.RecentlyLoadedBarrelsStore.addListener((()=>{c.updatePrefs()}))}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2437)),s=i(n(2438)),a=i(n(2439)),r=i(n(2440)),l=i(n(2441));t.default=function(){o.default(),s.default(),a.default(),r.default(),l.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(576)),l=a(n(710)),c=s(n(819)),d=n(561),u=a(n(716)),h=a(n(567)),p=a(n(684)),f=a(n(691)),g=n(551),m=n(631),b={handleUpdateDescription({pid:e,sid:t,description:n,oldDescription:i}){c.updateScreen(e,t,{description:n}).catch((n=>{d.handleError(n),l.default.updateDescription({pid:e,sid:t,description:i})}))},handleUpdateName({pid:e,sid:t,name:n,oldName:i,onError:o}){c.updateScreen(e,t,{name:n}).catch((n=>{l.default.updateName({pid:e,sid:t,name:i}),d.handleError(n,{dialogCallback:o})}))},handleRemoveScreen:({pid:e,seid:t,index:n,sid:i,removedScreen:o})=>c.deleteScreen(e,i).catch((i=>{d.handleError(i),l.default.addScreen({pid:e,seid:t,index:n,screen:o})})),handleUpdateTags({pid:e,updates:t}){c.updateScreensTags(e,t).then((()=>{const{tagFilter:{tags:e,untagged:t},highlightedScreens:n}=h.default.DashboardStore.getState();if(t||!e.length)return;const{tags:i}=p.default.getBarrel(),o=[...new Set(n.map((e=>f.default.getScreen({sid:e}))).reduce(((e,{tags:t=[]})=>e.concat(t)),[]))],s=e.filter((e=>i.includes(e)&&(!n.length||o.includes(e))));s.length!==e.length&&u.default.changeTagFilter({tags:s,untagged:t})})).catch((n=>{d.handleError(n);const i=t.map((({_id:e,operation:t,tags:n})=>({_id:e,tags:n,operation:"add"===t?"remove":"add"})));l.default.updateTags({pid:e,updates:i})}))},handleUpdateCommitColor({pid:e,sid:t,vid:n,color:i,oldColor:o}){c.updateCommitColor(e,t,n,i).catch((i=>{d.handleError(i),l.default.updateCommitColor({pid:e,sid:t,vid:n,color:o})}))},handleUpdateCommitMessage({pid:e,sid:t,vid:n,message:i,oldMessage:o}){c.updateCommitMessage(e,t,n,i).catch((i=>{d.handleError(i),l.default.updateCommitMessage({pid:e,sid:t,vid:n,message:o})}))},handleRemoveVersion({pid:e,sid:t,vid:n,removedVersion:i}){c.deleteVersion(e,t,n).then((()=>{l.default.getVersions()})).catch((n=>{d.handleError(n),l.default.addVersion({pid:e,sid:t,version:i})}))},handleAddDot({pid:e,sid:t,dot:n,hasMention:i,hasImage:o}){const{_id:s,x:a,y:r,color:u,comments:h}=n;c.createDot(e,t,{x:a,y:r,color:u,comments:h}).then((n=>{const a=m.getColorName(u);g.barrelPrefs.set(e,"lastNoteColorUsed",a),l.default.updateDot({pid:e,sid:t,did:s,dotData:n}),mixpanel.master.track("Added note",{"Is Reply":!1,"Is Reaction Reply":!1,"Is Reply To Mention":!1,"Has Mention":i,"Has Image":o,Source:"Screen"})})).catch((n=>{d.handleError(n),l.default.removeDot({pid:e,sid:t,did:s})}))},handleUpdateDotColor({pid:e,sid:t,did:n,color:i,oldColor:o}){c.updateDot(e,t,n,{color:i}).then((()=>{const t=m.getColorName(i);g.barrelPrefs.set(e,"lastNoteColorUsed",t),mixpanel.master.track("Changed dot color")})).catch((i=>{d.handleError(i),l.default.updateDotColor({pid:e,sid:t,did:n,color:o})}))},handleUpdateDotPosition({pid:e,sid:t,did:n,x:i,y:o,oldX:s,oldY:a}){c.updateDot(e,t,n,{x:i,y:o}).catch((i=>{d.handleError(i),l.default.updateDotPosition({pid:e,sid:t,did:n,x:s,y:a})}))},handleUpdateDotStatus({pid:e,sid:t,did:n,status:i,oldStatus:o,source:s}){c.updateDot(e,t,n,{status:i}).then((()=>{mixpanel.master.track(("open"===i?"Reopened":"Resolved")+" note",{Source:s})})).catch((i=>{d.handleError(i),l.default.updateDotStatus({pid:e,sid:t,did:n,status:o})}))},handleRemoveDot({pid:e,sid:t,did:n,removedDot:i}){c.deleteDot(e,t,n).then((()=>{mixpanel.master.track("Deleted dot")})).catch((n=>{d.handleError(n),l.default.addDot({pid:e,sid:t,dot:i})}))},handleCreateComment({pid:e,sid:t,did:n,hasReaction:i,comment:o,toMention:s,hasMention:a,hasImage:r,source:u}){const{_id:h,note:p}=o;c.createDotComment(e,t,n,p).then((o=>{l.default.updateComment({pid:e,sid:t,did:n,cmid:h,commentData:o}),mixpanel.master.track("Added note",{"Is Reply":!0,"Is Reaction Reply":i,"Is Reply To Mention":s,"Has Mention":a,"Has Image":r,Source:u})})).catch((i=>{d.handleError(i),l.default.removeComment({pid:e,sid:t,did:n,cmid:h})}))},handleUpdateComment({pid:e,sid:t,did:n,cmid:i,commentData:o,oldCommentData:s}){const{note:a}=o,{note:r}=s;a!==r&&c.updateDotCommentNote(e,t,n,i,a).then((()=>{mixpanel.master.track("Edited comment")})).catch((o=>{d.handleError(o),l.default.updateComment({pid:e,sid:t,did:n,cmid:i,commentData:s})}))},handleRemoveComment({pid:e,sid:t,did:n,cmid:i,removedComment:o}){c.deleteComment(e,t,n,i).then((()=>{mixpanel.master.track("Deleted comment")})).catch((i=>{d.handleError(i),l.default.addComment({pid:e,sid:t,did:n,comment:o})}))},handleRenameScreenVariant({pid:e,vgid:t,svid:n,name:i,oldName:o}){c.updateVariantGroupScreenVariantName(e,t,n,i).catch((i=>{d.handleError(i),l.default.renameScreenVariant({pid:e,vgid:t,svid:n,name:o})}))},handleReorderScreenVariant({pid:e,vgid:t,svid:n,index:i,oldIndex:o}){c.updateVariantGroupScreensOrder(e,t,n,i).catch((i=>{d.handleError(i),l.default.reorderScreenVariant({pid:e,vgid:t,svid:n,index:o})}))},handleRemoveScreenVariant({pid:e,vgid:t,svid:n,oldScreenVariant:i,oldIndex:o}){c.removeScreenFromVariantGroup(e,t,n).catch((n=>{d.handleError(n),l.default.addScreenVariant({pid:e,vgid:t,screenVariant:i,index:o})}))}};t.default=function(){h.default.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case r.default.UPDATE_DESCRIPTION:b.handleUpdateDescription(e);break;case r.default.UPDATE_NAME:b.handleUpdateName(e);break;case r.default.REMOVE_SCREEN:b.handleRemoveScreen(e);break;case r.default.UPDATE_TAGS:b.handleUpdateTags(e);break;case r.default.UPDATE_COMMIT_COLOR:b.handleUpdateCommitColor(e);break;case r.default.UPDATE_COMMIT_MESSAGE:b.handleUpdateCommitMessage(e);break;case r.default.REMOVE_VERSION:b.handleRemoveVersion(e);break;case r.default.ADD_DOT:b.handleAddDot(e);break;case r.default.UPDATE_DOT_COLOR:b.handleUpdateDotColor(e);break;case r.default.UPDATE_DOT_POSITION:b.handleUpdateDotPosition(e);break;case r.default.UPDATE_DOT_STATUS:b.handleUpdateDotStatus(e);break;case r.default.REMOVE_DOT:b.handleRemoveDot(e);break;case r.default.CREATE_COMMENT:b.handleCreateComment(e);break;case r.default.UPDATE_COMMENT:b.handleUpdateComment(e);break;case r.default.REMOVE_COMMENT:b.handleRemoveComment(e);break;case r.default.RENAME_SCREEN_VARIANT:b.handleRenameScreenVariant(e);break;case r.default.REORDER_SCREEN_VARIANT:b.handleReorderScreenVariant(e);break;case r.default.REMOVE_SCREEN_VARIANT:b.handleRemoveScreenVariant(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(546)),s=n(545),a=i(n(710)),r=i(n(576)),l=i(n(567)),c={querySourceFile(e){o.default.ipcRenderer.removeAllListeners(`${e}:sourceFile`),o.default.ipcRenderer.once(`${e}:sourceFile`,((t,n)=>{a.default.setSourceFile({versionId:e,sourceFile:n})})),o.default.ipcRenderer.send("query-source-file",e)},openSourceFile(e){e&&o.default.ipcRenderer.send("open-item",e)},openSourceFolder(e){e&&o.default.ipcRenderer.send("show-item-in-folder",e)},openPopout({pid:e,name:t,width:n,height:i,url:s}){o.default.ipcRenderer.send("open-popout",{name:t,width:n,height:i,url:s},e)}};t.default=function(){l.default.dispatcher.register((e=>{if(s.isWindowsApp)switch(e.type){case r.default.OPEN_SCREEN:case r.default.SET_VERSION_ID:c.querySourceFile(e.versionId);break;case r.default.OPEN_SOURCE_FILE:c.openSourceFile(e.path);break;case r.default.OPEN_SOURCE_FOLDER:c.openSourceFolder(e.path);break;case r.default.OPEN_POPOUT:c.openPopout(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(1745),c=n(712),d=s(n(819)),u=n(561),h=r(n(702)),p=r(n(710)),f=r(n(1867)),g=r(n(576)),m=r(n(691)),b=r(n(684)),S=r(n(567)),y=r(n(648)),v=r(n(590)),O=r(n(685));let C,E,T;const _={getSnapshot({barrelId:e,screenId:t,versionId:n}){var i;clearTimeout(C);const o=m.default.getScreen();if(!o)return;const s=m.default.getVersion();b.default.isUserRestricted()||O.default.isOrganizationFrozen()||(null===(i=null==s?void 0:s.snapshot)||void 0===i?void 0:i.layers)?setTimeout((()=>{var i;const o=null!==(i=null==s?void 0:s.snapshot)&&void 0!==i?i:{};p.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:o})}),4):C=setTimeout((()=>{d.getSnapshot(e,t,n).then((e=>{const t=l.createArtboardLayer(o.name,e);return e.layers.unshift(t),l.preprocessLayers(e.layers),e})).catch(u.handleError).then(((i={})=>{if((null==s?void 0:s.snapshot.tileInfo)&&(i.tileInfo=s.snapshot.tileInfo),p.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:i}),!i.assets)return;const o=Object.assign({},i);requestIdleCallback((()=>a(this,void 0,void 0,(function*(){yield Promise.all(o.assets.map((n=>l.addAssetStats(e,t,o,n)))),p.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:o});const i=yield d.getVersionAssets(e,t,n);if(null==i?void 0:i.url){const s=yield d.fetchAssets(i.url);yield Promise.all(s.map((n=>l.addAssetStats(e,t,o,n)))),f.default.setVersionAssets({pid:e,sid:t,vid:n,assets:s})}}))))}))}),300)},getSnapshotOfNewVersion({pid:e,sid:t,version:{_id:n,fullSnapshotUrl:i,snapshot:{tileInfo:o}}}){return a(this,void 0,void 0,(function*(){const{barrelId:s}=S.default.BarrelStore.getState();if(s!==e)return;const{screenId:r}=S.default.ScreenStore.getState();if(r!==t)return;if(b.default.isUserRestricted()||O.default.isOrganizationFrozen())return;const c=m.default.getScreen();if(c)try{const u=yield d.fetchSnapshot(i),h=l.createArtboardLayer(c.name,u);o&&(u.tileInfo=o),u.layers.unshift(h),l.preprocessLayers(u.layers),p.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:u});const g=Object.assign({},u);requestIdleCallback((()=>a(this,void 0,void 0,(function*(){yield Promise.all(g.assets.map((e=>l.addAssetStats(s,r,g,e)))),p.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:g});const i=yield d.getVersionAssets(s,r,n);if(i&&i.url){const o=yield d.fetchAssets(i.url);yield Promise.all(o.map((e=>l.addAssetStats(s,r,g,e)))),f.default.setVersionAssets({pid:e,sid:t,vid:n,assets:o})}}))))}catch(u){}}))},getDots({barrelId:e,screenId:t,dotId:n}){clearTimeout(E);const i=m.default.getScreen();if(i)if("dots"in i){const{highlightedComments:e}=S.default.DotsStore.getState();n&&setTimeout((()=>{p.default.selectDot({dotId:n,commentId:e})}),4)}else E=setTimeout((()=>{d.getDots(e,t).then((({dots:n=[]})=>{p.default.setDots({pid:e,sid:t,dots:n})}))}),300)},getVersions({screenId:e}){clearTimeout(T);const t=m.default.getScreen();if(!t)return;const{versions:n,totalVersionCount:i=1/0,allowedVersionCount:o=1/0}=t;if(!(n.length<o&&i>=o))return;const{barrelId:s}=S.default.BarrelStore.getState();T=setTimeout((()=>{d.getVersions(s,e).then((({versions:e=[],totalVersionCount:t,allowedVersionCount:i})=>(n.forEach((t=>{if(!("layers"in t.snapshot))return;const n=e.find((e=>t._id===e._id));n&&Object.assign(n.snapshot,t.snapshot)})),{versions:e,totalVersionCount:t,allowedVersionCount:i}))).catch((e=>(u.handleError(e),{versions:n,totalVersionCount:i,allowedVersionCount:o}))).then((({versions:t,totalVersionCount:n,allowedVersionCount:i})=>{p.default.setVersions({pid:s,sid:e,versions:t,totalVersionCount:n,allowedVersionCount:i})}))}),300)},getSnapshotOfComponentVariant({coid:e}){return a(this,void 0,void 0,(function*(){const t=b.default.getStyleguidesData({barrelStore:S.default.BarrelStore,styleguidesDataStore:S.default.StyleguidesDataStore,projectsDataStore:S.default.ProjectsDataStore}),n=c.findComponentById(t,e),{barrelId:i,component:o}=n||{};if(!o)return;const{latestVersion:s}=o;if(s.snapshot.layers&&s.snapshot.layers.length>0)return;const a=[...o.idPath],r=a.pop(),u=b.default.getBarrel({bid:i});try{const e=yield d.fetchSnapshot(s.fullSnapshotUrl),t=l.createArtboardLayer(o.name,e);if(e.layers.unshift(t),l.preprocessLayers(e.layers),h.default.setComponentSnapshot({bid:u._id,csids:a,coid:r,vid:s._id,snapshot:e}),!e.assets)return;const n=Object.assign({},e);yield Promise.all(n.assets.map((e=>l.addAssetStats(u.id,o._id,n,e)))),h.default.setComponentSnapshot({bid:i,csids:a,coid:r,vid:s._id,snapshot:n});const c=b.default.getBarrel(),p=yield d[c.id===i?v.default.PROJECT:v.default.STYLEGUIDE].getComponentVersionAssets(i,a,r,s._id);if(null==p?void 0:p.url){const e=yield d.fetchAssets(p.url);yield Promise.all(e.map((e=>l.addAssetStats(u.id,r,n,e)))),f.default.setComponentAssets({coid:r,assets:e})}}catch(p){h.default.setComponentSnapshot({bid:u._id,csids:a,coid:r,vid:s._id,snapshot:{}})}}))}};t.default=function(){S.default.dispatcher.register((e=>{switch(e.type){case g.default.OPEN_SCREEN:_.getVersions(e),_.getSnapshot(e),_.getDots(e);break;case g.default.GET_VERSIONS:_.getVersions(e);break;case g.default.SET_VERSION_ID:_.getSnapshot(e);break;case g.default.ADD_VERSION:_.getSnapshotOfNewVersion(e);break;case y.default.OPEN:case y.default.CHANGE_VARIANT:_.getSnapshotOfComponentVariant(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(632),l=n(686),c=n(959),d=a(n(961)),u=s(n(559)),h=a(n(688)),p=a(n(592)),f=a(n(576)),g=a(n(691)),m=a(n(648)),b=a(n(567)),S=n(553),y={notify({pid:e,sid:t,uid:n,did:i,userId:o,username:s,comment:a}){if(n===o)return;const{_id:d,note:u,author:p}=a,f=r.mentionRegexFn(s);if(!p||!f.test(u))return;const g=l.urlResolve("project-screen",{url:{pid:e,sid:t},query:{did:i,cmid:d}});c.notify({title:`${p.username} mentioned you`,body:u,notifier:p,handler(){h.default.history.push(g)}})},selectDot({dotId:e,source:t="Note URL"}){e&&mixpanel.master.track("Opened note",{Source:t})},warnScreenNotFound({barrelId:e,screenId:t}){g.default.getScreen({sid:t})||(u.create({title:"Screen not available anymore.",message:"It was probably deleted, please contact the owner."}),h.default.history.replace(l.urlResolve("project-dashboard",{url:{pid:e}})))},warnScreenRemoval({pid:e,syncWithApi:t,removedScreen:n,removingCurrentScreen:i,user:o}){if(t||!i)return;h.default.history.replace(l.urlResolve("project-dashboard",{url:{pid:e}}));const{userId:s}=b.default.UserStore.getState();if(s===o.user._id)return;const a=o?S.getUserDisplayName(o.user):"Anonymous";u.create({title:`${a} deleted this screen`,message:`You won’t be able to access "${n.name}" from now on.`})},warnVariantGroupRemoval({pid:e,removedVariantGroup:t,removingCurrentScreen:n,user:i}){if(!n)return;h.default.history.replace(l.urlResolve("project-dashboard",{url:{pid:e}}));const{userId:o}=b.default.UserStore.getState();if(o===i.user._id)return;const s=i?S.getUserDisplayName(i.user):"Anonymous";u.create({title:`${s} deleted this variant group`,message:`You won’t be able to access "${t.name}" from now on.`})},warnVersionRemoval({syncWithApi:e,removingCurrentVersion:t,poppedVersion:n}){if(e)return void mixpanel.master.track("Deleted version");if(!t&&!n)return;const i=t?"deleteScreenVersion":"createScreenVersion";d.default({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:i})},changeURLForVersionRemoval({pid:e,removingCurrentVersion:t}){if(!t)return;const{screenId:n}=b.default.ScreenStore.getState();history.replaceState({},"Projects - Screen - Zeplin",l.urlResolve("project-screen",{url:{pid:e,sid:n}}))},warnVersionNotFound({versionId:e}){const{versions:t,totalVersionCount:n}=g.default.getScreen(),i=t.some((({_id:t})=>t===e));n&&!i&&u.create({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."})},updateDescription(){mixpanel.master.track("Changed description",{Target:"Screen"})},updateTags({updates:e,isScreen:t}){if("add"===e[0].operation)return void mixpanel.master.track("Tagged screen");e.some((({operation:e})=>"remove"===e))&&(t?mixpanel.master.track("Removed tag"):mixpanel.master.track("Deleted tag"))},showVersion(){mixpanel.master.track("Visited app",{Location:"Screen version panel"})},openPopout(){mixpanel.master.track("Popped screen out")},updateSectionDescription(){mixpanel.master.track("Changed description",{Target:"Screen section"})},selectLayer({layer:{constraints:e,layout:t}}){mixpanel.master.track("Inspected layer",{Source:"Screen","Has Constraints":Boolean(e),"Has Auto Layout":Boolean(t)})},componentVariantSelectLayer({layer:{constraints:e,layout:t}}){mixpanel.master.track("Inspected layer",{Source:"Component state","Has Constraints":Boolean(e),"Has Auto Layout":Boolean(t)})},updateDotPosition(){mixpanel.master.track("Moved dot")},updateCommitColor(){mixpanel.master.track("Updated version color")},updateCommitMessage(){mixpanel.master.track("Updated version commit message")},selectScreenVariant({pid:e,svid:t,usingKeyboardShortcut:n}){h.default.history.push(l.urlResolve("project-screen",{url:{pid:e,sid:t}})),mixpanel.master.track("Toggled between screen variants",{"Using Keyboard Shortcut":!!n})}};t.default=function(){b.default.dispatcher.register((e=>{switch(e.type){case f.default.OPEN_SCREEN:y.warnScreenNotFound(e),y.selectDot(e);break;case f.default.REMOVE_SCREEN:y.warnScreenRemoval(e);break;case p.default.DELETE_VARIANT_GROUP:y.warnVariantGroupRemoval(e);break;case f.default.SET_VERSION_ID:y.warnVersionNotFound(e);break;case f.default.ADD_VERSION:y.warnVersionRemoval(e);break;case f.default.REMOVE_VERSION:y.warnVersionRemoval(e),y.changeURLForVersionRemoval(e);break;case f.default.ADD_DOT:{const{pid:t,sid:n,uid:i,userId:o,username:s,dot:{_id:a,comments:[r]}}=e;y.notify({pid:t,sid:n,uid:i,did:a,userId:o,username:s,comment:r});break}case f.default.SELECT_DOT:y.selectDot(e);break;case f.default.ADD_COMMENT:y.notify(e);break;case f.default.UPDATE_COMMENT:{const{pid:t,sid:n,uid:i,author:o,userId:s,username:a,did:r,cmid:l,commentData:{note:c}}=e;y.notify({pid:t,sid:n,uid:i,did:r,userId:s,username:a,comment:{_id:l,note:c,author:o}});break}case f.default.UPDATE_DESCRIPTION:e.syncWithApi&&y.updateDescription();break;case f.default.UPDATE_TAGS:e.syncWithApi&&y.updateTags(e);break;case f.default.SHOW_VERSIONS:y.showVersion();break;case f.default.OPEN_POPOUT:y.openPopout();break;case p.default.UPDATE_SECTION_DESCRIPTION:e.syncWithApi&&y.updateSectionDescription();break;case f.default.SELECT_LAYER:y.selectLayer(e);break;case f.default.UPDATE_DOT_POSITION:y.updateDotPosition();break;case f.default.UPDATE_COMMIT_COLOR:e.syncWithApi&&y.updateCommitColor();break;case f.default.UPDATE_COMMIT_MESSAGE:e.syncWithApi&&y.updateCommitMessage();break;case m.default.SELECT_LAYER:y.componentVariantSelectLayer(e);break;case f.default.SELECT_SCREEN_VARIANT:y.selectScreenVariant(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(551),a=o(n(567)),r=o(n(648)),l=o(n(576)),c=1e3;let d,u,h,p,f;const g={saveNoteVisibility(){const{barrelId:e}=a.default.BarrelStore.getState(),{notesVisible:t}=a.default.ScreenStore.getState();clearTimeout(d),d=setTimeout((()=>s.barrelPrefs.set(e,"noteVisibility",t)),c)},saveNoteStatusFilter(e){const{statusFilter:t}=e;if(!t)return;const{barrelId:n}=a.default.BarrelStore.getState();clearTimeout(u),u=setTimeout((()=>i(this,void 0,void 0,(function*(){yield s.barrelPrefs.set(n,"noteStatusFilter",t)}))),c)},saveNoteFilter(e){const{barrelId:t}=a.default.BarrelStore.getState(),{status:n,color:o}=e;clearTimeout(u),u=setTimeout((()=>i(this,void 0,void 0,(function*(){yield s.barrelPrefs.set(t,"noteStatusFilter",n),s.barrelPrefs.set(t,"noteColorFilter",o)}))),c)},saveZoomLevel(){const{barrelId:e}=a.default.BarrelStore.getState(),{zoomLevel:t}=a.default.ScreenStore.getState();clearTimeout(h),h=setTimeout((()=>s.barrelPrefs.set(e,"zoomLevel",t)),c)},saveLayoutGridEnabled(){const{barrelId:e}=a.default.BarrelStore.getState(),{layoutGridEnabled:t}=a.default.ScreenStore.getState();clearTimeout(p),p=setTimeout((()=>s.barrelPrefs.set(e,"layoutGridEnabled",t)),c)},saveVersionsTutorialSeen(){s.userPrefs.set("versionsTutorialSeen",!0)},saveVersionsLastSeen({sid:e,date:t}){if(!e)return;clearTimeout(f);const{barrelId:n}=a.default.BarrelStore.getState();f=setTimeout((()=>{s.barrelPrefs.set(n,e,"versionsLastSeen",t)}),c)},saveScreenSidebarWidth(){const{barrelId:e}=a.default.BarrelStore.getState(),{screenSidebarWidth:t}=a.default.ScreenStore.getState();s.barrelPrefs.set(e,"screenSidebarWidth",t)},saveVersionsSidebarWidth(){const{barrelId:e}=a.default.BarrelStore.getState(),{versionsSidebarWidth:t}=a.default.ScreenStore.getState();s.barrelPrefs.set(e,"versionsSidebarWidth",t)},hideComponentVariantsOnboardingHintbox(){s.userPrefs.set("componentVariantsOnboardingHintboxSeen",!0)},setComponentVariantViewAsSeen(){s.userPrefs.set("componentVariantViewSeen",!0)},incrementNumberOfLayerComponentViews({shouldIncrementNumberOfLayerComponentViews:e,numberOfLayerComponentViews:t}){e&&s.userPrefs.set("numberOfLayerComponentViews",t+1)}};t.default=function(){a.default.dispatcher.register((e=>{switch(e.type){case l.default.SHOW_NOTES:case l.default.HIDE_NOTES:case l.default.SELECT_DOT:case l.default.CREATE_NOTE:case l.default.ENABLE_NOTE_MODE:g.saveNoteVisibility();break;case l.default.UPDATE_DOT_STATUS:g.saveNoteStatusFilter(e);break;case l.default.CHANGE_DOT_FILTER:g.saveNoteFilter(e);break;case l.default.ZOOM_WITH_GESTURE:case l.default.ZOOM_WITH_WHEEL:case l.default.CHANGE_ZOOM_LEVEL:case l.default.ZOOM_IN:case l.default.ZOOM_OUT:case l.default.RESET_ZOOM:g.saveZoomLevel();break;case l.default.TOGGLE_LAYOUT_GRID:g.saveLayoutGridEnabled();break;case l.default.CHANGE_SCREEN_SIDEBAR_WIDTH:g.saveScreenSidebarWidth();break;case l.default.CHANGE_VERSIONS_SIDEBAR_WIDTH:g.saveVersionsSidebarWidth();break;case l.default.OPEN_SCREEN:case l.default.ADD_VERSION:g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case l.default.SHOW_VERSIONS:case l.default.TOGGLE_VERSIONS:g.saveVersionsTutorialSeen(),g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case l.default.HIDE_VERSIONS_AUNTIE:g.saveVersionsTutorialSeen();break;case l.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:g.hideComponentVariantsOnboardingHintbox();break;case l.default.SELECT_LAYER:g.incrementNumberOfLayerComponentViews(e);break;case r.default.OPEN:g.setComponentVariantViewAsSeen()}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(1645)),l=a(n(655)),c=a(n(567)),d=s(n(561)),u=s(n(656)),h=s(n(559)),p=n(819),f=a(n(684)),g={project:p.project,styleguide:p.styleguide},m={initChannel:e=>g[c.default.BarrelStore.getState().barrelType].getIntegrationEvents(f.default.getBarrel()._id,e).then((t=>r.default.load(e,t.events))),init(){f.default.getBarrel().integration.slacks.forEach((e=>{this.initChannel(e._id).catch((()=>{}))}))},initIfNecessary({inid:e,channelName:t}){e in c.default.SlackPreferencesStore.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){h.create({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(e).then((()=>r.default.open(e,t))).catch((()=>this.showInitializationError(e,t)))}})},updateEventGroup({eventGroup:e,checked:t}){const n=c.default.SlackPreferencesStore.getState().inid;(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then((()=>{r.default.eventGroupUpdated(n,e)})).catch((t=>{r.default.eventGroupUpdateFailed(n,e),d.handleError(t)}))},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce(((t,o)=>t.then((()=>g[i].addIntegrationEvent(n,e,o)))),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce(((t,o)=>t.then((()=>g[i].deleteIntegrationEvent(n,e,o)))),Promise.resolve())}};t.default=function(){c.default.dispatcher.register((e=>{switch(e.type){case l.default.INIT:m.init();break;case l.default.OPEN:m.initIfNecessary(e);break;case l.default.UPDATE_EVENT_GROUP:m.updateEventGroup(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2444)),s=i(n(2445));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(620)),l=a(n(567)),c=a(n(1391)),d=a(n(1482)),u=s(n(561)),h=s(n(819)),p=n(547),f=a(n(590)),g={project:{get:h.getProject},styleguide:{get:h.getStyleguide}},m={project:{getRequest:c.default.getProjectRequest,getSuccess:c.default.getProjectSuccess,getFailed:c.default.getProjectFailed},styleguide:{getRequest:d.default.getStyleguideRequest,getSuccess:d.default.getStyleguideSuccess,getFailed:d.default.getStyleguideFailed}},b={onPreview({dialogType:e,dialogParams:{previewBarrelId:t}}){if(!t)return;const n=e===p.DialogTypes.PREVIEW_PROJECT?f.default.PROJECT:f.default.STYLEGUIDE,i=(n===f.default.PROJECT?l.default.ProjectsDataStore.getState().projects:l.default.StyleguidesDataStore.getState().styleguides)[t];if(i&&(i.screens||i.componentSections))return;const o=m[n];o.getRequest(),g[n].get(t).then((e=>{o.getSuccess({[n]:e})})).catch((e=>{o.getFailed(e),u.handleError(e)}))}};t.default=function(){l.default.dispatcher.register((e=>{switch(e.type){case r.default.OPEN_DIALOG:setTimeout(b.onPreview,0,e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(620)),s=i(n(567)),a=n(686),r={onWorkflowStatusFilterChange({workflowStatus:e}){mixpanel.master.track("Filtered by status",{Name:e.name,Color:e.color.toHexString()})},onUnhighlightBarrel(){const{selectedOrganizationId:e,selectedTab:t}=s.default.SpaceStore.getState(),n="user"===e?t:`workspace-${t}`,i={url:{oid:e}};setTimeout((()=>{history.replaceState(i,"Zeplin - Workspace",a.urlResolve(n,i))}),4)}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case o.default.CHANGE_WORKFLOW_STATUS_FILTER:return r.onWorkflowStatusFilterChange(e);case o.default.UNHIGHLIGHT_BARREL:return r.onUnhighlightBarrel()}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2447)),s=i(n(2448)),a=i(n(2449)),r=i(n(2450)),l=i(n(2451));t.default=function(){o.default(),s.default(),a.default(),r.default(),l.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(643)),s=i(n(715)),a=i(n(567)),r=n(819),l=n(561),c={project:r.project,styleguide:r.styleguide},d={handleConvertSectionToVariantSection({bid:e,barrelType:t,csid:n}){c[t].convertComponentSectionToVariantSection(e,n).then((({name:i,variant:o,components:a})=>{s.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:o,components:a,userConvertedSectionIntoVariant:!0})})).catch(l.handleError)},handleConvertVariantSectionToSection({bid:e,barrelType:t,csid:n}){c[t].convertVariantSectionToComponentSection(e,n).then((()=>{s.default.removeComponentVariantData({bid:e,barrelType:t,csid:n})})).catch(l.handleError)},handleAddComponentVariantProperty({bid:e,barrelType:t,csid:n,componentVariantProperty:i}){const{_id:o,name:a}=i;c[t].createComponentSectionVariantProperty(e,n,a).then((({_id:i})=>{const r={_id:i,name:a};s.default.updateComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:o,data:r})})).catch((i=>{l.handleError(i),s.default.removeComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:o})}))},handleUpdateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:o,oldName:a}){c[t].updateComponentSectionVariantProperty(e,n,i,{name:o}).catch((o=>{l.handleError(o),s.default.updateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:a})}))},handleUpdateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:o,oldValues:a}){c[t].updateComponentSectionVariantProperty(e,n,i,{values:o}).catch((o=>{l.handleError(o),s.default.updateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:a})}))},handleUpdateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:i,oldProperties:o}){c[t].updateComponentSectionVariantPropertiesOrder(e,n,{properties:i}).catch((i=>{l.handleError(i),s.default.updateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:o})}))},handleUpdateComponentVariantPropertyValue({bid:e,barrelType:t,csid:n,vpid:i,coid:o,value:a}){c[t].updateComponentsVariantProperty(e,n,i,[o],a).then((({name:i,variant:o,components:a})=>{s.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:o,components:a})})).catch(l.handleError)},handleRemoveComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,removedComponentVariantProperty:o}){c[t].deleteComponentSectionVariantProperty(e,n,i).catch((i=>{l.handleError(i),s.default.addComponentVariantProperty({bid:e,barrelType:t,csid:n,componentVariantProperty:o})}))},handleCreateComponentSectionVariantGroups({bid:e,barrelType:t,csid:n,vpid:i}){c[t].createComponentSectionVariantGroups(e,n,i).then((({components:i,componentSections:o})=>{s.default.groupComponentsByVariantProperty({bid:e,barrelType:t,csid:n,components:i,componentSections:o})})).catch(l.handleError)}};t.default=function(){a.default.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case o.default.CONVERT_SECTION_TO_VARIANT_SECTION:d.handleConvertSectionToVariantSection(e);break;case o.default.CONVERT_VARIANT_SECTION_TO_SECTION:d.handleConvertVariantSectionToSection(e);break;case o.default.ADD_COMPONENT_VARIANT_PROPERTY:d.handleAddComponentVariantProperty(e);break;case o.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:d.handleUpdateComponentVariantPropertyName(e);break;case o.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:d.handleUpdateComponentVariantPropertyValues(e);break;case o.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:d.handleUpdateComponentVariantPropertiesOrder(e);break;case o.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:d.handleUpdateComponentVariantPropertyValue(e);break;case o.default.REMOVE_COMPONENT_VARIANT_PROPERTY:d.handleRemoveComponentVariantProperty(e);break;case o.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS:d.handleCreateComponentSectionVariantGroups(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(643)),s=i(n(567)),a=i(n(546)),r=n(545),l={sendHideColorsToElectron({barrelId:e,colors:t}){a.default.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){a.default.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};t.default=function(){s.default.dispatcher.register((e=>{if(r.isWindowsApp)switch(e.type){case o.default.HIDE_SUGGESTED_COLORS:return l.sendHideColorsToElectron(e);case o.default.HIDE_SUGGESTED_TEXT_STYLES:return l.sendHideTextStylesToElectron(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(702)),a=o(n(1867)),r=o(n(684)),l=o(n(575)),c=n(819),d=n(1745),u=o(n(567)),h={project:c.project,styleguide:c.styleguide},p={getSnapshot({bid:e,barrelType:t,csids:n,coid:o,shouldFetchSnapshot:l,componentVersion:{_id:u,fullSnapshotUrl:p}}){return i(this,void 0,void 0,(function*(){if(l)try{const i=yield c.fetchSnapshot(p);d.preprocessLayers(i.layers),yield i.assets.map((t=>d.addAssetStats(e,o,i,t))),s.default.setComponentSnapshot({bid:e,csids:n,coid:o,vid:u,snapshot:i});const l=r.default.getBarrel({bid:e}),f=yield h[t].getComponentVersionAssets(e,n,o,u);if(null==f?void 0:f.url){const e=yield c.fetchAssets(f.url);yield Promise.all(e.map((e=>d.addAssetStats(l.id,o,i,e)))),a.default.setComponentAssets({coid:o,assets:e})}}catch(i){}}))},getSnapshotIfNecessary({bid:e,csids:t,coid:n,shouldFetchSnapshot:i,componentData:o}){if(!o||!o.latestVersion)return;const{latestVersion:{_id:s,fullSnapshotUrl:a}}=o;this.getSnapshot({bid:e,csids:t,coid:n,shouldFetchSnapshot:i,componentVersion:{_id:s,fullSnapshotUrl:a}})}};t.default=function(){u.default.dispatcher.register((e=>{switch(e.type){case l.default.ADD_COMPONENT_VERSION:p.getSnapshot(e);break;case l.default.UPDATE_COMPONENT:p.getSnapshotIfNecessary(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(643)),s=i(n(567)),a=i(n(648)),r=n(686),l=i(n(590)),c={handleConvertSectionToVariantSection(){mixpanel.master.track("Set as component variant section")},handleConvertVariantSectionToSection(){mixpanel.master.track("Unset as component variant section")},handleAddComponentVariantProperty(){mixpanel.master.track("Add component variant property")},handleRemoveComponentVariantProperty(){mixpanel.master.track("Remove component variant property")},handleRenameComponentVariantProperty(){mixpanel.master.track("Rename component variant property")},handleUpdateComponentVariantPropertyValues({values:e}={}){var t;mixpanel.master.track("Update component variant property value",{"Number of Components":null!==(t=null==e?void 0:e.length)&&void 0!==t?t:1})},handleOpenComponentVariantPopup({variantPopupSource:e}){mixpanel.master.track("Opened component variant pop-up",{Source:e})},handleChangeComponentVariant({variantChangeValueSource:e,isState:t}){mixpanel.master.track("Changed variant in component variant pop-up",{Source:e,"Is State":t})},handleChangeSortType({sortType:e}){mixpanel.master.track("Sorted components",{Type:e})},collapseAllSections(){const{barrelId:e,barrelType:t}=s.default.BarrelStore.getState(),n=t===l.default.PROJECT?"project-styleguide":"styleguide";window.history.replaceState({},"Components - Styleguide - Zeplin",r.urlResolve(`${n}-components`,{url:{bid:e}}))}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case a.default.OPEN:return c.handleOpenComponentVariantPopup(e);case a.default.CHANGE_VARIANT:return c.handleChangeComponentVariant(e);case o.default.CHANGE_SORT_TYPE:return c.handleChangeSortType(e);case o.default.COLLAPSE_ALL_SECTIONS:return c.collapseAllSections()}if(e.syncWithApi)switch(e.type){case o.default.CONVERT_SECTION_TO_VARIANT_SECTION:return c.handleConvertSectionToVariantSection();case o.default.CONVERT_VARIANT_SECTION_TO_SECTION:return c.handleConvertVariantSectionToSection();case o.default.ADD_COMPONENT_VARIANT_PROPERTY:return c.handleAddComponentVariantProperty();case o.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return c.handleRemoveComponentVariantProperty();case o.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return c.handleRenameComponentVariantProperty();case o.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:return c.handleUpdateComponentVariantPropertyValues();case o.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return c.handleUpdateComponentVariantPropertyValues(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(551),s=i(n(643)),a=i(n(567)),r=i(n(684)),l=i(n(575)),c={changeLeftSidebarWidth({leftSidebarWidth:e}){const{id:t}=r.default.getBarrel();o.barrelPrefs.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth({rightSidebarWidth:e}){const{id:t}=r.default.getBarrel();o.barrelPrefs.set(t,"styleguideRightSidebarWidth",e)},hideComponentVariantsOnboardingDialog(){o.userPrefs.set("componentVariantsOnboardingDialogSeen",!0)},toggleSectionCollapsedState(e,{shouldCollapse:t}){const{id:n}=r.default.getBarrel();o.barrelPrefs.get(n,"collapsedSections").then((i=>{e.forEach((e=>{i[e]=t})),o.barrelPrefs.set(n,"collapsedSections",i)}))},updateCollapsedSections(e){const{id:t}=r.default.getBarrel();o.barrelPrefs.set(t,"collapsedSections",e)}};t.default=function(){a.default.dispatcher.register((e=>{var t;switch(e.type){case s.default.CHANGE_LEFT_SIDEBAR_WIDTH:c.changeLeftSidebarWidth(e);break;case s.default.CHANGE_RIGHT_SIDEBAR_WIDTH:c.changeRightSidebarWidth(e);break;case s.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:c.hideComponentVariantsOnboardingDialog();break;case s.default.EXPAND_SECTIONS:c.toggleSectionCollapsedState(e.seids,{shouldCollapse:!1});break;case s.default.COLLAPSE_SECTIONS:case s.default.COLLAPSE_ALL_SECTIONS:c.toggleSectionCollapsedState(e.seids,{shouldCollapse:!0});break;case s.default.CHANGE_SELECTION:if(!e.updateCollapsedSections||!e.collapsedSections)return;c.updateCollapsedSections(e.collapsedSections);break;case s.default.UPDATE_STATE:if(!e.update||!e.update.collapsedSections)return;c.updateCollapsedSections(e.update.collapsedSections);break;case l.default.LOAD:if(!(null===(t=e.styleguide)||void 0===t?void 0:t.collapsedSections))return;c.updateCollapsedSections(e.styleguide.collapsedSections)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2453)),s=i(n(2454));t.default=function(){s.default(),o.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(819)),l=s(n(561)),c=a(n(684)),d=a(n(567)),u=a(n(1482)),h=a(n(619)),p={getStyleguide(e,{styleguideId:t}){const n=c.default.getBarrel({bid:e});return n&&n.complete?Promise.resolve(n):r.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map((t=>this.getStyleguide(t,{styleguideId:e}))))}},f={selectParentRequest({stid:e,parent:t}){r.updateStyleguideParent(e,t).then((()=>{const{styleguides:n}=d.default.StyleguidesDataStore.getState(),i=[...n[t].ancestors,t].filter((e=>{var t;return!(null===(t=n[e])||void 0===t?void 0:t.complete)}));return p.getAncestors(e,i)})).then((n=>{u.default.selectParentSuccess({stid:e,parent:t,styleguides:n})})).catch((e=>{u.default.selectParentFailed(),l.handleError(e)}))}};t.default=function(){d.default.dispatcher.register((e=>{if(e.syncWithApi)switch(e.type){case h.default.SELECT_PARENT_REQUEST:f.selectParentRequest(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(551),s=i(n(567)),a=i(n(619)),r={usedStyleguides(){o.userPrefs.set("styleguidesUsed",!0)}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case a.default.CREATE_STYLEGUIDE:r.usedStyleguides()}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2456));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(2379)),a=i(n(666)),r=n(819),l={project:r.project,styleguide:r.styleguide},c={handleGetTeamsIntegration({barrelType:e,barrelId:t}){l[e].getTeamsIntegration(t).then((e=>s.default.setTeamsIntegration(e.channels))).catch((()=>s.default.setTeamsIntegration([])))}};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case a.default.GET_TEAMS_INTEGRATION:c.handleGetTeamsIntegration(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2458)),s=i(n(2459)),a=i(n(2460));t.default=function(){s.default(),o.default(),a.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(551),s=i(n(567)),a=i(n(573)),r={setUserAttribute({name:e,value:t}){switch(e){case"verified":Zeplin.updateUser({status:"verified"});break;case"isEmailNotificationEnabled":Zeplin.updateUser({emailNotifications:t});break;case"isDesktopNotificationEnabled":o.userPrefs.set("notificationStatus",t);break;default:Zeplin.updateUser({[e]:t})}},markZeplinThreeZeroWhatsNewAsSeen(){o.userPrefs.set("zeplinThreeZeroWhatsNewSeen",!0)},stopPromotingSpacingSectionDescriptionEditButton(){o.userPrefs.set("shouldPromoteSpacingSectionDescriptionEditButton",!1)},hideStyleguideTutorial(){o.userPrefs.set("shouldDisplayStyleguideTutorial",!1)},stopPromotingExportDesignTokens(){o.userPrefs.set("shouldPromoteExportDesignTokens",!1)},hideInvitedUserHintbox(){o.userPrefs.set("shouldDisplayInvitedUserHintbox",!1)},hideDashboardOnboardingHintbox(){o.userPrefs.set("shouldDisplayDashboardOnboardingHintbox",!1)}};t.default=function(){s.default.dispatcher.register((e=>{switch(e.type){case a.default.SET_USER_ATTRIBUTE:r.setUserAttribute(e);break;case a.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:r.markZeplinThreeZeroWhatsNewAsSeen();break;case a.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:r.stopPromotingSpacingSectionDescriptionEditButton();break;case a.default.HIDE_STYLEGUIDE_TUTORIAL:r.hideStyleguideTutorial();break;case a.default.STOP_PROMOTING_EXPORT_DESIGN_TOKENS:r.stopPromotingExportDesignTokens();break;case a.default.HIDE_INVITED_USER_HINTBOX:r.hideInvitedUserHintbox();break;case a.default.HIDE_DASHBOARD_ONBOARDING_HINTBOX:r.hideDashboardOnboardingHintbox()}}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(573)),l=a(n(1039)),c=s(n(819)),d=n(561),u=a(n(567)),h=a(n(707)),p=n(586),f=a(n(1123)),g={muteProjectNotifications({pid:e,syncWithApi:t}){if(!t)return;const{notifications:n}=u.default.NotificationsStore.getState(),i=n.map((t=>h.default.filterEventsByProject(t,e))).filter(p.exists);setTimeout((()=>f.default.setReadStatusOfflineByNotifications(i,!0))),c.muteProjectNotifications(e).catch((t=>{d.handleError(t),l.default.unmuteProjectNotifications({pid:e}),setTimeout((()=>f.default.restoreReadStatus(i)))}))},muteStyleguideNotifications({stid:e,syncWithApi:t}){if(!t)return;const{notifications:n}=u.default.NotificationsStore.getState(),i=n.map((t=>h.default.filterEventsByStyleguide(t,e))).filter(p.exists);setTimeout((()=>f.default.setReadStatusOfflineByNotifications(i,!0))),c.muteStyleguideNotifications(e).catch((t=>{d.handleError(t),l.default.unmuteStyleguideNotifications({stid:e}),setTimeout((()=>f.default.restoreReadStatus(i)))}))},unmuteProjectNotifications({pid:e,syncWithApi:t}){t&&c.unmuteProjectNotifications(e).catch((t=>{d.handleError(t),l.default.muteProjectNotifications({pid:e})}))},unmuteStyleguideNotifications({stid:e,syncWithApi:t}){t&&c.unmuteStyleguideNotifications(e).catch((t=>{d.handleError(t),l.default.muteStyleguideNotifications({stid:e})}))}};t.default=function(){u.default.dispatcher.register((e=>{switch(e.type){case r.default.MUTE_PROJECT_NOTIFICATIONS:g.muteProjectNotifications(e);break;case r.default.MUTE_STYLEGUIDE_NOTIFICATIONS:g.muteStyleguideNotifications(e);break;case r.default.UNMUTE_PROJECT_NOTIFICATIONS:g.unmuteProjectNotifications(e);break;case r.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS:g.unmuteStyleguideNotifications(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(573)),a={terminateSession(){sessionStorage.setItem("sessionTerminatedBanner",JSON.stringify({content:"You were logged out because too many devices were logged into one account. Please log in again.",contentType:"text"})),Zeplin.logout()}};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case s.default.TERMINATE_SESSION:a.terminateSession()}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2462),o=n(2464);function s(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(567),o=n.n(i),s=n(669),a=n(2463),r=n(819),l=n(561);const c={handleCreateWebhook({oid:e,webhook:t}){const{subscribedAllEvents:n}=t;n&&delete t.subscriptions,Object(r.createWebhook)(e,t).then(a.default.createWebhookSuccess).catch((e=>{a.default.createWebhookFailure(),l.handleError(e)}))},handleUpdateWebhook({oid:e,webhook:t}){const{url:n,secret:i,status:o,subscribedAllEvents:s,subscriptions:c}=t,d={url:n,secret:i,status:o,subscribedAllEvents:s,subscriptions:c};s&&delete d.subscriptions,Object(r.updateWebhook)(e,t._id,d).then((()=>a.default.updateWebhookSuccess(t))).catch((e=>{a.default.updateWebhookFailure(),l.handleError(e)}))},handleDeleteWebhook({oid:e,webhookId:t}){Object(r.deleteWebhook)(e,t).then((()=>a.default.deleteWebhookSuccess(t))).catch((e=>{a.default.deleteWebhookFailure(),l.handleError(e)}))}};function d(){o.a.dispatcher.register((e=>{switch(e.type){case s.default.CREATE_WEBHOOK_REQUEST:c.handleCreateWebhook(e);break;case s.default.UPDATE_WEBHOOK_REQUEST:c.handleUpdateWebhook(e);break;case s.default.DELETE_WEBHOOK_REQUEST:c.handleDeleteWebhook(e)}}))}},function(e,t,n){"use strict";n.r(t);var i=n(567),o=n.n(i),s=n(669);const a={getWebhooks(e){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOKS_REQUEST,oid:e})},getWebhooksSuccess(e){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOKS_SUCCESS,webhooks:e})},getWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOK_REQUEST,oid:e,webhookId:t})},getWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOK_SUCCESS,webhook:e})},getWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOK_FAILURE})},createWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.CREATE_WEBHOOK_REQUEST,oid:e,webhook:t})},createWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.CREATE_WEBHOOK_SUCCESS,webhook:e})},createWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.CREATE_WEBHOOK_FAILURE})},updateWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.UPDATE_WEBHOOK_REQUEST,oid:e,webhook:t})},updateWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.UPDATE_WEBHOOK_SUCCESS,webhook:e})},updateWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.UPDATE_WEBHOOK_FAILURE})},deleteWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.DELETE_WEBHOOK_REQUEST,oid:e,webhookId:t})},deleteWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.DELETE_WEBHOOK_SUCCESS,webhookId:e})},deleteWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.DELETE_WEBHOOK_FAILURE})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(567),o=n.n(i),s=n(669),a=n(2463),r=n(819),l=n(821),c=n.n(l),d=n(561);const u={handleGetWebhooks({oid:e}){Object(r.getWebhooks)(e).then(a.default.getWebhooksSuccess).catch((e=>{if(e.status===c.a.STATUS.PRECONDITION_FAILED)return a.default.getWebhooksSuccess([]);d.handleError(e)}))},handleGetWebhook({oid:e,webhookId:t}){const{webhooks:n}=o.a.WebhooksDataStore.getState(),i=n.find((e=>e._id===t))||{};if(i.complete)return setTimeout((()=>{a.default.getWebhookSuccess(i)}));Object(r.getWebhook)(e,t).then(a.default.getWebhookSuccess).catch((e=>{a.default.getWebhookFailure(),d.handleError(e)}))}};function h(){o.a.dispatcher.register((e=>{switch(e.type){case s.default.GET_WEBHOOKS_REQUEST:u.handleGetWebhooks(e);break;case s.default.GET_WEBHOOK_REQUEST:u.handleGetWebhook(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2466));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(644)),a=i(n(1867)),r=n(819),l={project:r.project,styleguide:r.styleguide},c={handleProcessVersionAssetContent({pid:e,sid:t,vid:n,vaid:i,vacid:o,ovacid:s}){r.processVersionAssetContent(e,t,n,i,s).catch((()=>a.default.processVersionAssetContentFailure({vid:n,vaid:i,vacid:o})))},handleProcessComponentVersionAssetContent({barrelType:e,bid:t,csids:n,coid:i,vid:o,vaid:s,vacid:r,ovacid:c}){l[e].processComponentVersionAssetContent(t,n,i,o,s,c).catch((()=>a.default.processComponentVersionAssetContentFailure({coid:i,vaid:s,vacid:r})))}};t.default=function(){o.default.dispatcher.register((e=>{switch(e.type){case s.default.PROCESS_VERSION_ASSET_CONTENT_REQUEST:c.handleProcessVersionAssetContent(e);break;case s.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST:c.handleProcessComponentVersionAssetContent(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2468)),s=i(n(2470));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(567)),l=a(n(680)),c=a(n(2469)),d=n(819),u=s(n(561)),h={handleCreateOrganizationSCIMToken(e){d.createOrganizationSCIMToken(e).then(c.default.createSCIMTokenSuccess).catch((e=>{c.default.createSCIMTokenFailure(),u.handleError(e)}))},handleDeleteOrganizationSCIMToken(e,t){d.deleteOrganizationSCIMToken(e,t).then((()=>c.default.deleteSCIMTokenSuccess(t))).catch((e=>{c.default.deleteSCIMTokenFailure(),u.handleError(e)}))},handleUpdateOrganizationSCIMRole({oid:e,role:t,oldRole:n}){d.updateOrganizationSCIMRole(e,t).catch((t=>{c.default.updateSCIMRole({oid:e,role:n}),u.handleError(t)}))},handleUpdateOrganizationSCIMAccessibility({oid:e,restricted:t}){d.updateOrganizationSCIMAccessibility(e,t).catch((n=>{c.default.updateSCIMAccessibility({oid:e,restricted:!t}),u.handleError(n)}))},handleUpdateSCIMStatus({oid:e,enabled:t}){d.updateOrganizationSCIMStatus(e,t).catch((n=>{c.default.updateSCIMStatus({oid:e,enabled:!t}),u.handleError(n)}))}};t.default=function(){r.default.dispatcher.register((e=>{switch(e.type){case l.default.CREATE_SCIM_TOKEN_REQUEST:h.handleCreateOrganizationSCIMToken(e.oid);break;case l.default.DELETE_SCIM_TOKEN_REQUEST:h.handleDeleteOrganizationSCIMToken(e.oid,e.accessTokenId);break;case l.default.UPDATE_SCIM_ROLE:e.syncWithApi&&h.handleUpdateOrganizationSCIMRole(e);break;case l.default.UPDATE_SCIM_ACCESSIBILITY:e.syncWithApi&&h.handleUpdateOrganizationSCIMAccessibility(e);break;case l.default.UPDATE_SCIM_STATUS:e.syncWithApi&&h.handleUpdateSCIMStatus(e)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(680)),s=i(n(567)),a={getSCIMSettings(e){s.default.dispatcher.dispatch({type:o.default.GET_SCIM_SETTINGS_REQUEST,oid:e})},getSCIMSettingsSuccess(e){s.default.dispatcher.dispatch({type:o.default.GET_SCIM_SETTINGS_SUCCESS,SCIMSettings:e})},getSCIMSettingsFailure(){s.default.dispatcher.dispatch({type:o.default.GET_SCIM_SETTINGS_FAILURE})},getSCIMTokens(e){s.default.dispatcher.dispatch({type:o.default.GET_SCIM_TOKENS_REQUEST,oid:e})},getSCIMTokensSuccess(e){s.default.dispatcher.dispatch({type:o.default.GET_SCIM_TOKENS_SUCCESS,scimTokens:e})},getSCIMTokensFailure(){s.default.dispatcher.dispatch({type:o.default.GET_SCIM_TOKENS_FAILURE})},createSCIMToken(e){s.default.dispatcher.dispatch({type:o.default.CREATE_SCIM_TOKEN_REQUEST,oid:e})},createSCIMTokenSuccess(e){s.default.dispatcher.dispatch({type:o.default.CREATE_SCIM_TOKEN_SUCCESS,newToken:e})},createSCIMTokenFailure(){s.default.dispatcher.dispatch({type:o.default.CREATE_SCIM_TOKEN_FAILURE})},deleteSCIMToken(e,t){s.default.dispatcher.dispatch({type:o.default.DELETE_SCIM_TOKEN_REQUEST,oid:e,accessTokenId:t})},deleteSCIMTokenSuccess(e){s.default.dispatcher.dispatch({type:o.default.DELETE_SCIM_TOKEN_SUCCESS,accessTokenId:e})},deleteSCIMTokenFailure(){s.default.dispatcher.dispatch({type:o.default.DELETE_SCIM_TOKEN_FAILURE})},updateSCIMRole({oid:e,role:t,syncWithApi:n}){let i="";n&&({scimSettingsData:{role:i}}=s.default.WorkspaceSettingsStore.getState()),s.default.dispatcher.dispatch({type:o.default.UPDATE_SCIM_ROLE,oid:e,role:t,oldRole:i,syncWithApi:n})},updateSCIMAccessibility({oid:e,restricted:t,syncWithApi:n}){s.default.dispatcher.dispatch({type:o.default.UPDATE_SCIM_ACCESSIBILITY,oid:e,restricted:t,syncWithApi:n})},updateSCIMStatus({oid:e,enabled:t,syncWithApi:n}){s.default.dispatcher.dispatch({type:o.default.UPDATE_SCIM_STATUS,oid:e,enabled:t,syncWithApi:n})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(567)),l=a(n(680)),c=a(n(2469)),d=n(819),u=s(n(561)),h={handleGetOrganizationSCIMSettings(e){d.getOrganizationSCIMSettings(e).then(c.default.getSCIMSettingsSuccess).catch((e=>{u.handleError(e,{clientErrorHandler:{412(){"SCIM is not configured"!==e.title&&(c.default.getSCIMSettingsFailure(),u.handleError(e))},default:u.handleError}})}))},handleGetOrganizationSCIMTokens(e){d.getOrganizationSCIMTokens(e).then(c.default.getSCIMTokensSuccess).catch((e=>{u.handleError(e,{clientErrorHandler:{412(){if("SCIM is not configured"===e.title)return c.default.getSCIMTokensSuccess([]);c.default.getSCIMTokensFailure(),u.handleError(e)},default:u.handleError}})}))}};t.default=function(){r.default.dispatcher.register((e=>{switch(e.type){case l.default.GET_SCIM_SETTINGS_REQUEST:h.handleGetOrganizationSCIMSettings(e.oid);break;case l.default.GET_SCIM_TOKENS_REQUEST:h.handleGetOrganizationSCIMTokens(e.oid)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(549),o=n(564),s=n(551),a=n(819),r=n(2381),l=n(1039),c=n.n(l),d=n(567),u=n.n(d);function h(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}async function p(){let e=u.a.UserStore.getState(),{loading:t}=e,n=h(e,["loading"]);if(t){if(n=await function(){const e=Object(r.fetchEmbeddedData)("user",{remove:!1});return e?Promise.resolve(e):i.default.get("userToken")?Object(a.getUserProfile)():Promise.resolve(null)}(),!n)return;c.a.loadUser(n)}const{notificationBannerStatus:l,notificationStatus:d,zeplinThreeZeroWhatsNewSeen:p,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,shouldPromoteExportDesignTokens:m,shouldDisplayInvitedUserHintbox:b,shouldDisplayDashboardOnboardingHintbox:S}=await s.userPrefs.getAll(),{config:{plans:y}}=u.a.AppStore.getState(),v=y.find((e=>e.id===n.paymentPlan));c.a.updateUser({isDesktopNotificationEnabled:d,zeplinThreeZeroWhatsNewSeen:p,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,shouldPromoteExportDesignTokens:m,shouldDisplayInvitedUserHintbox:b,shouldDisplayDashboardOnboardingHintbox:S,paymentPlan:v}),window.Notification&&"default"===Notification.permission&&l&&o.show({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){s.userPrefs.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("notification"),Notification.requestPermission((e=>{c.a.setDesktopNotifications("granted"===e)}))}}}),"registered"===n.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&o.show({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var i=n(546),o=n(610),s=n(686),a=n(584),r=n.n(a),l=n(567),c=n.n(l),d=n(702),u=n.n(d),h=n(950),p=n(661);const f="imports-change";function g(e,t){h.default.handleImports(t)}function m(){i.default.ipcRenderer.on(f,Object(o.debounce)(g)),i.default.ipcRenderer.send("subscribe-to-imports")}function b(e){e.forEach((function(e){e.remove()}))}function S(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function y(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",y),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||h.default.hideImportsIndicator(),i.length&&b(i),m()}function v(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),o=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===o.length)return;i.default.ipcRenderer.removeAllListeners(f);var s=o.reduce((function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e}),{hideAndRemove:[],animateAndRemove:[]});const a=s.hideAndRemove,r=s.animateAndRemove;let l=n.clientHeight,c=l,d=0;n.style.height=l+"px";var u=t.getBoundingClientRect();a.forEach((function(e){const i=e.getBoundingClientRect();l-=i.height,c-=e.height,n.style.height=l+"px";const o=i.bottom<u.top;e.classList.add("hidden"),o&&(t.scrollTop-=i.height)})),r.forEach((function(e){const t=e.getBoundingClientRect().height;c-=t,e.addEventListener("transitionend",S),e.style.transitionDelay=d+"ms",e.classList.add("clear"),d+=80}));let h=d-80;const p=c<l,g=c<t.clientHeight-52;if(p&&g){l>t.clientHeight-52&&(n.style.height=t.clientHeight-52+"px"),n.addEventListener("transitionend",y),n.classList.add("resize"),n.style.transitionDuration=h+150+200+"ms",n.style.height=c+"px"}else n.style.height="auto",b(a),r.length>0?setTimeout(m,h+200):m();i.default.ipcRenderer.send("clear-imports")}function O(){i.default&&i.default.ipcRenderer&&(i.default.ipcRenderer.on("imports-started",h.default.showImportsList),i.default.ipcRenderer.on("set-suggested-resources",(function(e,t){h.default.setSuggestedResources(t)})),i.default.ipcRenderer.on("apply-color-operations",((e,t)=>{const{barrelId:n,barrelType:i,colors:o,hasLinkedStyleguideColor:s}=t,a={},l=[];o.forEach((e=>{e.update?a[e.cid]=e:l.push(new r.a(e))})),u.a.migrateColors({bid:n,barrelType:i,colorsToUpdate:a,colorsToAdd:l,hasLinkedStyleguideColor:s,syncWithApi:!0})})),i.default.ipcRenderer.on("import-started-from-old-xd-integration",(()=>{h.default.showXdPluginReleasedMessage()})),c.a.dispatcher.register((e=>{switch(e.type){case p.default.RETRY_IMPORT:n=e.id,i.default.ipcRenderer.send("retry-import",n);break;case p.default.CANCEL_IMPORT:!function(e){i.default.ipcRenderer.send("cancel-import",e)}(e.id);break;case p.default.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.default.ipcRenderer.send("retry-getting-project",e)}(e.id);break;case p.default.CLEAR_IMPORTS:v(e.ev);break;case p.default.HIDE_COMPONENT_LIMIT_HINT:t=e.barrelId,i.default.ipcRenderer.send("remove-component-limit-rejection",t);break;case p.default.SEE_PLANS:location.assign(Object(s.urlResolve)("profile-billing",{query:{period:"annual"}}))}var t,n})),m())}},function(e,t,n){"use strict";n.r(t);n(2474),n(2477),n(2483);var i=n(2485);n.d(t,"registerWorkspaceSocketBindings",(function(){return i.registerWorkspaceSocketBindings}))},function(e,t,n){"use strict";n.r(t);var i=n(2383),o=n(2475),s=n(2476),a=n(1039),r=n.n(a),l=n(1104),c=n.n(l),d=n(1123),u=n.n(d),h=n(549);i.userChannel&&(i.userChannel.bind(o.default.UPDATE_USERNAME,(({body:{username:e}})=>{r.a.setUsername(e)})),i.userChannel.bind(o.default.UPDATE_EMAIL,(({body:{email:e}})=>{r.a.setEmail(e)})),i.userChannel.bind(o.default.UPDATE_USER,(({body:{fullName:e,bio:t}})=>{r.a.setFullName(e),r.a.setBio(t)})),i.userChannel.bind(o.default.UPDATE_AVATAR,(({body:{avatar:e}})=>{r.a.setAvatar(e)})),i.userChannel.bind(o.default.UPDATE_EMOTAR,(({body:{emotar:e}})=>{r.a.setEmotar(e)})),i.userChannel.bind(o.default.UPDATE_EMAIL_NOTIFICATION,(({body:{emailNotifications:e}})=>{r.a.setEmailNotifications(e)})),i.userChannel.bind(o.default.MUTE_PROJECT_NOTIFICATIONS,(({params:{pid:e}})=>{r.a.muteProjectNotifications({pid:e})})),i.userChannel.bind(o.default.MUTE_STYLEGUIDE_NOTIFICATIONS,(({params:{stid:e}})=>{r.a.muteStyleguideNotifications({stid:e})})),i.userChannel.bind(o.default.UNMUTE_PROJECT_NOTIFICATIONS,(({params:{pid:e}})=>{r.a.unmuteProjectNotifications({pid:e})})),i.userChannel.bind(o.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS,(({params:{stid:e}})=>{r.a.unmuteStyleguideNotifications({stid:e})})),i.userChannel.bind(o.default.UPDATE_NOTIFICATION_EVENT,(({params:{nid:e,eventId:t},body:{markedAsRead:n}})=>{u.a.setEventReadStatusOffline(e,[t],n)})),i.userChannel.bind(o.default.UPDATE_NOTIFICATIONS,(({body:{nids:e,markedAsRead:t}})=>{u.a.setReadStatusOffline(e,t)})),i.userChannel.bind(o.default.DELETE_NOTIFICATION_EVENT,(({params:{nid:e,eventId:t}})=>{u.a.deleteEvent(e,t)})),i.userChannel.bind(o.default.NOTIFICATION_EVENT,(e=>{u.a.addNotification(e.body)})),i.userChannel.bind(o.default.UPDATE_BILLING,(({body:e})=>{r.a.setBilling(e)})),i.userChannel.bind(s.default.CREATE,(({body:e})=>{c.a.addOrganization(e)})),i.userChannel.bind(s.default.INVITE_MEMBERS,(({body:e})=>{c.a.addOrganization(e)})),i.userChannel.bind(o.default.VERIFY,r.a.setVerified),i.userChannel.bind(o.default.DELETE,r.a.logout),i.userChannel.bind(o.default.TERMINATE_SESSION,(({body:{tokenIds:e}})=>{const t=h.default.get("userToken");if(t){const{jti:n}=JSON.parse(atob(t.split(".")[1]));e.includes(n)&&r.a.terminateSession()}})))},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateUser",DELETE:"DeleteUser",UPDATE_EMAIL:"UpdateEmail",UPDATE_EMAIL_NOTIFICATION:"UpdateEmailNotifications",MUTE_PROJECT_NOTIFICATIONS:"MuteProjectNotifications",MUTE_STYLEGUIDE_NOTIFICATIONS:"MuteStyleguideNotifications",UNMUTE_PROJECT_NOTIFICATIONS:"UnmuteProjectNotifications",UNMUTE_STYLEGUIDE_NOTIFICATIONS:"UnmuteStyleguideNotifications",DELETE_NOTIFICATION_EVENT:"DeleteNotificationEvent",UPDATE_NOTIFICATION_EVENT:"UpdateNotificationEvent",UPDATE_NOTIFICATIONS:"UpdateNotifications",NOTIFICATION_EVENT:"NotificationEvent",UPDATE_AVATAR:"UpdateUserAvatar",UPDATE_BILLING:"UpdateUserBilling",UPDATE_EMOTAR:"UpdateUserEmotar",UPDATE_USERNAME:"UpdateUsername",UPDATE_USER:"UpdateUser",VERIFY:"VerifyUser",TERMINATE_SESSION:"TerminateSession"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateOrganization",CREATE_PROJECT:"CreateProject",CREATE_STYLEGUIDE:"CreateStyleguide",DELETE:"DeleteOrganization",INVITE_MEMBERS:"InviteOrganizationMembers",REMOVE_USER:"RemoveMemberFromOrganization",UPDATE_BILLING:"UpdateOrganizationBilling",UPDATE_DOMAIN:"UpdateOrganizationDomain",UPDATE_LOGO:"UpdateOrganizationLogo",UPDATE_STATUS:"UpdateOrganizationStatus",UPDATE_MEMBER_ACCESSIBILITY:"UpdateOrganizationMemberAccessibility",UPDATE_MEMBER_ROLE:"UpdateOrganizationMemberRole",UPDATE_MEMBER_TAGS:"UpdateOrganizationMembersTags",UPDATE_NAME:"UpdateOrganizationName",ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS:"AddProjectToOrganizationMemberFocus",REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS:"RemoveProjectFromOrganizationMemberFocus",ADD_WORKFLOW_STATUS:"AddOrganizationWorkflowStatus",UPDATE_WORKFLOW_STATUS:"UpdateOrganizationWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteOrganizationWorkflowStatus",ADD_SECTION:"CreateOrganizationSection",UPDATE_SECTION:"UpdateOrganizationSection",DELETE_SECTION:"DeleteOrganizationSection",ADD_SECTION_LINK:"CreateOrganizationSectionLink",UPDATE_SECTION_LINK:"UpdateOrganizationSectionLink",DELETE_SECTION_LINK:"DeleteOrganizationSectionLink",UPDATE_SECTION_PROJECT:"UpdateOrganizationSectionProjects",UPDATE_SECTION_ORDER:"UpdateOrganizationSectionsOrder",UPDATE_MIN_ROLE_FOR_MEMBER_MANAGEMENT:"UpdateOrganizationMinRoleForMemberManagement"}},function(e,t,n){"use strict";n.r(t);var i=n(2383),o=n(2382),s=n(2478),a=n(2479),r=n.n(a),l=n(2475),c=n(2480),d=n(2481),u=n.n(d),h=n(2482),p=n(637),f=n.n(p),g=n(2058),m=n.n(g),b=n(1391),S=n.n(b),y=n(702),v=n.n(y),O=n(684),C=n.n(O),E=n(716),T=n.n(E),_=n(715),P=n.n(_),I=n(1482),j=n.n(I),D=n(710),k=n.n(D),R=n(1867),A=n.n(R),w=n(1645),N=n.n(w),L=n(1618),M=n(567),x=n.n(M),U=n(685),B=n.n(U),V=n(1104),z=n.n(V),F=n(590),W=n.n(F),H=n(819),G=n(586);function $(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default&&(i.default.bind_global(((e,{params:{pid:t}={}})=>{t&&(C.a.hasProject(t)||Object(o.unsubscribeFromProjectChannel)(t))})),i.default.bind(s.default.TRANSFER_OWNERSHIP,(({params:{oid:e,pid:t,mid:n,uid:i},body:s,body:{users:a}})=>{if(n){const o=a.find((e=>e.user._id===Zeplin.user._id));return o&&(Zeplin.user.paymentPlan=o.paymentPlan),void S.a.transferOwnership({bid:t,fromUserId:n,targetId:i,users:a,oid:e})}if(!e)return;const{organizations:r}=x.a.OrganizationStore.getState();if(r.find((t=>t._id===e)))if("_id"in s)C.a.hasProject(t)&&v.a.remove({barrelType:W.a.PROJECT,bid:t}),v.a.add({barrelType:W.a.PROJECT,barrel:s,oid:e});else{a.some((e=>e.user._id===Zeplin.user._id))||v.a.remove({barrelType:W.a.PROJECT,bid:t})}else Object(o.unsubscribeFromOrganizationChannel)(e)})),i.default.bind(s.default.UPDATE_NAME,(({params:{pid:e},body:{name:t}})=>{v.a.updateName({bid:e,name:t})})),i.default.bind(s.default.UPDATE_DESCRIPTION,(({params:{pid:e},body:{description:t}})=>{v.a.updateDescription({bid:e,description:t})})),i.default.bind(s.default.UPDATE_DENSITY_SCALE,(({params:{pid:e},body:{densityScale:t}})=>{v.a.updateDensityScale({bid:e,densityScale:t})})),i.default.bind(s.default.UPDATE_THUMBNAIL,(({params:{pid:e},body:{thumbnail:t}})=>{v.a.updateThumbnail({bid:e,thumbnail:t})})),i.default.bind(s.default.UPDATE_UPDATED,(({params:{pid:e},body:{updated:t}})=>{S.a.updateProject({pid:e,data:{updated:t}})})),i.default.bind(s.default.UPDATE_ACCESSIBILITY,(({params:{pid:e},body:{public:t}})=>{v.a.toggleScene({bid:e,accessibility:t})})),i.default.bind(s.default.ADD_INTEGRATION_EVENT,(({params:{pid:e,intype:t,inid:n,event:i}})=>{N.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})})),i.default.bind(s.default.DELETE_INTEGRATION_EVENT,(({params:{pid:e,intype:t,inid:n,event:i}})=>{N.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})})),i.default.bind(s.default.DELETE_INTEGRATION,(({params:{pid:e,intype:t,inid:n}})=>{v.a.removeIntegration({bid:e,intype:t,inid:n})})),i.default.bind(s.default.ADD_EXTENSION,(({params:{uid:e,pid:t},body:{_id:n}})=>{L.default.load({barrelType:W.a.PROJECT,bid:t,uid:e,eid:n})})),i.default.bind(s.default.REMOVE_EXTENSION,(({params:{pid:e,eid:t}})=>{L.default.remove({barrelType:W.a.PROJECT,bid:e,eid:t})})),i.default.bind(s.default.ACTIVATE,(({params:{pid:e}})=>{v.a.activate({bid:e,barrelType:W.a.PROJECT})})),i.default.bind(s.default.ARCHIVE,(({params:{pid:e,uid:t}})=>{v.a.archive({bid:e,barrelType:W.a.PROJECT,uid:t})})),i.default.bind(s.default.DELETE,(({params:{pid:e,uid:t}})=>{v.a.remove({barrelType:W.a.PROJECT,bid:e,uid:t})})),i.default.bind(l.default.CREATE,(({params:{pid:e,uid:t},body:n})=>{e&&v.a.updateUserData({bid:e,uid:t,userData:Z(Z({},n),{},{status:"registered"})})})),i.default.bind(s.default.INVITE_USER,(({params:{pid:e,oid:t="user",oseid:n},body:i})=>{const o="role"in i,s=C.a.hasProject(e);if(o&&s)v.a.addMembers({barrelType:W.a.PROJECT,bid:e,members:[i]});else if(s)S.a.updateProject({pid:e,data:i});else{if("user"!==t){let e=B.a.getOrganization(t);!e&&i.organization&&(z.a.addOrganization(i.organization),e=B.a.getOrganization(t));const{sections:o=[]}=e;if(n&&!o.some((e=>e._id===n)))return void H.getOrganizationSection(t,n).then((({section:e,index:o})=>{v.a.add({barrelType:W.a.PROJECT,oid:t,oseid:n,barrel:Z(Z({},i),{},{complete:!1})}),z.a.addProjectSection({oid:t,index:o,sectionData:e})}))}v.a.add({barrelType:W.a.PROJECT,oid:t,oseid:n,barrel:Z(Z({},i),{},{complete:!1})})}})),i.default.bind(s.default.UPDATE_USER_ROLE,(({params:{pid:e,mid:t},body:{role:n}})=>{v.a.updateUserRole({bid:e,uid:t,role:n})})),i.default.bind(l.default.UPDATE_USER,(({params:{pid:e,uid:t},body:n})=>{e&&v.a.updateUserData({bid:e,uid:t,userData:n})})),i.default.bind(l.default.UPDATE_USERNAME,(({params:{pid:e,uid:t},body:n})=>{e&&v.a.updateUserData({bid:e,uid:t,userData:n})})),i.default.bind(l.default.UPDATE_EMAIL,(({params:{pid:e,uid:t},body:n})=>{e&&v.a.updateUserData({bid:e,uid:t,userData:n})})),i.default.bind(l.default.UPDATE_AVATAR,(({params:{pid:e,uid:t},body:n})=>{e&&v.a.updateUserData({bid:e,uid:t,userData:n})})),i.default.bind(l.default.UPDATE_EMOTAR,(({params:{pid:e,uid:t},body:{emotar:n}})=>{e&&v.a.updateUserData({bid:e,uid:t,userData:{emotar:n}})})),i.default.bind(l.default.DELETE,(({params:{pid:e,uid:t}})=>{e&&v.a.removeMember({bid:e,uid:t})})),i.default.bind(s.default.REMOVE_USER,(({params:{pid:e,uid:t,mid:n}})=>{v.a.removeMember({bid:e,uid:t,mid:n})})),i.default.bind(s.default.ATTACH_JIRA_ISSUE,(({params:{pid:e},body:t})=>{const n=new f.a(t.jira);v.a.attachJiraIssue({bid:e,jira:n})})),i.default.bind(s.default.REMOVE_JIRA_ISSUE_ATTACHMENT,(({params:{pid:e,aid:t}})=>{v.a.removeJiraIssueAttachment({bid:e,aid:t})})),i.default.bind(s.default.CREATE_SECTION,(e=>{let{params:{pid:t},body:{index:n}}=e,i=$(e.body,["index"]);T.a.addSection({pid:t,section:i,index:n})})),i.default.bind(s.default.UPDATE_SECTION,(({params:{pid:e,seid:t},body:n})=>{T.a.updateSection({pid:e,seid:t,sectionData:n})})),i.default.bind(s.default.UPDATE_SECTIONS_ORDER,(({params:{pid:e},body:{sections:t}})=>{t.forEach((({_id:t,to:n})=>{T.a.updateSectionOrder({pid:e,seid:t,index:n})}))})),i.default.bind(s.default.UPDATE_SECTION_SCREENS,(({params:{pid:e,seid:t},body:{index:n,screens:i}})=>{T.a.updateScreenOrder({pid:e,screens:i,targetSectionId:t,targetIndex:n})})),i.default.bind(s.default.DELETE_SECTION,(({params:{pid:e,seid:t}})=>{T.a.removeSection({pid:e,seid:t})})),i.default.bind(c.default.CREATE_V3,(({params:{pid:e,requestId:t,index:n,variantGroupIndex:i},body:o})=>{i>-1&&o.variantGroup&&(o.variantGroup.screens[0].index=i,o.variantGroup.screens[0].requestId=t),k.a.addScreen({pid:e,screen:Z(Z({},o),{},{requestId:t,index:n})})})),i.default.bind(c.default.UPDATE,(({params:{pid:e,sid:t},body:{name:n,description:i}})=>{n&&k.a.updateName({pid:e,sid:t,name:n}),Object(G.exists)(i)&&k.a.updateDescription({pid:e,sid:t,description:i})})),i.default.bind(c.default.UPDATE_TAGS,(({params:{pid:e},body:{screens:t}})=>{k.a.updateTags({pid:e,updates:t})})),i.default.bind(c.default.CREATE_VERSION,(({params:{pid:e,sid:t},body:n})=>{k.a.addVersion({pid:e,sid:t,version:n})})),i.default.bind(c.default.CREATE_SCREEN_TILES,(({params:{pid:e,sid:t,vid:n},body:{tileInfo:i}})=>{k.a.addScreenTiles({pid:e,sid:t,vid:n,tileInfo:i})})),i.default.bind(c.default.UPDATE_VERSION_COMMIT_COLOR,(({params:{pid:e,sid:t,vid:n},body:{color:i}})=>{k.a.updateCommitColor({pid:e,sid:t,vid:n,color:i})})),i.default.bind(c.default.UPDATE_VERSION_COMMIT_MESSAGE,(({params:{pid:e,sid:t,vid:n},body:{message:i}})=>{k.a.updateCommitMessage({pid:e,sid:t,vid:n,message:i})})),i.default.bind(c.default.DELETE_VERSION,(({params:{pid:e,sid:t,vid:n}})=>{k.a.removeVersion({pid:e,sid:t,vid:n})})),i.default.bind(c.default.DELETE,(({params:{pid:e,uid:t,sid:n}})=>{const{variantGroups:i=[]}=C.a.getBarrel({bid:e}),o=i.find((({screens:e})=>e.some((({id:e})=>e===n))))||{};k.a.removeScreen({pid:e,uid:t,sid:n,vgid:o._id})})),i.default.bind(u.a.PROCESS_VERSION_ASSET_CONTENTS,(({params:{vid:e},body:{assets:t}})=>{A.a.updateVersionAssetOptimizedContents({vid:e,assets:t})})),i.default.bind(u.a.PROCESS_PROJECT_COMPONENT_VERSION_ASSET_CONTENTS,(({params:{coid:e},body:{assets:t}})=>{A.a.updateComponentVersionAssetOptimizedContents({coid:e,assets:t})})),i.default.bind(h.default.CREATE,(({params:{pid:e,sid:t,uid:n},body:i})=>{k.a.addDot({pid:e,sid:t,uid:n,dot:i})})),i.default.bind(h.default.CREATE_COMMENT,(({params:{uid:e,pid:t,sid:n,did:i},body:o})=>{k.a.addComment({pid:t,sid:n,uid:e,did:i,comment:o})})),i.default.bind(h.default.UPDATE_COMMENT_NOTE,(({params:{uid:e,pid:t,sid:n,did:i,cmid:o},body:{note:s,updated:a=new Date}})=>{k.a.updateComment({pid:t,sid:n,uid:e,did:i,cmid:o,commentData:{note:s,updated:a}})})),i.default.bind(h.default.UPDATE,(({params:{pid:e,sid:t,did:n},body:i})=>{k.a.updateDot({pid:e,sid:t,did:n,dotData:i})})),i.default.bind(h.default.DELETE,(({params:{pid:e,sid:t,did:n}})=>{k.a.removeDot({pid:e,sid:t,did:n})})),i.default.bind(h.default.DELETE_COMMENT,(({params:{pid:e,sid:t,did:n,cmid:i}})=>{k.a.removeComment({pid:e,sid:t,did:n,cmid:i})})),i.default.bind(s.default.UPDATE_STYLEGUIDE_LINK,(({params:{pid:e},body:{styleguideLink:t}})=>{S.a.updateProject({pid:e,data:{styleguideLink:t}})})),i.default.bind(s.default.REMOVE_STYLEGUIDE_LINK,(({params:{pid:e},body:{styleguideLink:{styleguide:t}}})=>{m.a.unlinkProjectFromStyleguide({pid:e,styleguide:t})})),i.default.bind(s.default.CREATE_COLOR,(({params:{pid:e},body:t})=>{v.a.addColor({bid:e,color:t})})),i.default.bind(s.default.UPDATE_COLOR,(({params:{pid:e,cid:t},body:n})=>{v.a.updateColor({bid:e,cid:t,colorData:n})})),i.default.bind(s.default.UPDATE_COLORS_ORDER,(({params:{pid:e},body:{colors:t}})=>{t.forEach((({_id:t,to:n})=>{v.a.updateColorOrder({bid:e,cid:t,to:n})}))})),i.default.bind(s.default.DELETE_COLOR,(({params:{pid:e,cid:t,unorderedBatch:n}})=>{n||v.a.removeColor({bid:e,cid:t})})),i.default.bind(s.default.UPDATE_COLORS_STYLEGUIDE,(({params:{pid:e,tstid:t}})=>{v.a.removeAllColors({bid:e}),C.a.hasStyleguide(t)&&H.getStyleguide(t).then((e=>{j.a.getStyleguideSuccess({styleguide:e})}))})),i.default.bind(s.default.CREATE_TEXT_STYLE,(({params:{pid:e},body:t})=>{v.a.addTextStyle({bid:e,textStyle:t})})),i.default.bind(s.default.UPDATE_TEXT_STYLE,(({params:{pid:e,tsid:t},body:n})=>{v.a.updateTextStyle({bid:e,tsid:t,textStyleData:n})})),i.default.bind(s.default.DELETE_TEXT_STYLE,(({params:{pid:e,tsid:t,unorderedBatch:n}})=>{n||v.a.removeTextStyle({bid:e,tsid:t})})),i.default.bind(s.default.UPDATE_TEXT_STYLES_STYLEGUIDE,(({params:{pid:e,tstid:t}})=>{v.a.removeAllTextStyles({bid:e}),C.a.hasStyleguide(t)&&H.getStyleguide(t).then((e=>{j.a.getStyleguideSuccess({styleguide:e})}))})),i.default.bind(s.default.CREATE_SPACING_SECTION,(({params:{pid:e},body:t})=>{v.a.addSpacingSection({bid:e,spacingSection:t})})),i.default.bind(s.default.UPDATE_SPACING_SECTION,(({params:{pid:e,ssid:t},body:n})=>{v.a.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})})),i.default.bind(s.default.DELETE_SPACING_SECTION,(({params:{pid:e,ssid:t}})=>{v.a.removeSpacingSection({bid:e,ssid:t})})),i.default.bind(s.default.CREATE_SPACING_TOKEN,(({params:{pid:e,ssid:t},body:n})=>{v.a.addSpacingToken({bid:e,ssid:t,spacingToken:n})})),i.default.bind(s.default.UPDATE_SPACING_TOKEN,(({params:{pid:e,ssid:t,sptid:n},body:i})=>{v.a.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})})),i.default.bind(s.default.DELETE_SPACING_TOKEN,(({params:{pid:e,ssid:t,sptid:n}})=>{v.a.removeSpacingToken({bid:e,ssid:t,sptid:n})})),i.default.bind(s.default.UPDATE_REM_PREFERENCES,(({params:{pid:e},body:{remPreferences:t}})=>{v.a.updateRemPreferences({bid:e,updatedRemPreferences:t})})),i.default.bind(s.default.CREATE_COMPONENT_SECTION,(e=>{let{params:{pid:t,csid:n},body:{variantSections:i,components:o=[]}}=e,s=$(e.body,["variantSections","components"]);const a=o.map((({coid:e,csid:t})=>({coid:e,csid:t.split("/")})));v.a.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:Z({components:a},s)}),i&&i.forEach((e=>{const{_id:n,name:i,variant:o,components:s}=e;P.a.setComponentVariantData({bid:t,csid:n,name:i,sectionVariant:o,components:s})}))})),i.default.bind(s.default.UPDATE_COMPONENT_SECTION,(({params:{pid:e,csid:t},body:n})=>{v.a.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})})),i.default.bind(s.default.UPDATE_COMPONENT_SECTIONS_ORDER,(({params:{pid:e},body:{componentSections:t,variantSections:n}})=>{const i=t.map((({csid:e,tcsid:t,to:n})=>({csid:e.split("/"),tcsid:t?t.split("/"):[],to:n})));v.a.updateComponentSectionsOrder({bid:e,componentSections:i}),n&&n.forEach((t=>{const{_id:n,name:i,variant:o,components:s}=t;P.a.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})}))})),i.default.bind(s.default.MERGE_COMPONENT_SECTIONS,(({params:{pid:e},body:{componentSections:t}})=>{t.forEach((({csid:t,tcsid:n,flatten:i=!1})=>{v.a.mergeComponentSection({bid:e,csids:t.split("/"),tcsids:n.split("/"),flatten:i})}))})),i.default.bind(s.default.DELETE_COMPONENT_SECTION,(({params:{pid:e,csid:t,unorderedBatch:n}})=>{n||v.a.removeComponentSection({bid:e,csids:t.split("/")})})),i.default.bind(s.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,(({params:{pid:e,tstid:t},body:{componentSections:n}})=>{v.a.removeComponentSections({bid:e,componentSections:n}),C.a.hasStyleguide(t)&&H.getStyleguide(t).then((e=>{j.a.getStyleguideSuccess({styleguide:e})}))})),i.default.bind(s.default.CREATE_COMPONENT,(({params:{pid:e,csid:t,requestId:n,index:i},body:o})=>{v.a.addComponent({bid:e,csids:t.split("/"),component:Z(Z({},o),{},{requestId:n,index:i})})})),i.default.bind(s.default.CREATE_COMPONENT_V2,(({params:{pid:e,csid:t,requestId:n,index:i},body:o})=>{v.a.addComponent({bid:e,csids:t.split("/"),component:Z(Z({},o),{},{requestId:n,index:i})})})),i.default.bind(s.default.CREATE_COMPONENT_VERSION_V2,(({params:{pid:e,csid:t,coid:n},body:i})=>{v.a.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})})),i.default.bind(s.default.UPDATE_COMPONENT,(({params:{pid:e,csid:t,coid:n},body:i})=>{v.a.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})})),i.default.bind(s.default.UPDATE_COMPONENTS_ORDER,(({params:{pid:e},body:{components:t,variantSections:n}})=>{const i=t.map((({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i})));v.a.updateComponentsOrder({bid:e,components:i}),n&&n.forEach((t=>{const{_id:n,name:i,variant:o,components:s}=t;P.a.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})}))})),i.default.bind(s.default.DELETE_COMPONENT,(({params:{pid:e,csid:t,coid:n}})=>{v.a.removeComponent({bid:e,csids:t.split("/"),coid:n})})),i.default.bind(s.default.UPDATE_CONNECTED_COMPONENTS,(({params:{pid:e}})=>{H.getProjectConnectedComponents(e).then((({connectedComponents:t})=>{v.a.updateConnectedComponents({bid:e,connectedComponents:t})}))})),i.default.bind(s.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,(({params:{pid:e,csid:t},body:{name:n,variant:i,components:o}})=>{P.a.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})})),i.default.bind(s.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,(({params:{pid:e,csid:t}})=>{P.a.removeComponentVariantData({bid:e,csid:t})})),i.default.bind(s.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,(({params:{pid:e,csid:t},body:n})=>{P.a.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})})),i.default.bind(s.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,(({params:{pid:e,csid:t,vpid:n},body:i})=>{P.a.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})})),i.default.bind(s.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,(({params:{pid:e,csid:t,vpid:n}})=>{P.a.removeComponentVariantProperty({bid:e,csid:t,vpid:n})})),i.default.bind(s.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,(({params:{pid:e,csid:t},body:{variant:n,components:i}})=>{P.a.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})})),i.default.bind(s.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,(({params:{pid:e,csid:t},body:{properties:n}})=>{P.a.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})})),i.default.bind(s.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,(({params:{pid:e,csid:t},body:{components:n,componentSections:i}})=>{P.a.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})})),i.default.bind(s.default.DELETE_WORKFLOW_STATUS,(({params:{pid:e}})=>{v.a.deleteWorkflowStatus({bid:e})})),i.default.bind(s.default.UPDATE_WORKFLOW_STATUS,(({params:{pid:e},body:t})=>{v.a.updateWorkflowStatus({bid:e,workflowStatus:t})})),i.default.bind(s.default.DELETE_CONNECTED_COMPONENTS,(({params:{pid:e}})=>{v.a.updateConnectedComponents({bid:e,connectedComponents:null})})),i.default.bind(r.a.UPDATE_VARIANT_GROUP_NAME,(({params:{pid:e,vgid:t},body:{name:n}})=>{T.a.renameVariantGroup({pid:e,vgid:t,name:n})})),i.default.bind(r.a.DELETE_VARIANT_GROUP,(({params:{pid:e,vgid:t,uid:n,screens:i}})=>{T.a.deleteVariantGroup({pid:e,vgid:t,screens:i,uid:n})})),i.default.bind(r.a.ADD_SCREENS_TO_VARIANT_GROUP,(({params:{pid:e,vgid:t},body:{screens:n}})=>{T.a.addScreensToVariantGroup({pid:e,vgid:t,screens:n,shouldOrder:!0})})),i.default.bind(r.a.CREATE_VARIANT_GROUP,(({params:{pid:e},body:{_id:t,name:n,screens:i}})=>{T.a.createVariantGroup({pid:e,vgid:t,variantGroupName:n,screens:i,shouldOrder:!0})})),i.default.bind(r.a.REMOVE_SCREEN_FROM_VARIANT_GROUP,(({params:{pid:e,vgid:t,sid:n}})=>{k.a.removeScreenVariant({pid:e,vgid:t,svid:n})})),i.default.bind(r.a.UPDATE_SCREEN_VARIANT_NAME,(({params:{pid:e,vgid:t,sid:n},body:{variantName:i}})=>{k.a.renameScreenVariant({pid:e,vgid:t,svid:n,name:i})})),i.default.bind(r.a.UPDATE_SCREEN_VARIANT_ORDER,(({params:{pid:e,vgid:t},body:{index:n,screenIds:i}})=>{k.a.reorderScreenVariant({pid:e,vgid:t,svid:i[0],index:n})})))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateProject",ARCHIVE:"ArchiveProject",DELETE:"DeleteProject",INVITE_USER:"InviteProjectUser",ADD_INTEGRATION_EVENT:"AddProjectIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteProjectIntegrationEvent",DELETE_INTEGRATION:"DeleteProjectIntegration",ADD_EXTENSION:"AddProjectExtension",REMOVE_EXTENSION:"RemoveExtensionFromProject",REMOVE_USER:"RemoveUserFromProject",TRANSFER_OWNERSHIP:"TransferProjectOwnership",UPDATE_ACCESSIBILITY:"UpdateProjectAccessibility",UPDATE_DENSITY_SCALE:"UpdateProjectDensityScale",UPDATE_DESCRIPTION:"UpdateProjectDescription",UPDATE_EXTENSION:"UpdateProjectExtension",UPDATE_NAME:"UpdateProjectName",UPDATE_THUMBNAIL:"UpdateProjectThumbnail",UPDATE_UPDATED:"UpdateProjectUpdated",UPDATE_USER_ROLE:"UpdateProjectUserRole",ATTACH_JIRA_ISSUE:"AttachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"RemoveJiraIssueAttachment",CREATE_SECTION:"CreateSection",UPDATE_SECTION:"UpdateSection",UPDATE_SECTIONS_ORDER:"UpdateSectionsOrder",UPDATE_SECTION_SCREENS:"UpdateSectionScreens",DELETE_SECTION:"DeleteSection",UPDATE_STYLEGUIDE_LINK:"UpdateProjectStyleguidelink",REMOVE_STYLEGUIDE_LINK:"RemoveProjectStyleguideLink",CREATE_COLOR:"CreateProjectColor",UPDATE_COLOR:"UpdateProjectColor",UPDATE_COLORS_ORDER:"UpdateProjectColorsOrder",DELETE_COLOR:"DeleteProjectColor",UPDATE_COLORS_STYLEGUIDE:"UpdateProjectColorsStyleguide",CREATE_TEXT_STYLE:"CreateProjectTextStyle",UPDATE_TEXT_STYLE:"UpdateProjectTextStyle",DELETE_TEXT_STYLE:"DeleteProjectTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateProjectTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateProjectSpacingSection",UPDATE_SPACING_SECTION:"UpdateProjectSpacingSection",DELETE_SPACING_SECTION:"DeleteProjectSpacingSection",CREATE_SPACING_TOKEN:"CreateProjectSpacingToken",UPDATE_SPACING_TOKEN:"UpdateProjectSpacingToken",DELETE_SPACING_TOKEN:"DeleteProjectSpacingToken",UPDATE_REM_PREFERENCES:"UpdateProjectRemPreferences",CREATE_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_COMPONENT_SECTION:"UpdateProjectComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateProjectComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeProjectComponentSections",DELETE_COMPONENT_SECTION:"DeleteProjectComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateProjectComponentSectionsStyleguide",CREATE_COMPONENT:"CreateProjectComponent",CREATE_COMPONENT_V2:"CreateProjectComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",UPDATE_COMPONENT:"UpdateProjectComponent",UPDATE_COMPONENTS_ORDER:"UpdateProjectComponentsOrder",DELETE_COMPONENT:"DeleteProjectComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateProjectConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteProjectConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertProjectComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertProjectVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateProjectComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateProjectComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteProjectComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateProjectComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateProjectComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateProjectComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateProjectWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteProjectWorkflowStatus"}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_VARIANT_GROUP_NAME="UpdateVariantGroupName",e.DELETE_VARIANT_GROUP="DeleteVariantGroup",e.ADD_SCREENS_TO_VARIANT_GROUP="AddScreensToVariantGroup",e.CREATE_VARIANT_GROUP="CreateVariantGroup",e.REMOVE_SCREEN_FROM_VARIANT_GROUP="RemoveScreenFromVariantGroup",e.UPDATE_SCREEN_VARIANT_NAME="UpdateVariantGroupScreenVariantName",e.UPDATE_SCREEN_VARIANT_ORDER="UpdateVariantGroupScreensOrder"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),t.default={CREATE_V4:"CreateScreenV4",CREATE_V3:"CreateScreenV3",DELETE:"DeleteScreen",UPDATE:"UpdateScreen",UPDATE_TAGS:"UpdateScreensTags",CREATE_VERSION:"CreateScreenVersion",DELETE_VERSION:"DeleteScreenVersion",UPDATE_VERSION:"UpdateScreenLatestVersion",UPDATE_VERSION_COMMIT_COLOR:"UpdateScreenVersionCommitColor",UPDATE_VERSION_COMMIT_MESSAGE:"UpdateScreenVersionCommitMessage",CREATE_SCREEN_TILES:"ProcessSplitScreenVersionImage"}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROCESS_VERSION_ASSET_CONTENTS="ProcessScreenVersionAssetContents",e.PROCESS_PROJECT_COMPONENT_VERSION_ASSET_CONTENTS="ProcessProjectComponentVersionAssetContents",e.PROCESS_STYLEGUIDE_COMPONENT_VERSION_ASSET_CONTENTS="ProcessStyleguideComponentVersionAssetContents"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateDotV2",UPDATE:"UpdateDot",DELETE:"DeleteDot",CREATE_COMMENT:"CreateDotCommentV2",UPDATE_COMMENT_NOTE:"UpdateDotCommentNote",DELETE_COMMENT:"DeleteDotComment"}},function(e,t,n){"use strict";n.r(t);var i=n(2484),o=n(2481),s=n.n(o),a=n(2475),r=n(567),l=n.n(r),c=n(1482),d=n.n(c),u=n(590),h=n.n(u),p=n(2383),f=n(2382),g=n(702),m=n.n(g),b=n(684),S=n.n(b),y=n(715),v=n.n(y),O=n(1867),C=n.n(O),E=n(1618),T=n(1645),_=n.n(T),P=n(819);function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p.default&&(p.default.bind_global(((e,{params:{stid:t}={}})=>{t&&(S.a.hasStyleguide(t)||Object(f.unsubscribeFromStyleguideChannel)(t))})),p.default.bind(i.default.ACTIVATE,(({params:{stid:e}})=>{m.a.activate({bid:e,barrelType:h.a.STYLEGUIDE})})),p.default.bind(i.default.ARCHIVE,(({params:{stid:e,uid:t}})=>{m.a.archive({bid:e,barrelType:h.a.STYLEGUIDE,uid:t})})),p.default.bind(i.default.DELETE,(({params:{stid:e,uid:t}})=>{m.a.remove({barrelType:h.a.STYLEGUIDE,bid:e,uid:t})})),p.default.bind(i.default.TRANSFER_OWNERSHIP,(({params:{oid:e,stid:t,mid:n,uid:i},body:o,body:{users:s}})=>{const a=S.a.findBarrelOrganizationId(t),r=!!a;if(n)return void d.a.transferOwnership({bid:t,fromUserId:i,targetId:n,users:s,oid:a});const{organizations:c,organizationStyleguides:u}=l.a.OrganizationStore.getState(),p=c.some((t=>t._id===e)),g=e in u;if(e&&"_id"in o){if(!p)return void Object(f.unsubscribeFromOrganizationChannel)(e);if(!r){if(!g)return;return void m.a.add({barrelType:h.a.STYLEGUIDE,barrel:o,oid:e})}if(a===e)return;d.a.transferOwnership({bid:t,targetId:e,users:s,oid:a,toOrganization:!0})}else if(e){if(!s.some((e=>e.user._id===Zeplin.user._id)))return void m.a.remove({barrelType:h.a.STYLEGUIDE,bid:t});d.a.transferOwnership({bid:t,targetId:e,users:s,oid:a,toOrganization:!0})}})),p.default.bind(a.default.CREATE,(({params:{stid:e,uid:t},body:n})=>{e&&m.a.updateUserData({bid:e,uid:t,userData:D(D({},n),{},{status:"registered"})})})),p.default.bind(i.default.INVITE_USER,(({params:{stid:e,oid:t},body:n})=>{const i="role"in n,o=S.a.hasStyleguide(e);i&&o?m.a.addMembers({barrelType:h.a.STYLEGUIDE,bid:e,members:[n]}):o?d.a.updateStyleguide({stid:e,data:n}):m.a.add({barrelType:h.a.STYLEGUIDE,oid:t,barrel:D(D({},n),{},{complete:!1})})})),p.default.bind(a.default.UPDATE_USER,(({params:{stid:e,uid:t},body:n})=>{e&&m.a.updateUserData({bid:e,uid:t,userData:n})})),p.default.bind(a.default.UPDATE_USERNAME,(({params:{stid:e,uid:t},body:n})=>{e&&m.a.updateUserData({bid:e,uid:t,userData:n})})),p.default.bind(a.default.UPDATE_EMAIL,(({params:{stid:e,uid:t},body:n})=>{e&&m.a.updateUserData({bid:e,uid:t,userData:n})})),p.default.bind(a.default.UPDATE_AVATAR,(({params:{stid:e,uid:t},body:n})=>{e&&m.a.updateUserData({bid:e,uid:t,userData:n})})),p.default.bind(a.default.UPDATE_EMOTAR,(({params:{stid:e,uid:t},body:{emotar:n}})=>{e&&m.a.updateUserData({bid:e,uid:t,userData:{emotar:n}})})),p.default.bind(a.default.DELETE,(({params:{stid:e,uid:t}})=>{e&&m.a.removeMember({bid:e,uid:t})})),p.default.bind(i.default.REMOVE_USER,(({params:{stid:e,uid:t,mid:n}})=>{m.a.removeMember({bid:e,uid:t,mid:n})})),p.default.bind(i.default.UPDATE_USER_ROLE,(({params:{stid:e,mid:t},body:{role:n}})=>{m.a.updateUserRole({bid:e,uid:t,role:n})})),p.default.bind(i.default.UPDATE_NAME,(({params:{stid:e},body:{name:t}})=>{d.a.updateStyleguide({stid:e,data:{name:t}})})),p.default.bind(i.default.UPDATE_DESCRIPTION,(({params:{stid:e},body:{description:t}})=>{d.a.updateStyleguide({stid:e,data:{description:t}})})),p.default.bind(i.default.UPDATE_THUMBNAIL,(({params:{stid:e},body:{thumbnail:t}})=>{m.a.updateThumbnail({bid:e,barrelType:"styleguide",thumbnail:t})})),p.default.bind(i.default.UPDATE_DENSITY_SCALE,(({params:{stid:e},body:{densityScale:t}})=>{d.a.updateStyleguide({stid:e,data:{densityScale:t}})})),p.default.bind(i.default.ADD_INTEGRATION_EVENT,(({params:{stid:e,intype:t,inid:n,event:i}})=>{_.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})})),p.default.bind(i.default.DELETE_INTEGRATION_EVENT,(({params:{stid:e,intype:t,inid:n,event:i}})=>{_.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})})),p.default.bind(i.default.DELETE_INTEGRATION,(({params:{stid:e,intype:t,inid:n}})=>{m.a.removeIntegration({bid:e,intype:t,inid:n})})),p.default.bind(i.default.ADD_EXTENSION,(({params:{stid:e,uid:t},body:{_id:n}})=>{E.default.load({barrelType:h.a.STYLEGUIDE,bid:e,uid:t,eid:n})})),p.default.bind(i.default.REMOVE_EXTENSION,(({params:{stid:e,eid:t}})=>{E.default.remove({barrelType:h.a.STYLEGUIDE,bid:e,eid:t})})),p.default.bind(i.default.UPDATE_PARENT,(({params:{stid:e},body:t})=>{d.a.updateStyleguide({stid:e,data:t})})),p.default.bind(i.default.REMOVE_PARENT,(({params:{stid:e}})=>{d.a.updateStyleguide({stid:e,data:{parent:null,ancestors:[]}})})),p.default.bind(i.default.CREATE_COLOR,(({params:{unorderedBatch:e,stid:t},body:n})=>{e||m.a.addColor({bid:t,color:n})})),p.default.bind(i.default.UPDATE_COLOR,(({params:{stid:e,cid:t},body:n})=>{m.a.updateColor({bid:e,cid:t,colorData:n})})),p.default.bind(i.default.UPDATE_COLORS_ORDER,(({params:{stid:e},body:{colors:t}})=>{t.forEach((({_id:t,to:n})=>{m.a.updateColorOrder({bid:e,cid:t,to:n})}))})),p.default.bind(i.default.DELETE_COLOR,(({params:{unorderedBatch:e,stid:t,cid:n}})=>{e||m.a.removeColor({bid:t,cid:n})})),p.default.bind(i.default.UPDATE_COLORS_STYLEGUIDE,(({params:{stid:e,tstid:t}})=>{m.a.removeAllColors({bid:e}),S.a.hasStyleguide(t)&&P.getStyleguide(t).then((e=>{d.a.getStyleguideSuccess({styleguide:e})}))})),p.default.bind(i.default.CREATE_TEXT_STYLE,(({params:{unorderedBatch:e,stid:t},body:n})=>{e||m.a.addTextStyle({bid:t,textStyle:n})})),p.default.bind(i.default.UPDATE_TEXT_STYLE,(({params:{stid:e,tsid:t},body:n})=>{m.a.updateTextStyle({bid:e,tsid:t,textStyleData:n})})),p.default.bind(i.default.DELETE_TEXT_STYLE,(({params:{unorderedBatch:e,stid:t,tsid:n}})=>{e||m.a.removeTextStyle({bid:t,tsid:n})})),p.default.bind(i.default.UPDATE_TEXT_STYLES_STYLEGUIDE,(({params:{stid:e,tstid:t}})=>{m.a.removeAllTextStyles({bid:e}),S.a.hasStyleguide(t)&&P.getStyleguide(t).then((e=>{d.a.getStyleguideSuccess({styleguide:e})}))})),p.default.bind(i.default.CREATE_SPACING_SECTION,(({params:{stid:e},body:t})=>{m.a.addSpacingSection({bid:e,spacingSection:t})})),p.default.bind(i.default.UPDATE_SPACING_SECTION,(({params:{stid:e,ssid:t},body:n})=>{m.a.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})})),p.default.bind(i.default.DELETE_SPACING_SECTION,(({params:{stid:e,ssid:t}})=>{m.a.removeSpacingSection({bid:e,ssid:t})})),p.default.bind(i.default.CREATE_SPACING_TOKEN,(({params:{stid:e,ssid:t},body:n})=>{m.a.addSpacingToken({bid:e,ssid:t,spacingToken:n})})),p.default.bind(i.default.UPDATE_SPACING_TOKEN,(({params:{stid:e,ssid:t,sptid:n},body:i})=>{m.a.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})})),p.default.bind(i.default.DELETE_SPACING_TOKEN,(({params:{stid:e,ssid:t,sptid:n}})=>{m.a.removeSpacingToken({bid:e,ssid:t,sptid:n})})),p.default.bind(i.default.UPDATE_REM_PREFERENCES,(({params:{stid:e},body:{remPreferences:t}})=>{m.a.updateRemPreferences({bid:e,updatedRemPreferences:t})})),p.default.bind(i.default.CREATE_COMPONENT_SECTION,(e=>{let{params:{unorderedBatch:t,stid:n,csid:i},body:{variantSections:o,components:s=[]}}=e,a=I(e.body,["variantSections","components"]);if(t)return;const r=s.map((({coid:e,csid:t})=>({coid:e,csid:t.split("/")})));m.a.addComponentSection({bid:n,csids:i?i.split("/"):[],componentSection:D({components:r},a)}),o&&o.forEach((e=>{const{_id:t,name:i,variant:o,components:s}=e;v.a.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:s})}))})),p.default.bind(i.default.UPDATE_COMPONENT_SECTION,(({params:{stid:e,csid:t},body:n})=>{m.a.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})})),p.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_ORDER,(({params:{stid:e},body:{componentSections:t,variantSections:n}})=>{m.a.updateComponentSectionsOrder({bid:e,componentSections:t.map((e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to})))}),n&&n.forEach((t=>{const{_id:n,name:i,variant:o,components:s}=t;v.a.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})}))})),p.default.bind(i.default.MERGE_COMPONENT_SECTIONS,(({params:{stid:e},body:t})=>{t.componentSections.forEach((t=>{m.a.mergeComponentSection({bid:e,csids:t.csid.split("/"),tcsids:t.tcsid.split("/"),flatten:t.flatten})}))})),p.default.bind(i.default.DELETE_COMPONENT_SECTION,(({params:{unorderedBatch:e,stid:t,csid:n}})=>{e||m.a.removeComponentSection({bid:t,csids:n.split("/")})})),p.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,(({params:{stid:e,tstid:t},body:{componentSections:n}})=>{m.a.removeComponentSections({bid:e,componentSections:n}),S.a.hasStyleguide(t)&&P.getStyleguide(t).then((e=>{d.a.getStyleguideSuccess({styleguide:e})}))})),p.default.bind(i.default.CREATE_COMPONENT,(({params:{unorderedBatch:e,stid:t,csid:n,requestId:i,index:o},body:s})=>{e||m.a.addComponent({bid:t,csids:n.split("/"),component:D(D({},s),{},{requestId:i,index:o})})})),p.default.bind(i.default.CREATE_COMPONENT_V2,(({params:{unorderedBatch:e,stid:t,csid:n,requestId:i,index:o},body:s})=>{e||m.a.addComponent({bid:t,csids:n.split("/"),component:D(D({},s),{},{requestId:i,index:o})})})),p.default.bind(i.default.CREATE_COMPONENT_VERSION_V2,(({params:{stid:e,csid:t,coid:n},body:i})=>{m.a.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})})),p.default.bind(i.default.UPDATE_COMPONENT,(({params:{stid:e,coid:t,csid:n},body:i})=>{m.a.updateComponent({bid:e,csids:n.split("/"),coid:t,componentData:i})})),p.default.bind(i.default.UPDATE_COMPONENTS_ORDER,(({params:{stid:e},body:{components:t,variantSections:n}})=>{const i=t.map((({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i})));m.a.updateComponentsOrder({bid:e,components:i}),n&&n.forEach((t=>{const{_id:n,name:i,variant:o,components:s}=t;v.a.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})}))})),p.default.bind(i.default.DELETE_COMPONENT,(({params:{unorderedBatch:e,stid:t,csid:n,coid:i}})=>{e||m.a.removeComponent({bid:t,csids:n.split("/"),coid:i})})),p.default.bind(i.default.UPDATE_CONNECTED_COMPONENTS,(({params:{stid:e}})=>{P.getStyleguideConnectedComponents(e).then((({connectedComponents:t})=>{m.a.updateConnectedComponents({bid:e,connectedComponents:t})}))})),p.default.bind(i.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,(({params:{stid:e,csid:t},body:{name:n,variant:i,components:o}})=>{v.a.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})})),p.default.bind(i.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,(({params:{stid:e,csid:t}})=>{v.a.removeComponentVariantData({bid:e,csid:t})})),p.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,(({params:{stid:e,csid:t},body:n})=>{v.a.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})})),p.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,(({params:{stid:e,csid:t,vpid:n},body:i})=>{v.a.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})})),p.default.bind(i.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,(({params:{stid:e,csid:t,vpid:n}})=>{v.a.removeComponentVariantProperty({bid:e,csid:t,vpid:n})})),p.default.bind(i.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,(({params:{stid:e,csid:t},body:{variant:n,components:i}})=>{v.a.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})})),p.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,(({params:{stid:e,csid:t},body:{properties:n}})=>{v.a.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})})),p.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,(({params:{stid:e,csid:t},body:{components:n,componentSections:i}})=>{v.a.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})})),p.default.bind(i.default.DELETE_WORKFLOW_STATUS,(({params:{stid:e}})=>{m.a.deleteWorkflowStatus({bid:e})})),p.default.bind(i.default.UPDATE_WORKFLOW_STATUS,(({params:{stid:e},body:t})=>{m.a.updateWorkflowStatus({bid:e,body:t})})),p.default.bind(i.default.DELETE_CONNECTED_COMPONENTS,(({params:{stid:e}})=>{m.a.updateConnectedComponents({bid:e,connectedComponents:null})})),p.default.bind(s.a.PROCESS_STYLEGUIDE_COMPONENT_VERSION_ASSET_CONTENTS,(({params:{coid:e},body:{assets:t}})=>{C.a.updateComponentVersionAssetOptimizedContents({coid:e,assets:t})})))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_INTEGRATION_EVENT:"AddStyleguideIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteStyleguideIntegrationEvent",DELETE_INTEGRATION:"DeleteStyleguideIntegration",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_THUMBNAIL:"UpdateStyleguideThumbnail",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",UPDATE_PARENT:"UpdateStyleguideParent",REMOVE_PARENT:"RemoveStyleguideParent",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateStyleguideSpacingSection",UPDATE_SPACING_SECTION:"UpdateStyleguideSpacingSection",DELETE_SPACING_SECTION:"DeleteStyleguideSpacingSection",CREATE_SPACING_TOKEN:"CreateStyleguideSpacingToken",UPDATE_SPACING_TOKEN:"UpdateStyleguideSpacingToken",DELETE_SPACING_TOKEN:"DeleteStyleguideSpacingToken",UPDATE_REM_PREFERENCES:"UpdateStyleguideRemPreferences",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",DELETE_COMPONENT:"DeleteStyleguideComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateStyleguideConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteStyleguideConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertStyleguideComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertStyleguideVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateStyleguideComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateStyleguideComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteStyleguideComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateStyleguideComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateStyleguideComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateStyleguideComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateStyleguideWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteStyleguideWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerWorkspaceSocketBindings",(function(){return L}));var i=n(1490),o=n(2383),s=n(1604),a=n(2478),r=n(2484),l=n(2475),c=n(2476),d=n(2486),u=n(709),h=n.n(u),p=n(567),f=n.n(p),g=n(1104),m=n.n(g),b=n(685),S=n.n(b),y=n(618),v=n.n(y),O=n(619),C=n.n(O),E=n(702),T=n.n(E),_=n(590),P=n.n(_),I=n(559),j=n(819),D=n(2382);n(2477),n(2483);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default&&(o.default.bind_global(((e,{params:{oid:t}={}})=>{t&&(S.a.getOrganization(t)||Object(D.unsubscribeFromOrganizationChannel)(t))})),o.default.bind(d.default.PAYMENT_FAIL,(e=>{const{organizationProfiles:t}=f.a.OrganizationStore.getState(),n={isGeneric:!0};e.params.oid?n.currentRole=t[e.params.oid].role:e.params.uid===Zeplin.user._id?n.currentRole="owner":(n.currentRole="not_owner",n.ownerEmail=e.body.email),Object.assign(n,e.params),Object(i.showFailedPaymentBanner)(n)})),o.default.bind(c.default.CREATE_PROJECT,(({params:{oid:e="user",oseid:t,index:n},body:i})=>{T.a.add({barrelType:P.a.PROJECT,barrel:R(R({},i),{},{complete:!1}),oid:e,oseid:t,index:n})})),o.default.bind(c.default.CREATE_STYLEGUIDE,(({params:{oid:e="user",index:t},body:n})=>{T.a.add({barrelType:P.a.STYLEGUIDE,barrel:R(R({},n),{},{complete:!1}),oid:e,index:t})})),o.default.bind(c.default.UPDATE_MEMBER_ROLE,(({params:{oid:e,mid:t},body:{role:n}})=>{t===Zeplin.user._id&&m.a.updateOrganizationProfile(e,{role:n});const{organizationProjects:{[e]:i}}=f.a.OrganizationStore.getState(),{organizationStyleguides:{[e]:o}}=f.a.OrganizationStore.getState();i&&i.forEach((e=>{T.a.updateUserRole({bid:e,uid:t,role:n})})),o&&o.forEach((e=>{T.a.updateUserRole({bid:e,uid:t,role:n})}))})),o.default.bind(c.default.REMOVE_USER,(e=>{const{selectedOrganizationId:t}=f.a.SpaceStore.getState(),n=e.params.oid;e.params.mid===Zeplin.user._id&&(Object(D.unsubscribeFromOrganizationChannel)(n),t===n&&(I.create({title:"Organization not available anymore",message:"It was either deleted or you were removed, please contact the admins."}),h.a.changeSelectedOrganization("user")),m.a.removeOrganization(n))})),o.default.bind(c.default.UPDATE_MEMBER_ACCESSIBILITY,(({params:{oid:e,mid:t},body:{restricted:n}})=>{t===Zeplin.user._id&&(n?m.a.removeUnjoinedBarrels({oid:e,mid:t}):m.a.getBarrels(e))})),o.default.bind(c.default.DELETE,(e=>{const t=e.params.oid;Object(D.unsubscribeFromOrganizationChannel)(t),m.a.removeOrganization(t),h.a.changeSelectedOrganization("user")})),o.default.bind(c.default.UPDATE_LOGO,(e=>{const{organizations:t}=f.a.OrganizationStore.getState(),n=e.params.oid;t.filter((e=>e._id===n))?m.a.updateOrganization(n,e.body):Object(D.unsubscribeFromOrganizationChannel)(n)})),o.default.bind(c.default.UPDATE_STATUS,(({body:e,params:{oid:t}})=>{const{organizations:n}=f.a.OrganizationStore.getState();n.filter((e=>e._id===t))?m.a.updateOrganization(t,e):Object(D.unsubscribeFromOrganizationChannel)(t)})),o.default.bind(c.default.UPDATE_NAME,(e=>{const{organizations:t}=f.a.OrganizationStore.getState(),n=e.params.oid;t.filter((e=>e._id===n))?m.a.updateOrganization(n,e.body):Object(D.unsubscribeFromOrganizationChannel)(n)})),o.default.bind(c.default.ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS,(e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{uid:n,oid:i,pid:o}=e.params;t.filter((e=>e._id===i))?m.a.addBarrelToFocus({mid:n,oid:i,bid:o,barrelType:P.a.PROJECT}):Object(D.unsubscribeFromOrganizationChannel)(i)})),o.default.bind(c.default.REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS,(e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{oid:n,pid:i}=e.params;t.filter((e=>e._id===n))?m.a.removeBarrelFromFocus({oid:n,bid:i}):Object(D.unsubscribeFromOrganizationChannel)(n)})),o.default.bind(c.default.UPDATE_MEMBER_TAGS,(e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{params:{oid:n},body:{members:i}}=e;t.filter((e=>e._id===n))?i.forEach((({_id:e,operation:t,tags:i})=>{m.a.updateMemberTags({oid:n,mid:e,operation:t,tags:i})})):Object(D.unsubscribeFromOrganizationChannel)(n)})),o.default.bind(c.default.ADD_WORKFLOW_STATUS,(({params:{oid:e},body:t})=>{m.a.addOrganizationWorkflowStatus({oid:e,workflowStatusData:t})})),o.default.bind(c.default.UPDATE_WORKFLOW_STATUS,(({params:{oid:e,wsid:t},body:n})=>{m.a.updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n})})),o.default.bind(c.default.DELETE_WORKFLOW_STATUS,(({params:{oid:e,wsid:t}})=>{m.a.deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t})})),o.default.bind(c.default.ADD_SECTION,(({params:{oid:e},body:{_id:t,index:n}})=>{const{sections:i}=S.a.getOrganization(e);i.some((e=>e._id===t))||j.getOrganizationSection(e,t).then((({section:t})=>{m.a.addProjectSection({oid:e,index:n,sectionData:t})})).catch((i=>{m.a.addProjectSectionId({oid:e,index:n,oseid:t})}))})),o.default.bind(c.default.UPDATE_SECTION,(({params:{oid:e,oseid:t},body:n})=>{const{sections:i}=S.a.getOrganization(e);i.some((e=>e._id===t))&&m.a.updateProjectSection({oid:e,oseid:t,sectionData:n})})),o.default.bind(c.default.DELETE_SECTION,(({params:{oid:e,oseid:t}})=>{m.a.removeProjectSection({oid:e,oseid:t})})),o.default.bind(c.default.UPDATE_SECTION_ORDER,(({params:{oid:e},body:{index:t,sections:n}})=>{m.a.updateProjectSectionOrder({oid:e,oseid:n[0],index:t})})),o.default.bind(c.default.UPDATE_SECTION_PROJECT,(({params:{oid:e,oseid:t},body:{index:n,projects:i}})=>{const{sections:o}=S.a.getOrganization(e);o.some((e=>e._id===t))?m.a.updateProjectOrder({oid:e,oseid:t,index:n,projects:i}):j.getOrganizationSection(e,t).then((({section:t})=>{m.a.addProjectSection({oid:e,index:n,sectionData:t})}))})),o.default.bind(c.default.ADD_SECTION_LINK,(({params:{oid:e,oseid:t},body:n})=>{m.a.addSectionLink({oid:e,oseid:t,linkData:n})})),o.default.bind(c.default.UPDATE_SECTION_LINK,(({params:{oid:e,oseid:t,oselid:n},body:i})=>{m.a.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:R({_id:n},i)})})),o.default.bind(c.default.DELETE_SECTION_LINK,(({params:{oid:e,oseid:t,oselid:n}})=>{m.a.removeSectionLink({oid:e,oseid:t,oselid:n})})),o.default.bind(c.default.UPDATE_MIN_ROLE_FOR_MEMBER_MANAGEMENT,(({params:{oid:e},body:{minRoleForMemberManagement:t}})=>{m.a.updateOrganization(e,{minRoleForMemberManagement:t})})));const w={onProjectInviteUser(e){Object(s.handleInviteUserSocketForInvitePopup)(e.params.pid,e.body)},onInviteUser(e){Object(s.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromProject(e){Object(s.removeUser)(e.params.pid,e.params.mid)},onCreateUser(e){Object(s.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(s.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};const N={onStyleguideInviteUser(e){Object(s.handleInviteUserSocketForInvitePopup)(e.params.stid,e.body)},onInviteUser(e){Object(s.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromStyleguide(e){Object(s.removeUser)(e.params.stid,e.params.mid)},onCreateUser(e){Object(s.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(s.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};function L(){f.a.dispatcher.register((e=>{switch(e.type){case v.a.INVITE_USER:!function(e){const t=Object(D.subscribeToProjectChannel)(e);o.userChannel.bind(l.default.INVITE_USER,w.onInviteUser),t.bind(a.default.INVITE_USER,w.onProjectInviteUser),t.bind(a.default.REMOVE_USER,w.onRemoveUserFromProject),t.bind(l.default.CREATE,w.onCreateUser),t.bind(l.default.DELETE,w.onDeleteUser)}(e.pid);break;case C.a.INVITE_USER:!function(e){const t=Object(D.subscribeToStyleguideChannel)(e);o.userChannel.bind(l.default.INVITE_USER,N.onInviteUser),t.bind(r.default.INVITE_USER,N.onStyleguideInviteUser),t.bind(r.default.REMOVE_USER,N.onRemoveUserFromStyleguide),t.bind(l.default.CREATE,N.onCreateUser),t.bind(l.default.DELETE,N.onDeleteUser)}(e.stid)}}))}},function(e,t,n){"use strict";n.r(t),t.default={PAYMENT_FAIL:"RequestPaymentFail"}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSSOTokenExpiration=void 0;const r=a(n(549)),l=a(n(918)),c=a(n(571)),d=a(n(567)),u=n(545),h=s(n(819)),p=n(686),f=n(561),g=s(n(559));function m(){if(u.isWindowsApp&&u.supports.newSSOFlow)return void location.assign(p.urlResolve("login-sso",{query:{email:Zeplin.user.email}}));if(u.isWindowsApp&&!u.supports.newSSOFlow)return void g.create({title:"Login with SSO isn't supported in this version anymore",message:"Please log out and update your application to login with SSO.",done:{name:"GOT IT"}});const e=encodeURIComponent(Zeplin.user.email);h.getSsoLoginParams(e).then((e=>{const{provider:{type:t},params:{type:n,url:i,message:o}}=e;r.default.set("redirect",location.href),"google"!==t?"redirect"===n?function(e,t){const n=new URL(e);n.search=p.joinUrlParams(t),window.location.assign(n.toString())}(i,o):"post"===n&&function(e,t){const n=document.createElement("form");n.method="POST",n.action=e,Object.keys(t).forEach((e=>{const i=document.createElement("input");i.type="hidden",i.name=e,i.value=t[e],n.appendChild(i)})),document.body.appendChild(n),n.submit()}(i,o):function(){const e={action:"login"};u.isWindowsApp&&(e.redirectPath=encodeURIComponent(location.pathname));const t=p.urlResolve("authGoogle",{query:e});location.assign(t)}()})).catch((e=>{f.handleError(e,{dialogCallback(){r.default.remove("userToken"),location.assign(p.urlResolve("login",{query:{email:Zeplin.user.email}}))}})}))}Zeplin.onSSOTokenExpired=e=>l.default.ssoTokenExpired(e),t.registerSSOTokenExpiration=function(){d.default.dispatcher.register((e=>{e.type===c.default.LOGIN_SSO&&m()}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSentryToDispatcherAndStores=void 0;const r=s(n(34)),l=a(n(567)),c=a(n(20));t.registerSentryToDispatcherAndStores=function(){l.default.dispatcher.register((e=>{r.addBreadcrumb({category:"dispatch.action",message:e.type,level:r.Severity.Debug})})),function(){const e=new c.default;e.setStores([l.default.AppStore,l.default.SpaceStore,l.default.BarrelStore,l.default.DashboardStore,l.default.ScreenStore,l.default.DotsStore,l.default.ComponentVariantStore,l.default.StyleguideStore,l.default.ActivitiesViewStore]),e.addListener((()=>{var e,t,n,i,o;const{page:s}=l.default.AppStore.getState(),a=l.default.SpaceStore.getState(),c=l.default.BarrelStore.getState(),d=l.default.DashboardStore.getState(),u=l.default.ScreenStore.getState(),h=l.default.DotsStore.getState(),p=l.default.ComponentVariantStore.getState(),f=l.default.StyleguideStore.getState(),g=l.default.ActivitiesViewStore.getState();r.setContext("stores",{app:{page:s},space:JSON.stringify(a,null,2),barrel:JSON.stringify(c,null,2),dashboard:JSON.stringify(d,null,2),screen:JSON.stringify(Object.assign(Object.assign({},u),{selectedLayer:null===(e=u.selectedLayer)||void 0===e?void 0:e._id,destinationLayer:null===(t=u.destinationLayer)||void 0===t?void 0:t._id}),null,2),dots:JSON.stringify(h,null,2),componentVariant:JSON.stringify(Object.assign(Object.assign({},p),{selectedLayer:null===(n=p.selectedLayer)||void 0===n?void 0:n._id,destinationLayer:null===(i=p.destinationLayer)||void 0===i?void 0:i._id}),null,2),styleguide:JSON.stringify(Object.assign(Object.assign({},f),{selection:null===(o=f.selection)||void 0===o?void 0:o._id}),null,2),activities:JSON.stringify(g,null,2)})}))}()}},function(e,t,n){"use strict";n.r(t);var i=n(1490),o=n(559),s=n(610),a=n(561),r=n(551),l=n(545),c=n(630),d=n.n(c),u=n(590),h=n.n(u),p=n(688),f=n.n(p),g=n(1296),m=n(1618),b=n(1104),S=n.n(b),y=n(685),v=n.n(y),O=n(567),C=n.n(O),E=n(819),T=n(702),_=n.n(T),P=n(684),I=n.n(P),j=n(918),D=n.n(j),k=n(715),R=n.n(k),A=n(1645),w=n.n(A),N=n(2379),L=n.n(N),M=n(2381),x=n(2382),U=n(1295),B=n(712),V=n(1423),z=n(1103);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=document.getElementById("androidResFolderReminderDialog");function $(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;_.a.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}o.polyfill.registerDialog(G);const q={getOrganizations(){const{organizations:e}=C.a.OrganizationStore.getState();return e.length?Promise.resolve(e):E.getOrganizations()},getOrganization(e,t){if(!s.isOrganizationProject(e))return Promise.resolve(null);const n=I.a.findBarrelOrganizationId(e._id);let i=v.a.getOrganization(n);return i||(i=Object(M.fetchEmbeddedData)("organization")),i?Promise.resolve(i):E[t].getOrganization(e._id)},getOrganizationMembers(e){const t=v.a.getOrganization(e);return t&&t.members?t:E.getOrganizationMembers(e)},getOrganizationMemberProfile(e,t){const n=v.a.getOrganizationProfile(e);return n||E.getOrganizationMemberProfile(e,t)},getOrganizationProfiles(e,t){if(!e.length)return Promise.resolve({});const n=e.map((e=>q.getOrganizationMemberProfile(e,t)));return Promise.all(n).then((t=>Object.fromEntries(Object(V.default)(e,t)))).catch(a.handleError)},getStyleguide(e,{styleguideId:t}){const n=I.a.getBarrel({bid:e});return n&&n.complete?n:E.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map((t=>this.getStyleguide(t,{styleguideId:e}))))},getAncestorsConnectedComponents:(e,t)=>Promise.all(t.map((t=>E.getStyleguideConnectedComponents(t,{styleguideId:e})))),getAncestorsLocalConnectedComponents:e=>Promise.all(e.map((e=>E.getStyleguideLocalConnectedComponents(e)))),getStyleguideConnectedComponents(e,t){const n=E.getStyleguideConnectedComponents(e),i=this.getAncestorsConnectedComponents(e,t),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?E.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getAncestorsLocalConnectedComponents(t):Promise.resolve([])]},getLinkedStyleguidesConnectedComponents(e,t,{local:n}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const s=n?E.getStyleguideLocalConnectedComponents:E.getStyleguideConnectedComponents;return Promise.all([o._id,...o.ancestors].map((t=>s(t,{projectId:e}))))},getProjectConnectedComponents(e,t){const n=E.getProjectConnectedComponents(e),i=this.getLinkedStyleguidesConnectedComponents(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?E.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getLinkedStyleguidesConnectedComponents(e,t,{local:!0}):Promise.resolve([])]},markAsIncomplete:e=>e.map((e=>W(W({},e),{},{complete:!1}))),getProjects(e,t,n){if(t===h.a.STYLEGUIDE){const t=v.a.getOrganizationProjects(e);return t||E.getProjects("user"===e?null:e).then(this.markAsIncomplete).catch(a.handleError)}return Promise.resolve()},getStyleguides(e,t,n){if(t===h.a.STYLEGUIDE){const t=v.a.getOrganizationStyleguides(e);return t||E.getStyleguides("user"===e?null:e).then(this.markAsIncomplete).catch(a.handleError)}return Promise.resolve()},getBarrel(e,t){const n=I.a.getBarrel({bid:e});return n&&!n.partial&&n.complete?Promise.resolve(n):E[t].get(e)},getBarrelExtras(e,t){if(e.partial)return Promise.resolve({});const n=e._id,i=t===h.a.PROJECT?E.getProjectComponentSections(n):Promise.resolve({}),o=t===h.a.STYLEGUIDE?E.getStyleguideProjects(n):Promise.resolve({});return Promise.all([o,i]).then((([e,...t])=>Object.assign({linkedProjects:e.projects},...t)))}},Z={async collectData(e,t){try{const n=await q.getBarrel(e,t),{userId:i}=C.a.UserStore.getState(),o=n.users.find((({user:e})=>e._id===i)),[s,a]=await Promise.all([q.getOrganization(n,t),q.getOrganizations()]);if(n.partial||!o){return{organization:s,organizations:a,organizationId:s?s._id:"user",ancestors:[],barrel:n}}const r=await q.getBarrelExtras(n,t),{role:l}=o,c=new d.a(W(W({},n),r)),u=s?s._id:"user",[h,p,f,g,{connectedComponents:m},b,{localConnectedComponents:S},y]=await Promise.all([q.getAncestors(e,c.ancestors),q.getOrganizationProfiles(a.map((e=>e._id)),i),q.getProjects(u,t,l),q.getStyleguides(u,t,l),...q.getStyleguideConnectedComponents(e,c.ancestors)]);return c.connectedComponents=m,c.localConnectedComponents=S,b.forEach(((e,t)=>{h[t].connectedComponents=e.connectedComponents})),y.forEach(((e,t)=>{h[t].localConnectedComponents=e.localConnectedComponents})),h.forEach((e=>{e.partial=!e.users.some((({user:e})=>e._id===i))})),{barrel:c,role:l,ancestors:h.map((e=>new d.a(W({},e)))),organizationId:u,organization:s,organizations:a,organizationProfiles:p,organizationProjects:f,organizationStyleguides:g}}catch(n){!function(e){a.handleError(e,{clientErrorHandler:()=>{o.create({title:e.title,message:e.message}),I.a.navigateToWorkspace()}})}(n)}}};function K({styleguidesData:e,selectedStyleguideSection:t,selectedNavigatorId:n,collapsedSections:i}){if("components"!==t||!n)return i;const o=i,s=Object(B.getComponentSectionById)(e,n);if(s){const{idPath:e}=s;e.forEach((e=>{o[e]=!1}))}return o}f.a.route(/\/(styleguide)\/([\da-f]{24})(?:\/(about|colors|textstyles|spacing|components))?/i,(function(e){const[t,n,o]=e.match;D.a.setPage("barrel");const s=function(e,t){return t?"textstyles"===t?"textStyles":t:e===h.a.PROJECT?"colors":"about"}(t,o),{cid:a=[],tsid:c=[],sptid:d=[],coid:[u]=[],cseid:[p]=[],seid:[f]=[p]}=e.query,{barrelId:b,barrelType:y}=C.a.BarrelStore.getState(),v=I.a.getStyleguidesData({barrelStore:C.a.BarrelStore,styleguidesDataStore:C.a.StyleguidesDataStore}),{component:O}=u&&Object(B.findComponentById)(v,u)||{},E=I.a.getBarrel();if(n===b&&!E.partial){const{collapsedSections:e}=C.a.StyleguideStore.getState(),t=K({styleguidesData:v,selectedStyleguideSection:s,selectedNavigatorId:f,collapsedSections:e});return void R.a.updateState({selectedStyleguideSection:s,highlightedColors:a,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:u,selection:O,selectedNavigatorId:f,collapsedSections:t,scrolledSection:f,highlightScrolledSection:!!f})}b&&(y===h.a.PROJECT?Object(x.unsubscribeFromProjectChannel)(b):y===h.a.STYLEGUIDE&&Object(x.unsubscribeFromStyleguideChannel)(b)),_.a.reset();const T=Z.collectData(n,t),P=r.barrelPrefs.getAll(n).then((({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,connectedComponentsLocalWorkspace:a,extensions:r,styleguideLeftSidebarWidth:l,styleguideRightSidebarWidth:c})=>({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,connectedComponentsLocalWorkspace:a,enabledExtensions:r,leftSidebarWidth:l,rightSidebarWidth:c}))),j=r.userPrefs.getAll().then((e=>{const{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,slackReconnectionAuntieSeen:i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:s,numberOfHighlightedConnectToCodeButtonViews:a}=e;return{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,showSlackReconnectionAuntie:!i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:s,numberOfHighlightedConnectToCodeButtonViews:a}}));return Promise.all([T,P,j]).then((([{barrel:e,role:o,organizationId:r,organization:p,organizations:b,organizationProfiles:y,organizationProjects:v,organizationStyleguides:C,ancestors:E},{assetDensityScalePrefs:T,assetNamingConvention:P,collapsedSections:I,enabledExtensions:j,showOptimizedSVG:D,showOptimizedPNG:k,showOptimizedJPG:R,leftSidebarWidth:A,rightSidebarWidth:N,connectedComponentsLocalWorkspace:M},{noVectorAssetInfoHidden:V,densityMismatchWarningHidden:F,showSlackReconnectionAuntie:W,componentVariantsOnboardingDialogSeen:H,connectedComponentsOnboardingDialogSeen:G,numberOfHighlightedConnectToCodeButtonViews:Z}])=>{const Y=K({styleguidesData:[e].concat(E),selectedStyleguideSection:s,selectedNavigatorId:f,collapsedSections:I});if(u){const t=Object(B.findComponentById)([e].concat(E),u);if(t){const{component:{idPath:e}}=t;e.slice(0,-1).forEach((e=>{Y[e]=!1}))}}if(_.a.load({barrel:{barrelType:t,barrelId:n,assetDensityScalePrefs:Object(U.initAssetDensityScalePrefsIfNecessary)(e.type,T),assetNamingConvention:"android"===e.type?"snakeCase":P,showOptimizedSVG:D,showOptimizedPNG:k,showOptimizedJPG:R,organizationId:r,noVectorAssetInfoHidden:V,densityMismatchWarningHidden:F,showSlackReconnectionAuntie:W,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:M,connectedComponentsOnboardingDialogSeen:G,numberOfHighlightedConnectToCodeButtonViews:Z},styleguide:{selectedStyleguideSection:s,highlightedColors:a,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:u,selection:O,selectedNavigatorId:f,collapsedSections:Y,scrolledSection:f,highlightScrolledSection:!!f,leftSidebarWidth:A,rightSidebarWidth:N,componentVariantsOnboardingDialogSeen:H},data:{[t]:e,organization:p,organizations:b,ancestors:E,organizationProfiles:y,organizationProjects:v,organizationStyleguides:C}}),requestIdleCallback((async()=>{if(!p||!y||p.members)return;const e=y[r].restricted?{_id:r,members:[]}:await q.getOrganizationMembers(r);S.a.getOrganizationMembersSuccess(e)})),e.partial||(m.default.init({enabledExtensions:j}),E.forEach((e=>Object(x.subscribeToStyleguideChannel)(e._id)))),t===h.a.PROJECT?Object(x.subscribeToProjectChannel)(n):t===h.a.STYLEGUIDE&&Object(x.subscribeToStyleguideChannel)(n),l.isWindowsApp&&(_.a.getConnectedComponentsEditorInfo(),g.queryAssetDownloadTarget(n,t,$)),p)"frozen"===p.status?i.showOrganizationFrozenBanner({oid:p._id,currentRole:o,isTeamPlan:Object(z.hasTeamPlan)(p.paymentPlan)}):"past_due"===p.subscriptionStatus?i.showFailedPaymentBanner({oid:p._id,currentRole:o}):"will_cancel_at_period_end"===p.subscriptionStatus?i.showCancelledSubscriptionBannerIfNecessary({oid:p._id,currentRole:o,subscriptionCancelAt:p.subscriptionCancelAt}):i.hideSubscriptionStatusBanners();else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:o,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus?i.showCancelledSubscriptionBannerIfNecessary({currentRole:o,subscriptionCancelAt:t.user.subscriptionCancelAt}):i.hideSubscriptionStatusBanners()}w.a.init(),L.a.getTeamsIntegration(t,n)}))}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function r(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(688)),a=o(n(918)),r=o(n(2349)),l=o(n(2362)),c=n(551),d=o(n(567)),u=o(n(570)),h=o(n(590)),p=o(n(650)),f=n(631),g=o(n(684)),m=o(n(685)),b=n(2388),S=n(2393),y=n(2392),v=n(2434);function O(e){const t=Zeplin.user._id,n=[b.getOrganization(e),b.getOrganizationSections(e),b.getProjects(e),b.getStyleguides(e),b.getFocusedBarrels(e,t)];return Promise.all(n).then((([t,n,i,o,s])=>({oid:e,organization:Object.assign(Object.assign({},t),{sections:n}),focusedBarrels:s,dialogDismissParams:null,projects:i,styleguides:o})))}s.default.route(/^\/notifications(?:\/)?([\da-f]{24})?$/i,(function(e){var t,n,o,s,C,E,T;return i(this,void 0,void 0,(function*(){if("activities"===d.default.AppStore.getState().page)return;a.default.setPage("activities");const{match:[i="user"],query:{category:[_]=[],pid:[P]=[],stid:[I]=[],updatedOnly:[j]=[],status:[D]=[],color:[k]=[],member:[R]=[],section:[A]=[]}}=e,w=yield b.getOrganizations(),N=yield(L=i,("user"===L?b.fetchPersonalWorkspaceData:O)(L));var L;a.default.loadWorkspaceData(Object.assign({organizations:w,organizationProfiles:void 0},N));const{activitiesSidebarWidth:M,activitiesShowProjectsWithUpdatesOnly:x}=yield c.userPrefs.getAll(),U={selectedOrganizationId:i,sidebarWidth:M,projectsWithUpdatesOnly:"false"!==j&&x};"true"===j?(U.projectsWithUpdatesOnly=!0,r.default.setProjectsWithUpdatesOnly(!0)):"false"===j?(U.projectsWithUpdatesOnly=!1,r.default.setProjectsWithUpdatesOnly(!1)):U.projectsWithUpdatesOnly=x,_&&Object.values(u.default).includes(_)&&(U.category=_);const B=_===u.default.Note;P&&g.default.hasProject(P)?(U.barrelSelection={type:h.default.PROJECT,id:P},B&&A&&((null===(t=g.default.getProject({pid:P}))||void 0===t?void 0:t.sections)||(yield v.fetchProject(P)),(null===(o=null===(n=g.default.getProject({pid:P}))||void 0===n?void 0:n.sections)||void 0===o?void 0:o.some((({_id:e})=>e===A)))&&(U.sectionId=A))):I&&g.default.hasStyleguide(I)&&(U.barrelSelection={type:h.default.STYLEGUIDE,id:I});const V=(null===(s=U.barrelSelection)||void 0===s?void 0:s.type)!==h.default.STYLEGUIDE&&B;if(V&&D&&Object.values(p.default).includes(D)&&(U.noteStatusFilter=D),V&&k&&f.colorNames.includes(k)&&(U.color=k),V&&R){let e=null;const{barrelSelection:t}=d.default.ActivitiesViewStore.getState();let n;(null===(C=U.barrelSelection)||void 0===C?void 0:C.type)===h.default.PROJECT?e=U.barrelSelection.id:t.type===h.default.PROJECT&&(e=t.id),e?n=null===(E=g.default.getProject({pid:e}))||void 0===E?void 0:E.users.map((({user:e})=>e)):"user"===i||m.default.getOrganizationProfile(i).restricted?(d.default.UserStore.getState().acquaintances||(yield S.fetchAcquaintances()),n=l.default.getUserAndAcquaintances()):(m.default.getOrganizationMembers(i)||(yield y.fetchOrganizationMembers(i)),n=null===(T=m.default.getOrganizationMembers(i))||void 0===T?void 0:T.map((({user:e})=>e))),(null==n?void 0:n.some((({_id:e})=>e===R)))&&(U.memberId=R)}r.default.load(U)}))}))},function(e,t,n){"use strict";n.r(t);var i=n(545),o=n(2492);i.isWindowsApp&&o.setupEventListener()},function(e,t,n){"use strict";n.r(t),n.d(t,"setupEventListener",(function(){return m}));var i=n(546),o=n(567),s=n.n(o),a=n(685),r=n.n(a),l=n(1391),c=n.n(l),d=n(1482),u=n.n(d),h=n(819);function p(e){return Object(h.getProjects)("user"===e?null:e)}function f(e){return Object(h.getStyleguides)("user"===e?null:e)}async function g(e,t){const{organizations:n,organizationProfiles:o}=s.a.OrganizationStore.getState(),{userId:a,username:l,email:d,avatar:h,emotar:g}=s.a.UserStore.getState();if(!n||!a)return void i.default.ipcRenderer.send("initialImportToBarrelData",{selectedOrganization:t});let m="user";t&&"user"!==t&&n.some((e=>e._id===t))&&(m=t);let b=r.a.getOrganizationProjects(m),S=r.a.getOrganizationStyleguides(m);b&&S||({projects:b,styleguides:S}=await function(e){return Promise.all([p(e),f(e)]).then((([t,n])=>(c.a.getProjectsSuccess({projects:t,oid:e}),u.a.getStyleguidesSuccess({styleguides:n,oid:e}),{projects:t,styleguides:n})))}(m));const y={organizations:n,organizationProfiles:o,selectedOrganization:m,user:{_id:a,username:l,email:d,avatar:h,emotar:g},organizationProjects:b,organizationStyleguides:S};i.default.ipcRenderer.send("initialImportToBarrelData",y)}function m(){i.default.ipcRenderer.removeAllListeners("initialImportToBarrelData"),i.default.ipcRenderer.on("initialImportToBarrelData",g)}},function(e,t,n){"use strict";n.r(t);var i=n(546),o=n(688),s=n.n(o),a=n(686),r=n(551),l=n(559),c=n(548),d=n(545);function u(e){const t=new URL(e);let n=e;const i=t.searchParams.get("vid");if(i){t.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(t.pathname+=`/version/${i}`,t.searchParams.delete("vid"),n=t.toString())}s.a.history.push(n)}d.isWindowsApp&&(s.a.history.attach((function({url:e}){const t=new URL(e);t.search="",r.userPrefs.set("lastAppLocation",t.toString())})),i.default.ipcRenderer.on("load-url",((e,t)=>u(t))),i.default.ipcRenderer.on("load-app-uri",((e,t)=>{try{const e=new URL(t);if(d.isWindowsApp&&e.pathname.startsWith("//export-xd")&&!d.supports.xdPlugin)return void l.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(`${c.ZPL_PROTOCOL}//update`)}},cancel:{name:"CANCEL"}});const{urlSlug:n,url:i,query:o}=Object(a.parseAppURI)(e);u(Object(a.urlResolve)(n,{url:i,query:o}))}catch(n){}})))},function(e,t,n){"use strict";n.r(t);var i=n(545),o=n(546),s=n(710),a=n.n(s),r=n(702),l=n.n(r),c=n(715),d=n.n(c),u=n(1645),h=n.n(u),p=n(590),f=n.n(p);const g={CREATE_SCREEN:"CreateScreen",CREATE_SCREEN_VERSION:"CreateScreenVersion",CREATE_PROJECT_COMPONENT:"CreateProjectComponent",CREATE_PROJECT_COMPONENT_VERSION:"CreateProjectComponentVersion",CREATE_PROJECT_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",CREATE_PROJECT_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_PROJECT_COMPONENT_SECTION:"UpdateProjectComponentSection",CREATE_STYLEGUIDE_COMPONENT:"CreateStyleguideComponent",CREATE_STYLEGUIDE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",CREATE_STYLEGUIDE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",CREATE_STYLEGUIDE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_STYLEGUIDE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",AUTH_PROJECT_SLACK:"AuthProjectSlack",AUTH_STYLEGUIDE_SLACK:"AuthStyleguideSlack"};i.isWindowsApp&&(o.default.ipcRenderer.on(g.CREATE_SCREEN,((e,t)=>{const{params:{pid:n},body:i}=t;a.a.addScreen({pid:n,screen:i})})),o.default.ipcRenderer.on(g.CREATE_SCREEN_VERSION,((e,t)=>{const{params:{pid:n,sid:i},body:o}=t;a.a.addVersion({pid:n,sid:i,version:o})})),o.default.ipcRenderer.on(g.CREATE_PROJECT_COMPONENT,((e,t)=>{const{params:{pid:n,csid:i},body:o}=t;l.a.addComponent({bid:n,csids:i.split("/"),component:o})})),o.default.ipcRenderer.on(g.CREATE_PROJECT_COMPONENT_VERSION,((e,t)=>{const{params:{pid:n,csid:i,coid:o},body:s}=t;l.a.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:s})})),o.default.ipcRenderer.on(g.CREATE_PROJECT_COMPONENT_VERSION_V2,((e,t)=>{const{params:{pid:n,csid:i,coid:o,tcsid:s},body:a}=t;l.a.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:s,componentData:a})})),o.default.ipcRenderer.on(g.CREATE_PROJECT_COMPONENT_SECTION,((e,t)=>{const{params:{pid:n},body:i}=t;l.a.addComponentSection({bid:n,barrelType:f.a.PROJECT,csids:[],componentSection:i})})),o.default.ipcRenderer.on(g.UPDATE_PROJECT_COMPONENT_SECTION,((e,t)=>{const{params:{pid:n,csid:i},body:o}=t;l.a.updateComponentSection({bid:n,barrelType:f.a.PROJECT,csids:i.split("/"),componentSection:o})})),o.default.ipcRenderer.on(g.UPDATE_PROJECT_COMPONENTS_ORDER,((e,t)=>{const{params:{pid:n},body:{components:i,variantSections:o}}=t,s=i.map((({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i})));l.a.updateComponentsOrder({bid:n,components:s}),o&&o.forEach((e=>{const{_id:t,name:i,variant:o,components:s}=e;d.a.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:s})}))})),o.default.ipcRenderer.on(g.CREATE_STYLEGUIDE_COMPONENT,((e,t)=>{const{params:{stid:n,csid:i},body:o}=t;l.a.addComponent({bid:n,csids:i.split("/"),component:o})})),o.default.ipcRenderer.on(g.CREATE_STYLEGUIDE_COMPONENT_VERSION,((e,t)=>{const{params:{stid:n,csid:i,coid:o},body:s}=t;l.a.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:s})})),o.default.ipcRenderer.on(g.CREATE_STYLEGUIDE_COMPONENT_VERSION_V2,((e,t)=>{const{params:{stid:n,csid:i,coid:o,tcsid:s},body:a}=t;l.a.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:s,componentData:a})})),o.default.ipcRenderer.on(g.CREATE_STYLEGUIDE_COMPONENT_SECTION,((e,t)=>{const{params:{stid:n},body:i}=t;l.a.addComponentSection({bid:n,barrelType:f.a.STYLEGUIDE,csids:[],componentSection:i})})),o.default.ipcRenderer.on(g.UPDATE_STYLEGUIDE_COMPONENT_SECTION,((e,t)=>{const{params:{stid:n,csid:i},body:o}=t;l.a.updateComponentSection({bid:n,barrelType:f.a.STYLEGUIDE,csids:i.split("/"),componentSection:o})})),o.default.ipcRenderer.on(g.UPDATE_STYLEGUIDE_COMPONENTS_ORDER,((e,t)=>{const{params:{stid:n},body:{components:i,variantSections:o}}=t,s=i.map((({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i})));l.a.updateComponentsOrder({bid:n,components:s}),o&&o.forEach((e=>{const{_id:t,name:i,variant:o,components:s}=e;d.a.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:s})}))})),o.default.ipcRenderer.on(g.AUTH_PROJECT_SLACK,((e,t)=>{const{params:{pid:n},body:{integration:i}}=t;i.slacks.forEach((e=>l.a.addIntegration({bid:n,intype:"slacks",integration:e}))),h.a.init()})),o.default.ipcRenderer.on(g.AUTH_STYLEGUIDE_SLACK,((e,t)=>{const{params:{stid:n},body:{integration:i}}=t;i.slacks.forEach((e=>l.a.addIntegration({bid:n,intype:"slacks",integration:e}))),h.a.init()})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(693);!function(){if("TimeAgoElement"in window){const{TimeAgoElement:e}=window;class t extends e{getFormattedDate(){const t=this.getAttribute("datetime"),n=this.getAttribute("format");return t?"micro"===n?i.microTimeAgo(t):e.prototype.getFormattedDate.apply(this):""}}window.customElements.define("zpl-time-ago",t)}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=Prism}]));
//# sourceMappingURL=maps/app.map.js